var ht={};ht.env=function(){var e="/api",t=!0,n=window.cordova,a=window.parent&&window.parent.ripple;return(n||a)&&(t=!1,e="http://192.168.1.177:8081/api"),{selfHostedApi:t,apiUrl:e,hostedInCordova:n}}(),function(){var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");Math.uuid=function(t,n){var a,r=e,i=[];if(n=n||r.length,t)for(a=0;t>a;a++)i[a]=r[0|Math.random()*n];else{var o;for(i[8]=i[13]=i[18]=i[23]="-",i[14]="4",a=0;36>a;a++)i[a]||(o=0|16*Math.random(),i[a]=r[19==a?3&o|8:o])}return i.join("")},Math.uuidFast=function(){for(var t,n=e,a=new Array(36),r=0,i=0;36>i;i++)8==i||13==i||18==i||23==i?a[i]="-":14==i?a[i]="4":(2>=r&&(r=33554432+16777216*Math.random()|0),t=15&r,r>>=4,a[i]=n[19==i?3&t|8:t]);return a.join("")},Math.uuidCompact=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"==e?t:3&t|8;return n.toString(16)})}}(),function(e){window.isMobile=function(){return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}(),window.isWindowsPhone=function(){return window.isMobile&&/windows/i.test(e)}(),window.isTablet=function(){return!window.isMobile&&/android|ipad|playbook|silk/i.test(e)}(),window.isMobileOrTablet=function(){return window.isMobile||window.isTablet}()}(navigator.userAgent||navigator.vendor||window.opera||""),window.Modernizr=function(e,t,n){function a(e){g.cssText=e}function r(e,t){return typeof e===t}function i(){c.inputtypes=function(e){for(var a,r,i,o=0,s=e.length;s>o;o++)f.setAttribute("type",r=e[o]),a="text"!==f.type,a&&(f.value=h,f.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(r)&&f.style.WebkitAppearance!==n?(u.appendChild(f),i=t.defaultView,a=i.getComputedStyle&&"textfield"!==i.getComputedStyle(f,null).WebkitAppearance&&0!==f.offsetHeight,u.removeChild(f)):/^(search|tel)$/.test(r)||(a=/^(url|email)$/.test(r)?f.checkValidity&&f.checkValidity()===!1:f.value!=h)),y[e[o]]=!!a;return y}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var o,s,l="2.8.3",c={},d=!0,u=t.documentElement,m="modernizr",p=t.createElement(m),g=p.style,f=t.createElement("input"),h=":)",b=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),v={},y={},k=[],w=k.slice,T=function(e,n,a,r){var i,o,s,l,c=t.createElement("div"),d=t.body,p=d||t.createElement("body");if(parseInt(a,10))for(;a--;)s=t.createElement("div"),s.id=r?r[a]:m+(a+1),c.appendChild(s);return i=["&#173;",'<style id="s',m,'">',e,"</style>"].join(""),c.id=m,(d?c:p).innerHTML+=i,p.appendChild(c),d||(p.style.background="",p.style.overflow="hidden",l=u.style.overflow,u.style.overflow="hidden",u.appendChild(p)),o=n(c,e),d?c.parentNode.removeChild(c):(p.parentNode.removeChild(p),u.style.overflow=l),!!o},x={}.hasOwnProperty;s=r(x,"undefined")||r(x.call,"undefined")?function(e,t){return t in e&&r(e.constructor.prototype[t],"undefined")}:function(e,t){return x.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var n=w.call(arguments,1),a=function(){if(this instanceof a){var r=function(){};r.prototype=t.prototype;var i=new r,o=t.apply(i,n.concat(w.call(arguments)));return Object(o)===o?o:i}return t.apply(e,n.concat(w.call(arguments)))};return a}),v.touch=function(){var n;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?n=!0:T(["@media (",b.join("touch-enabled),("),m,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){n=9===e.offsetTop}),n};for(var S in v)s(v,S)&&(o=S.toLowerCase(),c[o]=v[S](),k.push((c[o]?"":"no-")+o));return c.input||i(),c.addTest=function(e,t){if("object"==typeof e)for(var a in e)s(e,a)&&c.addTest(a,e[a]);else{if(e=e.toLowerCase(),c[e]!==n)return c;t="function"==typeof t?t():t,"undefined"!=typeof d&&d&&(u.className+=" "+(t?"":"no-")+e),c[e]=t}return c},a(""),p=f=null,function(e,t){function n(e,t){var n=e.createElement("p"),a=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",a.insertBefore(n.lastChild,a.firstChild)}function a(){var e=v.elements;return"string"==typeof e?e.split(" "):e}function r(e){var t=b[e[f]];return t||(t={},h++,e[f]=h,b[h]=t),t}function i(e,n,a){if(n||(n=t),d)return n.createElement(e);a||(a=r(n));var i;return i=a.cache[e]?a.cache[e].cloneNode():g.test(e)?(a.cache[e]=a.createElem(e)).cloneNode():a.createElem(e),!i.canHaveChildren||p.test(e)||i.tagUrn?i:a.frag.appendChild(i)}function o(e,n){if(e||(e=t),d)return e.createDocumentFragment();n=n||r(e);for(var i=n.frag.cloneNode(),o=0,s=a(),l=s.length;l>o;o++)i.createElement(s[o]);return i}function s(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return v.shivMethods?i(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+a().join().replace(/[\w\-]+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(v,t.frag)}function l(e){e||(e=t);var a=r(e);return v.shivCSS&&!c&&!a.hasCSS&&(a.hasCSS=!!n(e,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),d||s(e,a),e}var c,d,u="3.7.0",m=e.html5||{},p=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,g=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,f="_html5shiv",h=0,b={};!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",c="hidden"in e,d=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return"undefined"==typeof e.cloneNode||"undefined"==typeof e.createDocumentFragment||"undefined"==typeof e.createElement}()}catch(n){c=!0,d=!0}}();var v={elements:m.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:u,shivCSS:m.shivCSS!==!1,supportsUnknownElements:d,shivMethods:m.shivMethods!==!1,type:"default",shivDocument:l,createElement:i,createDocumentFragment:o};e.html5=v,l(t)}(this,t),c._version=l,c._prefixes=b,c.testStyles=T,u.className=u.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(d?" js "+k.join(" "):""),c}(this,this.document),function(e,t,n){function a(e){return"[object Function]"==h.call(e)}function r(e){return"string"==typeof e}function i(){}function o(e){return!e||"loaded"==e||"complete"==e||"uninitialized"==e}function s(){var e=b.shift();v=1,e?e.t?g(function(){("c"==e.t?m.injectCss:m.injectJs)(e.s,0,e.a,e.x,e.e,1)},0):(e(),s()):v=0}function l(e,n,a,r,i,l,c){function d(t){if(!p&&o(u.readyState)&&(y.r=p=1,!v&&s(),u.onload=u.onreadystatechange=null,t)){"img"!=e&&g(function(){w.removeChild(u)},50);for(var a in M[n])M[n].hasOwnProperty(a)&&M[n][a].onload()}}var c=c||m.errorTimeout,u=t.createElement(e),p=0,h=0,y={t:a,s:n,e:i,a:l,x:c};1===M[n]&&(h=1,M[n]=[]),"object"==e?u.data=n:(u.src=n,u.type=e),u.width=u.height="0",u.onerror=u.onload=u.onreadystatechange=function(){d.call(this,h)},b.splice(r,0,y),"img"!=e&&(h||2===M[n]?(w.insertBefore(u,k?null:f),g(d,c)):M[n].push(u))}function c(e,t,n,a,i){return v=0,t=t||"j",r(e)?l("c"==t?x:T,e,t,this.i++,n,a,i):(b.splice(this.i++,0,e),1==b.length&&s()),this}function d(){var e=m;return e.loader={load:c,i:0},e}var u,m,p=t.documentElement,g=e.setTimeout,f=t.getElementsByTagName("script")[0],h={}.toString,b=[],v=0,y="MozAppearance"in p.style,k=y&&!!t.createRange().compareNode,w=k?p:f.parentNode,p=e.opera&&"[object Opera]"==h.call(e.opera),p=!!t.attachEvent&&!p,T=y?"object":p?"script":"img",x=p?"script":T,S=Array.isArray||function(e){return"[object Array]"==h.call(e)},I=[],M={},D={timeout:function(e,t){return t.length&&(e.timeout=t[0]),e}};m=function(e){function t(e){var t,n,a,e=e.split("!"),r=I.length,i=e.pop(),o=e.length,i={url:i,origUrl:i,prefixes:e};for(n=0;o>n;n++)a=e[n].split("="),(t=D[a.shift()])&&(i=t(i,a));for(n=0;r>n;n++)i=I[n](i);return i}function o(e,r,i,o,s){var l=t(e),c=l.autoCallback;l.url.split(".").pop().split("?").shift(),l.bypass||(r&&(r=a(r)?r:r[e]||r[o]||r[e.split("/").pop().split("?")[0]]),l.instead?l.instead(e,r,i,o,s):(M[l.url]?l.noexec=!0:M[l.url]=1,i.load(l.url,l.forceCSS||!l.forceJS&&"css"==l.url.split(".").pop().split("?").shift()?"c":n,l.noexec,l.attrs,l.timeout),(a(r)||a(c))&&i.load(function(){d(),r&&r(l.origUrl,s,o),c&&c(l.origUrl,s,o),M[l.url]=2})))}function s(e,t){function n(e,n){if(e){if(r(e))n||(u=function(){var e=[].slice.call(arguments);m.apply(this,e),p()}),o(e,u,t,0,c);else if(Object(e)===e)for(l in s=function(){var t,n=0;for(t in e)e.hasOwnProperty(t)&&n++;return n}(),e)e.hasOwnProperty(l)&&(!n&&!--s&&(a(u)?u=function(){var e=[].slice.call(arguments);m.apply(this,e),p()}:u[l]=function(e){return function(){var t=[].slice.call(arguments);e&&e.apply(this,t),p()}}(m[l])),o(e[l],u,t,l,c))}else!n&&p()}var s,l,c=!!e.test,d=e.load||e.both,u=e.callback||i,m=u,p=e.complete||i;n(c?e.yep:e.nope,!!d),d&&n(d)}var l,c,u=this.yepnope.loader;if(r(e))o(e,0,u,0);else if(S(e))for(l=0;l<e.length;l++)c=e[l],r(c)?o(c,0,u,0):S(c)?m(c):Object(c)===c&&s(c,u);else Object(e)===e&&s(e,u)},m.addPrefix=function(e,t){D[e]=t},m.addFilter=function(e){I.push(e)},m.errorTimeout=1e4,null==t.readyState&&t.addEventListener&&(t.readyState="loading",t.addEventListener("DOMContentLoaded",u=function(){t.removeEventListener("DOMContentLoaded",u,0),t.readyState="complete"},0)),e.yepnope=d(),e.yepnope.executeStack=s,e.yepnope.injectJs=function(e,n,a,r,l,c){var d,u,p=t.createElement("script"),r=r||m.errorTimeout;p.src=e;for(u in a)p.setAttribute(u,a[u]);n=c?s:n||i,p.onreadystatechange=p.onload=function(){!d&&o(p.readyState)&&(d=1,n(),p.onload=p.onreadystatechange=null)},g(function(){d||(d=1,n(1))},r),l?p.onload():f.parentNode.insertBefore(p,f)},e.yepnope.injectCss=function(e,n,a,r,o,l){var c,r=t.createElement("link"),n=l?s:n||i;r.href=e,r.rel="stylesheet",r.type="text/css";for(c in a)r.setAttribute(c,a[c]);o||(f.parentNode.insertBefore(r,f),g(n,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},angular.module("gettext").run(["gettextCatalog",function(e){e.setStrings("nb_NO",{"2 tips for you":"2 tips til deg",Accept:"Godta","Accuracy:":"Nøyaktighet",active:"aktiv",Add:"Legg til",admin:"admin",All:"Alle","Already an existing user with that email address.":"Det finnes allerede en broker med denne epostadressen.","Are you sure?":"Sikker?",bird:"fugl","By creating a hunting team, you will be able to share points you add in the map with the other team members.":"Ved å opprette et jaktlag vil du kunne dele punkt du legger til i kartet med de andre medlemmene i jaktlaget.",camera:"kamera",Cancel:"Avbryt",car:"bil",Close:"Lukk",Create:"Opprett","Create team:":"Opprett jaktlag:","Currently you need to know the hunters email address to be able to invite. We are working on invitations by name.":"På nåværende tidspunkt må du vite e-postadressen til jegeren du vil invitere. Vi jobber med å kunne invitere på navn.","Custom Filter":"Egendefinert filter",danger:"fare",Decline:"Avslå",deer:"hjort",Delete:"Slett",Description:"Beskrivelse","Description:":"Beskrivelse:",Done:"Ferdig",email:"e-post","Filter on from date":"Filtrer på fradato","Filter on hunting team":"Filtrer på jaktlag","Filter on tags":"Filtrer på tags","Filter on to date":"Filtrer på tildato","first name":"fornavn","Forgot password?":"Glemt password?",fox:"rev",grouse:"rype",hare:"hare",Help:"Hjelp",hoove:"hov",house:"hus","Hunting Team":"Jaktlag","Invalid username/password.":"Feil brukernavn/password.",Invite:"Inviter","Invite member:":"Inviter medlem:",invited:"invitert","last name":"etternavn","Latest 31 days":"Siste 31 dagar","Log out":"Logg ut",Login:"Logg inn",moose:"elg","Name of the filter":"Navn på filter","Name of the new team ...":"Navn på nytt jaktlag ...",None:"Ingen",Ok:"Ok",other:"anna",Other:"Anna",password:"passord",Password:"Passord",paused:"pause",paw:"pote",'Press <i class="icon-you"></i> to find your location.':'Trykk <i class="icon-you"></i> for å finne din posisjon.',raindeer:"reinsdyr",Register:"Registrer","Satellite Imagery":"Satelittbilder",Save:"Lagre","Save and use":"Lagre og bruk",seen:"sett",Seen:"Sett","Select the hunting teams a point must be shared with to show in the map":"Velg jaktlagene et punkt må være delt med for å vise i kartet","Select the tags a point must have to show in the map":"Velg tags et punkt må inneholde for å vise i kartet",Send:"Send","Share with:":"Del med:","Shared with:":"Delt med:",shot:"skutt",Shot:"Skutt","Show my points only":"Vis kun mine punkt","Tags are categories that can be used when searching an filtering points. Most icons have assosiated tags. You can add your own tags by using hashtag in the description text box, i.e. #team1 joined me, will add a team1 tag.":"Tags er kategorier som en kan bruke når en senere skal søke eller filtrere punkt i kartet. De fleste ikoner har tilhørende tags. Du kan legge på egne tags på et punkt ved å bruke hashtags i beskrivelsetekstboksen, f.eks. #jaktlag1 var med, vil legge på en jaktlag1 tag.","Tap-and-hold to add a point in the map (or right-click if you are using a PC).":"Trykk-og-hold for å legge til et punkt i kartet (eller høgre-klikk viss du bruker en PC). ","The filter will be stored and will be available in the filter menu":"Filteret vil bli lagret og vil være tilgjengelig i filtermenyen",'The points date must be <span style="text-decoration:underline">larger or equal</span> to the given date to show in the map':'Punktet sin dato må være <span style="text-decoration:underline">større eller lik</span> datoen du velger for å vise i kartet','The points date must be <span style="text-decoration:underline">smaller or equal</span> to the given date to show in the map':'Punktet sin dato må være <span style="text-decoration:underline">mindre eller lik</span> datoen du velger for å vise i kartet',"This hunter is already a member in this team.":"Denne jegeren er allerede medlem i dette jaktlaget.","This is where <strong>you</strong> are now.":"Dette er der <strong>du</strong> er no.",tracks:"spor","We are sorry, but an unexpected error occured.":"Vi beklager, men en uventet feil oppstod.","We did not find any hunters with that email address.":"Vi fant ingen jegerer med denne e-postadressen.","When you create a hunting team you can invite others to join. The invites have to be accepted before they become active memebers of the hunting team.":"Når du oppretter et jaktlag kan du invitere andre til å være medlemmer. De som blir invitert må akseptere invitasjonen før de blir aktive medlemmer i jaktlaget.","With a filter you decide what points should show in the map.":"Med et filter kan du definere hvilke punkt som skal vise i kartet.",wolf:"ulv","You are admin for this team and can invite and remove members.":"Du er administrator for dette jaktlaget og kan invitere og slette medlemmer.","You have been invited to this hunting team. Do you accept or decline membership?":"Du er invitert til å bli medlem i dette jaktlaget. Godtar eller avslår du invitasjonen?","Your GPS is struggeling. Accuarcy is":"Din GPS sliter med å finne din posisjon. Nøyaktighet er","Your membership with this team has been paused by the the team admin.":"Ditt medlemsskap i dette jaktlaget er satt på pause av jaktlagets administrator."})}]),angular.module("gettext").run(["gettextCatalog",function(e){e.setStrings("nn_NO",{"2 tips for you":"2 tips til deg",Accept:"Aksepter","Accuracy:":"Nøyaktigheit",active:"medlem",Add:"Legg til",admin:"admin",All:"Alle","Already an existing user with that email address.":"Det finns allereie ein brukar med denne epostadressa.","Are you sure?":"Er du sikker?",bird:"fugl","By creating a hunting team, you will be able to share points you add in the map with the other team members.":"Ved å opprette eit jaktlag vil du kunne dele punkt du legg til i kartet med dei andre medlemmane i jaktlaget.",camera:"kamera",Cancel:"Avbryt",car:"bil",Close:"Lukk",Create:"Opprett","Create team:":"Opprett jaktlag:","Currently you need to know the hunters email address to be able to invite. We are working on invitations by name.":"På noværande tidspunkt må du vite e-postadressen til jegeren du vil invitere. Vi jobber med å kunne invitere på namn.","Custom Filter":"Egendefinert filter",danger:"fare",Decline:"Avslå",deer:"hjort",Delete:"Slett",Description:"Beskriving","Description:":"Beskriving",Done:"Ferdig",email:"e-post","Filter on from date":"Filtrer på frådato","Filter on hunting team":"Filtrer på jaktlag","Filter on tags":"Filtrer på tags","Filter on to date":"Filtrer på tildato","first name":"fornamn","Forgot password?":"Glømt passord?",fox:"rev",grouse:"rype",hare:"hare",Help:"Hjelp",hoove:"hov",house:"hus","Hunting Team":"Jaktlag","Invalid username/password.":"Feil brukarnamn/password.",Invite:"Inviter","Invite member:":"Inviter medlem:",invited:"invitert","last name":"etternamn","Latest 31 days":"Siste 31 dagar","Log out":"Logg ut",Login:"Logg inn",moose:"elg","Name of the filter":"Namn på filteret","Name of the new team ...":"Namn på nytt jaktlag ...",None:"Ingen",Ok:"Ok",other:"anna",Other:"Anna",password:"passord",Password:"Passord",paused:"pause",paw:"pote",'Press <i class="icon-you"></i> to find your location.':'Trykk <i class="icon-you"></i> for å finne din posisjon.',raindeer:"reinsdyr",Register:"Registrer","Satellite Imagery":"Satelittbilder",Save:"Lagre","Save and use":"Lagre og bruk",seen:"sett",Seen:"Sett","Select the hunting teams a point must be shared with to show in the map":"Vel jaktlag eit punkt må være delt med for å vise i kartet","Select the tags a point must have to show in the map":"Vel tags eit punkt må ha for å vise i kartet",Send:"Send","Share with:":"Del med:","Shared with:":"Delt med:",shot:"skutt",Shot:"Skutt","Show my points only":"Vis kun mine punkt","Tags are categories that can be used when searching an filtering points. Most icons have assosiated tags. You can add your own tags by using hashtag in the description text box, i.e. #team1 joined me, will add a team1 tag.":"Tags er kategoriar som ein kan leggje på punkt i kartet. Dei fleste ikon har tilhøyrande tags. Du kan legge på egne tags på eit punkt ved å bruke hashtags i beskrivelsetekstboksen, f.eks. #jaktlag1 var med, vil legge på ein jaktlag1 tag.","Tap-and-hold to add a point in the map (or right-click if you are using a PC).":"Trykk-og-hold for å legge til punkt i kartet (eller høgre-klikk viss du brukar ein PC). ","The filter will be stored and will be available in the filter menu":"Filteret vil bli lagra og vil være tilgjengeleg i filtermenyen",'The points date must be <span style="text-decoration:underline">larger or equal</span> to the given date to show in the map':'Punktet sin dato må være <span style="text-decoration:underline">større eller lik</span> dato du angir for å vise i kartet','The points date must be <span style="text-decoration:underline">smaller or equal</span> to the given date to show in the map':'Punktet sin dato må være <span style="text-decoration:underline">mindre eller lik</span> datoen du angir for å vise i kartet',"This hunter is already a member in this team.":"Denne jegeren er allerede medlem i dette jaktlaget.","This is where <strong>you</strong> are now.":"Dette er der <strong>du</strong> er no.",tracks:"spor","We are sorry, but an unexpected error occured.":"Vi beklagar, men ein uventa feil oppstod.","We did not find any hunters with that email address.":"Vi fann ingen jegarar med denne e-postadressa.","When you create a hunting team you can invite others to join. The invites have to be accepted before they become active memebers of the hunting team.":"Når du opprettar eit jaktlag kan du invitere andre til å være medlemmar. Dei som blir invitert må akseptere invitasjonen før dei blir aktive medlemmar.","With a filter you decide what points should show in the map.":"Med eit filter kan du definere kva punkt som skal vise i kartet.",wolf:"ulv","You are admin for this team and can invite and remove members.":"Du er administrator av dette jaktlaget og kan invitere og slette medlemmar.","You have been invited to this hunting team. Do you accept or decline membership?":"Du er invitert til å bli medlem i dette jaktlaget. Godtar eller avslår du invitasjonen?","Your GPS is struggeling. Accuarcy is":"Din GPS slit med å finne din posisjon. Nøyaktigheit er","Your membership with this team has been paused by the the team admin.":"Ditt medlemsskap i dette jaktlaget er satt på pause av jaktlaget sin administrator."})}]),angular.module("gettext").run(["gettextCatalog",function(e){var t={};t.no="nb_NO",t.nb="nb_NO",t.nn="nn_NO";var n=(navigator.language||navigator.userLanguage).replace("nb-no","nb_NO").replace("nn-no","nn_NO").replace("-","_"),a=function(e,n,a,r){var i,o,s,l,c,d,u;for(a=a||"_",r=r||t,i=[],o=0,s=n.length;s>o;o++)n[o]&&i.push(angular.lowercase(n[o]));for(o=0,s=e.length;s>o;o++){if(l=e[o],c=angular.lowercase(l),i.indexOf(c)>-1)return l;if(r&&c in r&&(d=r[c].replace("_",a),i.indexOf(angular.lowercase(d))>-1))return d;if(u=l.split(a),u.length>1&&i.indexOf(angular.lowercase(u[0]))>-1)return u[0]}},r=[],i=[n];Object.keys(e.strings).forEach(function(e){r.push(e)}),e.currentLanguage=a(i,r)}]),angular.module("templates",[]).run(["$templateCache",function(e){e.put("filter.tpl.html",'<div class="modal-header">\r\n    <h1 translate>Custom Filter</h1>\r\n    <p translate>With a filter you decide what points should show in the map.</p>\r\n</div>\r\n<div class="modal-body">\r\n\r\n    <div>\r\n        <i style="font-size:25px;vertical-align:sub" ng-click="filter.mineOnly.enabled = !filter.mineOnly.enabled" ng-class="filter.mineOnly.enabled === true ? \'icon-toggle-on text-success\' : \'icon-toggle-off text-muted\'"></i>\r\n        <i class="icon-user"></i>\r\n        <span translate>Show my points only</span>\r\n    </div>\r\n\r\n    <hr/>\r\n    <div>\r\n        <i style="font-size:25px;vertical-align:sub;" ng-click="filter.team.enabled = !filter.team.enabled" ng-class="filter.team.enabled === true ? \'icon-toggle-on text-success\' : \'icon-toggle-off text-muted\'"></i>\r\n        <i class="icon-users4"></i>\r\n        <span translate>Filter on hunting team</span>\r\n    </div>\r\n    <div ng-if="filter.team.enabled">\r\n        <p><i translate>Select the hunting teams a point must be shared with to show in the map</i></p>\r\n        <button type="button" class="btn btn-xs btn-default" ng-repeat="team in teams" ng-click="toggleTeam(team.id)" ng-class="filter.team.teams.indexOf(team.id) > -1 ? \'btn-primary\' : \'btn-default\'">{{team.name}}</button>\r\n    </div>\r\n\r\n    <hr/>\r\n    <div>\r\n        <i style="font-size:25px;vertical-align:sub" ng-click="filter.tag.enabled = !filter.tag.enabled" ng-class="filter.tag.enabled === true ? \'icon-toggle-on text-success\' : \'icon-toggle-off text-muted\'"></i>\r\n        <i class="icon-price-tag3"></i>\r\n        <span translate>Filter on tags</span>\r\n    </div>\r\n    <div ng-if="filter.tag.enabled">\r\n        <p><i translate>Select the tags a point must have to show in the map</i></p>\r\n        <button type="button" class="btn btn-xs btn-default" ng-repeat="tag in actionTags" ng-click="toggleTag(tag)" ng-class="filter.tag.tags.indexOf(tag) > -1 ? \'btn-primary\' : \'btn-default\'">{{tag | translate}}</button>\r\n        <button type="button" class="btn btn-xs btn-default" ng-repeat="tag in animalTags" ng-click="toggleTag(tag)" ng-class="filter.tag.tags.indexOf(tag) > -1 ? \'btn-primary\' : \'btn-default\'">{{tag | translate}}</button>\r\n        <button type="button" class="btn btn-xs btn-default" ng-repeat="tag in otherTags" ng-click="toggleTag(tag)" ng-class="filter.tag.tags.indexOf(tag) > -1 ? \'btn-primary\' : \'btn-default\'">{{tag | translate}}</button>\r\n        <button type="button" class="btn btn-xs btn-default" ng-repeat="tag in customTags" ng-click="toggleTag(tag)" ng-class="filter.tag.tags.indexOf(tag) > -1 ? \'btn-primary\' : \'btn-default\'">{{tag}}</button>\r\n        <button type="button" class="btn btn-xs btn-default" ng-repeat="tag in removedTags" ng-click="toggleTag(tag)" ng-class="filter.tag.tags.indexOf(tag) > -1 ? \'btn-primary\' : \'btn-default\'">{{tag}}</button>\r\n    </div>\r\n\r\n    <hr/>\r\n    <div>\r\n        <i style="font-size:25px;vertical-align:sub" ng-click="filter.fromDate.enabled = !filter.fromDate.enabled" ng-class="filter.fromDate.enabled === true ? \'icon-toggle-on text-success\' : \'icon-toggle-off text-muted\'"></i>\r\n        <i class="icon-calendar"></i>\r\n        <span translate>Filter on from date</span>\r\n    </div>\r\n    <div ng-if="filter.fromDate.enabled">\r\n        <p><i translate>The points date must be <span style="text-decoration:underline">larger or equal</span> to the given date to show in the map</i></p>\r\n        <datetime-picker model="filter.fromDate.date" date-only="true"></datetime-picker>\r\n        <br/>\r\n    </div>\r\n\r\n    <hr/>\r\n    <div>\r\n        <i style="font-size:25px;vertical-align:sub" ng-click="filter.toDate.enabled = !filter.toDate.enabled" ng-class="filter.toDate.enabled === true ? \'icon-toggle-on text-success\' : \'icon-toggle-off text-muted\'"></i>\r\n        <i class="icon-calendar"></i>\r\n        <span translate>Filter on to date</span>\r\n    </div>\r\n    <div ng-if="filter.toDate.enabled">\r\n        <p><i translate>The points date must be <span style="text-decoration:underline">smaller or equal</span> to the given date to show in the map</i></p>\r\n        <datetime-picker model="filter.toDate.date" date-only="true"></datetime-picker>\r\n        <br/>\r\n    </div>\r\n\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <p><i translate>The filter will be stored and will be available in the filter menu</i></p>\r\n    <div style="padding-bottom:10px">\r\n        <input type="text" ng-model="filter.name" placeholder="{{\'Name of the filter\' | translate}}" class="form-control" />\r\n    </div>\r\n    <button type="button" class="btn btn-sm btn-default" ng-click="cancel()" translate>Cancel</button>\r\n    <button type="button" class="btn btn-sm btn-success" ng-click="save()" translate>Save and use</button>\r\n</div>'),e.put("help.tpl.html",'<div class="modal-header">\r\n	<h1 translate>2 tips for you</h1>\r\n</div>\r\n<div class="modal-body">\r\n	<ul style="padding-left:10px">\r\n		<li translate>Press <i class="icon-you"></i> to find your location.</li>\r\n		<li translate>Tap-and-hold to add a point in the map (or right-click if you are using a PC).</li>\r\n	</ul>\r\n</div>\r\n<div class="modal-footer">\r\n	<button type="button" class="btn btn-sm btn-default" ng-click="cancel()" translate>Ok</button>\r\n</div>'),e.put("marker.mine.tpl.html",'<div class="modal-body">\r\n	<form ng-submit="addMarkerSubmit()">\r\n		<div class="form-group" ng-show="position.youAreHere">\r\n			<i class="icon-you text-primary"></i>\r\n			<span translate>This is where <strong>you</strong> are now.</span>\r\n			<small ng-if="position.accuracy">\r\n				(<span translate>Accuracy:</span> {{position.accuracy}}m)\r\n			</small>\r\n			<hr />\r\n		</div>\r\n		<div class="form-group">\r\n			<textarea class="form-control" ng-model="marker.description" ng-change="extractDescriptionTags()" placeholder="{{\'Description\' | translate}}"></textarea>\r\n		</div>\r\n        \r\n		<div class="form-group">\r\n			<ul class="nav nav-tabs" role="tablist">\r\n				<li role="presentation" ng-class="{active: shotIcons[marker.icon] != null }">\r\n					<a href="#shot" aria-controls="shot" role="tab" data-toggle="tab"><i class="icon-target3"> </i><span translate>Shot</span></a>\r\n				</li>\r\n				<li role="presentation" ng-class="{active: seenIcons[marker.icon] != null }">\r\n					<a href="#seen" aria-controls="seen" role="tab" data-toggle="tab"><i class="icon-binoculars"> </i><span translate>Seen</span></a>\r\n				</li>\r\n				<li role="presentation" ng-class="{active: otherIcons[marker.icon] != null }">\r\n					<a href="#other" aria-controls="other" role="tab" data-toggle="tab"><i class="icon-compass5"> </i><span translate>Other</span></a>\r\n				</li>\r\n			</ul>\r\n\r\n			<div class="tab-content">\r\n				<div role="tabpanel" class="tab-pane" ng-class="{active: shotIcons[marker.icon] != null }" id="shot">\r\n                    <button ng-repeat="(key, value) in shotIcons" class="btn btn-default animal-btn" ng-class="key === marker.icon ? \'btn-selected\' : \'\'" ng-click="setIcon(key)">\r\n                        <marker-icon icon="value"></marker-icon>\r\n                    </button>\r\n				</div>\r\n				<div role="tabpanel" class="tab-pane" ng-class="{active: seenIcons[marker.icon] != null }" id="seen">\r\n                    <button ng-repeat="(key, value) in seenIcons" class="btn btn-default animal-btn" ng-class="key === marker.icon ? \'btn-selected\' : \'\'" ng-click="setIcon(key)">\r\n                        <marker-icon icon="value"></marker-icon>\r\n                    </button>\r\n				</div>\r\n				<div role="tabpanel" class="tab-pane" ng-class="{active: otherIcons[marker.icon] != null }" id="other">\r\n                    <button ng-repeat="(key, value) in otherIcons" class="btn btn-default animal-btn" ng-class="key === marker.icon ? \'btn-selected\' : \'\'" ng-click="setIcon(key)">\r\n                        <marker-icon icon="value"></marker-icon>\r\n                    </button>\r\n				</div>\r\n			</div>\r\n		</div>\r\n		<div class="form-group">\r\n			Tags\r\n			<i class="icon-question" uib-tooltip="{{\'Tags are categories that can be used when searching an filtering points. Most icons have assosiated tags. You can add your own tags by using hashtag in the description text box, i.e. #team1 joined me, will add a team1 tag.\' | translate}}"\r\n			tooltip-placement="right" tooltip-trigger="click"></i>:\r\n			<span class="badge" ng-repeat="tag in icons[marker.icon].tags" style="margin-right:2px">\r\n                        #{{tag | translate}}\r\n                    </span>\r\n			<span class="badge badge-lighter" ng-repeat="tag in descriptionTags" style="margin-right:2px">\r\n                        #{{tag | translate}}\r\n                    </span>\r\n		</div>\r\n\r\n		<datetime-picker model="marker.dateTime"></datetime-picker>\r\n\r\n		<span ng-if="teams.length > 0">\r\n          <hr/>\r\n          <i class="icon-users4"> </i>\r\n		  <span translate>Share with:</span>\r\n		<ul class="list-unstyled">\r\n			<li ng-repeat="team in teams" ng-click="shareWithTeam(team.id)" class="row">\r\n				<span class="col-xs-10">{{team.name}}</span>\r\n				<span class="col-xs-2">\r\n					<i style="font-size:25px" ng-class="marker.sharedWithTeamIds.indexOf(team.id) > -1 ? \'icon-toggle-on text-success\' : \'icon-toggle-off text-muted\'"></i>\r\n				</span>\r\n			</li>\r\n		</ul>\r\n		</span>\r\n	</form>\r\n</div>\r\n<div class="modal-footer">\r\n	<button type="button" class="btn btn-sm btn-danger pull-left" ng-if="showDelBtn" ng-click="delete()" translate>Delete</button>\r\n	<button type="button" class="btn btn-sm btn-danger pull-left" ng-if="showDelConfirmBtn" ng-click="deleteConfirm()" translate>\r\n		Are you sure?\r\n	</button>\r\n	<button type="button" class="btn btn-sm btn-default" ng-click="cancel()" translate>Cancel</button>\r\n	<button type="submit" class="btn btn-success" ng-click="submit()">{{submitText | translate}}</button>\r\n</div>'),
e.put("marker.other.tpl.html",'<div class="modal-body">\r\n    <marker-icon icon="icon" style="display:block; height:50px"></marker-icon>\r\n	<p><i class="icon-user"> </i><strong>{{addedBy.firstName}} {{addedBy.lastName}}</strong></p>\r\n	<p><i class="icon-calendar"> </i> {{formattedDateTime}}</p>\r\n	<p ng-if="marker.description">\r\n		<i class="icon-file-text"> </i>\r\n		<span translate>Description: </span> {{marker.description}}\r\n	</p>\r\n\r\n	<div>\r\n		<i class="icon-price-tag3"> </i> Tags\r\n		<i class="icon-question" uib-tooltip="{{\'Tags are categories that can be used when searching an filtering points. Most icons have assosiated tags. You can add your own tags by using hashtag in the description text box, i.e. #team1 joined me, will add a team1 tag.\' | translate}}"\r\n		tooltip-placement="right" tooltip-trigger="click"></i>:\r\n		<span class="badge" ng-repeat="tag in icon.tags" style="margin-right:2px">\r\n                  #{{tag | translate}}\r\n              </span>\r\n		<span class="badge badge-lighter" ng-repeat="tag in descriptionTags" style="margin-right:2px">\r\n                  #{{tag | translate}}\r\n              </span>\r\n	</div>\r\n	<br/>\r\n	<p>\r\n		<i class="icon-users4"> </i>\r\n		<span translate>Shared with: </span>\r\n		<span ng-repeat="team in sharedWithTeams"><span ng-if="!$first">, </span>{{team.name}}</span>\r\n	</p>\r\n</div>\r\n<div class="modal-footer">\r\n	<button type="button" class="btn btn-sm btn-default" ng-click="cancel()" translate>Close</button>\r\n</div>'),e.put("team.tpl.html",'<div class="modal-header">\r\n    <h1 translate>Hunting Team</h1>\r\n</div>\r\n<div class="modal-body">\r\n    <p translate>By creating a hunting team, you will be able to share points you add in the map with the other team members.</p>\r\n    <p translate>\r\n        When you create a hunting team you can invite others to join. The invites have to be accepted before they become active memebers of the hunting team.\r\n    </p>\r\n    <i ng-if="loading" class="icon-spinner3 spinner spinner--steps2" style="font-size:25px"></i>\r\n    <uib-accordion close-others="true">\r\n        <uib-accordion-group ng-repeat="t in teams" is-open="t.isOpen">\r\n            <uib-accordion-heading>\r\n                {{t.name}}\r\n                <i class="icon-cancel-circle2 text-danger pull-right" ng-click="removeTeam(t.id)" ng-show="t.userIsTeamAdmin && t.members.length < 2"></i>\r\n            </uib-accordion-heading>\r\n            <p ng-if="t.userIsTeamAdmin">\r\n                <i class="icon-info2 text-info"></i>\r\n                <i class="text-muted"><small translate>You are admin for this team and can invite and remove members.</small></i>\r\n            </p>\r\n            <p ng-if="t.userMemberStatus === \'invited\'">\r\n                <span translate>You have been invited to this hunting team. Do you accept or decline membership?</span>\r\n                <button type="button" ng-click="acceptInvitation(t.id)" class="btn btn-success btn-sm" translate>Accept</button>\r\n                <button type="button" ng-click="declineInvitation(t.id)" class="btn btn-danger btn-sm" translate>Decline</button>\r\n            </p>\r\n            <p ng-if="t.userMemberStatus === \'paused\'">\r\n                <i class="icon-info2 text-info"></i>\r\n                <i class="text-muted"><small translate>Your membership with this team has been paused by the the team admin.</small></i>\r\n            </p>\r\n			\r\n            <ul class="list-unstyled">\r\n                <li ng-repeat="member in t.members">\r\n                    {{member.firstName}} {{member.lastName}}\r\n                    <span class="label" ng-class="{\'label-success\': member.status === \'active\', \'label-info\': member.status === \'invited\', \'label-warning\': member.status === \'paused\', \'label-primary\': member.status === \'admin\'}">\r\n                        {{member.status | translate}}\r\n                    </span>\r\n                    <span ng-if="t.userIsTeamAdmin" class="member-actions">\r\n                        <span class="btn btn-danger btn-sm btn-circle-sm" ng-click="removeMember(t.id, member.userId)" ng-if="t.adminId !== member.userId">\r\n                            <i class="icon-cross2"></i>\r\n                        </span>\r\n                        <span class="btn btn-default btn-sm btn-circle-sm" ng-click="pauseMember(t.id, member.userId)" ng-if="member.status === \'active\'">\r\n                            <i class="icon-pause2"></i>\r\n                        </span>\r\n                        <span class="btn btn-default btn-sm btn-circle-sm" ng-click="activateMember(t.id, member.userId)" ng-if="member.status === \'paused\'">\r\n                            <i class="icon-play4"></i>\r\n                        </span>\r\n                    </span>\r\n                </li>\r\n            </ul>\r\n\r\n            <span ng-if="t.userIsTeamAdmin">\r\n                <span translate>Invite member:</span>\r\n                <div class="input-group" ng-if="t.userIsTeamAdmin">\r\n                    <input type="email" class="form-control" ng-model="inviteEmail" placeholder="{{\'email\' | translate}}" />\r\n                    <span class="input-group-btn">\r\n                        <button type="button" ng-click="inviteMember(t.id, inviteEmail)" class="btn btn-default" translate>Invite</button>\r\n                    </span>\r\n                </div>\r\n                <p class="text-danger">{{errorMessage | translate}}</p>\r\n                <i>\r\n                    <i class="icon-info2 text-info"> </i>\r\n                    <small class="text-muted" translate>Currently you need to know the hunters email address to be able to invite. We are working on invitations by name.</small>\r\n                </i>\r\n            </span>\r\n        </uib-accordion-group>\r\n    </uib-accordion>\r\n\r\n    <span translate>Create team:</span>\r\n    <div class="input-group">\r\n        <input type="text" class="form-control" ng-model="newTeam.name" placeholder="{{\'Name of the new team ...\' | translate}}" />\r\n        <span class="input-group-btn">\r\n            <button type="button" ng-click="createTeam()" class="btn btn-default" translate>Create</button>\r\n        </span>\r\n    </div>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <button type="button" class="btn btn-sm btn-default" ng-click="cancel()" translate>Done</button>\r\n</div>')}]),angular.module("HTServices",["ngResource"]),angular.module("HTServices").factory("IconSource",function(){var e="src/images/animals8.png",t={};return t.you={type:"font","class":"icon-you",text:"",font:"normal 25px icomoon"},t["default"]={type:"font","class":"icon-circles",text:"",font:"normal 25px icomoon"},t.house={type:"font","class":"icon-home5",text:"",font:"normal 25px icomoon",tags:["house"]},t["video-camera"]={type:"font","class":"icon-video-camera2",text:"",font:"normal 25px icomoon",tags:["camera"]},t.camera={type:"font","class":"icon-camera",text:"",font:"normal 25px icomoon",tags:["camera"]},t.pin={type:"font","class":"icon-location5",text:"",font:"normal 25px icomoon"},t.skull={type:"font","class":"icon-skull",text:"",font:"normal 25px icomoon",tags:["danger"]},t.warning={type:"font","class":"icon-warning2",text:"",font:"normal 25px icomoon",tags:["danger"]},t.car={type:"font","class":"icon-car",text:"",font:"normal 25px icomoon",tags:["car"]},t.person={type:"image",offset:[0,0],size:[25,25],scale:1,src:"src/images/person.png"},t.hoove={type:"image",scale:.6,src:e,tags:["tracks","hoove"],offset:[0,404],size:[37,43]},t.paw={type:"font","class":"icon-paw",text:"",font:"normal 25px icomoon",tags:["tracks","paw"]},t.bird={type:"image",scale:.4,src:e,tags:["seen","bird"],offset:[0,0],size:[70,68]},t.deer={type:"image",scale:.4,src:e,tags:["seen","deer"],offset:[0,78],size:[86,87]},t.fox={type:"image",scale:.4,src:e,tags:["seen","fox"],offset:[0,175],size:[83,54]},t.grouse={type:"image",scale:.4,src:e,tags:["seen","grouse"],offset:[0,239],size:[60,72]},t.hare={type:"image",scale:.4,src:e,tags:["seen","hare"],offset:[0,321],size:[59,73]},t.moose={type:"image",scale:.4,src:e,tags:["seen","moose"],offset:[0,457],size:[90,85]},t.raindeer={type:"image",scale:.5,src:e,tags:["seen","raindeer"],offset:[0,552],size:[73,81]},t.wolf={type:"image",scale:.4,src:e,tags:["seen","wolf"],offset:[0,1299],size:[105,56]},t.shot_bird={type:"image",scale:.4,src:e,tags:["shot","bird"],offset:[0,643],size:[70,68]},t.shot_deer={type:"image",scale:.4,src:e,tags:["shot","deer"],offset:[0,721],size:[86,87]},t.shot_fox={type:"image",scale:.4,src:e,tags:["shot","fox"],offset:[0,818],size:[83,54]},t.shot_grouse={type:"image",scale:.4,src:e,tags:["shot","grouse"],offset:[0,882],size:[60,72]},t.shot_hare={type:"image",scale:.4,src:e,tags:["shot","hare"],offset:[0,964],size:[59,73]},t.shot_moose={type:"image",scale:.4,src:e,tags:["shot","moose"],offset:[0,1047],size:[90,85]},t.shot_raindeer={type:"image",scale:.5,src:e,tags:["shot","raindeer"],offset:[0,1142],size:[73,81]},t.shot_wolf={type:"image",scale:.4,src:e,tags:["shot","wolf"],offset:[0,1233],size:[105,56]},{getAll:function(){return t}}}),angular.module("HTServices").factory("FilterSource",function(){var e={};return e.all={name:"All",mineOnly:{enabled:!1},team:{enabled:!1},tag:{enabled:!1},fromDate:{enabled:!1},toDate:{enabled:!1}},e.none={name:"None",mineOnly:{enabled:!1},team:{enabled:!1},tag:{enabled:!1},fromDate:{enabled:!1},toDate:{enabled:!0,date:new Date(0)}},e["31-days"]={name:"Latest 31 days",mineOnly:{enabled:!1},team:{enabled:!1},tag:{enabled:!1},fromDate:{enabled:!0,date:function(){var e=864e5,t=new Date;return new Date(t.getTime()-31*e)}()},toDate:{enabled:!1}},{getAll:function(){return e}}}),angular.module("HTServices").factory("MarkerSource",["$resource","IconSource","$q","$http",function(e,t,n,a){var r=e("/api/markers/:markerId",null,{getAll:{method:"GET",isArray:!0},getByUserId:{method:"GET",isArray:!0,params:{userId:"@userId"}},add:{method:"POST"},update:{method:"PUT"},remove:{method:"DELETE",params:{markerId:"@markerId"}}});return r}]),angular.module("HTServices").factory("AuthSource",["$resource",function(e){var t=e("/api/auth",null,{login:{method:"POST",params:{email:"@email",password:"@password"}},logout:{method:"DELETE"}});return t}]),angular.module("HTServices").factory("UserSource",["$resource",function(e){var t=e("/api/users/:id",null,{me:{url:"/api/me",method:"GET"},updateMe:{url:"/api/me",method:"PUT"},getById:{method:"GET",params:{id:"@id"}},register:{method:"POST",params:{firstName:"@firstName",lastName:"@lastName",email:"@email",password:"@password"}}});return t}]),angular.module("HTServices").factory("TeamSource",["$resource",function(e){var t=e("/api/teams/:id",null,{getMyTeams:{url:"/api/me/teams",method:"GET",isArray:!0,params:{activeOnly:"@activeOnly"}},add:{method:"POST"},update:{method:"PUT"},remove:{method:"DELETE",params:{id:"@id"}}});return t}]),angular.module("HTServices").factory("MemberSource",["$resource",function(e){var t=e("/api/teams/:teamId/members/:userId",null,{getByTeamId:{method:"GET",url:"/api/teams/:teamId/members",isArray:!0,params:{teamId:"@teamId"}},invite:{method:"POST",url:"/api/teams/:teamId/invite",params:{teamId:"@teamId",userEmail:"@userEmail"}},requestMembership:{method:"POST",params:{teamId:"@teamId",userId:"@userId"}},activate:{method:"POST",url:"/api/teams/:teamId/members/:userId/activate",params:{teamId:"@teamId",userId:"@userId"}},pause:{method:"POST",url:"/api/teams/:teamId/members/:userId/pause",params:{teamId:"@teamId",userId:"@userId"}},remove:{method:"DELETE",params:{teamId:"@teamId",userId:"@userId"}}});return t}]),angular.module("HTServices").factory("Helpers",function(){var e={};return e.filterByTags=function(e,t,n){n=n||"all";var a={};return Object.keys(e).forEach(function(r){for(var i=e[r],o=0,s=0;s<t.length;s++)i.tags&&i.tags.indexOf(t[s])>-1&&o++;("all"===n&&t.length===o||"one"===n&&o>0||"none"===n&&0===o)&&(a[r]=i)}),a},e.extractTags=function(e){if(e){var t=e.match(/\B#\w*[a-zæøåA-ZÆØÅ]+\w*/g);if(t)return t.map(function(e){return e.replace("#","")})}return[]},e.mapIcons=function(e,t){return!e||e.length<1?e:e.map(function(e){return e.iconSrc=t[e.icon]||t["default"],e})},e.applyFilter=function(t,n,a,r){var i,o;return n.map(function(n){return"you"===n.id?n:(i=!1,t.mineOnly.enabled&&a.id!==n.userId&&(i=!0),!i&&t.team.enabled&&t.team.teams&&t.team.teams.forEach(function(e){n.sharedWithTeamIds&&n.sharedWithTeamIds.indexOf(e)>-1||(i=!0)}),!i&&t.tag.enabled&&t.tag.tags&&t.tag.tags.forEach(function(t){var a=r[n.icon].tags||[],o=e.extractTags(n.description);a.indexOf(t)<0&&o.indexOf(t)<0&&(i=!0)}),o=new Date(n.dateTime),!i&&t.fromDate.enabled&&new Date(t.fromDate.date)>o&&(i=!0),!i&&t.toDate.enabled&&new Date(t.toDate.date)<o&&(i=!0),n.hidden=i,n)})},e}),angular.module("HTDirectives",[]),angular.module("HTDirectives").directive("popItOver",function(e){return{restrict:"E",transclude:!0,scope:{show:"="},compile:function(e,t,n){return function(e,t,a,r){var i=$(a.target),o=i.popover({html:!0,content:n(e.$parent)});e.$watch("show",function(){e.show?setTimeout(function(){o.popover("show")},1):o.popover("hide")})}}}}),angular.module("HTDirectives").directive("olMap",function(){return{restrict:"EA",template:"<div></div>",replace:!0,scope:{markers:"=olMarkers",layer:"=olLayer",tracking:"=olTrackPosition",onPositionChanged:"&olOnPositionChanged",onMarkerSelected:"&olOnMarkerSelected",onShowContextMenu:"&olOnShowContextMenu",fitViewToMarkersTrigger:"=olFitViewToMarkersTrigger"},link:function(e,t,n){var a=[new ol.layer.Tile({source:new ol.source.OSM}),new ol.layer.Tile({preload:1/0,source:new ol.source.BingMaps({key:"AiRYpbYAESC89e7hUCnmi0L1lQBQWVRoF_MaVTeLQ4G8rTTpnabfM6Eg2VgQUtge",imagerySet:"AerialWithLabels"})}),new ol.layer.Tile({source:new ol.source.XYZ({attributions:[new ol.Attribution({html:"&copy; <a href='http://statkart.no'>Kartverket</a>"})],url:"http://opencache.statkart.no/gatekeeper/gk/gk.open_gmaps?layers=topo2&zoom={z}&x={x}&y={y}"})})],r=new ol.View({center:[2629703.3656816175,9797587.027268754],zoom:5}),i=new ol.Map({view:r,interactions:ol.interaction.defaults({pinchRotate:!1,altShiftDragRotate:!1}),controls:ol.control.defaults({attribution:!1})});i.setTarget(t[0]),$(i.getViewport()).on("contextmenu",function(t){t.preventDefault();var n=i.getEventPixel(t),a=i.getCoordinateFromPixel(n);return e.$apply(function(){e.onShowContextMenu({coordinates:a})}),!1});var o=window.isWindowsPhone?t[0]:i.getViewport();new Hammer.Manager(o,{recognizers:[[Hammer.Press]]}).on("press",function(t){t.preventDefault();var n=[t.center.x,t.center.y],a=i.getCoordinateFromPixel(n);return e.$apply(function(){e.onShowContextMenu({coordinates:a})}),!1});var s=function(e,t){for(var n=e[0],a=e[1],r=[],i=n-t;n+t>=i;i++)for(var o=a-t;a+t>=o;o++)r.push([i,o]);return r};$(i.getViewport()).on("click",function(t){var n=i.getEventPixel(t),a=i.forEachFeatureAtPixel(n,function(e,t){return e});if(!a&&Modernizr.touch)for(var r=s(n,5),o=0;o<r.length;o++){var l=r[o];if(a=i.forEachFeatureAtPixel(l,function(e,t){return e}))break}a&&e.$apply(function(){e.onMarkerSelected({marker:a.marker})})});var l=new ol.Geolocation({projection:r.getProjection(),trackingOptions:{enableHighAccuracy:!0,maximumAge:6e4}}),c=!0;l.on("change:position",function(){var t=l.getPosition(),n=l.getAccuracy();c&&(r.setCenter(t),r.setZoom(15),c=!1),e.$apply(function(){e.onPositionChanged({coordinates:t,accuracy:n})})}),e.$watch("tracking",function(e){c=!0,l.setTracking(e)});var d=function(e){return"font"===e.type?new ol.style.Style({text:new ol.style.Text({text:e.text,font:e.font,scale:1,fill:new ol.style.Fill({color:e.color||"black"})})}):new ol.style.Style({image:new ol.style.Icon({src:e.src,offset:e.offset,size:e.size,scale:e.scale||1,snapToPixel:!0})})},u=new ol.source.Vector,m=new ol.layer.Vector({source:u});i.addLayer(m);var p=!0;e.$watch("markers",function(e,t){for(var n=u.getFeatures(),a=0;a<n.length;a++)u.removeFeature(n[a]);if(e){for(var a=0;a<e.length;a++){var o=e[a];if(!o.hidden){var s=new ol.Feature({geometry:new ol.geom.Point(o.coordinates)});s.marker=o,s.setStyle(d(o.iconSrc)),u.addFeature(s)}}p&&e.length>0&&(p=!1,i.updateSize(),u.getFeatures().length>0&&r.fit(u.getExtent(),i.getSize(),{maxZoom:15}))}},!0),e.$watch("fitViewToMarkersTrigger",function(){u.getFeatures().length>0&&r.fit(u.getExtent(),i.getSize(),{maxZoom:15})}),e.$watch("layer",function(){for(var t=0;t<a.length;t++)i.removeLayer(a[t]);"osm"===e.layer?i.addLayer(a[0]):"satellite"===e.layer?i.addLayer(a[1]):i.addLayer(a[2]),i.removeLayer(m),i.addLayer(m)})}}}),angular.module("HTDirectives").directive("datetimePicker",["$window",function(e){return{restrict:"E",template:'<div class="form-group"><div class="input-group" style="max-width:170px;float:left;padding-right:5px"><input type="date" class="form-control" style="-webkit-appearance: none;" /><span class="input-group-addon"><i class="icon-calendar"></i></span></div><div class="input-group"><input type="time" class="form-control" style="-webkit-appearance: none;" /><span class="input-group-addon"><i class="icon-clock"></i></span></div></div>',replace:!0,scope:{model:"=model",dateOnly:"=?dateOnly"},link:function(t,n,a){var r={time:"fa fa-clock-o",date:"fa fa-calendar",up:"icon-arrow-up",down:"icon-arrow-down",previous:"icon-arrow-left",next:"icon-arrow-right",today:"icon-shrink",clear:"icon-bin"};t.dateOnly&&n.find(".input-group").last().remove();var i=n.find('input[type="date"]'),o=n.find('input[type="time"]'),s=function(){var e=i.data("DateTimePicker").date(),n=new Date;if(n.setDate(e.date()),n.setMonth(e.month()),n.setFullYear(e.year()),t.dateOnly)n.setHours(0),n.setMinutes(0);else{var a=o.data("DateTimePicker").date();n.setHours(a.hour()),n.setMinutes(a.minutes())}t.model=n.toISOString(),t.$apply()},l=function(){var e=moment(i.val());if(t.dateOnly)e.hours(0),e.minutes(0);else{var n=o.val();e.hour(n.substr(0,2)),e.minutes(n.substr(3,4))}t.model=e.toISOString(),t.$apply()},c=Modernizr.inputtypes.date&&Modernizr.inputtypes.time&&e.isMobileOrTablet;c?(i.val(moment(t.model).format("YYYY-MM-DD")),i.on("change",function(e){l()}),t.dateOnly||(o.val(moment(t.model).format("HH:mm")),o.on("change",function(){l()}))):(i.attr("type","text"),i.datetimepicker({defaultDate:t.model,format:"L",icons:r}),i.siblings().first().on("click",function(){i.data("DateTimePicker").toggle()}),i.on("dp.change",function(e){s()}),t.dateOnly||(o.attr("type","text"),o.datetimepicker({defaultDate:t.model,format:"LT",icons:r}),o.siblings().last().on("click",function(){o.data("DateTimePicker").toggle()}),o.on("dp.change",function(e){s()})))}}}]),angular.module("HTDirectives").directive("markerIcon",["$window",function(e){return{restrict:"E",scope:{icon:"=icon"},link:function(e,t,n){var a=37,r=49,i=e.icon;if("image"===e.icon.type){var o=(a-i.size[0]*i.scale)/2,s=(r-i.size[1]*i.scale)/2,l=$("<div></div>").css("height",i.size[1]+"px").css("width",i.size[0]+"px").css("background-repeat","no-repeat").css("background-image","url("+i.src+")").css("background-position","-"+i.offset[0]+"px -"+i.offset[1]+"px").css("transform-origin",o+"px "+s+"px").css("transform","scale("+i.scale+")");t.append(l)}if("font"===e.icon.type){var c=$("<i></i>").css("font-size","25px").addClass(i["class"]);t.append(c)}}}}]),angular.module("HTControllers",[]),angular.module("HTControllers").controller("MenuCtrl",["$scope","AuthSource",function(e,t){e.logout=function(){t.logout(function(){location.href="/login.html"})}}]),angular.module("HTControllers").controller("MapCtrl",["$scope","$uibModal","$timeout","UserSource","AuthSource","MarkerSource","IconSource","FilterSource","TeamSource","Helpers",function(e,t,n,a,r,i,o,s,l,c){e.loading=!0,e.tracking=!1,e.markers=[],e.you=null,e.layers={norgeskart:"Norgeskart",satellite:"Satellite Imagery"},e.icons=o.getAll(),e.standardFilters=s.getAll(),e.youIcon="default";var d=function(){var t=e.markers?e.markers.length:null;i.getByUserId({userId:e.user.id},function(n){e.loading=!1,n=c.mapIcons(n,e.icons),n=c.applyFilter(e.standardFilters[e.user.settings.filter]||e.user.filters[e.user.settings.filter],n,e.user,e.icons),e.markers=n,e.markers.length<1&&e.showHelpModal(),e.you&&e.markers.push(e.you),t&&t!==e.markers.length&&(e.fitMapToMarkersTrigger=Math.random())}),e.teams=l.getMyTeams({activeOnly:!0})};a.me(function(t){e.user=t,e.user.settings=e.user.settings||{filter:"all",layer:"norgeskart"},d()});var u=function(){e.marker&&!e.marker.id&&(e.markers=e.markers.filter(function(e){return e.id}))};e.setTracking=function(){e.tracking=!e.tracking,e.tracking?e.trackingLoading=!0:(e.you.hidden=!0,e.trackingLoading=!1)};var m=!1,p=function(){var n=angular.copy(e.marker,{});if(!m){m=!0;var a=t.open({templateUrl:"marker.mine.tpl.html",controller:"MarkerMineModalCtrl",size:"sm",resolve:{marker:function(){return e.marker},icons:function(){return e.icons},teams:function(){return e.teams},position:function(){return{youAreHere:e.you&&!e.you.hidden&&e.marker.coordinates[0]===e.you.coordinates[0]&&e.marker.coordinates[1]===e.you.coordinates[1],accuracy:e.you?e.you.accuracy:""}}}})}a.result.then(function(t){if(m=!1,"delete"===t.action){var n=e.marker.id;e.loading=!0,i.remove({markerId:n},function(){e.loading=!1,e.markers=e.markers.filter(function(e){return e.id!==n})})}else"submit"===t.action&&e.addMarkerSubmit()},function(){m=!1,e.marker=angular.copy(n,e.marker),u()})},g=function(){t.open({templateUrl:"marker.other.tpl.html",controller:"MarkerOtherModalCtrl",size:"sm",resolve:{marker:function(){return e.marker},icons:function(){return e.icons},teams:function(){return e.teams}}})};e.addMarker=function(t){e.marker={coordinates:t,icon:"default",iconSrc:e.icons["default"],dateTime:new Date},e.markers.push(e.marker),p()},e.addMarkerSubmit=function(){e.loading=!0,e.marker.id?i.update(e.marker,function(){e.loading=!1}):(e.marker.id=e.marker.id||Math.uuid(),e.marker.userId=e.user.id,i.add(e.marker,function(){e.loading=!1}))},e.showMarkerDetails=function(t){e.marker=t,"you"===e.marker.id?e.addMarker(e.marker.coordinates):e.marker.userId===e.user.id?p():g()},e.positionChanged=function(t,n){e.trackingLoading=!1,e.you?(e.you.coordinates=t,e.you.hidden=!1,e.you.accuracy=Math.round(n)):(e.you={id:"you",coordinates:t,accuracy:Math.round(n),iconSrc:angular.copy(e.icons.you,{})},e.you.iconSrc.color="rgb(51, 122, 183)",e.markers.push(e.you))},e.setLayer=function(t){e.user.settings.layer=t,a.updateMe(e.user)},e.setFilter=function(t,n){e.user.settings.filter=t,e.markers=c.applyFilter(e.standardFilters[t]||e.user.filters[t],e.markers,e.user,e.icons),e.fitMapToMarkersTrigger=Math.random(),a.updateMe(e.user)},e.showHelpModal=function(){t.open({templateUrl:"help.tpl.html",controller:"HelpModalCtrl",size:"sm"})},e.showTeamModal=function(){var n=t.open({templateUrl:"team.tpl.html",controller:"TeamModalCtrl",size:"md"});n.result.then(function(){},function(){e.loading=!0,d()})},e.showFilterModal=function(n){e.user.filters=e.user.filters||{};var a=null!==n?e.user.filters[n]:null,r=t.open({templateUrl:"filter.tpl.html",controller:"FilterModalCtrl",size:"md",resolve:{user:function(){return e.user},teams:function(){return e.teams},markers:function(){return e.markers},filter:function(){return a}}});r.result.then(function(t){n||(n=Math.uuid()),e.user.filters[n]=t.filter,e.setFilter(n)},function(){})},e.logout=function(){localStorage.token="",r.logout(function(){document.location.href="login.html"})}}]),angular.module("HTControllers").controller("MarkerMineModalCtrl",["$scope","$uibModalInstance","Helpers","marker","icons","position","teams",function(e,t,n,a,r,i,o){e.marker=a,e.marker.sharedWithTeamIds=e.marker.sharedWithTeamIds||[],e.icons=r,e.position=i,e.teams=o;var s=e.marker.id&&"you"!==e.marker.id;e.submitText=s?"Save":"Add",e.showDelBtn=s,e.shotIcons=n.filterByTags(r,["shot"]),e.seenIcons=n.filterByTags(r,["seen"]),e.otherIcons=n.filterByTags(r,["shot","seen"],"none"),e.descriptionTags=n.extractTags(e.marker.description),e.extractDescriptionTags=function(){e.descriptionTags=n.extractTags(e.marker.description)},e.setIcon=function(t){e.marker.icon=t,e.marker.iconSrc=e.icons[t]},e.submit=function(){t.close({action:"submit"})},e.cancel=function(){t.dismiss("cancel")},e["delete"]=function(){e.showDelBtn=!1,e.showDelConfirmBtn=!0},e.deleteConfirm=function(){t.close({action:"delete"})},e.shareWithTeam=function(t){var n=e.marker.sharedWithTeamIds.indexOf(t)<0;n?e.marker.sharedWithTeamIds.push(t):e.marker.sharedWithTeamIds=e.marker.sharedWithTeamIds.filter(function(e){return e!==t})};var l=!0,c=new Date;e.$on("modal.closing",function(e,t,n){var a=new Date,r=a.getTime()-c.getTime();!s&&"backdrop click"===t&&l&&2e3>r&&Modernizr.touch&&(l=!1,e.preventDefault())})}]),angular.module("HTControllers").controller("MarkerOtherModalCtrl",["$scope","$uibModalInstance","marker","icons","teams","UserSource","Helpers","UserSource",function(e,t,n,a,r,i,o,i){e.marker=n,e.marker.sharedWithTeamIds=e.marker.sharedWithTeamIds||[],e.addedBy=i.getById({id:e.marker.userId}),e.sharedWithTeams=e.marker.sharedWithTeamIds.map(function(e){var t=r.filter(function(t){return t.id===e});return t.length>0?t[0]:""}),e.descriptionTags=o.extractTags(e.marker.description),e.formattedDateTime=moment(e.marker.dateTime).format("LLLL"),e.icon=a[e.marker.icon],e.cancel=function(){t.dismiss()}}]),angular.module("HTControllers").controller("HelpModalCtrl",["$scope","$uibModalInstance",function(e,t){e.cancel=function(){t.dismiss("cancel")}}]),angular.module("HTControllers").controller("TeamModalCtrl",["$scope","$uibModalInstance","TeamSource","UserSource","MemberSource",function(e,t,n,a,r){e.loading=!0,e.newTeam={};var i=function(t){return e.teams.filter(function(e){return e.id===t})[0]},o=function(e,t){return i(e).members.filter(function(e){return e.userId===t})[0]};a.me(function(t){e.user=t,n.getMyTeams(function(t){e.teams=t,e.teams&&e.teams.length>0&&(e.teams[0].isOpen=!0),e.teams.forEach(function(t){t.userIsTeamAdmin=t.adminId===e.user.id,t.members=r.getByTeamId({teamId:t.id},function(n){var a=n.filter(function(t){return t.userId===e.user.id})[0];t.userMemberStatus=a.status,"invited"===t.userMemberStatus&&(t.isOpen=!0)})}),e.loading=!1})}),e.createTeam=function(){e.newTeam.id=Math.uuid(),e.newTeam.adminId=e.user.id,e.loading=!0,n.add(e.newTeam,function(){r.getByTeamId({teamId:e.newTeam.id},function(t){e.newTeam.members=t,e.newTeam.isOpen=!0,e.newTeam.userIsTeamAdmin=!0,e.teams.push(e.newTeam),e.newTeam={},e.loading=!1})})},e.removeTeam=function(t){n.remove({id:t},function(){e.teams=e.teams.filter(function(e){return e.id!==t})})},e.inviteMember=function(t,n){e.errorMessage="",r.invite({teamId:t,userEmail:n}).$promise.then(function(e){var n=i(t);n.members.push(e)},function(t){404===t.status?(e.errorMessage="We did not find any hunters with that email address.",e.loading=!1):400===t.status&&"UserAlreadyMemberInTeam"===t.statusText?(e.errorMessage="This hunter is already a member in this team.",e.loading=!1):(e.errorMessage="We are sorry, but an unexpected error occured.",e.loading=!1)})},e.acceptInvitation=function(t){var n=i(t);n.userMemberStatus="active",e.activateMember(t,e.user.id)},e.declineInvitation=function(t){e.removeMember(t,e.user.id),e.teams=e.teams.filter(function(e){return e.id!==t})},e.activateMember=function(e,t){r.activate({teamId:e,userId:t},function(){var n=o(e,t);n.status="active"})},e.pauseMember=function(e,t){r.pause({teamId:e,userId:t},function(){var n=o(e,t);n.status="paused"})},e.removeMember=function(e,t){var n=i(e);r.remove({teamId:e,userId:t},function(){n.members=n.members.filter(function(e){return e.userId!==t})})},e.cancel=function(){t.dismiss("cancel")}}]),angular.module("HTControllers").controller("FilterModalCtrl",["$scope","$uibModalInstance","user","markers","teams","filter","Helpers","IconSource",function(e,t,n,a,r,i,o,s){e.user=n,e.teams=r,e.icons=s.getAll(),e.filter=i||{mineOnly:{enabled:!1},team:{enabled:!1,teams:[]},tag:{enabled:!1,tags:[]},fromDate:{enabled:!1,date:new Date},toDate:{enabled:!1,date:new Date}},e.actionTags=[],e.animalTags=[],e.otherTags=[],e.customTags=[],a.forEach(function(t){var n=e.icons[t.icon].tags;if(n){var a=n[0];if("shot"===a||"seen"===a){e.actionTags.indexOf(a)<0&&e.actionTags.push(a);var r=n[1];e.animalTags.indexOf(r)<0&&e.animalTags.push(r)}else n.forEach(function(t){e.otherTags.indexOf(t)<0&&e.otherTags.push(t)})}o.extractTags(t.description).forEach(function(t){e.customTags.indexOf(t)<0&&e.customTags.push(t)})}),e.removedTags=e.filter.tag.tags.filter(function(t){return e.filter.tag.tags[t]&&e.actionTags.indexOf(t)<0&&e.animalTags.indexOf(t)<0&&e.otherTags.indexOf(t)<0&&e.customTags.indexOf(t)}),e.toggleTeam=function(t){var n=e.filter.team.teams.indexOf(t);0>n?e.filter.team.teams.push(t):e.filter.team.teams.splice(n,1)},e.toggleTag=function(t){var n=e.filter.tag.tags.indexOf(t);0>n?e.filter.tag.tags.push(t):e.filter.tag.tags.splice(n,1)},e.save=function(){t.close({filter:e.filter})},e.cancel=function(){t.dismiss("cancel")}}]),angular.module("HuntTracker",["gettext","templates","ui.bootstrap","HTControllers","HTDirectives","HTServices"]).config(["$httpProvider",function(e){e.interceptors.push(["$q",function(e){var t=["marker.mine.tpl.html","marker.other.tpl.html","help.tpl.html","team.tpl.html","filter.tpl.html","template/modal/backdrop.html","template/modal/window.html","template/tooltip/tooltip-popup.html","template/popover/popover.html","template/accordion/accordion.html","template/accordion/accordion-group.html"];return{request:function(n){if(!ht.env.selfHostedApi&&n.url.indexOf("/api")>-1){n.url=n.url.replace("/api",apiUrl);var a=localStorage.token;a&&(n.headers.Authorization="Bearer "+a)}if("GET"===n.method&&t.indexOf(n.url)<0){var r=(new Date).getTime();-1===n.url.indexOf("?")?n.url+="?rand="+r:n.url.replace("?","?rand="+r+"&")}return n||e.when(n)},response:function(t){return t||e.when(t)},responseError:function(t){return t&&401===t.status&&(document.location.href="login.html"),e.reject(t)}}}])}]);