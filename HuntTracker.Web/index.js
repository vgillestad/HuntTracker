if(function(e,o){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?o(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return o(e)}:o(e)}("undefined"!=typeof window?window:this,function(e,o){function t(e){var o="length"in e&&e.length,t=Q.type(e);return"function"===t||Q.isWindow(e)?!1:1===e.nodeType&&o?!0:"array"===t||0===o||"number"==typeof o&&o>0&&o-1 in e}function r(e,o,t){if(Q.isFunction(o))return Q.grep(e,function(e,r){return!!o.call(e,r,e)!==t});if(o.nodeType)return Q.grep(e,function(e){return e===o!==t});if("string"==typeof o){if(se.test(o))return Q.filter(o,e,t);o=Q.filter(o,e)}return Q.grep(e,function(e){return K.call(o,e)>=0!==t})}function n(e,o){for(;(e=e[o])&&1!==e.nodeType;);return e}function i(e){var o=he[e]={};return Q.each(e.match(de)||[],function(e,t){o[t]=!0}),o}function a(){Z.removeEventListener("DOMContentLoaded",a,!1),e.removeEventListener("load",a,!1),Q.ready()}function s(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Q.expando+s.uid++}function g(e,o,t){var r;if(void 0===t&&1===e.nodeType)if(r="data-"+o.replace(Ee,"-$1").toLowerCase(),t=e.getAttribute(r),"string"==typeof t){try{t="true"===t?!0:"false"===t?!1:"null"===t?null:+t+""===t?+t:_e.test(t)?Q.parseJSON(t):t}catch(n){}ve.set(e,o,t)}else t=void 0;return t}function l(){return!0}function p(){return!1}function u(){try{return Z.activeElement}catch(e){}}function c(e,o){return Q.nodeName(e,"table")&&Q.nodeName(11!==o.nodeType?o:o.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function d(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function h(e){var o=Fe.exec(e.type);return o?e.type=o[1]:e.removeAttribute("type"),e}function m(e,o){for(var t=0,r=e.length;r>t;t++)fe.set(e[t],"globalEval",!o||fe.get(o[t],"globalEval"))}function y(e,o){var t,r,n,i,a,s,g,l;if(1===o.nodeType){if(fe.hasData(e)&&(i=fe.access(e),a=fe.set(o,i),l=i.events)){delete a.handle,a.events={};for(n in l)for(t=0,r=l[n].length;r>t;t++)Q.event.add(o,n,l[n][t])}ve.hasData(e)&&(s=ve.access(e),g=Q.extend({},s),ve.set(o,g))}}function f(e,o){var t=e.getElementsByTagName?e.getElementsByTagName(o||"*"):e.querySelectorAll?e.querySelectorAll(o||"*"):[];return void 0===o||o&&Q.nodeName(e,o)?Q.merge([e],t):t}function v(e,o){var t=o.nodeName.toLowerCase();"input"===t&&be.test(e.type)?o.checked=e.checked:("input"===t||"textarea"===t)&&(o.defaultValue=e.defaultValue)}function _(o,t){var r,n=Q(t.createElement(o)).appendTo(t.body),i=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(n[0]))?r.display:Q.css(n[0],"display");return n.detach(),i}function E(e){var o=Z,t=qe[e];return t||(t=_(e,o),"none"!==t&&t||(Ue=(Ue||Q("<iframe frameborder='0' width='0' height='0'/>")).appendTo(o.documentElement),o=Ue[0].contentDocument,o.write(),o.close(),t=_(e,o),Ue.detach()),qe[e]=t),t}function S(e,o,t){var r,n,i,a,s=e.style;return t=t||je(e),t&&(a=t.getPropertyValue(o)||t[o]),t&&(""!==a||Q.contains(e.ownerDocument,e)||(a=Q.style(e,o)),Be.test(a)&&$e.test(o)&&(r=s.width,n=s.minWidth,i=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=t.width,s.width=r,s.minWidth=n,s.maxWidth=i)),void 0!==a?a+"":a}function T(e,o){return{get:function(){return e()?void delete this.get:(this.get=o).apply(this,arguments)}}}function x(e,o){if(o in e)return o;for(var t=o[0].toUpperCase()+o.slice(1),r=o,n=Xe.length;n--;)if(o=Xe[n]+t,o in e)return o;return r}function b(e,o,t){var r=He.exec(o);return r?Math.max(0,r[1]-(t||0))+(r[2]||"px"):o}function P(e,o,t,r,n){for(var i=t===(r?"border":"content")?4:"width"===o?1:0,a=0;4>i;i+=2)"margin"===t&&(a+=Q.css(e,t+Te[i],!0,n)),r?("content"===t&&(a-=Q.css(e,"padding"+Te[i],!0,n)),"margin"!==t&&(a-=Q.css(e,"border"+Te[i]+"Width",!0,n))):(a+=Q.css(e,"padding"+Te[i],!0,n),"padding"!==t&&(a+=Q.css(e,"border"+Te[i]+"Width",!0,n)));return a}function M(e,o,t){var r=!0,n="width"===o?e.offsetWidth:e.offsetHeight,i=je(e),a="border-box"===Q.css(e,"boxSizing",!1,i);if(0>=n||null==n){if(n=S(e,o,i),(0>n||null==n)&&(n=e.style[o]),Be.test(n))return n;r=a&&(z.boxSizingReliable()||n===e.style[o]),n=parseFloat(n)||0}return n+P(e,o,t||(a?"border":"content"),r,i)+"px"}function C(e,o){for(var t,r,n,i=[],a=0,s=e.length;s>a;a++)r=e[a],r.style&&(i[a]=fe.get(r,"olddisplay"),t=r.style.display,o?(i[a]||"none"!==t||(r.style.display=""),""===r.style.display&&xe(r)&&(i[a]=fe.access(r,"olddisplay",E(r.nodeName)))):(n=xe(r),"none"===t&&n||fe.set(r,"olddisplay",n?t:Q.css(r,"display"))));for(a=0;s>a;a++)r=e[a],r.style&&(o&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=o?i[a]||"":"none"));return e}function R(e,o,t,r,n){return new R.prototype.init(e,o,t,r,n)}function A(){return setTimeout(function(){ze=void 0}),ze=Q.now()}function D(e,o){var t,r=0,n={height:e};for(o=o?1:0;4>r;r+=2-o)t=Te[r],n["margin"+t]=n["padding"+t]=e;return o&&(n.opacity=n.width=e),n}function L(e,o,t){for(var r,n=(to[o]||[]).concat(to["*"]),i=0,a=n.length;a>i;i++)if(r=n[i].call(t,o,e))return r}function N(e,o,t){var r,n,i,a,s,g,l,p,u=this,c={},d=e.style,h=e.nodeType&&xe(e),m=fe.get(e,"fxshow");t.queue||(s=Q._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,g=s.empty.fire,s.empty.fire=function(){s.unqueued||g()}),s.unqueued++,u.always(function(){u.always(function(){s.unqueued--,Q.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in o||"width"in o)&&(t.overflow=[d.overflow,d.overflowX,d.overflowY],l=Q.css(e,"display"),p="none"===l?fe.get(e,"olddisplay")||E(e.nodeName):l,"inline"===p&&"none"===Q.css(e,"float")&&(d.display="inline-block")),t.overflow&&(d.overflow="hidden",u.always(function(){d.overflow=t.overflow[0],d.overflowX=t.overflow[1],d.overflowY=t.overflow[2]}));for(r in o)if(n=o[r],Je.exec(n)){if(delete o[r],i=i||"toggle"===n,n===(h?"hide":"show")){if("show"!==n||!m||void 0===m[r])continue;h=!0}c[r]=m&&m[r]||Q.style(e,r)}else l=void 0;if(Q.isEmptyObject(c))"inline"===("none"===l?E(e.nodeName):l)&&(d.display=l);else{m?"hidden"in m&&(h=m.hidden):m=fe.access(e,"fxshow",{}),i&&(m.hidden=!h),h?Q(e).show():u.done(function(){Q(e).hide()}),u.done(function(){var o;fe.remove(e,"fxshow");for(o in c)Q.style(e,o,c[o])});for(r in c)a=L(h?m[r]:0,r,u),r in m||(m[r]=a.start,h&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function w(e,o){var t,r,n,i,a;for(t in e)if(r=Q.camelCase(t),n=o[r],i=e[t],Q.isArray(i)&&(n=i[1],i=e[t]=i[0]),t!==r&&(e[r]=i,delete e[t]),a=Q.cssHooks[r],a&&"expand"in a){i=a.expand(i),delete e[r];for(t in i)t in e||(e[t]=i[t],o[t]=n)}else o[r]=n}function I(e,o,t){var r,n,i=0,a=oo.length,s=Q.Deferred().always(function(){delete g.elem}),g=function(){if(n)return!1;for(var o=ze||A(),t=Math.max(0,l.startTime+l.duration-o),r=t/l.duration||0,i=1-r,a=0,g=l.tweens.length;g>a;a++)l.tweens[a].run(i);return s.notifyWith(e,[l,i,t]),1>i&&g?t:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:Q.extend({},o),opts:Q.extend(!0,{specialEasing:{}},t),originalProperties:o,originalOptions:t,startTime:ze||A(),duration:t.duration,tweens:[],createTween:function(o,t){var r=Q.Tween(e,l.opts,o,t,l.opts.specialEasing[o]||l.opts.easing);return l.tweens.push(r),r},stop:function(o){var t=0,r=o?l.tweens.length:0;if(n)return this;for(n=!0;r>t;t++)l.tweens[t].run(1);return o?s.resolveWith(e,[l,o]):s.rejectWith(e,[l,o]),this}}),p=l.props;for(w(p,l.opts.specialEasing);a>i;i++)if(r=oo[i].call(l,e,p,l.opts))return r;return Q.map(p,L,l),Q.isFunction(l.opts.start)&&l.opts.start.call(e,l),Q.fx.timer(Q.extend(g,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function O(e){return function(o,t){"string"!=typeof o&&(t=o,o="*");var r,n=0,i=o.toLowerCase().match(de)||[];if(Q.isFunction(t))for(;r=i[n++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(t)):(e[r]=e[r]||[]).push(t)}}function F(e,o,t,r){function n(s){var g;return i[s]=!0,Q.each(e[s]||[],function(e,s){var l=s(o,t,r);return"string"!=typeof l||a||i[l]?a?!(g=l):void 0:(o.dataTypes.unshift(l),n(l),!1)}),g}var i={},a=e===Eo;return n(o.dataTypes[0])||!i["*"]&&n("*")}function G(e,o){var t,r,n=Q.ajaxSettings.flatOptions||{};for(t in o)void 0!==o[t]&&((n[t]?e:r||(r={}))[t]=o[t]);return r&&Q.extend(!0,e,r),e}function k(e,o,t){for(var r,n,i,a,s=e.contents,g=e.dataTypes;"*"===g[0];)g.shift(),void 0===r&&(r=e.mimeType||o.getResponseHeader("Content-Type"));if(r)for(n in s)if(s[n]&&s[n].test(r)){g.unshift(n);break}if(g[0]in t)i=g[0];else{for(n in t){if(!g[0]||e.converters[n+" "+g[0]]){i=n;break}a||(a=n)}i=i||a}return i?(i!==g[0]&&g.unshift(i),t[i]):void 0}function U(e,o,t,r){var n,i,a,s,g,l={},p=e.dataTypes.slice();if(p[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(i=p.shift();i;)if(e.responseFields[i]&&(t[e.responseFields[i]]=o),!g&&r&&e.dataFilter&&(o=e.dataFilter(o,e.dataType)),g=i,i=p.shift())if("*"===i)i=g;else if("*"!==g&&g!==i){if(a=l[g+" "+i]||l["* "+i],!a)for(n in l)if(s=n.split(" "),s[1]===i&&(a=l[g+" "+s[0]]||l["* "+s[0]])){a===!0?a=l[n]:l[n]!==!0&&(i=s[0],p.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])o=a(o);else try{o=a(o)}catch(u){return{state:"parsererror",error:a?u:"No conversion from "+g+" to "+i}}}return{state:"success",data:o}}function q(e,o,t,r){var n;if(Q.isArray(o))Q.each(o,function(o,n){t||Po.test(e)?r(e,n):q(e+"["+("object"==typeof n?o:"")+"]",n,t,r)});else if(t||"object"!==Q.type(o))r(e,o);else for(n in o)q(e+"["+n+"]",o[n],t,r)}function $(e){return Q.isWindow(e)?e:9===e.nodeType&&e.defaultView}var B=[],j=B.slice,V=B.concat,H=B.push,K=B.indexOf,W={},Y=W.toString,X=W.hasOwnProperty,z={},Z=e.document,J="2.1.4",Q=function(e,o){return new Q.fn.init(e,o)},ee=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,oe=/^-ms-/,te=/-([\da-z])/gi,re=function(e,o){return o.toUpperCase()};Q.fn=Q.prototype={jquery:J,constructor:Q,selector:"",length:0,toArray:function(){return j.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:j.call(this)},pushStack:function(e){var o=Q.merge(this.constructor(),e);return o.prevObject=this,o.context=this.context,o},each:function(e,o){return Q.each(this,e,o)},map:function(e){return this.pushStack(Q.map(this,function(o,t){return e.call(o,t,o)}))},slice:function(){return this.pushStack(j.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var o=this.length,t=+e+(0>e?o:0);return this.pushStack(t>=0&&o>t?[this[t]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:H,sort:B.sort,splice:B.splice},Q.extend=Q.fn.extend=function(){var e,o,t,r,n,i,a=arguments[0]||{},s=1,g=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||Q.isFunction(a)||(a={}),s===g&&(a=this,s--);g>s;s++)if(null!=(e=arguments[s]))for(o in e)t=a[o],r=e[o],a!==r&&(l&&r&&(Q.isPlainObject(r)||(n=Q.isArray(r)))?(n?(n=!1,i=t&&Q.isArray(t)?t:[]):i=t&&Q.isPlainObject(t)?t:{},a[o]=Q.extend(l,i,r)):void 0!==r&&(a[o]=r));return a},Q.extend({expando:"jQuery"+(J+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===Q.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!Q.isArray(e)&&e-parseFloat(e)+1>=0},isPlainObject:function(e){return"object"!==Q.type(e)||e.nodeType||Q.isWindow(e)?!1:e.constructor&&!X.call(e.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(e){var o;for(o in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?W[Y.call(e)]||"object":typeof e},globalEval:function(e){var o,t=eval;e=Q.trim(e),e&&(1===e.indexOf("use strict")?(o=Z.createElement("script"),o.text=e,Z.head.appendChild(o).parentNode.removeChild(o)):t(e))},camelCase:function(e){return e.replace(oe,"ms-").replace(te,re)},nodeName:function(e,o){return e.nodeName&&e.nodeName.toLowerCase()===o.toLowerCase()},each:function(e,o,r){var n,i=0,a=e.length,s=t(e);if(r){if(s)for(;a>i&&(n=o.apply(e[i],r),n!==!1);i++);else for(i in e)if(n=o.apply(e[i],r),n===!1)break}else if(s)for(;a>i&&(n=o.call(e[i],i,e[i]),n!==!1);i++);else for(i in e)if(n=o.call(e[i],i,e[i]),n===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(ee,"")},makeArray:function(e,o){var r=o||[];return null!=e&&(t(Object(e))?Q.merge(r,"string"==typeof e?[e]:e):H.call(r,e)),r},inArray:function(e,o,t){return null==o?-1:K.call(o,e,t)},merge:function(e,o){for(var t=+o.length,r=0,n=e.length;t>r;r++)e[n++]=o[r];return e.length=n,e},grep:function(e,o,t){for(var r,n=[],i=0,a=e.length,s=!t;a>i;i++)r=!o(e[i],i),r!==s&&n.push(e[i]);return n},map:function(e,o,r){var n,i=0,a=e.length,s=t(e),g=[];if(s)for(;a>i;i++)n=o(e[i],i,r),null!=n&&g.push(n);else for(i in e)n=o(e[i],i,r),null!=n&&g.push(n);return V.apply([],g)},guid:1,proxy:function(e,o){var t,r,n;return"string"==typeof o&&(t=e[o],o=e,e=t),Q.isFunction(e)?(r=j.call(arguments,2),n=function(){return e.apply(o||this,r.concat(j.call(arguments)))},n.guid=e.guid=e.guid||Q.guid++,n):void 0},now:Date.now,support:z}),Q.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,o){W["[object "+o+"]"]=o.toLowerCase()});var ne=function(e){function o(e,o,t,r){var n,i,a,s,g,l,u,d,h,m;if((o?o.ownerDocument||o:q)!==N&&L(o),o=o||N,t=t||[],s=o.nodeType,"string"!=typeof e||!e||1!==s&&9!==s&&11!==s)return t;if(!r&&I){if(11!==s&&(n=ve.exec(e)))if(a=n[1]){if(9===s){if(i=o.getElementById(a),!i||!i.parentNode)return t;if(i.id===a)return t.push(i),t}else if(o.ownerDocument&&(i=o.ownerDocument.getElementById(a))&&k(o,i)&&i.id===a)return t.push(i),t}else{if(n[2])return J.apply(t,o.getElementsByTagName(e)),t;if((a=n[3])&&S.getElementsByClassName)return J.apply(t,o.getElementsByClassName(a)),t}if(S.qsa&&(!O||!O.test(e))){if(d=u=U,h=o,m=1!==s&&e,1===s&&"object"!==o.nodeName.toLowerCase()){for(l=P(e),(u=o.getAttribute("id"))?d=u.replace(Ee,"\\$&"):o.setAttribute("id",d),d="[id='"+d+"'] ",g=l.length;g--;)l[g]=d+c(l[g]);h=_e.test(e)&&p(o.parentNode)||o,m=l.join(",")}if(m)try{return J.apply(t,h.querySelectorAll(m)),t}catch(y){}finally{u||o.removeAttribute("id")}}}return C(e.replace(ge,"$1"),o,t,r)}function t(){function e(t,r){return o.push(t+" ")>T.cacheLength&&delete e[o.shift()],e[t+" "]=r}var o=[];return e}function r(e){return e[U]=!0,e}function n(e){var o=N.createElement("div");try{return!!e(o)}catch(t){return!1}finally{o.parentNode&&o.parentNode.removeChild(o),o=null}}function i(e,o){for(var t=e.split("|"),r=e.length;r--;)T.attrHandle[t[r]]=o}function a(e,o){var t=o&&e,r=t&&1===e.nodeType&&1===o.nodeType&&(~o.sourceIndex||W)-(~e.sourceIndex||W);if(r)return r;if(t)for(;t=t.nextSibling;)if(t===o)return-1;return e?1:-1}function s(e){return function(o){var t=o.nodeName.toLowerCase();return"input"===t&&o.type===e}}function g(e){return function(o){var t=o.nodeName.toLowerCase();return("input"===t||"button"===t)&&o.type===e}}function l(e){return r(function(o){return o=+o,r(function(t,r){for(var n,i=e([],t.length,o),a=i.length;a--;)t[n=i[a]]&&(t[n]=!(r[n]=t[n]))})})}function p(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function u(){}function c(e){for(var o=0,t=e.length,r="";t>o;o++)r+=e[o].value;return r}function d(e,o,t){var r=o.dir,n=t&&"parentNode"===r,i=B++;return o.first?function(o,t,i){for(;o=o[r];)if(1===o.nodeType||n)return e(o,t,i)}:function(o,t,a){var s,g,l=[$,i];if(a){for(;o=o[r];)if((1===o.nodeType||n)&&e(o,t,a))return!0}else for(;o=o[r];)if(1===o.nodeType||n){if(g=o[U]||(o[U]={}),(s=g[r])&&s[0]===$&&s[1]===i)return l[2]=s[2];if(g[r]=l,l[2]=e(o,t,a))return!0}}}function h(e){return e.length>1?function(o,t,r){for(var n=e.length;n--;)if(!e[n](o,t,r))return!1;return!0}:e[0]}function m(e,t,r){for(var n=0,i=t.length;i>n;n++)o(e,t[n],r);return r}function y(e,o,t,r,n){for(var i,a=[],s=0,g=e.length,l=null!=o;g>s;s++)(i=e[s])&&(!t||t(i,r,n))&&(a.push(i),l&&o.push(s));return a}function f(e,o,t,n,i,a){return n&&!n[U]&&(n=f(n)),i&&!i[U]&&(i=f(i,a)),r(function(r,a,s,g){var l,p,u,c=[],d=[],h=a.length,f=r||m(o||"*",s.nodeType?[s]:s,[]),v=!e||!r&&o?f:y(f,c,e,s,g),_=t?i||(r?e:h||n)?[]:a:v;if(t&&t(v,_,s,g),n)for(l=y(_,d),n(l,[],s,g),p=l.length;p--;)(u=l[p])&&(_[d[p]]=!(v[d[p]]=u));if(r){if(i||e){if(i){for(l=[],p=_.length;p--;)(u=_[p])&&l.push(v[p]=u);i(null,_=[],l,g)}for(p=_.length;p--;)(u=_[p])&&(l=i?ee(r,u):c[p])>-1&&(r[l]=!(a[l]=u))}}else _=y(_===a?_.splice(h,_.length):_),i?i(null,a,_,g):J.apply(a,_)})}function v(e){for(var o,t,r,n=e.length,i=T.relative[e[0].type],a=i||T.relative[" "],s=i?1:0,g=d(function(e){return e===o},a,!0),l=d(function(e){return ee(o,e)>-1},a,!0),p=[function(e,t,r){var n=!i&&(r||t!==R)||((o=t).nodeType?g(e,t,r):l(e,t,r));return o=null,n}];n>s;s++)if(t=T.relative[e[s].type])p=[d(h(p),t)];else{if(t=T.filter[e[s].type].apply(null,e[s].matches),t[U]){for(r=++s;n>r&&!T.relative[e[r].type];r++);return f(s>1&&h(p),s>1&&c(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ge,"$1"),t,r>s&&v(e.slice(s,r)),n>r&&v(e=e.slice(r)),n>r&&c(e))}p.push(t)}return h(p)}function _(e,t){var n=t.length>0,i=e.length>0,a=function(r,a,s,g,l){var p,u,c,d=0,h="0",m=r&&[],f=[],v=R,_=r||i&&T.find.TAG("*",l),E=$+=null==v?1:Math.random()||.1,S=_.length;for(l&&(R=a!==N&&a);h!==S&&null!=(p=_[h]);h++){if(i&&p){for(u=0;c=e[u++];)if(c(p,a,s)){g.push(p);break}l&&($=E)}n&&((p=!c&&p)&&d--,r&&m.push(p))}if(d+=h,n&&h!==d){for(u=0;c=t[u++];)c(m,f,a,s);if(r){if(d>0)for(;h--;)m[h]||f[h]||(f[h]=z.call(g));f=y(f)}J.apply(g,f),l&&!r&&f.length>0&&d+t.length>1&&o.uniqueSort(g)}return l&&($=E,R=v),m};return n?r(a):a}var E,S,T,x,b,P,M,C,R,A,D,L,N,w,I,O,F,G,k,U="sizzle"+1*new Date,q=e.document,$=0,B=0,j=t(),V=t(),H=t(),K=function(e,o){return e===o&&(D=!0),0},W=1<<31,Y={}.hasOwnProperty,X=[],z=X.pop,Z=X.push,J=X.push,Q=X.slice,ee=function(e,o){for(var t=0,r=e.length;r>t;t++)if(e[t]===o)return t;return-1},oe="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",te="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ne=re.replace("w","w#"),ie="\\["+te+"*("+re+")(?:"+te+"*([*^$|!~]?=)"+te+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ne+"))|)"+te+"*\\]",ae=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ie+")*)|.*)\\)|)",se=new RegExp(te+"+","g"),ge=new RegExp("^"+te+"+|((?:^|[^\\\\])(?:\\\\.)*)"+te+"+$","g"),le=new RegExp("^"+te+"*,"+te+"*"),pe=new RegExp("^"+te+"*([>+~]|"+te+")"+te+"*"),ue=new RegExp("="+te+"*([^\\]'\"]*?)"+te+"*\\]","g"),ce=new RegExp(ae),de=new RegExp("^"+ne+"$"),he={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re.replace("w","w*")+")"),ATTR:new RegExp("^"+ie),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+te+"*(even|odd|(([+-]|)(\\d*)n|)"+te+"*(?:([+-]|)"+te+"*(\\d+)|))"+te+"*\\)|)","i"),bool:new RegExp("^(?:"+oe+")$","i"),needsContext:new RegExp("^"+te+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+te+"*((?:-\\d)?\\d*)"+te+"*\\)|)(?=[^-]|$)","i")},me=/^(?:input|select|textarea|button)$/i,ye=/^h\d$/i,fe=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,_e=/[+~]/,Ee=/'|\\/g,Se=new RegExp("\\\\([\\da-f]{1,6}"+te+"?|("+te+")|.)","ig"),Te=function(e,o,t){var r="0x"+o-65536;return r!==r||t?o:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},xe=function(){L()};try{J.apply(X=Q.call(q.childNodes),q.childNodes),X[q.childNodes.length].nodeType}catch(be){J={apply:X.length?function(e,o){Z.apply(e,Q.call(o))}:function(e,o){for(var t=e.length,r=0;e[t++]=o[r++];);e.length=t-1}}}S=o.support={},b=o.isXML=function(e){var o=e&&(e.ownerDocument||e).documentElement;return o?"HTML"!==o.nodeName:!1},L=o.setDocument=function(e){var o,t,r=e?e.ownerDocument||e:q;return r!==N&&9===r.nodeType&&r.documentElement?(N=r,w=r.documentElement,t=r.defaultView,t&&t!==t.top&&(t.addEventListener?t.addEventListener("unload",xe,!1):t.attachEvent&&t.attachEvent("onunload",xe)),I=!b(r),S.attributes=n(function(e){return e.className="i",!e.getAttribute("className")}),S.getElementsByTagName=n(function(e){return e.appendChild(r.createComment("")),!e.getElementsByTagName("*").length}),S.getElementsByClassName=fe.test(r.getElementsByClassName),S.getById=n(function(e){return w.appendChild(e).id=U,!r.getElementsByName||!r.getElementsByName(U).length}),S.getById?(T.find.ID=function(e,o){if("undefined"!=typeof o.getElementById&&I){var t=o.getElementById(e);return t&&t.parentNode?[t]:[]}},T.filter.ID=function(e){var o=e.replace(Se,Te);return function(e){return e.getAttribute("id")===o}}):(delete T.find.ID,T.filter.ID=function(e){var o=e.replace(Se,Te);return function(e){var t="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===o}}),T.find.TAG=S.getElementsByTagName?function(e,o){return"undefined"!=typeof o.getElementsByTagName?o.getElementsByTagName(e):S.qsa?o.querySelectorAll(e):void 0}:function(e,o){var t,r=[],n=0,i=o.getElementsByTagName(e);if("*"===e){for(;t=i[n++];)1===t.nodeType&&r.push(t);return r}return i},T.find.CLASS=S.getElementsByClassName&&function(e,o){return I?o.getElementsByClassName(e):void 0},F=[],O=[],(S.qsa=fe.test(r.querySelectorAll))&&(n(function(e){w.appendChild(e).innerHTML="<a id='"+U+"'></a><select id='"+U+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&O.push("[*^$]="+te+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||O.push("\\["+te+"*(?:value|"+oe+")"),e.querySelectorAll("[id~="+U+"-]").length||O.push("~="),e.querySelectorAll(":checked").length||O.push(":checked"),e.querySelectorAll("a#"+U+"+*").length||O.push(".#.+[+~]")}),n(function(e){var o=r.createElement("input");o.setAttribute("type","hidden"),e.appendChild(o).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&O.push("name"+te+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||O.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),O.push(",.*:")})),(S.matchesSelector=fe.test(G=w.matches||w.webkitMatchesSelector||w.mozMatchesSelector||w.oMatchesSelector||w.msMatchesSelector))&&n(function(e){S.disconnectedMatch=G.call(e,"div"),G.call(e,"[s!='']:x"),F.push("!=",ae)}),O=O.length&&new RegExp(O.join("|")),F=F.length&&new RegExp(F.join("|")),o=fe.test(w.compareDocumentPosition),k=o||fe.test(w.contains)?function(e,o){var t=9===e.nodeType?e.documentElement:e,r=o&&o.parentNode;return e===r||!(!r||1!==r.nodeType||!(t.contains?t.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,o){if(o)for(;o=o.parentNode;)if(o===e)return!0;return!1},K=o?function(e,o){if(e===o)return D=!0,0;var t=!e.compareDocumentPosition-!o.compareDocumentPosition;return t?t:(t=(e.ownerDocument||e)===(o.ownerDocument||o)?e.compareDocumentPosition(o):1,1&t||!S.sortDetached&&o.compareDocumentPosition(e)===t?e===r||e.ownerDocument===q&&k(q,e)?-1:o===r||o.ownerDocument===q&&k(q,o)?1:A?ee(A,e)-ee(A,o):0:4&t?-1:1)}:function(e,o){if(e===o)return D=!0,0;var t,n=0,i=e.parentNode,s=o.parentNode,g=[e],l=[o];if(!i||!s)return e===r?-1:o===r?1:i?-1:s?1:A?ee(A,e)-ee(A,o):0;if(i===s)return a(e,o);for(t=e;t=t.parentNode;)g.unshift(t);for(t=o;t=t.parentNode;)l.unshift(t);for(;g[n]===l[n];)n++;return n?a(g[n],l[n]):g[n]===q?-1:l[n]===q?1:0},r):N},o.matches=function(e,t){return o(e,null,null,t)},o.matchesSelector=function(e,t){if((e.ownerDocument||e)!==N&&L(e),t=t.replace(ue,"='$1']"),!(!S.matchesSelector||!I||F&&F.test(t)||O&&O.test(t)))try{var r=G.call(e,t);if(r||S.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(n){}return o(t,N,null,[e]).length>0},o.contains=function(e,o){return(e.ownerDocument||e)!==N&&L(e),k(e,o)},o.attr=function(e,o){(e.ownerDocument||e)!==N&&L(e);var t=T.attrHandle[o.toLowerCase()],r=t&&Y.call(T.attrHandle,o.toLowerCase())?t(e,o,!I):void 0;return void 0!==r?r:S.attributes||!I?e.getAttribute(o):(r=e.getAttributeNode(o))&&r.specified?r.value:null},o.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},o.uniqueSort=function(e){var o,t=[],r=0,n=0;if(D=!S.detectDuplicates,A=!S.sortStable&&e.slice(0),e.sort(K),D){for(;o=e[n++];)o===e[n]&&(r=t.push(n));for(;r--;)e.splice(t[r],1)}return A=null,e},x=o.getText=function(e){var o,t="",r=0,n=e.nodeType;if(n){if(1===n||9===n||11===n){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)t+=x(e)}else if(3===n||4===n)return e.nodeValue}else for(;o=e[r++];)t+=x(o);return t},T=o.selectors={cacheLength:50,createPseudo:r,match:he,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Se,Te),e[3]=(e[3]||e[4]||e[5]||"").replace(Se,Te),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||o.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&o.error(e[0]),e},PSEUDO:function(e){var o,t=!e[6]&&e[2];return he.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":t&&ce.test(t)&&(o=P(t,!0))&&(o=t.indexOf(")",t.length-o)-t.length)&&(e[0]=e[0].slice(0,o),e[2]=t.slice(0,o)),e.slice(0,3))}},filter:{TAG:function(e){var o=e.replace(Se,Te).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===o}},CLASS:function(e){var o=j[e+" "];return o||(o=new RegExp("(^|"+te+")"+e+"("+te+"|$)"))&&j(e,function(e){return o.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,r){return function(n){var i=o.attr(n,e);return null==i?"!="===t:t?(i+="","="===t?i===r:"!="===t?i!==r:"^="===t?r&&0===i.indexOf(r):"*="===t?r&&i.indexOf(r)>-1:"$="===t?r&&i.slice(-r.length)===r:"~="===t?(" "+i.replace(se," ")+" ").indexOf(r)>-1:"|="===t?i===r||i.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,o,t,r,n){var i="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===o;return 1===r&&0===n?function(e){return!!e.parentNode}:function(o,t,g){var l,p,u,c,d,h,m=i!==a?"nextSibling":"previousSibling",y=o.parentNode,f=s&&o.nodeName.toLowerCase(),v=!g&&!s;if(y){if(i){for(;m;){for(u=o;u=u[m];)if(s?u.nodeName.toLowerCase()===f:1===u.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?y.firstChild:y.lastChild],a&&v){for(p=y[U]||(y[U]={}),l=p[e]||[],d=l[0]===$&&l[1],c=l[0]===$&&l[2],u=d&&y.childNodes[d];u=++d&&u&&u[m]||(c=d=0)||h.pop();)if(1===u.nodeType&&++c&&u===o){p[e]=[$,d,c];break}}else if(v&&(l=(o[U]||(o[U]={}))[e])&&l[0]===$)c=l[1];else for(;(u=++d&&u&&u[m]||(c=d=0)||h.pop())&&((s?u.nodeName.toLowerCase()!==f:1!==u.nodeType)||!++c||(v&&((u[U]||(u[U]={}))[e]=[$,c]),u!==o)););return c-=n,c===r||c%r===0&&c/r>=0}}},PSEUDO:function(e,t){var n,i=T.pseudos[e]||T.setFilters[e.toLowerCase()]||o.error("unsupported pseudo: "+e);return i[U]?i(t):i.length>1?(n=[e,e,"",t],T.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,o){for(var r,n=i(e,t),a=n.length;a--;)r=ee(e,n[a]),e[r]=!(o[r]=n[a])}):function(e){return i(e,0,n)}):i}},pseudos:{not:r(function(e){var o=[],t=[],n=M(e.replace(ge,"$1"));return n[U]?r(function(e,o,t,r){for(var i,a=n(e,null,r,[]),s=e.length;s--;)(i=a[s])&&(e[s]=!(o[s]=i))}):function(e,r,i){return o[0]=e,n(o,null,i,t),o[0]=null,!t.pop()}}),has:r(function(e){return function(t){return o(e,t).length>0}}),contains:r(function(e){return e=e.replace(Se,Te),function(o){return(o.textContent||o.innerText||x(o)).indexOf(e)>-1}}),lang:r(function(e){return de.test(e||"")||o.error("unsupported lang: "+e),e=e.replace(Se,Te).toLowerCase(),function(o){var t;do if(t=I?o.lang:o.getAttribute("xml:lang")||o.getAttribute("lang"))return t=t.toLowerCase(),t===e||0===t.indexOf(e+"-");while((o=o.parentNode)&&1===o.nodeType);return!1}}),target:function(o){var t=e.location&&e.location.hash;return t&&t.slice(1)===o.id},root:function(e){return e===w},focus:function(e){return e===N.activeElement&&(!N.hasFocus||N.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var o=e.nodeName.toLowerCase();return"input"===o&&!!e.checked||"option"===o&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!T.pseudos.empty(e)},header:function(e){return ye.test(e.nodeName)},input:function(e){return me.test(e.nodeName)},button:function(e){var o=e.nodeName.toLowerCase();return"input"===o&&"button"===e.type||"button"===o},text:function(e){var o;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(o=e.getAttribute("type"))||"text"===o.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,o){return[o-1]}),eq:l(function(e,o,t){return[0>t?t+o:t]}),even:l(function(e,o){for(var t=0;o>t;t+=2)e.push(t);return e}),odd:l(function(e,o){for(var t=1;o>t;t+=2)e.push(t);return e}),lt:l(function(e,o,t){for(var r=0>t?t+o:t;--r>=0;)e.push(r);return e}),gt:l(function(e,o,t){for(var r=0>t?t+o:t;++r<o;)e.push(r);return e})}},T.pseudos.nth=T.pseudos.eq;for(E in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[E]=s(E);for(E in{submit:!0,reset:!0})T.pseudos[E]=g(E);return u.prototype=T.filters=T.pseudos,T.setFilters=new u,P=o.tokenize=function(e,t){var r,n,i,a,s,g,l,p=V[e+" "];if(p)return t?0:p.slice(0);for(s=e,g=[],l=T.preFilter;s;){(!r||(n=le.exec(s)))&&(n&&(s=s.slice(n[0].length)||s),g.push(i=[])),r=!1,(n=pe.exec(s))&&(r=n.shift(),i.push({value:r,type:n[0].replace(ge," ")}),s=s.slice(r.length));for(a in T.filter)!(n=he[a].exec(s))||l[a]&&!(n=l[a](n))||(r=n.shift(),i.push({value:r,type:a,matches:n}),s=s.slice(r.length));if(!r)break}return t?s.length:s?o.error(e):V(e,g).slice(0)},M=o.compile=function(e,o){var t,r=[],n=[],i=H[e+" "];if(!i){for(o||(o=P(e)),t=o.length;t--;)i=v(o[t]),i[U]?r.push(i):n.push(i);i=H(e,_(n,r)),i.selector=e}return i},C=o.select=function(e,o,t,r){var n,i,a,s,g,l="function"==typeof e&&e,u=!r&&P(e=l.selector||e);if(t=t||[],1===u.length){if(i=u[0]=u[0].slice(0),i.length>2&&"ID"===(a=i[0]).type&&S.getById&&9===o.nodeType&&I&&T.relative[i[1].type]){if(o=(T.find.ID(a.matches[0].replace(Se,Te),o)||[])[0],!o)return t;l&&(o=o.parentNode),e=e.slice(i.shift().value.length)}for(n=he.needsContext.test(e)?0:i.length;n--&&(a=i[n],!T.relative[s=a.type]);)if((g=T.find[s])&&(r=g(a.matches[0].replace(Se,Te),_e.test(i[0].type)&&p(o.parentNode)||o))){if(i.splice(n,1),e=r.length&&c(i),!e)return J.apply(t,r),t;break}}return(l||M(e,u))(r,o,!I,t,_e.test(e)&&p(o.parentNode)||o),t},S.sortStable=U.split("").sort(K).join("")===U,S.detectDuplicates=!!D,L(),S.sortDetached=n(function(e){return 1&e.compareDocumentPosition(N.createElement("div"))}),n(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||i("type|href|height|width",function(e,o,t){return t?void 0:e.getAttribute(o,"type"===o.toLowerCase()?1:2)}),S.attributes&&n(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||i("value",function(e,o,t){return t||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),n(function(e){return null==e.getAttribute("disabled")})||i(oe,function(e,o,t){var r;return t?void 0:e[o]===!0?o.toLowerCase():(r=e.getAttributeNode(o))&&r.specified?r.value:null}),o}(e);Q.find=ne,Q.expr=ne.selectors,Q.expr[":"]=Q.expr.pseudos,Q.unique=ne.uniqueSort,Q.text=ne.getText,Q.isXMLDoc=ne.isXML,Q.contains=ne.contains;var ie=Q.expr.match.needsContext,ae=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,se=/^.[^:#\[\.,]*$/;Q.filter=function(e,o,t){var r=o[0];return t&&(e=":not("+e+")"),1===o.length&&1===r.nodeType?Q.find.matchesSelector(r,e)?[r]:[]:Q.find.matches(e,Q.grep(o,function(e){return 1===e.nodeType}))},Q.fn.extend({find:function(e){var o,t=this.length,r=[],n=this;

if("string"!=typeof e)return this.pushStack(Q(e).filter(function(){for(o=0;t>o;o++)if(Q.contains(n[o],this))return!0}));for(o=0;t>o;o++)Q.find(e,n[o],r);return r=this.pushStack(t>1?Q.unique(r):r),r.selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&ie.test(e)?Q(e):e||[],!1).length}});var ge,le=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,pe=Q.fn.init=function(e,o){var t,r;if(!e)return this;if("string"==typeof e){if(t="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:le.exec(e),!t||!t[1]&&o)return!o||o.jquery?(o||ge).find(e):this.constructor(o).find(e);if(t[1]){if(o=o instanceof Q?o[0]:o,Q.merge(this,Q.parseHTML(t[1],o&&o.nodeType?o.ownerDocument||o:Z,!0)),ae.test(t[1])&&Q.isPlainObject(o))for(t in o)Q.isFunction(this[t])?this[t](o[t]):this.attr(t,o[t]);return this}return r=Z.getElementById(t[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=Z,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):Q.isFunction(e)?"undefined"!=typeof ge.ready?ge.ready(e):e(Q):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),Q.makeArray(e,this))};pe.prototype=Q.fn,ge=Q(Z);var ue=/^(?:parents|prev(?:Until|All))/,ce={children:!0,contents:!0,next:!0,prev:!0};Q.extend({dir:function(e,o,t){for(var r=[],n=void 0!==t;(e=e[o])&&9!==e.nodeType;)if(1===e.nodeType){if(n&&Q(e).is(t))break;r.push(e)}return r},sibling:function(e,o){for(var t=[];e;e=e.nextSibling)1===e.nodeType&&e!==o&&t.push(e);return t}}),Q.fn.extend({has:function(e){var o=Q(e,this),t=o.length;return this.filter(function(){for(var e=0;t>e;e++)if(Q.contains(this,o[e]))return!0})},closest:function(e,o){for(var t,r=0,n=this.length,i=[],a=ie.test(e)||"string"!=typeof e?Q(e,o||this.context):0;n>r;r++)for(t=this[r];t&&t!==o;t=t.parentNode)if(t.nodeType<11&&(a?a.index(t)>-1:1===t.nodeType&&Q.find.matchesSelector(t,e))){i.push(t);break}return this.pushStack(i.length>1?Q.unique(i):i)},index:function(e){return e?"string"==typeof e?K.call(Q(e),this[0]):K.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,o){return this.pushStack(Q.unique(Q.merge(this.get(),Q(e,o))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Q.each({parent:function(e){var o=e.parentNode;return o&&11!==o.nodeType?o:null},parents:function(e){return Q.dir(e,"parentNode")},parentsUntil:function(e,o,t){return Q.dir(e,"parentNode",t)},next:function(e){return n(e,"nextSibling")},prev:function(e){return n(e,"previousSibling")},nextAll:function(e){return Q.dir(e,"nextSibling")},prevAll:function(e){return Q.dir(e,"previousSibling")},nextUntil:function(e,o,t){return Q.dir(e,"nextSibling",t)},prevUntil:function(e,o,t){return Q.dir(e,"previousSibling",t)},siblings:function(e){return Q.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return Q.sibling(e.firstChild)},contents:function(e){return e.contentDocument||Q.merge([],e.childNodes)}},function(e,o){Q.fn[e]=function(t,r){var n=Q.map(this,o,t);return"Until"!==e.slice(-5)&&(r=t),r&&"string"==typeof r&&(n=Q.filter(r,n)),this.length>1&&(ce[e]||Q.unique(n),ue.test(e)&&n.reverse()),this.pushStack(n)}});var de=/\S+/g,he={};Q.Callbacks=function(e){e="string"==typeof e?he[e]||i(e):Q.extend({},e);var o,t,r,n,a,s,g=[],l=!e.once&&[],p=function(i){for(o=e.memory&&i,t=!0,s=n||0,n=0,a=g.length,r=!0;g&&a>s;s++)if(g[s].apply(i[0],i[1])===!1&&e.stopOnFalse){o=!1;break}r=!1,g&&(l?l.length&&p(l.shift()):o?g=[]:u.disable())},u={add:function(){if(g){var t=g.length;!function i(o){Q.each(o,function(o,t){var r=Q.type(t);"function"===r?e.unique&&u.has(t)||g.push(t):t&&t.length&&"string"!==r&&i(t)})}(arguments),r?a=g.length:o&&(n=t,p(o))}return this},remove:function(){return g&&Q.each(arguments,function(e,o){for(var t;(t=Q.inArray(o,g,t))>-1;)g.splice(t,1),r&&(a>=t&&a--,s>=t&&s--)}),this},has:function(e){return e?Q.inArray(e,g)>-1:!(!g||!g.length)},empty:function(){return g=[],a=0,this},disable:function(){return g=l=o=void 0,this},disabled:function(){return!g},lock:function(){return l=void 0,o||u.disable(),this},locked:function(){return!l},fireWith:function(e,o){return!g||t&&!l||(o=o||[],o=[e,o.slice?o.slice():o],r?l.push(o):p(o)),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!t}};return u},Q.extend({Deferred:function(e){var o=[["resolve","done",Q.Callbacks("once memory"),"resolved"],["reject","fail",Q.Callbacks("once memory"),"rejected"],["notify","progress",Q.Callbacks("memory")]],t="pending",r={state:function(){return t},always:function(){return n.done(arguments).fail(arguments),this},then:function(){var e=arguments;return Q.Deferred(function(t){Q.each(o,function(o,i){var a=Q.isFunction(e[o])&&e[o];n[i[1]](function(){var e=a&&a.apply(this,arguments);e&&Q.isFunction(e.promise)?e.promise().done(t.resolve).fail(t.reject).progress(t.notify):t[i[0]+"With"](this===r?t.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?Q.extend(e,r):r}},n={};return r.pipe=r.then,Q.each(o,function(e,i){var a=i[2],s=i[3];r[i[1]]=a.add,s&&a.add(function(){t=s},o[1^e][2].disable,o[2][2].lock),n[i[0]]=function(){return n[i[0]+"With"](this===n?r:this,arguments),this},n[i[0]+"With"]=a.fireWith}),r.promise(n),e&&e.call(n,n),n},when:function(e){var o,t,r,n=0,i=j.call(arguments),a=i.length,s=1!==a||e&&Q.isFunction(e.promise)?a:0,g=1===s?e:Q.Deferred(),l=function(e,t,r){return function(n){t[e]=this,r[e]=arguments.length>1?j.call(arguments):n,r===o?g.notifyWith(t,r):--s||g.resolveWith(t,r)}};if(a>1)for(o=new Array(a),t=new Array(a),r=new Array(a);a>n;n++)i[n]&&Q.isFunction(i[n].promise)?i[n].promise().done(l(n,r,i)).fail(g.reject).progress(l(n,t,o)):--s;return s||g.resolveWith(r,i),g.promise()}});var me;Q.fn.ready=function(e){return Q.ready.promise().done(e),this},Q.extend({isReady:!1,readyWait:1,holdReady:function(e){e?Q.readyWait++:Q.ready(!0)},ready:function(e){(e===!0?--Q.readyWait:Q.isReady)||(Q.isReady=!0,e!==!0&&--Q.readyWait>0||(me.resolveWith(Z,[Q]),Q.fn.triggerHandler&&(Q(Z).triggerHandler("ready"),Q(Z).off("ready"))))}}),Q.ready.promise=function(o){return me||(me=Q.Deferred(),"complete"===Z.readyState?setTimeout(Q.ready):(Z.addEventListener("DOMContentLoaded",a,!1),e.addEventListener("load",a,!1))),me.promise(o)},Q.ready.promise();var ye=Q.access=function(e,o,t,r,n,i,a){var s=0,g=e.length,l=null==t;if("object"===Q.type(t)){n=!0;for(s in t)Q.access(e,o,s,t[s],!0,i,a)}else if(void 0!==r&&(n=!0,Q.isFunction(r)||(a=!0),l&&(a?(o.call(e,r),o=null):(l=o,o=function(e,o,t){return l.call(Q(e),t)})),o))for(;g>s;s++)o(e[s],t,a?r:r.call(e[s],s,o(e[s],t)));return n?e:l?o.call(e):g?o(e[0],t):i};Q.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},s.uid=1,s.accepts=Q.acceptData,s.prototype={key:function(e){if(!s.accepts(e))return 0;var o={},t=e[this.expando];if(!t){t=s.uid++;try{o[this.expando]={value:t},Object.defineProperties(e,o)}catch(r){o[this.expando]=t,Q.extend(e,o)}}return this.cache[t]||(this.cache[t]={}),t},set:function(e,o,t){var r,n=this.key(e),i=this.cache[n];if("string"==typeof o)i[o]=t;else if(Q.isEmptyObject(i))Q.extend(this.cache[n],o);else for(r in o)i[r]=o[r];return i},get:function(e,o){var t=this.cache[this.key(e)];return void 0===o?t:t[o]},access:function(e,o,t){var r;return void 0===o||o&&"string"==typeof o&&void 0===t?(r=this.get(e,o),void 0!==r?r:this.get(e,Q.camelCase(o))):(this.set(e,o,t),void 0!==t?t:o)},remove:function(e,o){var t,r,n,i=this.key(e),a=this.cache[i];if(void 0===o)this.cache[i]={};else{Q.isArray(o)?r=o.concat(o.map(Q.camelCase)):(n=Q.camelCase(o),o in a?r=[o,n]:(r=n,r=r in a?[r]:r.match(de)||[])),t=r.length;for(;t--;)delete a[r[t]]}},hasData:function(e){return!Q.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var fe=new s,ve=new s,_e=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ee=/([A-Z])/g;Q.extend({hasData:function(e){return ve.hasData(e)||fe.hasData(e)},data:function(e,o,t){return ve.access(e,o,t)},removeData:function(e,o){ve.remove(e,o)},_data:function(e,o,t){return fe.access(e,o,t)},_removeData:function(e,o){fe.remove(e,o)}}),Q.fn.extend({data:function(e,o){var t,r,n,i=this[0],a=i&&i.attributes;if(void 0===e){if(this.length&&(n=ve.get(i),1===i.nodeType&&!fe.get(i,"hasDataAttrs"))){for(t=a.length;t--;)a[t]&&(r=a[t].name,0===r.indexOf("data-")&&(r=Q.camelCase(r.slice(5)),g(i,r,n[r])));fe.set(i,"hasDataAttrs",!0)}return n}return"object"==typeof e?this.each(function(){ve.set(this,e)}):ye(this,function(o){var t,r=Q.camelCase(e);if(i&&void 0===o){if(t=ve.get(i,e),void 0!==t)return t;if(t=ve.get(i,r),void 0!==t)return t;if(t=g(i,r,void 0),void 0!==t)return t}else this.each(function(){var t=ve.get(this,r);ve.set(this,r,o),-1!==e.indexOf("-")&&void 0!==t&&ve.set(this,e,o)})},null,o,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){ve.remove(this,e)})}}),Q.extend({queue:function(e,o,t){var r;return e?(o=(o||"fx")+"queue",r=fe.get(e,o),t&&(!r||Q.isArray(t)?r=fe.access(e,o,Q.makeArray(t)):r.push(t)),r||[]):void 0},dequeue:function(e,o){o=o||"fx";var t=Q.queue(e,o),r=t.length,n=t.shift(),i=Q._queueHooks(e,o),a=function(){Q.dequeue(e,o)};"inprogress"===n&&(n=t.shift(),r--),n&&("fx"===o&&t.unshift("inprogress"),delete i.stop,n.call(e,a,i)),!r&&i&&i.empty.fire()},_queueHooks:function(e,o){var t=o+"queueHooks";return fe.get(e,t)||fe.access(e,t,{empty:Q.Callbacks("once memory").add(function(){fe.remove(e,[o+"queue",t])})})}}),Q.fn.extend({queue:function(e,o){var t=2;return"string"!=typeof e&&(o=e,e="fx",t--),arguments.length<t?Q.queue(this[0],e):void 0===o?this:this.each(function(){var t=Q.queue(this,e,o);Q._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&Q.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Q.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,o){var t,r=1,n=Q.Deferred(),i=this,a=this.length,s=function(){--r||n.resolveWith(i,[i])};for("string"!=typeof e&&(o=e,e=void 0),e=e||"fx";a--;)t=fe.get(i[a],e+"queueHooks"),t&&t.empty&&(r++,t.empty.add(s));return s(),n.promise(o)}});var Se=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Te=["Top","Right","Bottom","Left"],xe=function(e,o){return e=o||e,"none"===Q.css(e,"display")||!Q.contains(e.ownerDocument,e)},be=/^(?:checkbox|radio)$/i;!function(){var e=Z.createDocumentFragment(),o=e.appendChild(Z.createElement("div")),t=Z.createElement("input");t.setAttribute("type","radio"),t.setAttribute("checked","checked"),t.setAttribute("name","t"),o.appendChild(t),z.checkClone=o.cloneNode(!0).cloneNode(!0).lastChild.checked,o.innerHTML="<textarea>x</textarea>",z.noCloneChecked=!!o.cloneNode(!0).lastChild.defaultValue}();var Pe="undefined";z.focusinBubbles="onfocusin"in e;var Me=/^key/,Ce=/^(?:mouse|pointer|contextmenu)|click/,Re=/^(?:focusinfocus|focusoutblur)$/,Ae=/^([^.]*)(?:\.(.+)|)$/;Q.event={global:{},add:function(e,o,t,r,n){var i,a,s,g,l,p,u,c,d,h,m,y=fe.get(e);if(y)for(t.handler&&(i=t,t=i.handler,n=i.selector),t.guid||(t.guid=Q.guid++),(g=y.events)||(g=y.events={}),(a=y.handle)||(a=y.handle=function(o){return typeof Q!==Pe&&Q.event.triggered!==o.type?Q.event.dispatch.apply(e,arguments):void 0}),o=(o||"").match(de)||[""],l=o.length;l--;)s=Ae.exec(o[l])||[],d=m=s[1],h=(s[2]||"").split(".").sort(),d&&(u=Q.event.special[d]||{},d=(n?u.delegateType:u.bindType)||d,u=Q.event.special[d]||{},p=Q.extend({type:d,origType:m,data:r,handler:t,guid:t.guid,selector:n,needsContext:n&&Q.expr.match.needsContext.test(n),namespace:h.join(".")},i),(c=g[d])||(c=g[d]=[],c.delegateCount=0,u.setup&&u.setup.call(e,r,h,a)!==!1||e.addEventListener&&e.addEventListener(d,a,!1)),u.add&&(u.add.call(e,p),p.handler.guid||(p.handler.guid=t.guid)),n?c.splice(c.delegateCount++,0,p):c.push(p),Q.event.global[d]=!0)},remove:function(e,o,t,r,n){var i,a,s,g,l,p,u,c,d,h,m,y=fe.hasData(e)&&fe.get(e);if(y&&(g=y.events)){for(o=(o||"").match(de)||[""],l=o.length;l--;)if(s=Ae.exec(o[l])||[],d=m=s[1],h=(s[2]||"").split(".").sort(),d){for(u=Q.event.special[d]||{},d=(r?u.delegateType:u.bindType)||d,c=g[d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=i=c.length;i--;)p=c[i],!n&&m!==p.origType||t&&t.guid!==p.guid||s&&!s.test(p.namespace)||r&&r!==p.selector&&("**"!==r||!p.selector)||(c.splice(i,1),p.selector&&c.delegateCount--,u.remove&&u.remove.call(e,p));a&&!c.length&&(u.teardown&&u.teardown.call(e,h,y.handle)!==!1||Q.removeEvent(e,d,y.handle),delete g[d])}else for(d in g)Q.event.remove(e,d+o[l],t,r,!0);Q.isEmptyObject(g)&&(delete y.handle,fe.remove(e,"events"))}},trigger:function(o,t,r,n){var i,a,s,g,l,p,u,c=[r||Z],d=X.call(o,"type")?o.type:o,h=X.call(o,"namespace")?o.namespace.split("."):[];if(a=s=r=r||Z,3!==r.nodeType&&8!==r.nodeType&&!Re.test(d+Q.event.triggered)&&(d.indexOf(".")>=0&&(h=d.split("."),d=h.shift(),h.sort()),l=d.indexOf(":")<0&&"on"+d,o=o[Q.expando]?o:new Q.Event(d,"object"==typeof o&&o),o.isTrigger=n?2:3,o.namespace=h.join("."),o.namespace_re=o.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,o.result=void 0,o.target||(o.target=r),t=null==t?[o]:Q.makeArray(t,[o]),u=Q.event.special[d]||{},n||!u.trigger||u.trigger.apply(r,t)!==!1)){if(!n&&!u.noBubble&&!Q.isWindow(r)){for(g=u.delegateType||d,Re.test(g+d)||(a=a.parentNode);a;a=a.parentNode)c.push(a),s=a;s===(r.ownerDocument||Z)&&c.push(s.defaultView||s.parentWindow||e)}for(i=0;(a=c[i++])&&!o.isPropagationStopped();)o.type=i>1?g:u.bindType||d,p=(fe.get(a,"events")||{})[o.type]&&fe.get(a,"handle"),p&&p.apply(a,t),p=l&&a[l],p&&p.apply&&Q.acceptData(a)&&(o.result=p.apply(a,t),o.result===!1&&o.preventDefault());return o.type=d,n||o.isDefaultPrevented()||u._default&&u._default.apply(c.pop(),t)!==!1||!Q.acceptData(r)||l&&Q.isFunction(r[d])&&!Q.isWindow(r)&&(s=r[l],s&&(r[l]=null),Q.event.triggered=d,r[d](),Q.event.triggered=void 0,s&&(r[l]=s)),o.result}},dispatch:function(e){e=Q.event.fix(e);var o,t,r,n,i,a=[],s=j.call(arguments),g=(fe.get(this,"events")||{})[e.type]||[],l=Q.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){for(a=Q.event.handlers.call(this,e,g),o=0;(n=a[o++])&&!e.isPropagationStopped();)for(e.currentTarget=n.elem,t=0;(i=n.handlers[t++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(i.namespace))&&(e.handleObj=i,e.data=i.data,r=((Q.event.special[i.origType]||{}).handle||i.handler).apply(n.elem,s),void 0!==r&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,o){var t,r,n,i,a=[],s=o.delegateCount,g=e.target;if(s&&g.nodeType&&(!e.button||"click"!==e.type))for(;g!==this;g=g.parentNode||this)if(g.disabled!==!0||"click"!==e.type){for(r=[],t=0;s>t;t++)i=o[t],n=i.selector+" ",void 0===r[n]&&(r[n]=i.needsContext?Q(n,this).index(g)>=0:Q.find(n,this,null,[g]).length),r[n]&&r.push(i);r.length&&a.push({elem:g,handlers:r})}return s<o.length&&a.push({elem:this,handlers:o.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,o){return null==e.which&&(e.which=null!=o.charCode?o.charCode:o.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,o){var t,r,n,i=o.button;return null==e.pageX&&null!=o.clientX&&(t=e.target.ownerDocument||Z,r=t.documentElement,n=t.body,e.pageX=o.clientX+(r&&r.scrollLeft||n&&n.scrollLeft||0)-(r&&r.clientLeft||n&&n.clientLeft||0),e.pageY=o.clientY+(r&&r.scrollTop||n&&n.scrollTop||0)-(r&&r.clientTop||n&&n.clientTop||0)),e.which||void 0===i||(e.which=1&i?1:2&i?3:4&i?2:0),e}},fix:function(e){if(e[Q.expando])return e;var o,t,r,n=e.type,i=e,a=this.fixHooks[n];for(a||(this.fixHooks[n]=a=Ce.test(n)?this.mouseHooks:Me.test(n)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new Q.Event(i),o=r.length;o--;)t=r[o],e[t]=i[t];return e.target||(e.target=Z),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,i):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==u()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===u()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&Q.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return Q.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,o,t,r){var n=Q.extend(new Q.Event,t,{type:e,isSimulated:!0,originalEvent:{}});r?Q.event.trigger(n,null,o):Q.event.dispatch.call(o,n),n.isDefaultPrevented()&&t.preventDefault()}},Q.removeEvent=function(e,o,t){e.removeEventListener&&e.removeEventListener(o,t,!1)},Q.Event=function(e,o){return this instanceof Q.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?l:p):this.type=e,o&&Q.extend(this,o),this.timeStamp=e&&e.timeStamp||Q.now(),void(this[Q.expando]=!0)):new Q.Event(e,o)},Q.Event.prototype={isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=l,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=l,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=l,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},Q.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,o){Q.event.special[e]={delegateType:o,bindType:o,handle:function(e){var t,r=this,n=e.relatedTarget,i=e.handleObj;return(!n||n!==r&&!Q.contains(r,n))&&(e.type=i.origType,t=i.handler.apply(this,arguments),e.type=o),t}}}),z.focusinBubbles||Q.each({focus:"focusin",blur:"focusout"},function(e,o){var t=function(e){Q.event.simulate(o,e.target,Q.event.fix(e),!0)};Q.event.special[o]={setup:function(){var r=this.ownerDocument||this,n=fe.access(r,o);n||r.addEventListener(e,t,!0),fe.access(r,o,(n||0)+1)},teardown:function(){var r=this.ownerDocument||this,n=fe.access(r,o)-1;n?fe.access(r,o,n):(r.removeEventListener(e,t,!0),fe.remove(r,o))}}}),Q.fn.extend({on:function(e,o,t,r,n){var i,a;if("object"==typeof e){"string"!=typeof o&&(t=t||o,o=void 0);for(a in e)this.on(a,o,t,e[a],n);return this}if(null==t&&null==r?(r=o,t=o=void 0):null==r&&("string"==typeof o?(r=t,t=void 0):(r=t,t=o,o=void 0)),r===!1)r=p;else if(!r)return this;return 1===n&&(i=r,r=function(e){return Q().off(e),i.apply(this,arguments)},r.guid=i.guid||(i.guid=Q.guid++)),this.each(function(){Q.event.add(this,e,r,t,o)})},one:function(e,o,t,r){return this.on(e,o,t,r,1)},off:function(e,o,t){var r,n;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,Q(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(n in e)this.off(n,o,e[n]);return this}return(o===!1||"function"==typeof o)&&(t=o,o=void 0),t===!1&&(t=p),this.each(function(){Q.event.remove(this,e,t,o)})},trigger:function(e,o){return this.each(function(){Q.event.trigger(e,o,this)})},triggerHandler:function(e,o){var t=this[0];return t?Q.event.trigger(e,o,t,!0):void 0}});var De=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Le=/<([\w:]+)/,Ne=/<|&#?\w+;/,we=/<(?:script|style|link)/i,Ie=/checked\s*(?:[^=]|=\s*.checked.)/i,Oe=/^$|\/(?:java|ecma)script/i,Fe=/^true\/(.*)/,Ge=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ke={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ke.optgroup=ke.option,ke.tbody=ke.tfoot=ke.colgroup=ke.caption=ke.thead,ke.th=ke.td,Q.extend({clone:function(e,o,t){var r,n,i,a,s=e.cloneNode(!0),g=Q.contains(e.ownerDocument,e);if(!(z.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Q.isXMLDoc(e)))for(a=f(s),i=f(e),r=0,n=i.length;n>r;r++)v(i[r],a[r]);if(o)if(t)for(i=i||f(e),a=a||f(s),r=0,n=i.length;n>r;r++)y(i[r],a[r]);else y(e,s);return a=f(s,"script"),a.length>0&&m(a,!g&&f(e,"script")),s},buildFragment:function(e,o,t,r){for(var n,i,a,s,g,l,p=o.createDocumentFragment(),u=[],c=0,d=e.length;d>c;c++)if(n=e[c],n||0===n)if("object"===Q.type(n))Q.merge(u,n.nodeType?[n]:n);else if(Ne.test(n)){for(i=i||p.appendChild(o.createElement("div")),a=(Le.exec(n)||["",""])[1].toLowerCase(),s=ke[a]||ke._default,i.innerHTML=s[1]+n.replace(De,"<$1></$2>")+s[2],l=s[0];l--;)i=i.lastChild;Q.merge(u,i.childNodes),i=p.firstChild,i.textContent=""}else u.push(o.createTextNode(n));for(p.textContent="",c=0;n=u[c++];)if((!r||-1===Q.inArray(n,r))&&(g=Q.contains(n.ownerDocument,n),i=f(p.appendChild(n),"script"),g&&m(i),t))for(l=0;n=i[l++];)Oe.test(n.type||"")&&t.push(n);return p},cleanData:function(e){for(var o,t,r,n,i=Q.event.special,a=0;void 0!==(t=e[a]);a++){if(Q.acceptData(t)&&(n=t[fe.expando],n&&(o=fe.cache[n]))){if(o.events)for(r in o.events)i[r]?Q.event.remove(t,r):Q.removeEvent(t,r,o.handle);fe.cache[n]&&delete fe.cache[n]}delete ve.cache[t[ve.expando]]}}}),Q.fn.extend({text:function(e){return ye(this,function(e){return void 0===e?Q.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var o=c(this,e);o.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var o=c(this,e);o.insertBefore(e,o.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,o){for(var t,r=e?Q.filter(e,this):this,n=0;null!=(t=r[n]);n++)o||1!==t.nodeType||Q.cleanData(f(t)),t.parentNode&&(o&&Q.contains(t.ownerDocument,t)&&m(f(t,"script")),t.parentNode.removeChild(t));return this},empty:function(){for(var e,o=0;null!=(e=this[o]);o++)1===e.nodeType&&(Q.cleanData(f(e,!1)),e.textContent="");return this},clone:function(e,o){return e=null==e?!1:e,o=null==o?e:o,this.map(function(){return Q.clone(this,e,o)})},html:function(e){return ye(this,function(e){var o=this[0]||{},t=0,r=this.length;if(void 0===e&&1===o.nodeType)return o.innerHTML;if("string"==typeof e&&!we.test(e)&&!ke[(Le.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(De,"<$1></$2>");try{for(;r>t;t++)o=this[t]||{},1===o.nodeType&&(Q.cleanData(f(o,!1)),o.innerHTML=e);o=0}catch(n){}}o&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(o){e=this.parentNode,Q.cleanData(f(this)),e&&e.replaceChild(o,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,o){e=V.apply([],e);var t,r,n,i,a,s,g=0,l=this.length,p=this,u=l-1,c=e[0],m=Q.isFunction(c);if(m||l>1&&"string"==typeof c&&!z.checkClone&&Ie.test(c))return this.each(function(t){var r=p.eq(t);m&&(e[0]=c.call(this,t,r.html())),r.domManip(e,o)});if(l&&(t=Q.buildFragment(e,this[0].ownerDocument,!1,this),r=t.firstChild,1===t.childNodes.length&&(t=r),r)){for(n=Q.map(f(t,"script"),d),i=n.length;l>g;g++)a=t,g!==u&&(a=Q.clone(a,!0,!0),i&&Q.merge(n,f(a,"script"))),o.call(this[g],a,g);if(i)for(s=n[n.length-1].ownerDocument,Q.map(n,h),g=0;i>g;g++)a=n[g],Oe.test(a.type||"")&&!fe.access(a,"globalEval")&&Q.contains(s,a)&&(a.src?Q._evalUrl&&Q._evalUrl(a.src):Q.globalEval(a.textContent.replace(Ge,"")))}return this}}),Q.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,o){Q.fn[e]=function(e){for(var t,r=[],n=Q(e),i=n.length-1,a=0;i>=a;a++)t=a===i?this:this.clone(!0),Q(n[a])[o](t),H.apply(r,t.get());return this.pushStack(r)}});var Ue,qe={},$e=/^margin/,Be=new RegExp("^("+Se+")(?!px)[a-z%]+$","i"),je=function(o){return o.ownerDocument.defaultView.opener?o.ownerDocument.defaultView.getComputedStyle(o,null):e.getComputedStyle(o,null)};!function(){function o(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",a.innerHTML="",n.appendChild(i);var o=e.getComputedStyle(a,null);t="1%"!==o.top,r="4px"===o.width,n.removeChild(i)}var t,r,n=Z.documentElement,i=Z.createElement("div"),a=Z.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",z.clearCloneStyle="content-box"===a.style.backgroundClip,i.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",i.appendChild(a),e.getComputedStyle&&Q.extend(z,{pixelPosition:function(){return o(),t},boxSizingReliable:function(){return null==r&&o(),r},reliableMarginRight:function(){var o,t=a.appendChild(Z.createElement("div"));return t.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",a.style.width="1px",n.appendChild(i),o=!parseFloat(e.getComputedStyle(t,null).marginRight),n.removeChild(i),a.removeChild(t),o}}))}(),Q.swap=function(e,o,t,r){var n,i,a={};for(i in o)a[i]=e.style[i],e.style[i]=o[i];n=t.apply(e,r||[]);for(i in o)e.style[i]=a[i];return n};var Ve=/^(none|table(?!-c[ea]).+)/,He=new RegExp("^("+Se+")(.*)$","i"),Ke=new RegExp("^([+-])=("+Se+")","i"),We={position:"absolute",visibility:"hidden",display:"block"},Ye={letterSpacing:"0",fontWeight:"400"},Xe=["Webkit","O","Moz","ms"];Q.extend({cssHooks:{opacity:{get:function(e,o){if(o){var t=S(e,"opacity");return""===t?"1":t}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,o,t,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var n,i,a,s=Q.camelCase(o),g=e.style;return o=Q.cssProps[s]||(Q.cssProps[s]=x(g,s)),a=Q.cssHooks[o]||Q.cssHooks[s],void 0===t?a&&"get"in a&&void 0!==(n=a.get(e,!1,r))?n:g[o]:(i=typeof t,"string"===i&&(n=Ke.exec(t))&&(t=(n[1]+1)*n[2]+parseFloat(Q.css(e,o)),i="number"),null!=t&&t===t&&("number"!==i||Q.cssNumber[s]||(t+="px"),z.clearCloneStyle||""!==t||0!==o.indexOf("background")||(g[o]="inherit"),a&&"set"in a&&void 0===(t=a.set(e,t,r))||(g[o]=t)),void 0)}},css:function(e,o,t,r){var n,i,a,s=Q.camelCase(o);return o=Q.cssProps[s]||(Q.cssProps[s]=x(e.style,s)),a=Q.cssHooks[o]||Q.cssHooks[s],a&&"get"in a&&(n=a.get(e,!0,t)),void 0===n&&(n=S(e,o,r)),"normal"===n&&o in Ye&&(n=Ye[o]),""===t||t?(i=parseFloat(n),t===!0||Q.isNumeric(i)?i||0:n):n}}),Q.each(["height","width"],function(e,o){Q.cssHooks[o]={get:function(e,t,r){return t?Ve.test(Q.css(e,"display"))&&0===e.offsetWidth?Q.swap(e,We,function(){return M(e,o,r)}):M(e,o,r):void 0},set:function(e,t,r){var n=r&&je(e);return b(e,t,r?P(e,o,r,"border-box"===Q.css(e,"boxSizing",!1,n),n):0)}}}),Q.cssHooks.marginRight=T(z.reliableMarginRight,function(e,o){return o?Q.swap(e,{display:"inline-block"},S,[e,"marginRight"]):void 0}),Q.each({margin:"",padding:"",border:"Width"},function(e,o){Q.cssHooks[e+o]={expand:function(t){for(var r=0,n={},i="string"==typeof t?t.split(" "):[t];4>r;r++)n[e+Te[r]+o]=i[r]||i[r-2]||i[0];return n}},$e.test(e)||(Q.cssHooks[e+o].set=b)}),Q.fn.extend({css:function(e,o){return ye(this,function(e,o,t){var r,n,i={},a=0;if(Q.isArray(o)){for(r=je(e),n=o.length;n>a;a++)i[o[a]]=Q.css(e,o[a],!1,r);return i}return void 0!==t?Q.style(e,o,t):Q.css(e,o)},e,o,arguments.length>1)},show:function(){return C(this,!0)},hide:function(){return C(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){xe(this)?Q(this).show():Q(this).hide()})}}),Q.Tween=R,R.prototype={constructor:R,init:function(e,o,t,r,n,i){this.elem=e,this.prop=t,this.easing=n||"swing",this.options=o,this.start=this.now=this.cur(),this.end=r,this.unit=i||(Q.cssNumber[t]?"":"px")},cur:function(){var e=R.propHooks[this.prop];return e&&e.get?e.get(this):R.propHooks._default.get(this)},run:function(e){var o,t=R.propHooks[this.prop];return this.pos=o=this.options.duration?Q.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*o+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),t&&t.set?t.set(this):R.propHooks._default.set(this),this}},R.prototype.init.prototype=R.prototype,R.propHooks={_default:{get:function(e){var o;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(o=Q.css(e.elem,e.prop,""),o&&"auto"!==o?o:0):e.elem[e.prop]},set:function(e){Q.fx.step[e.prop]?Q.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[Q.cssProps[e.prop]]||Q.cssHooks[e.prop])?Q.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},R.propHooks.scrollTop=R.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Q.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},Q.fx=R.prototype.init,Q.fx.step={};var ze,Ze,Je=/^(?:toggle|show|hide)$/,Qe=new RegExp("^(?:([+-])=|)("+Se+")([a-z%]*)$","i"),eo=/queueHooks$/,oo=[N],to={"*":[function(e,o){var t=this.createTween(e,o),r=t.cur(),n=Qe.exec(o),i=n&&n[3]||(Q.cssNumber[e]?"":"px"),a=(Q.cssNumber[e]||"px"!==i&&+r)&&Qe.exec(Q.css(t.elem,e)),s=1,g=20;if(a&&a[3]!==i){i=i||a[3],n=n||[],a=+r||1;do s=s||".5",a/=s,Q.style(t.elem,e,a+i);while(s!==(s=t.cur()/r)&&1!==s&&--g)}return n&&(a=t.start=+a||+r||0,t.unit=i,t.end=n[1]?a+(n[1]+1)*n[2]:+n[2]),t}]};Q.Animation=Q.extend(I,{tweener:function(e,o){Q.isFunction(e)?(o=e,e=["*"]):e=e.split(" ");for(var t,r=0,n=e.length;n>r;r++)t=e[r],to[t]=to[t]||[],to[t].unshift(o)},prefilter:function(e,o){o?oo.unshift(e):oo.push(e)}}),Q.speed=function(e,o,t){var r=e&&"object"==typeof e?Q.extend({},e):{complete:t||!t&&o||Q.isFunction(e)&&e,duration:e,easing:t&&o||o&&!Q.isFunction(o)&&o};return r.duration=Q.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in Q.fx.speeds?Q.fx.speeds[r.duration]:Q.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){Q.isFunction(r.old)&&r.old.call(this),r.queue&&Q.dequeue(this,r.queue)},r},Q.fn.extend({fadeTo:function(e,o,t,r){return this.filter(xe).css("opacity",0).show().end().animate({opacity:o},e,t,r)},animate:function(e,o,t,r){var n=Q.isEmptyObject(e),i=Q.speed(o,t,r),a=function(){var o=I(this,Q.extend({},e),i);(n||fe.get(this,"finish"))&&o.stop(!0)};return a.finish=a,n||i.queue===!1?this.each(a):this.queue(i.queue,a)},stop:function(e,o,t){var r=function(e){var o=e.stop;delete e.stop,o(t)};return"string"!=typeof e&&(t=o,o=e,e=void 0),o&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var o=!0,n=null!=e&&e+"queueHooks",i=Q.timers,a=fe.get(this);if(n)a[n]&&a[n].stop&&r(a[n]);else for(n in a)a[n]&&a[n].stop&&eo.test(n)&&r(a[n]);for(n=i.length;n--;)i[n].elem!==this||null!=e&&i[n].queue!==e||(i[n].anim.stop(t),o=!1,i.splice(n,1));(o||!t)&&Q.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var o,t=fe.get(this),r=t[e+"queue"],n=t[e+"queueHooks"],i=Q.timers,a=r?r.length:0;for(t.finish=!0,Q.queue(this,e,[]),n&&n.stop&&n.stop.call(this,!0),
o=i.length;o--;)i[o].elem===this&&i[o].queue===e&&(i[o].anim.stop(!0),i.splice(o,1));for(o=0;a>o;o++)r[o]&&r[o].finish&&r[o].finish.call(this);delete t.finish})}}),Q.each(["toggle","show","hide"],function(e,o){var t=Q.fn[o];Q.fn[o]=function(e,r,n){return null==e||"boolean"==typeof e?t.apply(this,arguments):this.animate(D(o,!0),e,r,n)}}),Q.each({slideDown:D("show"),slideUp:D("hide"),slideToggle:D("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,o){Q.fn[e]=function(e,t,r){return this.animate(o,e,t,r)}}),Q.timers=[],Q.fx.tick=function(){var e,o=0,t=Q.timers;for(ze=Q.now();o<t.length;o++)e=t[o],e()||t[o]!==e||t.splice(o--,1);t.length||Q.fx.stop(),ze=void 0},Q.fx.timer=function(e){Q.timers.push(e),e()?Q.fx.start():Q.timers.pop()},Q.fx.interval=13,Q.fx.start=function(){Ze||(Ze=setInterval(Q.fx.tick,Q.fx.interval))},Q.fx.stop=function(){clearInterval(Ze),Ze=null},Q.fx.speeds={slow:600,fast:200,_default:400},Q.fn.delay=function(e,o){return e=Q.fx?Q.fx.speeds[e]||e:e,o=o||"fx",this.queue(o,function(o,t){var r=setTimeout(o,e);t.stop=function(){clearTimeout(r)}})},function(){var e=Z.createElement("input"),o=Z.createElement("select"),t=o.appendChild(Z.createElement("option"));e.type="checkbox",z.checkOn=""!==e.value,z.optSelected=t.selected,o.disabled=!0,z.optDisabled=!t.disabled,e=Z.createElement("input"),e.value="t",e.type="radio",z.radioValue="t"===e.value}();var ro,no,io=Q.expr.attrHandle;Q.fn.extend({attr:function(e,o){return ye(this,Q.attr,e,o,arguments.length>1)},removeAttr:function(e){return this.each(function(){Q.removeAttr(this,e)})}}),Q.extend({attr:function(e,o,t){var r,n,i=e.nodeType;if(e&&3!==i&&8!==i&&2!==i)return typeof e.getAttribute===Pe?Q.prop(e,o,t):(1===i&&Q.isXMLDoc(e)||(o=o.toLowerCase(),r=Q.attrHooks[o]||(Q.expr.match.bool.test(o)?no:ro)),void 0===t?r&&"get"in r&&null!==(n=r.get(e,o))?n:(n=Q.find.attr(e,o),null==n?void 0:n):null!==t?r&&"set"in r&&void 0!==(n=r.set(e,t,o))?n:(e.setAttribute(o,t+""),t):void Q.removeAttr(e,o))},removeAttr:function(e,o){var t,r,n=0,i=o&&o.match(de);if(i&&1===e.nodeType)for(;t=i[n++];)r=Q.propFix[t]||t,Q.expr.match.bool.test(t)&&(e[r]=!1),e.removeAttribute(t)},attrHooks:{type:{set:function(e,o){if(!z.radioValue&&"radio"===o&&Q.nodeName(e,"input")){var t=e.value;return e.setAttribute("type",o),t&&(e.value=t),o}}}}}),no={set:function(e,o,t){return o===!1?Q.removeAttr(e,t):e.setAttribute(t,t),t}},Q.each(Q.expr.match.bool.source.match(/\w+/g),function(e,o){var t=io[o]||Q.find.attr;io[o]=function(e,o,r){var n,i;return r||(i=io[o],io[o]=n,n=null!=t(e,o,r)?o.toLowerCase():null,io[o]=i),n}});var ao=/^(?:input|select|textarea|button)$/i;Q.fn.extend({prop:function(e,o){return ye(this,Q.prop,e,o,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[Q.propFix[e]||e]})}}),Q.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,o,t){var r,n,i,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return i=1!==a||!Q.isXMLDoc(e),i&&(o=Q.propFix[o]||o,n=Q.propHooks[o]),void 0!==t?n&&"set"in n&&void 0!==(r=n.set(e,t,o))?r:e[o]=t:n&&"get"in n&&null!==(r=n.get(e,o))?r:e[o]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||ao.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),z.optSelected||(Q.propHooks.selected={get:function(e){var o=e.parentNode;return o&&o.parentNode&&o.parentNode.selectedIndex,null}}),Q.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Q.propFix[this.toLowerCase()]=this});var so=/[\t\r\n\f]/g;Q.fn.extend({addClass:function(e){var o,t,r,n,i,a,s="string"==typeof e&&e,g=0,l=this.length;if(Q.isFunction(e))return this.each(function(o){Q(this).addClass(e.call(this,o,this.className))});if(s)for(o=(e||"").match(de)||[];l>g;g++)if(t=this[g],r=1===t.nodeType&&(t.className?(" "+t.className+" ").replace(so," "):" ")){for(i=0;n=o[i++];)r.indexOf(" "+n+" ")<0&&(r+=n+" ");a=Q.trim(r),t.className!==a&&(t.className=a)}return this},removeClass:function(e){var o,t,r,n,i,a,s=0===arguments.length||"string"==typeof e&&e,g=0,l=this.length;if(Q.isFunction(e))return this.each(function(o){Q(this).removeClass(e.call(this,o,this.className))});if(s)for(o=(e||"").match(de)||[];l>g;g++)if(t=this[g],r=1===t.nodeType&&(t.className?(" "+t.className+" ").replace(so," "):"")){for(i=0;n=o[i++];)for(;r.indexOf(" "+n+" ")>=0;)r=r.replace(" "+n+" "," ");a=e?Q.trim(r):"",t.className!==a&&(t.className=a)}return this},toggleClass:function(e,o){var t=typeof e;return"boolean"==typeof o&&"string"===t?o?this.addClass(e):this.removeClass(e):this.each(Q.isFunction(e)?function(t){Q(this).toggleClass(e.call(this,t,this.className,o),o)}:function(){if("string"===t)for(var o,r=0,n=Q(this),i=e.match(de)||[];o=i[r++];)n.hasClass(o)?n.removeClass(o):n.addClass(o);else(t===Pe||"boolean"===t)&&(this.className&&fe.set(this,"__className__",this.className),this.className=this.className||e===!1?"":fe.get(this,"__className__")||"")})},hasClass:function(e){for(var o=" "+e+" ",t=0,r=this.length;r>t;t++)if(1===this[t].nodeType&&(" "+this[t].className+" ").replace(so," ").indexOf(o)>=0)return!0;return!1}});var go=/\r/g;Q.fn.extend({val:function(e){var o,t,r,n=this[0];{if(arguments.length)return r=Q.isFunction(e),this.each(function(t){var n;1===this.nodeType&&(n=r?e.call(this,t,Q(this).val()):e,null==n?n="":"number"==typeof n?n+="":Q.isArray(n)&&(n=Q.map(n,function(e){return null==e?"":e+""})),o=Q.valHooks[this.type]||Q.valHooks[this.nodeName.toLowerCase()],o&&"set"in o&&void 0!==o.set(this,n,"value")||(this.value=n))});if(n)return o=Q.valHooks[n.type]||Q.valHooks[n.nodeName.toLowerCase()],o&&"get"in o&&void 0!==(t=o.get(n,"value"))?t:(t=n.value,"string"==typeof t?t.replace(go,""):null==t?"":t)}}}),Q.extend({valHooks:{option:{get:function(e){var o=Q.find.attr(e,"value");return null!=o?o:Q.trim(Q.text(e))}},select:{get:function(e){for(var o,t,r=e.options,n=e.selectedIndex,i="select-one"===e.type||0>n,a=i?null:[],s=i?n+1:r.length,g=0>n?s:i?n:0;s>g;g++)if(t=r[g],!(!t.selected&&g!==n||(z.optDisabled?t.disabled:null!==t.getAttribute("disabled"))||t.parentNode.disabled&&Q.nodeName(t.parentNode,"optgroup"))){if(o=Q(t).val(),i)return o;a.push(o)}return a},set:function(e,o){for(var t,r,n=e.options,i=Q.makeArray(o),a=n.length;a--;)r=n[a],(r.selected=Q.inArray(r.value,i)>=0)&&(t=!0);return t||(e.selectedIndex=-1),i}}}}),Q.each(["radio","checkbox"],function(){Q.valHooks[this]={set:function(e,o){return Q.isArray(o)?e.checked=Q.inArray(Q(e).val(),o)>=0:void 0}},z.checkOn||(Q.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),Q.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,o){Q.fn[o]=function(e,t){return arguments.length>0?this.on(o,null,e,t):this.trigger(o)}}),Q.fn.extend({hover:function(e,o){return this.mouseenter(e).mouseleave(o||e)},bind:function(e,o,t){return this.on(e,null,o,t)},unbind:function(e,o){return this.off(e,null,o)},delegate:function(e,o,t,r){return this.on(o,e,t,r)},undelegate:function(e,o,t){return 1===arguments.length?this.off(e,"**"):this.off(o,e||"**",t)}});var lo=Q.now(),po=/\?/;Q.parseJSON=function(e){return JSON.parse(e+"")},Q.parseXML=function(e){var o,t;if(!e||"string"!=typeof e)return null;try{t=new DOMParser,o=t.parseFromString(e,"text/xml")}catch(r){o=void 0}return(!o||o.getElementsByTagName("parsererror").length)&&Q.error("Invalid XML: "+e),o};var uo=/#.*$/,co=/([?&])_=[^&]*/,ho=/^(.*?):[ \t]*([^\r\n]*)$/gm,mo=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,yo=/^(?:GET|HEAD)$/,fo=/^\/\//,vo=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,_o={},Eo={},So="*/".concat("*"),To=e.location.href,xo=vo.exec(To.toLowerCase())||[];Q.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:To,type:"GET",isLocal:mo.test(xo[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":So,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Q.parseJSON,"text xml":Q.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,o){return o?G(G(e,Q.ajaxSettings),o):G(Q.ajaxSettings,e)},ajaxPrefilter:O(_o),ajaxTransport:O(Eo),ajax:function(e,o){function t(e,o,t,a){var g,p,f,v,E,T=o;2!==_&&(_=2,s&&clearTimeout(s),r=void 0,i=a||"",S.readyState=e>0?4:0,g=e>=200&&300>e||304===e,t&&(v=k(u,S,t)),v=U(u,v,S,g),g?(u.ifModified&&(E=S.getResponseHeader("Last-Modified"),E&&(Q.lastModified[n]=E),E=S.getResponseHeader("etag"),E&&(Q.etag[n]=E)),204===e||"HEAD"===u.type?T="nocontent":304===e?T="notmodified":(T=v.state,p=v.data,f=v.error,g=!f)):(f=T,(e||!T)&&(T="error",0>e&&(e=0))),S.status=e,S.statusText=(o||T)+"",g?h.resolveWith(c,[p,T,S]):h.rejectWith(c,[S,T,f]),S.statusCode(y),y=void 0,l&&d.trigger(g?"ajaxSuccess":"ajaxError",[S,u,g?p:f]),m.fireWith(c,[S,T]),l&&(d.trigger("ajaxComplete",[S,u]),--Q.active||Q.event.trigger("ajaxStop")))}"object"==typeof e&&(o=e,e=void 0),o=o||{};var r,n,i,a,s,g,l,p,u=Q.ajaxSetup({},o),c=u.context||u,d=u.context&&(c.nodeType||c.jquery)?Q(c):Q.event,h=Q.Deferred(),m=Q.Callbacks("once memory"),y=u.statusCode||{},f={},v={},_=0,E="canceled",S={readyState:0,getResponseHeader:function(e){var o;if(2===_){if(!a)for(a={};o=ho.exec(i);)a[o[1].toLowerCase()]=o[2];o=a[e.toLowerCase()]}return null==o?null:o},getAllResponseHeaders:function(){return 2===_?i:null},setRequestHeader:function(e,o){var t=e.toLowerCase();return _||(e=v[t]=v[t]||e,f[e]=o),this},overrideMimeType:function(e){return _||(u.mimeType=e),this},statusCode:function(e){var o;if(e)if(2>_)for(o in e)y[o]=[y[o],e[o]];else S.always(e[S.status]);return this},abort:function(e){var o=e||E;return r&&r.abort(o),t(0,o),this}};if(h.promise(S).complete=m.add,S.success=S.done,S.error=S.fail,u.url=((e||u.url||To)+"").replace(uo,"").replace(fo,xo[1]+"//"),u.type=o.method||o.type||u.method||u.type,u.dataTypes=Q.trim(u.dataType||"*").toLowerCase().match(de)||[""],null==u.crossDomain&&(g=vo.exec(u.url.toLowerCase()),u.crossDomain=!(!g||g[1]===xo[1]&&g[2]===xo[2]&&(g[3]||("http:"===g[1]?"80":"443"))===(xo[3]||("http:"===xo[1]?"80":"443")))),u.data&&u.processData&&"string"!=typeof u.data&&(u.data=Q.param(u.data,u.traditional)),F(_o,u,o,S),2===_)return S;l=Q.event&&u.global,l&&0===Q.active++&&Q.event.trigger("ajaxStart"),u.type=u.type.toUpperCase(),u.hasContent=!yo.test(u.type),n=u.url,u.hasContent||(u.data&&(n=u.url+=(po.test(n)?"&":"?")+u.data,delete u.data),u.cache===!1&&(u.url=co.test(n)?n.replace(co,"$1_="+lo++):n+(po.test(n)?"&":"?")+"_="+lo++)),u.ifModified&&(Q.lastModified[n]&&S.setRequestHeader("If-Modified-Since",Q.lastModified[n]),Q.etag[n]&&S.setRequestHeader("If-None-Match",Q.etag[n])),(u.data&&u.hasContent&&u.contentType!==!1||o.contentType)&&S.setRequestHeader("Content-Type",u.contentType),S.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+So+"; q=0.01":""):u.accepts["*"]);for(p in u.headers)S.setRequestHeader(p,u.headers[p]);if(u.beforeSend&&(u.beforeSend.call(c,S,u)===!1||2===_))return S.abort();E="abort";for(p in{success:1,error:1,complete:1})S[p](u[p]);if(r=F(Eo,u,o,S)){S.readyState=1,l&&d.trigger("ajaxSend",[S,u]),u.async&&u.timeout>0&&(s=setTimeout(function(){S.abort("timeout")},u.timeout));try{_=1,r.send(f,t)}catch(T){if(!(2>_))throw T;t(-1,T)}}else t(-1,"No Transport");return S},getJSON:function(e,o,t){return Q.get(e,o,t,"json")},getScript:function(e,o){return Q.get(e,void 0,o,"script")}}),Q.each(["get","post"],function(e,o){Q[o]=function(e,t,r,n){return Q.isFunction(t)&&(n=n||r,r=t,t=void 0),Q.ajax({url:e,type:o,dataType:n,data:t,success:r})}}),Q._evalUrl=function(e){return Q.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},Q.fn.extend({wrapAll:function(e){var o;return Q.isFunction(e)?this.each(function(o){Q(this).wrapAll(e.call(this,o))}):(this[0]&&(o=Q(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&o.insertBefore(this[0]),o.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return this.each(Q.isFunction(e)?function(o){Q(this).wrapInner(e.call(this,o))}:function(){var o=Q(this),t=o.contents();t.length?t.wrapAll(e):o.append(e)})},wrap:function(e){var o=Q.isFunction(e);return this.each(function(t){Q(this).wrapAll(o?e.call(this,t):e)})},unwrap:function(){return this.parent().each(function(){Q.nodeName(this,"body")||Q(this).replaceWith(this.childNodes)}).end()}}),Q.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},Q.expr.filters.visible=function(e){return!Q.expr.filters.hidden(e)};var bo=/%20/g,Po=/\[\]$/,Mo=/\r?\n/g,Co=/^(?:submit|button|image|reset|file)$/i,Ro=/^(?:input|select|textarea|keygen)/i;Q.param=function(e,o){var t,r=[],n=function(e,o){o=Q.isFunction(o)?o():null==o?"":o,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(o)};if(void 0===o&&(o=Q.ajaxSettings&&Q.ajaxSettings.traditional),Q.isArray(e)||e.jquery&&!Q.isPlainObject(e))Q.each(e,function(){n(this.name,this.value)});else for(t in e)q(t,e[t],o,n);return r.join("&").replace(bo,"+")},Q.fn.extend({serialize:function(){return Q.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Q.prop(this,"elements");return e?Q.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Q(this).is(":disabled")&&Ro.test(this.nodeName)&&!Co.test(e)&&(this.checked||!be.test(e))}).map(function(e,o){var t=Q(this).val();return null==t?null:Q.isArray(t)?Q.map(t,function(e){return{name:o.name,value:e.replace(Mo,"\r\n")}}):{name:o.name,value:t.replace(Mo,"\r\n")}}).get()}}),Q.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var Ao=0,Do={},Lo={0:200,1223:204},No=Q.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Do)Do[e]()}),z.cors=!!No&&"withCredentials"in No,z.ajax=No=!!No,Q.ajaxTransport(function(e){var o;return z.cors||No&&!e.crossDomain?{send:function(t,r){var n,i=e.xhr(),a=++Ao;if(i.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(n in e.xhrFields)i[n]=e.xhrFields[n];e.mimeType&&i.overrideMimeType&&i.overrideMimeType(e.mimeType),e.crossDomain||t["X-Requested-With"]||(t["X-Requested-With"]="XMLHttpRequest");for(n in t)i.setRequestHeader(n,t[n]);o=function(e){return function(){o&&(delete Do[a],o=i.onload=i.onerror=null,"abort"===e?i.abort():"error"===e?r(i.status,i.statusText):r(Lo[i.status]||i.status,i.statusText,"string"==typeof i.responseText?{text:i.responseText}:void 0,i.getAllResponseHeaders()))}},i.onload=o(),i.onerror=o("error"),o=Do[a]=o("abort");try{i.send(e.hasContent&&e.data||null)}catch(s){if(o)throw s}},abort:function(){o&&o()}}:void 0}),Q.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return Q.globalEval(e),e}}}),Q.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),Q.ajaxTransport("script",function(e){if(e.crossDomain){var o,t;return{send:function(r,n){o=Q("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",t=function(e){o.remove(),t=null,e&&n("error"===e.type?404:200,e.type)}),Z.head.appendChild(o[0])},abort:function(){t&&t()}}}});var wo=[],Io=/(=)\?(?=&|$)|\?\?/;Q.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=wo.pop()||Q.expando+"_"+lo++;return this[e]=!0,e}}),Q.ajaxPrefilter("json jsonp",function(o,t,r){var n,i,a,s=o.jsonp!==!1&&(Io.test(o.url)?"url":"string"==typeof o.data&&!(o.contentType||"").indexOf("application/x-www-form-urlencoded")&&Io.test(o.data)&&"data");return s||"jsonp"===o.dataTypes[0]?(n=o.jsonpCallback=Q.isFunction(o.jsonpCallback)?o.jsonpCallback():o.jsonpCallback,s?o[s]=o[s].replace(Io,"$1"+n):o.jsonp!==!1&&(o.url+=(po.test(o.url)?"&":"?")+o.jsonp+"="+n),o.converters["script json"]=function(){return a||Q.error(n+" was not called"),a[0]},o.dataTypes[0]="json",i=e[n],e[n]=function(){a=arguments},r.always(function(){e[n]=i,o[n]&&(o.jsonpCallback=t.jsonpCallback,wo.push(n)),a&&Q.isFunction(i)&&i(a[0]),a=i=void 0}),"script"):void 0}),Q.parseHTML=function(e,o,t){if(!e||"string"!=typeof e)return null;"boolean"==typeof o&&(t=o,o=!1),o=o||Z;var r=ae.exec(e),n=!t&&[];return r?[o.createElement(r[1])]:(r=Q.buildFragment([e],o,n),n&&n.length&&Q(n).remove(),Q.merge([],r.childNodes))};var Oo=Q.fn.load;Q.fn.load=function(e,o,t){if("string"!=typeof e&&Oo)return Oo.apply(this,arguments);var r,n,i,a=this,s=e.indexOf(" ");return s>=0&&(r=Q.trim(e.slice(s)),e=e.slice(0,s)),Q.isFunction(o)?(t=o,o=void 0):o&&"object"==typeof o&&(n="POST"),a.length>0&&Q.ajax({url:e,type:n,dataType:"html",data:o}).done(function(e){i=arguments,a.html(r?Q("<div>").append(Q.parseHTML(e)).find(r):e)}).complete(t&&function(e,o){a.each(t,i||[e.responseText,o,e])}),this},Q.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,o){Q.fn[o]=function(e){return this.on(o,e)}}),Q.expr.filters.animated=function(e){return Q.grep(Q.timers,function(o){return e===o.elem}).length};var Fo=e.document.documentElement;Q.offset={setOffset:function(e,o,t){var r,n,i,a,s,g,l,p=Q.css(e,"position"),u=Q(e),c={};"static"===p&&(e.style.position="relative"),s=u.offset(),i=Q.css(e,"top"),g=Q.css(e,"left"),l=("absolute"===p||"fixed"===p)&&(i+g).indexOf("auto")>-1,l?(r=u.position(),a=r.top,n=r.left):(a=parseFloat(i)||0,n=parseFloat(g)||0),Q.isFunction(o)&&(o=o.call(e,t,s)),null!=o.top&&(c.top=o.top-s.top+a),null!=o.left&&(c.left=o.left-s.left+n),"using"in o?o.using.call(e,c):u.css(c)}},Q.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(o){Q.offset.setOffset(this,e,o)});var o,t,r=this[0],n={top:0,left:0},i=r&&r.ownerDocument;if(i)return o=i.documentElement,Q.contains(o,r)?(typeof r.getBoundingClientRect!==Pe&&(n=r.getBoundingClientRect()),t=$(i),{top:n.top+t.pageYOffset-o.clientTop,left:n.left+t.pageXOffset-o.clientLeft}):n},position:function(){if(this[0]){var e,o,t=this[0],r={top:0,left:0};return"fixed"===Q.css(t,"position")?o=t.getBoundingClientRect():(e=this.offsetParent(),o=this.offset(),Q.nodeName(e[0],"html")||(r=e.offset()),r.top+=Q.css(e[0],"borderTopWidth",!0),r.left+=Q.css(e[0],"borderLeftWidth",!0)),{top:o.top-r.top-Q.css(t,"marginTop",!0),left:o.left-r.left-Q.css(t,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Fo;e&&!Q.nodeName(e,"html")&&"static"===Q.css(e,"position");)e=e.offsetParent;return e||Fo})}}),Q.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(o,t){var r="pageYOffset"===t;Q.fn[o]=function(n){return ye(this,function(o,n,i){var a=$(o);return void 0===i?a?a[t]:o[n]:void(a?a.scrollTo(r?e.pageXOffset:i,r?i:e.pageYOffset):o[n]=i)},o,n,arguments.length,null)}}),Q.each(["top","left"],function(e,o){Q.cssHooks[o]=T(z.pixelPosition,function(e,t){return t?(t=S(e,o),Be.test(t)?Q(e).position()[o]+"px":t):void 0})}),Q.each({Height:"height",Width:"width"},function(e,o){Q.each({padding:"inner"+e,content:o,"":"outer"+e},function(t,r){Q.fn[r]=function(r,n){var i=arguments.length&&(t||"boolean"!=typeof r),a=t||(r===!0||n===!0?"margin":"border");return ye(this,function(o,t,r){var n;return Q.isWindow(o)?o.document.documentElement["client"+e]:9===o.nodeType?(n=o.documentElement,Math.max(o.body["scroll"+e],n["scroll"+e],o.body["offset"+e],n["offset"+e],n["client"+e])):void 0===r?Q.css(o,t,a):Q.style(o,t,r,a)},o,i?r:void 0,i,null)}})}),Q.fn.size=function(){return this.length},Q.fn.andSelf=Q.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Q});var Go=e.jQuery,ko=e.$;return Q.noConflict=function(o){return e.$===Q&&(e.$=ko),o&&e.jQuery===Q&&(e.jQuery=Go),Q},typeof o===Pe&&(e.jQuery=e.$=Q),Q}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(e){"use strict";var o=e.fn.jquery.split(" ")[0].split(".");if(o[0]<2&&o[1]<9||1==o[0]&&9==o[1]&&o[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(jQuery),+function(e){"use strict";function o(){var e=document.createElement("bootstrap"),o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var t in o)if(void 0!==e.style[t])return{end:o[t]};return!1}e.fn.emulateTransitionEnd=function(o){var t=!1,r=this;e(this).one("bsTransitionEnd",function(){t=!0});var n=function(){t||e(r).trigger(e.support.transition.end)};return setTimeout(n,o),this},e(function(){e.support.transition=o(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(o){return e(o.target).is(this)?o.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(e){"use strict";function o(o){return this.each(function(){var t=e(this),n=t.data("bs.alert");n||t.data("bs.alert",n=new r(this)),"string"==typeof o&&n[o].call(t)})}var t='[data-dismiss="alert"]',r=function(o){e(o).on("click",t,this.close)};r.VERSION="3.3.5",r.TRANSITION_DURATION=150,r.prototype.close=function(o){function t(){a.detach().trigger("closed.bs.alert").remove()}var n=e(this),i=n.attr("data-target");i||(i=n.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,""));var a=e(i);o&&o.preventDefault(),a.length||(a=n.closest(".alert")),a.trigger(o=e.Event("close.bs.alert")),o.isDefaultPrevented()||(a.removeClass("in"),e.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",t).emulateTransitionEnd(r.TRANSITION_DURATION):t())};var n=e.fn.alert;e.fn.alert=o,e.fn.alert.Constructor=r,e.fn.alert.noConflict=function(){return e.fn.alert=n,this},e(document).on("click.bs.alert.data-api",t,r.prototype.close)}(jQuery),+function(e){"use strict";function o(o){return this.each(function(){var r=e(this),n=r.data("bs.button"),i="object"==typeof o&&o;n||r.data("bs.button",n=new t(this,i)),"toggle"==o?n.toggle():o&&n.setState(o)})}var t=function(o,r){this.$element=e(o),this.options=e.extend({},t.DEFAULTS,r),this.isLoading=!1};t.VERSION="3.3.5",t.DEFAULTS={loadingText:"loading..."},t.prototype.setState=function(o){var t="disabled",r=this.$element,n=r.is("input")?"val":"html",i=r.data();o+="Text",null==i.resetText&&r.data("resetText",r[n]()),setTimeout(e.proxy(function(){r[n](null==i[o]?this.options[o]:i[o]),"loadingText"==o?(this.isLoading=!0,r.addClass(t).attr(t,t)):this.isLoading&&(this.isLoading=!1,r.removeClass(t).removeAttr(t))},this),0)},t.prototype.toggle=function(){var e=!0,o=this.$element.closest('[data-toggle="buttons"]');if(o.length){var t=this.$element.find("input");"radio"==t.prop("type")?(t.prop("checked")&&(e=!1),o.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==t.prop("type")&&(t.prop("checked")!==this.$element.hasClass("active")&&(e=!1),this.$element.toggleClass("active")),t.prop("checked",this.$element.hasClass("active")),e&&t.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var r=e.fn.button;e.fn.button=o,e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=r,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(t){var r=e(t.target);r.hasClass("btn")||(r=r.closest(".btn")),o.call(r,"toggle"),e(t.target).is('input[type="radio"]')||e(t.target).is('input[type="checkbox"]')||t.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(o){e(o.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(o.type))})}(jQuery),+function(e){"use strict";function o(o){return this.each(function(){var r=e(this),n=r.data("bs.carousel"),i=e.extend({},t.DEFAULTS,r.data(),"object"==typeof o&&o),a="string"==typeof o?o:i.slide;n||r.data("bs.carousel",n=new t(this,i)),"number"==typeof o?n.to(o):a?n[a]():i.interval&&n.pause().cycle()})}var t=function(o,t){this.$element=e(o),this.$indicators=this.$element.find(".carousel-indicators"),this.options=t,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};t.VERSION="3.3.5",t.TRANSITION_DURATION=600,t.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},t.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},t.prototype.cycle=function(o){return o||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},t.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},t.prototype.getItemForDirection=function(e,o){var t=this.getItemIndex(o),r="prev"==e&&0===t||"next"==e&&t==this.$items.length-1;if(r&&!this.options.wrap)return o;var n="prev"==e?-1:1,i=(t+n)%this.$items.length;return this.$items.eq(i)},t.prototype.to=function(e){var o=this,t=this.getItemIndex(this.$active=this.$element.find(".item.active"));return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){o.to(e)}):t==e?this.pause().cycle():this.slide(e>t?"next":"prev",this.$items.eq(e))},t.prototype.pause=function(o){return o||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},t.prototype.next=function(){return this.sliding?void 0:this.slide("next")},t.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},t.prototype.slide=function(o,r){var n=this.$element.find(".item.active"),i=r||this.getItemForDirection(o,n),a=this.interval,s="next"==o?"left":"right",g=this;if(i.hasClass("active"))return this.sliding=!1;var l=i[0],p=e.Event("slide.bs.carousel",{relatedTarget:l,direction:s});if(this.$element.trigger(p),!p.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var u=e(this.$indicators.children()[this.getItemIndex(i)]);u&&u.addClass("active")}var c=e.Event("slid.bs.carousel",{relatedTarget:l,direction:s});return e.support.transition&&this.$element.hasClass("slide")?(i.addClass(o),i[0].offsetWidth,n.addClass(s),i.addClass(s),n.one("bsTransitionEnd",function(){i.removeClass([o,s].join(" ")).addClass("active"),n.removeClass(["active",s].join(" ")),g.sliding=!1,setTimeout(function(){g.$element.trigger(c)},0)}).emulateTransitionEnd(t.TRANSITION_DURATION)):(n.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger(c)),a&&this.cycle(),this}};var r=e.fn.carousel;e.fn.carousel=o,e.fn.carousel.Constructor=t,e.fn.carousel.noConflict=function(){return e.fn.carousel=r,this};var n=function(t){var r,n=e(this),i=e(n.attr("data-target")||(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""));if(i.hasClass("carousel")){var a=e.extend({},i.data(),n.data()),s=n.attr("data-slide-to");s&&(a.interval=!1),o.call(i,a),s&&i.data("bs.carousel").to(s),t.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",n).on("click.bs.carousel.data-api","[data-slide-to]",n),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var t=e(this);o.call(t,t.data())})})}(jQuery),+function(e){"use strict";function o(o){var t,r=o.attr("data-target")||(t=o.attr("href"))&&t.replace(/.*(?=#[^\s]+$)/,"");return e(r)}function t(o){return this.each(function(){var t=e(this),n=t.data("bs.collapse"),i=e.extend({},r.DEFAULTS,t.data(),"object"==typeof o&&o);!n&&i.toggle&&/show|hide/.test(o)&&(i.toggle=!1),n||t.data("bs.collapse",n=new r(this,i)),"string"==typeof o&&n[o]()})}var r=function(o,t){this.$element=e(o),this.options=e.extend({},r.DEFAULTS,t),this.$trigger=e('[data-toggle="collapse"][href="#'+o.id+'"],[data-toggle="collapse"][data-target="#'+o.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};r.VERSION="3.3.5",r.TRANSITION_DURATION=350,r.DEFAULTS={toggle:!0},r.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},r.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var o,n=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(n&&n.length&&(o=n.data("bs.collapse"),o&&o.transitioning))){var i=e.Event("show.bs.collapse");if(this.$element.trigger(i),!i.isDefaultPrevented()){n&&n.length&&(t.call(n,"hide"),o||n.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return s.call(this);var g=e.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",e.proxy(s,this)).emulateTransitionEnd(r.TRANSITION_DURATION)[a](this.$element[0][g])}}}},r.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var o=e.Event("hide.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){var t=this.dimension();this.$element[t](this.$element[t]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return e.support.transition?void this.$element[t](0).one("bsTransitionEnd",e.proxy(n,this)).emulateTransitionEnd(r.TRANSITION_DURATION):n.call(this)}}},r.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},r.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(t,r){var n=e(r);this.addAriaAndCollapsedClass(o(n),n)},this)).end()},r.prototype.addAriaAndCollapsedClass=function(e,o){var t=e.hasClass("in");e.attr("aria-expanded",t),o.toggleClass("collapsed",!t).attr("aria-expanded",t)};var n=e.fn.collapse;e.fn.collapse=t,e.fn.collapse.Constructor=r,e.fn.collapse.noConflict=function(){return e.fn.collapse=n,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(r){var n=e(this);n.attr("data-target")||r.preventDefault();var i=o(n),a=i.data("bs.collapse"),s=a?"toggle":n.data();t.call(i,s)})}(jQuery),+function(e){"use strict";function o(o){var t=o.attr("data-target");t||(t=o.attr("href"),t=t&&/#[A-Za-z]/.test(t)&&t.replace(/.*(?=#[^\s]*$)/,""));var r=t&&e(t);return r&&r.length?r:o.parent()}function t(t){t&&3===t.which||(e(n).remove(),e(i).each(function(){var r=e(this),n=o(r),i={relatedTarget:this};n.hasClass("open")&&(t&&"click"==t.type&&/input|textarea/i.test(t.target.tagName)&&e.contains(n[0],t.target)||(n.trigger(t=e.Event("hide.bs.dropdown",i)),t.isDefaultPrevented()||(r.attr("aria-expanded","false"),n.removeClass("open").trigger("hidden.bs.dropdown",i))))}));

}function r(o){return this.each(function(){var t=e(this),r=t.data("bs.dropdown");r||t.data("bs.dropdown",r=new a(this)),"string"==typeof o&&r[o].call(t)})}var n=".dropdown-backdrop",i='[data-toggle="dropdown"]',a=function(o){e(o).on("click.bs.dropdown",this.toggle)};a.VERSION="3.3.5",a.prototype.toggle=function(r){var n=e(this);if(!n.is(".disabled, :disabled")){var i=o(n),a=i.hasClass("open");if(t(),!a){"ontouchstart"in document.documentElement&&!i.closest(".navbar-nav").length&&e(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(e(this)).on("click",t);var s={relatedTarget:this};if(i.trigger(r=e.Event("show.bs.dropdown",s)),r.isDefaultPrevented())return;n.trigger("focus").attr("aria-expanded","true"),i.toggleClass("open").trigger("shown.bs.dropdown",s)}return!1}},a.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)){var r=e(this);if(t.preventDefault(),t.stopPropagation(),!r.is(".disabled, :disabled")){var n=o(r),a=n.hasClass("open");if(!a&&27!=t.which||a&&27==t.which)return 27==t.which&&n.find(i).trigger("focus"),r.trigger("click");var s=" li:not(.disabled):visible a",g=n.find(".dropdown-menu"+s);if(g.length){var l=g.index(t.target);38==t.which&&l>0&&l--,40==t.which&&l<g.length-1&&l++,~l||(l=0),g.eq(l).trigger("focus")}}}};var s=e.fn.dropdown;e.fn.dropdown=r,e.fn.dropdown.Constructor=a,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=s,this},e(document).on("click.bs.dropdown.data-api",t).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",i,a.prototype.toggle).on("keydown.bs.dropdown.data-api",i,a.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",a.prototype.keydown)}(jQuery),+function(e){"use strict";function o(o,r){return this.each(function(){var n=e(this),i=n.data("bs.modal"),a=e.extend({},t.DEFAULTS,n.data(),"object"==typeof o&&o);i||n.data("bs.modal",i=new t(this,a)),"string"==typeof o?i[o](r):a.show&&i.show(r)})}var t=function(o,t){this.options=t,this.$body=e(document.body),this.$element=e(o),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};t.VERSION="3.3.5",t.TRANSITION_DURATION=300,t.BACKDROP_TRANSITION_DURATION=150,t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},t.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},t.prototype.show=function(o){var r=this,n=e.Event("show.bs.modal",{relatedTarget:o});this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){r.$element.one("mouseup.dismiss.bs.modal",function(o){e(o.target).is(r.$element)&&(r.ignoreBackdropClick=!0)})}),this.backdrop(function(){var n=e.support.transition&&r.$element.hasClass("fade");r.$element.parent().length||r.$element.appendTo(r.$body),r.$element.show().scrollTop(0),r.adjustDialog(),n&&r.$element[0].offsetWidth,r.$element.addClass("in"),r.enforceFocus();var i=e.Event("shown.bs.modal",{relatedTarget:o});n?r.$dialog.one("bsTransitionEnd",function(){r.$element.trigger("focus").trigger(i)}).emulateTransitionEnd(t.TRANSITION_DURATION):r.$element.trigger("focus").trigger(i)}))},t.prototype.hide=function(o){o&&o.preventDefault(),o=e.Event("hide.bs.modal"),this.$element.trigger(o),this.isShown&&!o.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(t.TRANSITION_DURATION):this.hideModal())},t.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},t.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},t.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},t.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},t.prototype.backdrop=function(o){var r=this,n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&n;if(this.$backdrop=e(document.createElement("div")).addClass("modal-backdrop "+n).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!o)return;i?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):o()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){r.removeBackdrop(),o&&o()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):a()}else o&&o()},t.prototype.handleUpdate=function(){this.adjustDialog()},t.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},t.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},t.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var o=document.documentElement.getBoundingClientRect();e=o.right-Math.abs(o.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},t.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},t.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},t.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var o=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),o};var r=e.fn.modal;e.fn.modal=o,e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=r,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var r=e(this),n=r.attr("href"),i=e(r.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),a=i.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(n)&&n},i.data(),r.data());r.is("a")&&t.preventDefault(),i.one("show.bs.modal",function(e){e.isDefaultPrevented()||i.one("hidden.bs.modal",function(){r.is(":visible")&&r.trigger("focus")})}),o.call(i,a,this)})}(jQuery),+function(e){"use strict";function o(o){return this.each(function(){var r=e(this),n=r.data("bs.tooltip"),i="object"==typeof o&&o;(n||!/destroy|hide/.test(o))&&(n||r.data("bs.tooltip",n=new t(this,i)),"string"==typeof o&&n[o]())})}var t=function(e,o){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",e,o)};t.VERSION="3.3.5",t.TRANSITION_DURATION=150,t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},t.prototype.init=function(o,t,r){if(this.enabled=!0,this.type=o,this.$element=e(t),this.options=this.getOptions(r),this.$viewport=this.options.viewport&&e(e.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var n=this.options.trigger.split(" "),i=n.length;i--;){var a=n[i];if("click"==a)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=a){var s="hover"==a?"mouseenter":"focusin",g="hover"==a?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(g+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.getOptions=function(o){return o=e.extend({},this.getDefaults(),this.$element.data(),o),o.delay&&"number"==typeof o.delay&&(o.delay={show:o.delay,hide:o.delay}),o},t.prototype.getDelegateOptions=function(){var o={},t=this.getDefaults();return this._options&&e.each(this._options,function(e,r){t[e]!=r&&(o[e]=r)}),o},t.prototype.enter=function(o){var t=o instanceof this.constructor?o:e(o.currentTarget).data("bs."+this.type);return t||(t=new this.constructor(o.currentTarget,this.getDelegateOptions()),e(o.currentTarget).data("bs."+this.type,t)),o instanceof e.Event&&(t.inState["focusin"==o.type?"focus":"hover"]=!0),t.tip().hasClass("in")||"in"==t.hoverState?void(t.hoverState="in"):(clearTimeout(t.timeout),t.hoverState="in",t.options.delay&&t.options.delay.show?void(t.timeout=setTimeout(function(){"in"==t.hoverState&&t.show()},t.options.delay.show)):t.show())},t.prototype.isInStateTrue=function(){for(var e in this.inState)if(this.inState[e])return!0;return!1},t.prototype.leave=function(o){var t=o instanceof this.constructor?o:e(o.currentTarget).data("bs."+this.type);return t||(t=new this.constructor(o.currentTarget,this.getDelegateOptions()),e(o.currentTarget).data("bs."+this.type,t)),o instanceof e.Event&&(t.inState["focusout"==o.type?"focus":"hover"]=!1),t.isInStateTrue()?void 0:(clearTimeout(t.timeout),t.hoverState="out",t.options.delay&&t.options.delay.hide?void(t.timeout=setTimeout(function(){"out"==t.hoverState&&t.hide()},t.options.delay.hide)):t.hide())},t.prototype.show=function(){var o=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(o);var r=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(o.isDefaultPrevented()||!r)return;var n=this,i=this.tip(),a=this.getUID(this.type);this.setContent(),i.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&i.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,g=/\s?auto?\s?/i,l=g.test(s);l&&(s=s.replace(g,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var p=this.getPosition(),u=i[0].offsetWidth,c=i[0].offsetHeight;if(l){var d=s,h=this.getPosition(this.$viewport);s="bottom"==s&&p.bottom+c>h.bottom?"top":"top"==s&&p.top-c<h.top?"bottom":"right"==s&&p.right+u>h.width?"left":"left"==s&&p.left-u<h.left?"right":s,i.removeClass(d).addClass(s)}var m=this.getCalculatedOffset(s,p,u,c);this.applyPlacement(m,s);var y=function(){var e=n.hoverState;n.$element.trigger("shown.bs."+n.type),n.hoverState=null,"out"==e&&n.leave(n)};e.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",y).emulateTransitionEnd(t.TRANSITION_DURATION):y()}},t.prototype.applyPlacement=function(o,t){var r=this.tip(),n=r[0].offsetWidth,i=r[0].offsetHeight,a=parseInt(r.css("margin-top"),10),s=parseInt(r.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(s)&&(s=0),o.top+=a,o.left+=s,e.offset.setOffset(r[0],e.extend({using:function(e){r.css({top:Math.round(e.top),left:Math.round(e.left)})}},o),0),r.addClass("in");var g=r[0].offsetWidth,l=r[0].offsetHeight;"top"==t&&l!=i&&(o.top=o.top+i-l);var p=this.getViewportAdjustedDelta(t,o,g,l);p.left?o.left+=p.left:o.top+=p.top;var u=/top|bottom/.test(t),c=u?2*p.left-n+g:2*p.top-i+l,d=u?"offsetWidth":"offsetHeight";r.offset(o),this.replaceArrow(c,r[0][d],u)},t.prototype.replaceArrow=function(e,o,t){this.arrow().css(t?"left":"top",50*(1-e/o)+"%").css(t?"top":"left","")},t.prototype.setContent=function(){var e=this.tip(),o=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](o),e.removeClass("fade in top bottom left right")},t.prototype.hide=function(o){function r(){"in"!=n.hoverState&&i.detach(),n.$element.removeAttr("aria-describedby").trigger("hidden.bs."+n.type),o&&o()}var n=this,i=e(this.$tip),a=e.Event("hide.bs."+this.type);return this.$element.trigger(a),a.isDefaultPrevented()?void 0:(i.removeClass("in"),e.support.transition&&i.hasClass("fade")?i.one("bsTransitionEnd",r).emulateTransitionEnd(t.TRANSITION_DURATION):r(),this.hoverState=null,this)},t.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},t.prototype.hasContent=function(){return this.getTitle()},t.prototype.getPosition=function(o){o=o||this.$element;var t=o[0],r="BODY"==t.tagName,n=t.getBoundingClientRect();null==n.width&&(n=e.extend({},n,{width:n.right-n.left,height:n.bottom-n.top}));var i=r?{top:0,left:0}:o.offset(),a={scroll:r?document.documentElement.scrollTop||document.body.scrollTop:o.scrollTop()},s=r?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},n,a,s,i)},t.prototype.getCalculatedOffset=function(e,o,t,r){return"bottom"==e?{top:o.top+o.height,left:o.left+o.width/2-t/2}:"top"==e?{top:o.top-r,left:o.left+o.width/2-t/2}:"left"==e?{top:o.top+o.height/2-r/2,left:o.left-t}:{top:o.top+o.height/2-r/2,left:o.left+o.width}},t.prototype.getViewportAdjustedDelta=function(e,o,t,r){var n={top:0,left:0};if(!this.$viewport)return n;var i=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(e)){var s=o.top-i-a.scroll,g=o.top+i-a.scroll+r;s<a.top?n.top=a.top-s:g>a.top+a.height&&(n.top=a.top+a.height-g)}else{var l=o.left-i,p=o.left+i+t;l<a.left?n.left=a.left-l:p>a.right&&(n.left=a.left+a.width-p)}return n},t.prototype.getTitle=function(){var e,o=this.$element,t=this.options;return e=o.attr("data-original-title")||("function"==typeof t.title?t.title.call(o[0]):t.title)},t.prototype.getUID=function(e){do e+=~~(1e6*Math.random());while(document.getElementById(e));return e},t.prototype.tip=function(){if(!this.$tip&&(this.$tip=e(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},t.prototype.enable=function(){this.enabled=!0},t.prototype.disable=function(){this.enabled=!1},t.prototype.toggleEnabled=function(){this.enabled=!this.enabled},t.prototype.toggle=function(o){var t=this;o&&(t=e(o.currentTarget).data("bs."+this.type),t||(t=new this.constructor(o.currentTarget,this.getDelegateOptions()),e(o.currentTarget).data("bs."+this.type,t))),o?(t.inState.click=!t.inState.click,t.isInStateTrue()?t.enter(t):t.leave(t)):t.tip().hasClass("in")?t.leave(t):t.enter(t)},t.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type),e.$tip&&e.$tip.detach(),e.$tip=null,e.$arrow=null,e.$viewport=null})};var r=e.fn.tooltip;e.fn.tooltip=o,e.fn.tooltip.Constructor=t,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=r,this}}(jQuery),+function(e){"use strict";function o(o){return this.each(function(){var r=e(this),n=r.data("bs.popover"),i="object"==typeof o&&o;(n||!/destroy|hide/.test(o))&&(n||r.data("bs.popover",n=new t(this,i)),"string"==typeof o&&n[o]())})}var t=function(e,o){this.init("popover",e,o)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");t.VERSION="3.3.5",t.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),t.prototype.constructor=t,t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.setContent=function(){var e=this.tip(),o=this.getTitle(),t=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](o),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof t?"html":"append":"text"](t),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},t.prototype.hasContent=function(){return this.getTitle()||this.getContent()},t.prototype.getContent=function(){var e=this.$element,o=this.options;return e.attr("data-content")||("function"==typeof o.content?o.content.call(e[0]):o.content)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var r=e.fn.popover;e.fn.popover=o,e.fn.popover.Constructor=t,e.fn.popover.noConflict=function(){return e.fn.popover=r,this}}(jQuery),+function(e){"use strict";function o(t,r){this.$body=e(document.body),this.$scrollElement=e(e(t).is(document.body)?window:t),this.options=e.extend({},o.DEFAULTS,r),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e.proxy(this.process,this)),this.refresh(),this.process()}function t(t){return this.each(function(){var r=e(this),n=r.data("bs.scrollspy"),i="object"==typeof t&&t;n||r.data("bs.scrollspy",n=new o(this,i)),"string"==typeof t&&n[t]()})}o.VERSION="3.3.5",o.DEFAULTS={offset:10},o.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},o.prototype.refresh=function(){var o=this,t="offset",r=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),e.isWindow(this.$scrollElement[0])||(t="position",r=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var o=e(this),n=o.data("target")||o.attr("href"),i=/^#./.test(n)&&e(n);return i&&i.length&&i.is(":visible")&&[[i[t]().top+r,n]]||null}).sort(function(e,o){return e[0]-o[0]}).each(function(){o.offsets.push(this[0]),o.targets.push(this[1])})},o.prototype.process=function(){var e,o=this.$scrollElement.scrollTop()+this.options.offset,t=this.getScrollHeight(),r=this.options.offset+t-this.$scrollElement.height(),n=this.offsets,i=this.targets,a=this.activeTarget;if(this.scrollHeight!=t&&this.refresh(),o>=r)return a!=(e=i[i.length-1])&&this.activate(e);if(a&&o<n[0])return this.activeTarget=null,this.clear();for(e=n.length;e--;)a!=i[e]&&o>=n[e]&&(void 0===n[e+1]||o<n[e+1])&&this.activate(i[e])},o.prototype.activate=function(o){this.activeTarget=o,this.clear();var t=this.selector+'[data-target="'+o+'"],'+this.selector+'[href="'+o+'"]',r=e(t).parents("li").addClass("active");r.parent(".dropdown-menu").length&&(r=r.closest("li.dropdown").addClass("active")),r.trigger("activate.bs.scrollspy")},o.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var r=e.fn.scrollspy;e.fn.scrollspy=t,e.fn.scrollspy.Constructor=o,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=r,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var o=e(this);t.call(o,o.data())})})}(jQuery),+function(e){"use strict";function o(o){return this.each(function(){var r=e(this),n=r.data("bs.tab");n||r.data("bs.tab",n=new t(this)),"string"==typeof o&&n[o]()})}var t=function(o){this.element=e(o)};t.VERSION="3.3.5",t.TRANSITION_DURATION=150,t.prototype.show=function(){var o=this.element,t=o.closest("ul:not(.dropdown-menu)"),r=o.data("target");if(r||(r=o.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),!o.parent("li").hasClass("active")){var n=t.find(".active:last a"),i=e.Event("hide.bs.tab",{relatedTarget:o[0]}),a=e.Event("show.bs.tab",{relatedTarget:n[0]});if(n.trigger(i),o.trigger(a),!a.isDefaultPrevented()&&!i.isDefaultPrevented()){var s=e(r);this.activate(o.closest("li"),t),this.activate(s,s.parent(),function(){n.trigger({type:"hidden.bs.tab",relatedTarget:o[0]}),o.trigger({type:"shown.bs.tab",relatedTarget:n[0]})})}}},t.prototype.activate=function(o,r,n){function i(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),o.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(o[0].offsetWidth,o.addClass("in")):o.removeClass("fade"),o.parent(".dropdown-menu").length&&o.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),n&&n()}var a=r.find("> .active"),s=n&&e.support.transition&&(a.length&&a.hasClass("fade")||!!r.find("> .fade").length);a.length&&s?a.one("bsTransitionEnd",i).emulateTransitionEnd(t.TRANSITION_DURATION):i(),a.removeClass("in")};var r=e.fn.tab;e.fn.tab=o,e.fn.tab.Constructor=t,e.fn.tab.noConflict=function(){return e.fn.tab=r,this};var n=function(t){t.preventDefault(),o.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',n).on("click.bs.tab.data-api",'[data-toggle="pill"]',n)}(jQuery),+function(e){"use strict";function o(o){return this.each(function(){var r=e(this),n=r.data("bs.affix"),i="object"==typeof o&&o;n||r.data("bs.affix",n=new t(this,i)),"string"==typeof o&&n[o]()})}var t=function(o,r){this.options=e.extend({},t.DEFAULTS,r),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(o),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};t.VERSION="3.3.5",t.RESET="affix affix-top affix-bottom",t.DEFAULTS={offset:0,target:window},t.prototype.getState=function(e,o,t,r){var n=this.$target.scrollTop(),i=this.$element.offset(),a=this.$target.height();if(null!=t&&"top"==this.affixed)return t>n?"top":!1;if("bottom"==this.affixed)return null!=t?n+this.unpin<=i.top?!1:"bottom":e-r>=n+a?!1:"bottom";var s=null==this.affixed,g=s?n:i.top,l=s?a:o;return null!=t&&t>=n?"top":null!=r&&g+l>=e-r?"bottom":!1},t.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(t.RESET).addClass("affix");var e=this.$target.scrollTop(),o=this.$element.offset();return this.pinnedOffset=o.top-e},t.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},t.prototype.checkPosition=function(){if(this.$element.is(":visible")){var o=this.$element.height(),r=this.options.offset,n=r.top,i=r.bottom,a=Math.max(e(document).height(),e(document.body).height());"object"!=typeof r&&(i=n=r),"function"==typeof n&&(n=r.top(this.$element)),"function"==typeof i&&(i=r.bottom(this.$element));var s=this.getState(a,o,n,i);if(this.affixed!=s){null!=this.unpin&&this.$element.css("top","");var g="affix"+(s?"-"+s:""),l=e.Event(g+".bs.affix");if(this.$element.trigger(l),l.isDefaultPrevented())return;this.affixed=s,this.unpin="bottom"==s?this.getPinnedOffset():null,this.$element.removeClass(t.RESET).addClass(g).trigger(g.replace("affix","affixed")+".bs.affix")}"bottom"==s&&this.$element.offset({top:a-o-i})}};var r=e.fn.affix;e.fn.affix=o,e.fn.affix.Constructor=t,e.fn.affix.noConflict=function(){return e.fn.affix=r,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this),r=t.data();r.offset=r.offset||{},null!=r.offsetBottom&&(r.offset.bottom=r.offsetBottom),null!=r.offsetTop&&(r.offset.top=r.offsetTop),o.call(t,r)})})}(jQuery),!function(e,o){"object"==typeof exports&&"undefined"!=typeof module?module.exports=o():"function"==typeof define&&define.amd?define(o):e.moment=o()}(this,function(){"use strict";function e(){return Dt.apply(null,arguments)}function o(e){Dt=e}function t(e){return"[object Array]"===Object.prototype.toString.call(e)}function r(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function n(e,o){var t,r=[];for(t=0;t<e.length;++t)r.push(o(e[t],t));return r}function i(e,o){return Object.prototype.hasOwnProperty.call(e,o)}function a(e,o){for(var t in o)i(o,t)&&(e[t]=o[t]);return i(o,"toString")&&(e.toString=o.toString),i(o,"valueOf")&&(e.valueOf=o.valueOf),e}function s(e,o,t,r){return Pe(e,o,t,r,!0).utc()}function g(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function l(e){return null==e._pf&&(e._pf=g()),e._pf}function p(e){if(null==e._isValid){var o=l(e);e._isValid=!isNaN(e._d.getTime())&&o.overflow<0&&!o.empty&&!o.invalidMonth&&!o.nullInput&&!o.invalidFormat&&!o.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===o.charsLeftOver&&0===o.unusedTokens.length&&void 0===o.bigHour)}return e._isValid}function u(e){var o=s(0/0);return null!=e?a(l(o),e):l(o).userInvalidated=!0,o}function c(e,o){var t,r,n;if("undefined"!=typeof o._isAMomentObject&&(e._isAMomentObject=o._isAMomentObject),"undefined"!=typeof o._i&&(e._i=o._i),"undefined"!=typeof o._f&&(e._f=o._f),"undefined"!=typeof o._l&&(e._l=o._l),"undefined"!=typeof o._strict&&(e._strict=o._strict),"undefined"!=typeof o._tzm&&(e._tzm=o._tzm),"undefined"!=typeof o._isUTC&&(e._isUTC=o._isUTC),"undefined"!=typeof o._offset&&(e._offset=o._offset),"undefined"!=typeof o._pf&&(e._pf=l(o)),"undefined"!=typeof o._locale&&(e._locale=o._locale),Nt.length>0)for(t in Nt)r=Nt[t],n=o[r],"undefined"!=typeof n&&(e[r]=n);return e}function d(o){c(this,o),this._d=new Date(+o._d),wt===!1&&(wt=!0,e.updateOffset(this),wt=!1)}function h(e){return e instanceof d||null!=e&&null!=e._isAMomentObject}function m(e){var o=+e,t=0;return 0!==o&&isFinite(o)&&(t=o>=0?Math.floor(o):Math.ceil(o)),t}function y(e,o,t){var r,n=Math.min(e.length,o.length),i=Math.abs(e.length-o.length),a=0;for(r=0;n>r;r++)(t&&e[r]!==o[r]||!t&&m(e[r])!==m(o[r]))&&a++;return a+i}function f(){}function v(e){return e?e.toLowerCase().replace("_","-"):e}function _(e){for(var o,t,r,n,i=0;i<e.length;){for(n=v(e[i]).split("-"),o=n.length,t=v(e[i+1]),t=t?t.split("-"):null;o>0;){if(r=E(n.slice(0,o).join("-")))return r;if(t&&t.length>=o&&y(n,t,!0)>=o-1)break;o--}i++}return null}function E(e){var o=null;if(!It[e]&&"undefined"!=typeof module&&module&&module.exports)try{o=Lt._abbr,require("./locale/"+e),S(o)}catch(t){}return It[e]}function S(e,o){var t;return e&&(t="undefined"==typeof o?x(e):T(e,o),t&&(Lt=t)),Lt._abbr}function T(e,o){return null!==o?(o.abbr=e,It[e]||(It[e]=new f),It[e].set(o),S(e),It[e]):(delete It[e],null)}function x(e){var o;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Lt;if(!t(e)){if(o=E(e))return o;e=[e]}return _(e)}function b(e,o){var t=e.toLowerCase();Ot[t]=Ot[t+"s"]=Ot[o]=e}function P(e){return"string"==typeof e?Ot[e]||Ot[e.toLowerCase()]:void 0}function M(e){var o,t,r={};for(t in e)i(e,t)&&(o=P(t),o&&(r[o]=e[t]));return r}function C(o,t){return function(r){return null!=r?(A(this,o,r),e.updateOffset(this,t),this):R(this,o)}}function R(e,o){return e._d["get"+(e._isUTC?"UTC":"")+o]()}function A(e,o,t){return e._d["set"+(e._isUTC?"UTC":"")+o](t)}function D(e,o){var t;if("object"==typeof e)for(t in e)this.set(t,e[t]);else if(e=P(e),"function"==typeof this[e])return this[e](o);return this}function L(e,o,t){for(var r=""+Math.abs(e),n=e>=0;r.length<o;)r="0"+r;return(n?t?"+":"":"-")+r}function N(e,o,t,r){var n=r;"string"==typeof r&&(n=function(){return this[r]()}),e&&(Ut[e]=n),o&&(Ut[o[0]]=function(){return L(n.apply(this,arguments),o[1],o[2])}),t&&(Ut[t]=function(){return this.localeData().ordinal(n.apply(this,arguments),e)})}function w(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function I(e){var o,t,r=e.match(Ft);for(o=0,t=r.length;t>o;o++)r[o]=Ut[r[o]]?Ut[r[o]]:w(r[o]);return function(n){var i="";for(o=0;t>o;o++)i+=r[o]instanceof Function?r[o].call(n,e):r[o];return i}}function O(e,o){return e.isValid()?(o=F(o,e.localeData()),kt[o]||(kt[o]=I(o)),kt[o](e)):e.localeData().invalidDate()}function F(e,o){function t(e){return o.longDateFormat(e)||e}var r=5;for(Gt.lastIndex=0;r>=0&&Gt.test(e);)e=e.replace(Gt,t),Gt.lastIndex=0,r-=1;return e}function G(e,o,t){er[e]="function"==typeof o?o:function(e){return e&&t?t:o}}function k(e,o){return i(er,e)?er[e](o._strict,o._locale):new RegExp(U(e))}function U(e){return e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,o,t,r,n){return o||t||r||n}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function q(e,o){var t,r=o;for("string"==typeof e&&(e=[e]),"number"==typeof o&&(r=function(e,t){t[o]=m(e)}),t=0;t<e.length;t++)or[e[t]]=r}function $(e,o){q(e,function(e,t,r,n){r._w=r._w||{},o(e,r._w,r,n)})}function B(e,o,t){null!=o&&i(or,e)&&or[e](o,t._a,t,e)}function j(e,o){return new Date(Date.UTC(e,o+1,0)).getUTCDate()}function V(e){return this._months[e.month()]}function H(e){return this._monthsShort[e.month()]}function K(e,o,t){var r,n,i;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;12>r;r++){if(n=s([2e3,r]),t&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(n,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(n,"").replace(".","")+"$","i")),t||this._monthsParse[r]||(i="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),t&&"MMMM"===o&&this._longMonthsParse[r].test(e))return r;if(t&&"MMM"===o&&this._shortMonthsParse[r].test(e))return r;if(!t&&this._monthsParse[r].test(e))return r}}function W(e,o){var t;return"string"==typeof o&&(o=e.localeData().monthsParse(o),"number"!=typeof o)?e:(t=Math.min(e.date(),j(e.year(),o)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](o,t),e)}function Y(o){return null!=o?(W(this,o),e.updateOffset(this,!0),this):R(this,"Month")}function X(){return j(this.year(),this.month())}function z(e){var o,t=e._a;return t&&-2===l(e).overflow&&(o=t[rr]<0||t[rr]>11?rr:t[nr]<1||t[nr]>j(t[tr],t[rr])?nr:t[ir]<0||t[ir]>24||24===t[ir]&&(0!==t[ar]||0!==t[sr]||0!==t[gr])?ir:t[ar]<0||t[ar]>59?ar:t[sr]<0||t[sr]>59?sr:t[gr]<0||t[gr]>999?gr:-1,l(e)._overflowDayOfYear&&(tr>o||o>nr)&&(o=nr),l(e).overflow=o),e}function Z(o){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+o)}function J(e,o){var t=!0,r=e+"\n"+(new Error).stack;return a(function(){return t&&(Z(r),t=!1),o.apply(this,arguments)},o)}function Q(e,o){ur[e]||(Z(o),ur[e]=!0)}function ee(e){var o,t,r=e._i,n=cr.exec(r);if(n){for(l(e).iso=!0,o=0,t=dr.length;t>o;o++)if(dr[o][1].exec(r)){e._f=dr[o][0]+(n[6]||" ");break}for(o=0,t=hr.length;t>o;o++)if(hr[o][1].exec(r)){e._f+=hr[o][0];break}r.match(Zt)&&(e._f+="Z"),
_e(e)}else e._isValid=!1}function oe(o){var t=mr.exec(o._i);return null!==t?void(o._d=new Date(+t[1])):(ee(o),void(o._isValid===!1&&(delete o._isValid,e.createFromInputFallback(o))))}function te(e,o,t,r,n,i,a){var s=new Date(e,o,t,r,n,i,a);return 1970>e&&s.setFullYear(e),s}function re(e){var o=new Date(Date.UTC.apply(null,arguments));return 1970>e&&o.setUTCFullYear(e),o}function ne(e){return ie(e)?366:365}function ie(e){return e%4===0&&e%100!==0||e%400===0}function ae(){return ie(this.year())}function se(e,o,t){var r,n=t-o,i=t-e.day();return i>n&&(i-=7),n-7>i&&(i+=7),r=Me(e).add(i,"d"),{week:Math.ceil(r.dayOfYear()/7),year:r.year()}}function ge(e){return se(e,this._week.dow,this._week.doy).week}function le(){return this._week.dow}function pe(){return this._week.doy}function ue(e){var o=this.localeData().week(this);return null==e?o:this.add(7*(e-o),"d")}function ce(e){var o=se(this,1,4).week;return null==e?o:this.add(7*(e-o),"d")}function de(e,o,t,r,n){var i,a,s=re(e,0,1).getUTCDay();return s=0===s?7:s,t=null!=t?t:n,i=n-s+(s>r?7:0)-(n>s?7:0),a=7*(o-1)+(t-n)+i+1,{year:a>0?e:e-1,dayOfYear:a>0?a:ne(e-1)+a}}function he(e){var o=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?o:this.add(e-o,"d")}function me(e,o,t){return null!=e?e:null!=o?o:t}function ye(e){var o=new Date;return e._useUTC?[o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()]:[o.getFullYear(),o.getMonth(),o.getDate()]}function fe(e){var o,t,r,n,i=[];if(!e._d){for(r=ye(e),e._w&&null==e._a[nr]&&null==e._a[rr]&&ve(e),e._dayOfYear&&(n=me(e._a[tr],r[tr]),e._dayOfYear>ne(n)&&(l(e)._overflowDayOfYear=!0),t=re(n,0,e._dayOfYear),e._a[rr]=t.getUTCMonth(),e._a[nr]=t.getUTCDate()),o=0;3>o&&null==e._a[o];++o)e._a[o]=i[o]=r[o];for(;7>o;o++)e._a[o]=i[o]=null==e._a[o]?2===o?1:0:e._a[o];24===e._a[ir]&&0===e._a[ar]&&0===e._a[sr]&&0===e._a[gr]&&(e._nextDay=!0,e._a[ir]=0),e._d=(e._useUTC?re:te).apply(null,i),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ir]=24)}}function ve(e){var o,t,r,n,i,a,s;o=e._w,null!=o.GG||null!=o.W||null!=o.E?(i=1,a=4,t=me(o.GG,e._a[tr],se(Me(),1,4).year),r=me(o.W,1),n=me(o.E,1)):(i=e._locale._week.dow,a=e._locale._week.doy,t=me(o.gg,e._a[tr],se(Me(),i,a).year),r=me(o.w,1),null!=o.d?(n=o.d,i>n&&++r):n=null!=o.e?o.e+i:i),s=de(t,r,n,a,i),e._a[tr]=s.year,e._dayOfYear=s.dayOfYear}function _e(o){if(o._f===e.ISO_8601)return void ee(o);o._a=[],l(o).empty=!0;var t,r,n,i,a,s=""+o._i,g=s.length,p=0;for(n=F(o._f,o._locale).match(Ft)||[],t=0;t<n.length;t++)i=n[t],r=(s.match(k(i,o))||[])[0],r&&(a=s.substr(0,s.indexOf(r)),a.length>0&&l(o).unusedInput.push(a),s=s.slice(s.indexOf(r)+r.length),p+=r.length),Ut[i]?(r?l(o).empty=!1:l(o).unusedTokens.push(i),B(i,r,o)):o._strict&&!r&&l(o).unusedTokens.push(i);l(o).charsLeftOver=g-p,s.length>0&&l(o).unusedInput.push(s),l(o).bigHour===!0&&o._a[ir]<=12&&o._a[ir]>0&&(l(o).bigHour=void 0),o._a[ir]=Ee(o._locale,o._a[ir],o._meridiem),fe(o),z(o)}function Ee(e,o,t){var r;return null==t?o:null!=e.meridiemHour?e.meridiemHour(o,t):null!=e.isPM?(r=e.isPM(t),r&&12>o&&(o+=12),r||12!==o||(o=0),o):o}function Se(e){var o,t,r,n,i;if(0===e._f.length)return l(e).invalidFormat=!0,void(e._d=new Date(0/0));for(n=0;n<e._f.length;n++)i=0,o=c({},e),null!=e._useUTC&&(o._useUTC=e._useUTC),o._f=e._f[n],_e(o),p(o)&&(i+=l(o).charsLeftOver,i+=10*l(o).unusedTokens.length,l(o).score=i,(null==r||r>i)&&(r=i,t=o));a(e,t||o)}function Te(e){if(!e._d){var o=M(e._i);e._a=[o.year,o.month,o.day||o.date,o.hour,o.minute,o.second,o.millisecond],fe(e)}}function xe(e){var o,n=e._i,i=e._f;return e._locale=e._locale||x(e._l),null===n||void 0===i&&""===n?u({nullInput:!0}):("string"==typeof n&&(e._i=n=e._locale.preparse(n)),h(n)?new d(z(n)):(t(i)?Se(e):i?_e(e):r(n)?e._d=n:be(e),o=new d(z(e)),o._nextDay&&(o.add(1,"d"),o._nextDay=void 0),o))}function be(o){var i=o._i;void 0===i?o._d=new Date:r(i)?o._d=new Date(+i):"string"==typeof i?oe(o):t(i)?(o._a=n(i.slice(0),function(e){return parseInt(e,10)}),fe(o)):"object"==typeof i?Te(o):"number"==typeof i?o._d=new Date(i):e.createFromInputFallback(o)}function Pe(e,o,t,r,n){var i={};return"boolean"==typeof t&&(r=t,t=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=n,i._l=t,i._i=e,i._f=o,i._strict=r,xe(i)}function Me(e,o,t,r){return Pe(e,o,t,r,!1)}function Ce(e,o){var r,n;if(1===o.length&&t(o[0])&&(o=o[0]),!o.length)return Me();for(r=o[0],n=1;n<o.length;++n)o[n][e](r)&&(r=o[n]);return r}function Re(){var e=[].slice.call(arguments,0);return Ce("isBefore",e)}function Ae(){var e=[].slice.call(arguments,0);return Ce("isAfter",e)}function De(e){var o=M(e),t=o.year||0,r=o.quarter||0,n=o.month||0,i=o.week||0,a=o.day||0,s=o.hour||0,g=o.minute||0,l=o.second||0,p=o.millisecond||0;this._milliseconds=+p+1e3*l+6e4*g+36e5*s,this._days=+a+7*i,this._months=+n+3*r+12*t,this._data={},this._locale=x(),this._bubble()}function Le(e){return e instanceof De}function Ne(e,o){N(e,0,0,function(){var e=this.utcOffset(),t="+";return 0>e&&(e=-e,t="-"),t+L(~~(e/60),2)+o+L(~~e%60,2)})}function we(e){var o=(e||"").match(Zt)||[],t=o[o.length-1]||[],r=(t+"").match(Er)||["-",0,0],n=+(60*r[1])+m(r[2]);return"+"===r[0]?n:-n}function Ie(o,t){var n,i;return t._isUTC?(n=t.clone(),i=(h(o)||r(o)?+o:+Me(o))-+n,n._d.setTime(+n._d+i),e.updateOffset(n,!1),n):Me(o).local()}function Oe(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Fe(o,t){var r,n=this._offset||0;return null!=o?("string"==typeof o&&(o=we(o)),Math.abs(o)<16&&(o=60*o),!this._isUTC&&t&&(r=Oe(this)),this._offset=o,this._isUTC=!0,null!=r&&this.add(r,"m"),n!==o&&(!t||this._changeInProgress?Je(this,We(o-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?n:Oe(this)}function Ge(e,o){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,o),this):-this.utcOffset()}function ke(e){return this.utcOffset(0,e)}function Ue(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Oe(this),"m")),this}function qe(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(we(this._i)),this}function $e(e){return e=e?Me(e).utcOffset():0,(this.utcOffset()-e)%60===0}function Be(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function je(){if(this._a){var e=this._isUTC?s(this._a):Me(this._a);return this.isValid()&&y(this._a,e.toArray())>0}return!1}function Ve(){return!this._isUTC}function He(){return this._isUTC}function Ke(){return this._isUTC&&0===this._offset}function We(e,o){var t,r,n,a=e,s=null;return Le(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(a={},o?a[o]=e:a.milliseconds=e):(s=Sr.exec(e))?(t="-"===s[1]?-1:1,a={y:0,d:m(s[nr])*t,h:m(s[ir])*t,m:m(s[ar])*t,s:m(s[sr])*t,ms:m(s[gr])*t}):(s=Tr.exec(e))?(t="-"===s[1]?-1:1,a={y:Ye(s[2],t),M:Ye(s[3],t),d:Ye(s[4],t),h:Ye(s[5],t),m:Ye(s[6],t),s:Ye(s[7],t),w:Ye(s[8],t)}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(n=ze(Me(a.from),Me(a.to)),a={},a.ms=n.milliseconds,a.M=n.months),r=new De(a),Le(e)&&i(e,"_locale")&&(r._locale=e._locale),r}function Ye(e,o){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*o}function Xe(e,o){var t={milliseconds:0,months:0};return t.months=o.month()-e.month()+12*(o.year()-e.year()),e.clone().add(t.months,"M").isAfter(o)&&--t.months,t.milliseconds=+o-+e.clone().add(t.months,"M"),t}function ze(e,o){var t;return o=Ie(o,e),e.isBefore(o)?t=Xe(e,o):(t=Xe(o,e),t.milliseconds=-t.milliseconds,t.months=-t.months),t}function Ze(e,o){return function(t,r){var n,i;return null===r||isNaN(+r)||(Q(o,"moment()."+o+"(period, number) is deprecated. Please use moment()."+o+"(number, period)."),i=t,t=r,r=i),t="string"==typeof t?+t:t,n=We(t,r),Je(this,n,e),this}}function Je(o,t,r,n){var i=t._milliseconds,a=t._days,s=t._months;n=null==n?!0:n,i&&o._d.setTime(+o._d+i*r),a&&A(o,"Date",R(o,"Date")+a*r),s&&W(o,R(o,"Month")+s*r),n&&e.updateOffset(o,a||s)}function Qe(e){var o=e||Me(),t=Ie(o,this).startOf("day"),r=this.diff(t,"days",!0),n=-6>r?"sameElse":-1>r?"lastWeek":0>r?"lastDay":1>r?"sameDay":2>r?"nextDay":7>r?"nextWeek":"sameElse";return this.format(this.localeData().calendar(n,this,Me(o)))}function eo(){return new d(this)}function oo(e,o){var t;return o=P("undefined"!=typeof o?o:"millisecond"),"millisecond"===o?(e=h(e)?e:Me(e),+this>+e):(t=h(e)?+e:+Me(e),t<+this.clone().startOf(o))}function to(e,o){var t;return o=P("undefined"!=typeof o?o:"millisecond"),"millisecond"===o?(e=h(e)?e:Me(e),+e>+this):(t=h(e)?+e:+Me(e),+this.clone().endOf(o)<t)}function ro(e,o,t){return this.isAfter(e,t)&&this.isBefore(o,t)}function no(e,o){var t;return o=P(o||"millisecond"),"millisecond"===o?(e=h(e)?e:Me(e),+this===+e):(t=+Me(e),+this.clone().startOf(o)<=t&&t<=+this.clone().endOf(o))}function io(e){return 0>e?Math.ceil(e):Math.floor(e)}function ao(e,o,t){var r,n,i=Ie(e,this),a=6e4*(i.utcOffset()-this.utcOffset());return o=P(o),"year"===o||"month"===o||"quarter"===o?(n=so(this,i),"quarter"===o?n/=3:"year"===o&&(n/=12)):(r=this-i,n="second"===o?r/1e3:"minute"===o?r/6e4:"hour"===o?r/36e5:"day"===o?(r-a)/864e5:"week"===o?(r-a)/6048e5:r),t?n:io(n)}function so(e,o){var t,r,n=12*(o.year()-e.year())+(o.month()-e.month()),i=e.clone().add(n,"months");return 0>o-i?(t=e.clone().add(n-1,"months"),r=(o-i)/(i-t)):(t=e.clone().add(n+1,"months"),r=(o-i)/(t-i)),-(n+r)}function go(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function lo(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():O(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):O(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function po(o){var t=O(this,o||e.defaultFormat);return this.localeData().postformat(t)}function uo(e,o){return this.isValid()?We({to:this,from:e}).locale(this.locale()).humanize(!o):this.localeData().invalidDate()}function co(e){return this.from(Me(),e)}function ho(e,o){return this.isValid()?We({from:this,to:e}).locale(this.locale()).humanize(!o):this.localeData().invalidDate()}function mo(e){return this.to(Me(),e)}function yo(e){var o;return void 0===e?this._locale._abbr:(o=x(e),null!=o&&(this._locale=o),this)}function fo(){return this._locale}function vo(e){switch(e=P(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function _o(e){return e=P(e),void 0===e||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")}function Eo(){return+this._d-6e4*(this._offset||0)}function So(){return Math.floor(+this/1e3)}function To(){return this._offset?new Date(+this):this._d}function xo(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function bo(){return p(this)}function Po(){return a({},l(this))}function Mo(){return l(this).overflow}function Co(e,o){N(0,[e,e.length],0,o)}function Ro(e,o,t){return se(Me([e,11,31+o-t]),o,t).week}function Ao(e){var o=se(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?o:this.add(e-o,"y")}function Do(e){var o=se(this,1,4).year;return null==e?o:this.add(e-o,"y")}function Lo(){return Ro(this.year(),1,4)}function No(){var e=this.localeData()._week;return Ro(this.year(),e.dow,e.doy)}function wo(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Io(e,o){if("string"==typeof e)if(isNaN(e)){if(e=o.weekdaysParse(e),"number"!=typeof e)return null}else e=parseInt(e,10);return e}function Oo(e){return this._weekdays[e.day()]}function Fo(e){return this._weekdaysShort[e.day()]}function Go(e){return this._weekdaysMin[e.day()]}function ko(e){var o,t,r;for(this._weekdaysParse||(this._weekdaysParse=[]),o=0;7>o;o++)if(this._weekdaysParse[o]||(t=Me([2e3,1]).day(o),r="^"+this.weekdays(t,"")+"|^"+this.weekdaysShort(t,"")+"|^"+this.weekdaysMin(t,""),this._weekdaysParse[o]=new RegExp(r.replace(".",""),"i")),this._weekdaysParse[o].test(e))return o}function Uo(e){var o=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Io(e,this.localeData()),this.add(e-o,"d")):o}function qo(e){var o=(this.day()+7-this.localeData()._week.dow)%7;return null==e?o:this.add(e-o,"d")}function $o(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)}function Bo(e,o){N(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),o)})}function jo(e,o){return o._meridiemParse}function Vo(e){return"p"===(e+"").toLowerCase().charAt(0)}function Ho(e,o,t){return e>11?t?"pm":"PM":t?"am":"AM"}function Ko(e){N(0,[e,3],0,"millisecond")}function Wo(){return this._isUTC?"UTC":""}function Yo(){return this._isUTC?"Coordinated Universal Time":""}function Xo(e){return Me(1e3*e)}function zo(){return Me.apply(null,arguments).parseZone()}function Zo(e,o,t){var r=this._calendar[e];return"function"==typeof r?r.call(o,t):r}function Jo(e){var o=this._longDateFormat[e];return!o&&this._longDateFormat[e.toUpperCase()]&&(o=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=o),o}function Qo(){return this._invalidDate}function et(e){return this._ordinal.replace("%d",e)}function ot(e){return e}function tt(e,o,t,r){var n=this._relativeTime[t];return"function"==typeof n?n(e,o,t,r):n.replace(/%d/i,e)}function rt(e,o){var t=this._relativeTime[e>0?"future":"past"];return"function"==typeof t?t(o):t.replace(/%s/i,o)}function nt(e){var o,t;for(t in e)o=e[t],"function"==typeof o?this[t]=o:this["_"+t]=o;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function it(e,o,t,r){var n=x(),i=s().set(r,o);return n[t](i,e)}function at(e,o,t,r,n){if("number"==typeof e&&(o=e,e=void 0),e=e||"",null!=o)return it(e,o,t,n);var i,a=[];for(i=0;r>i;i++)a[i]=it(e,i,t,n);return a}function st(e,o){return at(e,o,"months",12,"month")}function gt(e,o){return at(e,o,"monthsShort",12,"month")}function lt(e,o){return at(e,o,"weekdays",7,"day")}function pt(e,o){return at(e,o,"weekdaysShort",7,"day")}function ut(e,o){return at(e,o,"weekdaysMin",7,"day")}function ct(){var e=this._data;return this._milliseconds=Vr(this._milliseconds),this._days=Vr(this._days),this._months=Vr(this._months),e.milliseconds=Vr(e.milliseconds),e.seconds=Vr(e.seconds),e.minutes=Vr(e.minutes),e.hours=Vr(e.hours),e.months=Vr(e.months),e.years=Vr(e.years),this}function dt(e,o,t,r){var n=We(o,t);return e._milliseconds+=r*n._milliseconds,e._days+=r*n._days,e._months+=r*n._months,e._bubble()}function ht(e,o){return dt(this,e,o,1)}function mt(e,o){return dt(this,e,o,-1)}function yt(){var e,o,t,r=this._milliseconds,n=this._days,i=this._months,a=this._data,s=0;return a.milliseconds=r%1e3,e=io(r/1e3),a.seconds=e%60,o=io(e/60),a.minutes=o%60,t=io(o/60),a.hours=t%24,n+=io(t/24),s=io(ft(n)),n-=io(vt(s)),i+=io(n/30),n%=30,s+=io(i/12),i%=12,a.days=n,a.months=i,a.years=s,this}function ft(e){return 400*e/146097}function vt(e){return 146097*e/400}function _t(e){var o,t,r=this._milliseconds;if(e=P(e),"month"===e||"year"===e)return o=this._days+r/864e5,t=this._months+12*ft(o),"month"===e?t:t/12;switch(o=this._days+Math.round(vt(this._months/12)),e){case"week":return o/7+r/6048e5;case"day":return o+r/864e5;case"hour":return 24*o+r/36e5;case"minute":return 1440*o+r/6e4;case"second":return 86400*o+r/1e3;case"millisecond":return Math.floor(864e5*o)+r;default:throw new Error("Unknown unit "+e)}}function Et(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*m(this._months/12)}function St(e){return function(){return this.as(e)}}function Tt(e){return e=P(e),this[e+"s"]()}function xt(e){return function(){return this._data[e]}}function bt(){return io(this.days()/7)}function Pt(e,o,t,r,n){return n.relativeTime(o||1,!!t,e,r)}function Mt(e,o,t){var r=We(e).abs(),n=sn(r.as("s")),i=sn(r.as("m")),a=sn(r.as("h")),s=sn(r.as("d")),g=sn(r.as("M")),l=sn(r.as("y")),p=n<gn.s&&["s",n]||1===i&&["m"]||i<gn.m&&["mm",i]||1===a&&["h"]||a<gn.h&&["hh",a]||1===s&&["d"]||s<gn.d&&["dd",s]||1===g&&["M"]||g<gn.M&&["MM",g]||1===l&&["y"]||["yy",l];return p[2]=o,p[3]=+e>0,p[4]=t,Pt.apply(null,p)}function Ct(e,o){return void 0===gn[e]?!1:void 0===o?gn[e]:(gn[e]=o,!0)}function Rt(e){var o=this.localeData(),t=Mt(this,!e,o);return e&&(t=o.pastFuture(+this,t)),o.postformat(t)}function At(){var e=ln(this.years()),o=ln(this.months()),t=ln(this.days()),r=ln(this.hours()),n=ln(this.minutes()),i=ln(this.seconds()+this.milliseconds()/1e3),a=this.asSeconds();return a?(0>a?"-":"")+"P"+(e?e+"Y":"")+(o?o+"M":"")+(t?t+"D":"")+(r||n||i?"T":"")+(r?r+"H":"")+(n?n+"M":"")+(i?i+"S":""):"P0D"}var Dt,Lt,Nt=e.momentProperties=[],wt=!1,It={},Ot={},Ft=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Gt=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,kt={},Ut={},qt=/\d/,$t=/\d\d/,Bt=/\d{3}/,jt=/\d{4}/,Vt=/[+-]?\d{6}/,Ht=/\d\d?/,Kt=/\d{1,3}/,Wt=/\d{1,4}/,Yt=/[+-]?\d{1,6}/,Xt=/\d+/,zt=/[+-]?\d+/,Zt=/Z|[+-]\d\d:?\d\d/gi,Jt=/[+-]?\d+(\.\d{1,3})?/,Qt=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,er={},or={},tr=0,rr=1,nr=2,ir=3,ar=4,sr=5,gr=6;N("M",["MM",2],"Mo",function(){return this.month()+1}),N("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),N("MMMM",0,0,function(e){return this.localeData().months(this,e)}),b("month","M"),G("M",Ht),G("MM",Ht,$t),G("MMM",Qt),G("MMMM",Qt),q(["M","MM"],function(e,o){o[rr]=m(e)-1}),q(["MMM","MMMM"],function(e,o,t,r){var n=t._locale.monthsParse(e,r,t._strict);null!=n?o[rr]=n:l(t).invalidMonth=e});var lr="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),pr="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ur={};e.suppressDeprecationWarnings=!1;var cr=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,dr=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],hr=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],mr=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=J("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),N(0,["YY",2],0,function(){return this.year()%100}),N(0,["YYYY",4],0,"year"),N(0,["YYYYY",5],0,"year"),N(0,["YYYYYY",6,!0],0,"year"),b("year","y"),G("Y",zt),G("YY",Ht,$t),G("YYYY",Wt,jt),G("YYYYY",Yt,Vt),G("YYYYYY",Yt,Vt),q(["YYYY","YYYYY","YYYYYY"],tr),q("YY",function(o,t){t[tr]=e.parseTwoDigitYear(o)}),e.parseTwoDigitYear=function(e){return m(e)+(m(e)>68?1900:2e3)};var yr=C("FullYear",!1);N("w",["ww",2],"wo","week"),N("W",["WW",2],"Wo","isoWeek"),b("week","w"),b("isoWeek","W"),G("w",Ht),G("ww",Ht,$t),G("W",Ht),G("WW",Ht,$t),$(["w","ww","W","WW"],function(e,o,t,r){o[r.substr(0,1)]=m(e)});var fr={dow:0,doy:6};N("DDD",["DDDD",3],"DDDo","dayOfYear"),b("dayOfYear","DDD"),G("DDD",Kt),G("DDDD",Bt),q(["DDD","DDDD"],function(e,o,t){t._dayOfYear=m(e)}),e.ISO_8601=function(){};var vr=J("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var e=Me.apply(null,arguments);return this>e?this:e}),_r=J("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var e=Me.apply(null,arguments);return e>this?this:e});Ne("Z",":"),Ne("ZZ",""),G("Z",Zt),G("ZZ",Zt),q(["Z","ZZ"],function(e,o,t){t._useUTC=!0,t._tzm=we(e)});var Er=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var Sr=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Tr=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;We.fn=De.prototype;var xr=Ze(1,"add"),br=Ze(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Pr=J("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});N(0,["gg",2],0,function(){return this.weekYear()%100}),N(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Co("gggg","weekYear"),Co("ggggg","weekYear"),Co("GGGG","isoWeekYear"),Co("GGGGG","isoWeekYear"),b("weekYear","gg"),b("isoWeekYear","GG"),G("G",zt),G("g",zt),G("GG",Ht,$t),G("gg",Ht,$t),G("GGGG",Wt,jt),G("gggg",Wt,jt),G("GGGGG",Yt,Vt),G("ggggg",Yt,Vt),$(["gggg","ggggg","GGGG","GGGGG"],function(e,o,t,r){o[r.substr(0,2)]=m(e)}),$(["gg","GG"],function(o,t,r,n){t[n]=e.parseTwoDigitYear(o)}),N("Q",0,0,"quarter"),b("quarter","Q"),G("Q",qt),q("Q",function(e,o){o[rr]=3*(m(e)-1)}),N("D",["DD",2],"Do","date"),b("date","D"),G("D",Ht),G("DD",Ht,$t),G("Do",function(e,o){return e?o._ordinalParse:o._ordinalParseLenient}),q(["D","DD"],nr),q("Do",function(e,o){o[nr]=m(e.match(Ht)[0],10)});var Mr=C("Date",!0);N("d",0,"do","day"),N("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),N("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),N("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),N("e",0,0,"weekday"),N("E",0,0,"isoWeekday"),b("day","d"),b("weekday","e"),b("isoWeekday","E"),G("d",Ht),G("e",Ht),G("E",Ht),G("dd",Qt),G("ddd",Qt),G("dddd",Qt),$(["dd","ddd","dddd"],function(e,o,t){var r=t._locale.weekdaysParse(e);null!=r?o.d=r:l(t).invalidWeekday=e}),$(["d","e","E"],function(e,o,t,r){o[r]=m(e)});var Cr="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Rr="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ar="Su_Mo_Tu_We_Th_Fr_Sa".split("_");N("H",["HH",2],0,"hour"),N("h",["hh",2],0,function(){return this.hours()%12||12}),Bo("a",!0),Bo("A",!1),b("hour","h"),G("a",jo),G("A",jo),G("H",Ht),G("h",Ht),G("HH",Ht,$t),G("hh",Ht,$t),q(["H","HH"],ir),q(["a","A"],function(e,o,t){t._isPm=t._locale.isPM(e),t._meridiem=e}),q(["h","hh"],function(e,o,t){o[ir]=m(e),l(t).bigHour=!0});var Dr=/[ap]\.?m?\.?/i,Lr=C("Hours",!0);N("m",["mm",2],0,"minute"),b("minute","m"),G("m",Ht),G("mm",Ht,$t),q(["m","mm"],ar);var Nr=C("Minutes",!1);N("s",["ss",2],0,"second"),b("second","s"),G("s",Ht),G("ss",Ht,$t),q(["s","ss"],sr);var wr=C("Seconds",!1);N("S",0,0,function(){return~~(this.millisecond()/100)}),N(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Ko("SSS"),Ko("SSSS"),b("millisecond","ms"),G("S",Kt,qt),G("SS",Kt,$t),G("SSS",Kt,Bt),G("SSSS",Xt),q(["S","SS","SSS","SSSS"],function(e,o){o[gr]=m(1e3*("0."+e))});var Ir=C("Milliseconds",!1);N("z",0,0,"zoneAbbr"),N("zz",0,0,"zoneName");var Or=d.prototype;Or.add=xr,Or.calendar=Qe,Or.clone=eo,Or.diff=ao,Or.endOf=_o,Or.format=po,Or.from=uo,Or.fromNow=co,Or.to=ho,Or.toNow=mo,Or.get=D,Or.invalidAt=Mo,Or.isAfter=oo,Or.isBefore=to,Or.isBetween=ro,Or.isSame=no,Or.isValid=bo,Or.lang=Pr,Or.locale=yo,Or.localeData=fo,Or.max=_r,Or.min=vr,Or.parsingFlags=Po,Or.set=D,Or.startOf=vo,Or.subtract=br,Or.toArray=xo,Or.toDate=To,Or.toISOString=lo,Or.toJSON=lo,Or.toString=go,Or.unix=So,Or.valueOf=Eo,Or.year=yr,Or.isLeapYear=ae,Or.weekYear=Ao,Or.isoWeekYear=Do,Or.quarter=Or.quarters=wo,Or.month=Y,Or.daysInMonth=X,Or.week=Or.weeks=ue,Or.isoWeek=Or.isoWeeks=ce,Or.weeksInYear=No,Or.isoWeeksInYear=Lo,Or.date=Mr,Or.day=Or.days=Uo,Or.weekday=qo,Or.isoWeekday=$o,Or.dayOfYear=he,Or.hour=Or.hours=Lr,Or.minute=Or.minutes=Nr,Or.second=Or.seconds=wr,Or.millisecond=Or.milliseconds=Ir,Or.utcOffset=Fe,Or.utc=ke,Or.local=Ue,Or.parseZone=qe,Or.hasAlignedHourOffset=$e,Or.isDST=Be,Or.isDSTShifted=je,Or.isLocal=Ve,Or.isUtcOffset=He,Or.isUtc=Ke,Or.isUTC=Ke,Or.zoneAbbr=Wo,Or.zoneName=Yo,Or.dates=J("dates accessor is deprecated. Use date instead.",Mr),Or.months=J("months accessor is deprecated. Use month instead",Y),Or.years=J("years accessor is deprecated. Use year instead",yr),Or.zone=J("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Ge);var Fr=Or,Gr={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},kr={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},Ur="Invalid date",qr="%d",$r=/\d{1,2}/,Br={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},jr=f.prototype;jr._calendar=Gr,jr.calendar=Zo,jr._longDateFormat=kr,jr.longDateFormat=Jo,jr._invalidDate=Ur,jr.invalidDate=Qo,jr._ordinal=qr,jr.ordinal=et,jr._ordinalParse=$r,jr.preparse=ot,jr.postformat=ot,jr._relativeTime=Br,jr.relativeTime=tt,jr.pastFuture=rt,jr.set=nt,jr.months=V,jr._months=lr,jr.monthsShort=H,jr._monthsShort=pr,jr.monthsParse=K,jr.week=ge,jr._week=fr,jr.firstDayOfYear=pe,jr.firstDayOfWeek=le,jr.weekdays=Oo,jr._weekdays=Cr,jr.weekdaysMin=Go,jr._weekdaysMin=Ar,jr.weekdaysShort=Fo,jr._weekdaysShort=Rr,jr.weekdaysParse=ko,jr.isPM=Vo,jr._meridiemParse=Dr,jr.meridiem=Ho,S("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var o=e%10,t=1===m(e%100/10)?"th":1===o?"st":2===o?"nd":3===o?"rd":"th";return e+t}}),e.lang=J("moment.lang is deprecated. Use moment.locale instead.",S),e.langData=J("moment.langData is deprecated. Use moment.localeData instead.",x);var Vr=Math.abs,Hr=St("ms"),Kr=St("s"),Wr=St("m"),Yr=St("h"),Xr=St("d"),zr=St("w"),Zr=St("M"),Jr=St("y"),Qr=xt("milliseconds"),en=xt("seconds"),on=xt("minutes"),tn=xt("hours"),rn=xt("days"),nn=xt("months"),an=xt("years"),sn=Math.round,gn={s:45,m:45,h:22,d:26,M:11},ln=Math.abs,pn=De.prototype;pn.abs=ct,pn.add=ht,pn.subtract=mt,pn.as=_t,pn.asMilliseconds=Hr,pn.asSeconds=Kr,pn.asMinutes=Wr,pn.asHours=Yr,pn.asDays=Xr,pn.asWeeks=zr,pn.asMonths=Zr,pn.asYears=Jr,pn.valueOf=Et,pn._bubble=yt,pn.get=Tt,pn.milliseconds=Qr,pn.seconds=en,pn.minutes=on,pn.hours=tn,pn.days=rn,pn.weeks=bt,pn.months=nn,pn.years=an,pn.humanize=Rt,pn.toISOString=At,pn.toString=At,pn.toJSON=At,pn.locale=yo,pn.localeData=fo,pn.toIsoString=J("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",At),pn.lang=Pr,N("X",0,0,"unix"),N("x",0,0,"valueOf"),G("x",zt),G("X",Jt),q("X",function(e,o,t){t._d=new Date(1e3*parseFloat(e,10))}),q("x",function(e,o,t){t._d=new Date(m(e))}),e.version="2.10.3",o(Me),e.fn=Fr,e.min=Re,e.max=Ae,e.utc=s,e.unix=Xo,e.months=st,e.isDate=r,e.locale=S,e.invalid=u,e.duration=We,e.isMoment=h,e.weekdays=lt,e.parseZone=zo,e.localeData=x,e.isDuration=Le,e.monthsShort=gt,e.weekdaysMin=ut,e.defineLocale=T,e.weekdaysShort=pt,e.normalizeUnits=P,e.relativeTimeThreshold=Ct;var un=e;return un}),function(e,o){"object"==typeof exports&&"undefined"!=typeof module?o(require("../moment")):"function"==typeof define&&define.amd?define(["moment"],o):o(e.moment)}(this,function(e){"use strict";var o=e.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"søn_man_tirs_ons_tors_fre_lør".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),longDateFormat:{LT:"H.mm",LTS:"LT.ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] LT",LLLL:"dddd D. MMMM YYYY [kl.] LT"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i går kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"for %s siden",s:"noen sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en måned",MM:"%d måneder",y:"ett år",yy:"%d år"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return o}),function(e){"use strict";if("function"==typeof define&&define.amd)define(["jquery","moment"],e);else if("object"==typeof exports)e(require("jquery"),require("moment"));else{if(!jQuery)throw"bootstrap-datetimepicker requires jQuery to be loaded first";if(!moment)throw"bootstrap-datetimepicker requires Moment.js to be loaded first";e(jQuery,moment)}}(function(e,o){"use strict";if(!o)throw new Error("bootstrap-datetimepicker requires Moment.js to be loaded first");var t=function(t,r){var n,i,a,s,g,l={},p=o(),u=p.clone(),c=!0,d=!1,h=!1,m=0,y=[{clsName:"days",navFnc:"M",navStep:1},{clsName:"months",navFnc:"y",navStep:1},{clsName:"years",navFnc:"y",navStep:10}],f=["days","months","years"],v=["top","bottom","auto"],_=["left","right","auto"],E=["default","top","bottom"],S=function(e){if("string"!=typeof e||e.length>1)throw new TypeError("isEnabled expects a single character string parameter");switch(e){case"y":return-1!==a.indexOf("Y");case"M":return-1!==a.indexOf("M");case"d":return-1!==a.toLowerCase().indexOf("d");case"h":case"H":return-1!==a.toLowerCase().indexOf("h");case"m":return-1!==a.indexOf("m");case"s":return-1!==a.indexOf("s");default:return!1}},T=function(){return S("h")||S("m")||S("s")},x=function(){return S("y")||S("M")||S("d")},b=function(){var o=e("<thead>").append(e("<tr>").append(e("<th>").addClass("prev").attr("data-action","previous").append(e("<span>").addClass(r.icons.previous))).append(e("<th>").addClass("picker-switch").attr("data-action","pickerSwitch").attr("colspan",r.calendarWeeks?"6":"5")).append(e("<th>").addClass("next").attr("data-action","next").append(e("<span>").addClass(r.icons.next)))),t=e("<tbody>").append(e("<tr>").append(e("<td>").attr("colspan",r.calendarWeeks?"8":"7")));return[e("<div>").addClass("datepicker-days").append(e("<table>").addClass("table-condensed").append(o).append(e("<tbody>"))),e("<div>").addClass("datepicker-months").append(e("<table>").addClass("table-condensed").append(o.clone()).append(t.clone())),e("<div>").addClass("datepicker-years").append(e("<table>").addClass("table-condensed").append(o.clone()).append(t.clone()))]},P=function(){var o=e("<tr>"),t=e("<tr>"),n=e("<tr>");return S("h")&&(o.append(e("<td>").append(e("<a>").attr("href","#").addClass("btn").attr("data-action","incrementHours").append(e("<span>").addClass(r.icons.up)))),t.append(e("<td>").append(e("<span>").addClass("timepicker-hour").attr("data-time-component","hours").attr("data-action","showHours"))),n.append(e("<td>").append(e("<a>").attr("href","#").addClass("btn").attr("data-action","decrementHours").append(e("<span>").addClass(r.icons.down))))),S("m")&&(S("h")&&(o.append(e("<td>").addClass("separator")),t.append(e("<td>").addClass("separator").html(":")),n.append(e("<td>").addClass("separator"))),o.append(e("<td>").append(e("<a>").attr("href","#").addClass("btn").attr("data-action","incrementMinutes").append(e("<span>").addClass(r.icons.up)))),t.append(e("<td>").append(e("<span>").addClass("timepicker-minute").attr("data-time-component","minutes").attr("data-action","showMinutes"))),n.append(e("<td>").append(e("<a>").attr("href","#").addClass("btn").attr("data-action","decrementMinutes").append(e("<span>").addClass(r.icons.down))))),S("s")&&(S("m")&&(o.append(e("<td>").addClass("separator")),t.append(e("<td>").addClass("separator").html(":")),n.append(e("<td>").addClass("separator"))),o.append(e("<td>").append(e("<a>").attr("href","#").addClass("btn").attr("data-action","incrementSeconds").append(e("<span>").addClass(r.icons.up)))),t.append(e("<td>").append(e("<span>").addClass("timepicker-second").attr("data-time-component","seconds").attr("data-action","showSeconds"))),n.append(e("<td>").append(e("<a>").attr("href","#").addClass("btn").attr("data-action","decrementSeconds").append(e("<span>").addClass(r.icons.down))))),
i||(o.append(e("<td>").addClass("separator")),t.append(e("<td>").append(e("<button>").addClass("btn btn-primary").attr("data-action","togglePeriod"))),n.append(e("<td>").addClass("separator"))),e("<div>").addClass("timepicker-picker").append(e("<table>").addClass("table-condensed").append([o,t,n]))},M=function(){var o=e("<div>").addClass("timepicker-hours").append(e("<table>").addClass("table-condensed")),t=e("<div>").addClass("timepicker-minutes").append(e("<table>").addClass("table-condensed")),r=e("<div>").addClass("timepicker-seconds").append(e("<table>").addClass("table-condensed")),n=[P()];return S("h")&&n.push(o),S("m")&&n.push(t),S("s")&&n.push(r),n},C=function(){var o=[];return r.showTodayButton&&o.push(e("<td>").append(e("<a>").attr("data-action","today").append(e("<span>").addClass(r.icons.today)))),!r.sideBySide&&x()&&T()&&o.push(e("<td>").append(e("<a>").attr("data-action","togglePicker").append(e("<span>").addClass(r.icons.time)))),r.showClear&&o.push(e("<td>").append(e("<a>").attr("data-action","clear").append(e("<span>").addClass(r.icons.clear)))),e("<table>").addClass("table-condensed").append(e("<tbody>").append(e("<tr>").append(o)))},R=function(){var o=e("<div>").addClass("bootstrap-datetimepicker-widget dropdown-menu"),t=e("<div>").addClass("datepicker").append(b()),n=e("<div>").addClass("timepicker").append(M()),a=e("<ul>").addClass("list-unstyled"),s=e("<li>").addClass("picker-switch"+(r.collapse?" accordion-toggle":"")).append(C());return i&&o.addClass("usetwentyfour"),r.sideBySide&&x()&&T()?(o.addClass("timepicker-sbs"),o.append(e("<div>").addClass("row").append(t.addClass("col-sm-6")).append(n.addClass("col-sm-6"))),o.append(s),o):("top"===r.toolbarPlacement&&a.append(s),x()&&a.append(e("<li>").addClass(r.collapse&&T()?"collapse in":"").append(t)),"default"===r.toolbarPlacement&&a.append(s),T()&&a.append(e("<li>").addClass(r.collapse&&x()?"collapse":"").append(n)),"bottom"===r.toolbarPlacement&&a.append(s),o.append(a))},A=function(){var o=t.data(),n={};return o.dateOptions&&o.dateOptions instanceof Object&&(n=e.extend(!0,n,o.dateOptions)),e.each(r,function(e){var t="date"+e.charAt(0).toUpperCase()+e.slice(1);void 0!==o[t]&&(n[e]=o[t])}),n},D=function(){var o,n=(d||t).position(),i=r.widgetPositioning.vertical,a=r.widgetPositioning.horizontal;if(r.widgetParent?o=r.widgetParent.append(h):t.is("input")?o=t.parent().append(h):(o=t,t.children().first().after(h)),"auto"===i&&(i=(d||t).offset().top+h.height()>e(window).height()+e(window).scrollTop()&&h.height()+t.outerHeight()<(d||t).offset().top?"top":"bottom"),"auto"===a&&(a=o.width()<n.left+h.outerWidth()?"right":"left"),"top"===i?h.addClass("top").removeClass("bottom"):h.addClass("bottom").removeClass("top"),"right"===a?h.addClass("pull-right"):h.removeClass("pull-right"),"relative"!==o.css("position")&&(o=o.parents().filter(function(){return"relative"===e(this).css("position")}).first()),0===o.length)throw new Error("datetimepicker component should be placed within a relative positioned container");h.css({top:"top"===i?"auto":n.top+t.outerHeight(),bottom:"top"===i?n.top+t.outerHeight():"auto",left:"left"===a?o.css("padding-left"):"auto",right:"left"===a?"auto":o.css("padding-right")})},L=function(e){"dp.change"===e.type&&(e.date&&e.date.isSame(e.oldDate)||!e.date&&!e.oldDate)||t.trigger(e)},N=function(e){h&&(e&&(g=Math.max(m,Math.min(2,g+e))),h.find(".datepicker > div").hide().filter(".datepicker-"+y[g].clsName).show())},w=function(){var o=e("<tr>"),t=u.clone().startOf("w");for(r.calendarWeeks===!0&&o.append(e("<th>").addClass("cw").text("#"));t.isBefore(u.clone().endOf("w"));)o.append(e("<th>").addClass("dow").text(t.format("dd"))),t.add(1,"d");h.find(".datepicker-days thead").append(o)},I=function(e){return r.disabledDates?r.disabledDates[e.format("YYYY-MM-DD")]===!0:!1},O=function(e){return r.enabledDates?r.enabledDates[e.format("YYYY-MM-DD")]===!0:!1},F=function(e,o){return e.isValid()?r.disabledDates&&I(e)?!1:r.enabledDates&&O(e)?!0:r.minDate&&e.isBefore(r.minDate,o)?!1:r.maxDate&&e.isAfter(r.maxDate,o)?!1:"d"===o&&-1!==r.daysOfWeekDisabled.indexOf(e.day())?!1:!0:!1},G=function(){for(var o=[],t=u.clone().startOf("y").hour(12);t.isSame(u,"y");)o.push(e("<span>").attr("data-action","selectMonth").addClass("month").text(t.format("MMM"))),t.add(1,"M");h.find(".datepicker-months td").empty().append(o)},k=function(){var o=h.find(".datepicker-months"),t=o.find("th"),r=o.find("tbody").find("span");o.find(".disabled").removeClass("disabled"),F(u.clone().subtract(1,"y"),"y")||t.eq(0).addClass("disabled"),t.eq(1).text(u.year()),F(u.clone().add(1,"y"),"y")||t.eq(2).addClass("disabled"),r.removeClass("active"),p.isSame(u,"y")&&r.eq(p.month()).addClass("active"),r.each(function(o){F(u.clone().month(o),"M")||e(this).addClass("disabled")})},U=function(){var e=h.find(".datepicker-years"),o=e.find("th"),t=u.clone().subtract(5,"y"),n=u.clone().add(6,"y"),i="";for(e.find(".disabled").removeClass("disabled"),r.minDate&&r.minDate.isAfter(t,"y")&&o.eq(0).addClass("disabled"),o.eq(1).text(t.year()+"-"+n.year()),r.maxDate&&r.maxDate.isBefore(n,"y")&&o.eq(2).addClass("disabled");!t.isAfter(n,"y");)i+='<span data-action="selectYear" class="year'+(t.isSame(p,"y")?" active":"")+(F(t,"y")?"":" disabled")+'">'+t.year()+"</span>",t.add(1,"y");e.find("td").html(i)},q=function(){var t,n,i,a=h.find(".datepicker-days"),s=a.find("th"),g=[];if(x()){for(a.find(".disabled").removeClass("disabled"),s.eq(1).text(u.format(r.dayViewHeaderFormat)),F(u.clone().subtract(1,"M"),"M")||s.eq(0).addClass("disabled"),F(u.clone().add(1,"M"),"M")||s.eq(2).addClass("disabled"),t=u.clone().startOf("M").startOf("week");!u.clone().endOf("M").endOf("w").isBefore(t,"d");)0===t.weekday()&&(n=e("<tr>"),r.calendarWeeks&&n.append('<td class="cw">'+t.week()+"</td>"),g.push(n)),i="",t.isBefore(u,"M")&&(i+=" old"),t.isAfter(u,"M")&&(i+=" new"),t.isSame(p,"d")&&!c&&(i+=" active"),F(t,"d")||(i+=" disabled"),t.isSame(o(),"d")&&(i+=" today"),(0===t.day()||6===t.day())&&(i+=" weekend"),n.append('<td data-action="selectDay" class="day'+i+'">'+t.date()+"</td>"),t.add(1,"d");a.find("tbody").empty().append(g),k(),U()}},$=function(){var o=h.find(".timepicker-hours table"),t=u.clone().startOf("d"),r=[],n=e("<tr>");for(u.hour()>11&&!i&&t.hour(12);t.isSame(u,"d")&&(i||u.hour()<12&&t.hour()<12||u.hour()>11);)t.hour()%4===0&&(n=e("<tr>"),r.push(n)),n.append('<td data-action="selectHour" class="hour'+(F(t,"h")?"":" disabled")+'">'+t.format(i?"HH":"hh")+"</td>"),t.add(1,"h");o.empty().append(r)},B=function(){for(var o=h.find(".timepicker-minutes table"),t=u.clone().startOf("h"),n=[],i=e("<tr>"),a=1===r.stepping?5:r.stepping;u.isSame(t,"h");)t.minute()%(4*a)===0&&(i=e("<tr>"),n.push(i)),i.append('<td data-action="selectMinute" class="minute'+(F(t,"m")?"":" disabled")+'">'+t.format("mm")+"</td>"),t.add(a,"m");o.empty().append(n)},j=function(){for(var o=h.find(".timepicker-seconds table"),t=u.clone().startOf("m"),r=[],n=e("<tr>");u.isSame(t,"m");)t.second()%20===0&&(n=e("<tr>"),r.push(n)),n.append('<td data-action="selectSecond" class="second'+(F(t,"s")?"":" disabled")+'">'+t.format("ss")+"</td>"),t.add(5,"s");o.empty().append(r)},V=function(){var e=h.find(".timepicker span[data-time-component]");i||h.find(".timepicker [data-action=togglePeriod]").text(p.format("A")),e.filter("[data-time-component=hours]").text(p.format(i?"HH":"hh")),e.filter("[data-time-component=minutes]").text(p.format("mm")),e.filter("[data-time-component=seconds]").text(p.format("ss")),$(),B(),j()},H=function(){h&&(q(),V())},K=function(e){var o=c?null:p;return e?(e=e.clone().locale(r.locale),1!==r.stepping&&e.minutes(Math.round(e.minutes()/r.stepping)*r.stepping%60).seconds(0),void(F(e)?(p=e,u=p.clone(),n.val(p.format(a)),t.data("date",p.format(a)),H(),c=!1,L({type:"dp.change",date:p.clone(),oldDate:o})):(n.val(c?"":p.format(a)),L({type:"dp.error",date:e})))):(c=!0,n.val(""),t.data("date",""),L({type:"dp.change",date:null,oldDate:o}),void H())},W=function(){var o=!1;return h?(h.find(".collapse").each(function(){var t=e(this).data("collapse");return t&&t.transitioning?(o=!0,!1):void 0}),o?l:(d&&d.hasClass("btn")&&d.toggleClass("active"),h.hide(),e(window).off("resize",D),h.off("click","[data-action]"),h.off("mousedown",!1),h.remove(),h=!1,L({type:"dp.hide",date:p.clone()}),l)):l},Y={next:function(){u.add(y[g].navStep,y[g].navFnc),q()},previous:function(){u.subtract(y[g].navStep,y[g].navFnc),q()},pickerSwitch:function(){N(1)},selectMonth:function(o){var t=e(o.target).closest("tbody").find("span").index(e(o.target));u.month(t),g===m&&(K(p.clone().year(u.year()).month(u.month())),W()),N(-1),q()},selectYear:function(o){var t=parseInt(e(o.target).text(),10)||0;u.year(t),g===m&&(K(p.clone().year(u.year())),W()),N(-1),q()},selectDay:function(o){var t=u.clone();e(o.target).is(".old")&&t.subtract(1,"M"),e(o.target).is(".new")&&t.add(1,"M"),K(t.date(parseInt(e(o.target).text(),10))),T()||r.keepOpen||W()},incrementHours:function(){K(p.clone().add(1,"h"))},incrementMinutes:function(){K(p.clone().add(r.stepping,"m"))},incrementSeconds:function(){K(p.clone().add(1,"s"))},decrementHours:function(){K(p.clone().subtract(1,"h"))},decrementMinutes:function(){K(p.clone().subtract(r.stepping,"m"))},decrementSeconds:function(){K(p.clone().subtract(1,"s"))},togglePeriod:function(){K(p.clone().add(p.hours()>=12?-12:12,"h"))},togglePicker:function(o){var t,n=e(o.target),i=n.closest("ul"),a=i.find(".in"),s=i.find(".collapse:not(.in)");if(a&&a.length){if(t=a.data("collapse"),t&&t.transitioning)return;a.collapse("hide"),s.collapse("show"),n.is("span")?n.toggleClass(r.icons.time+" "+r.icons.date):n.find("span").toggleClass(r.icons.time+" "+r.icons.date)}},showPicker:function(){h.find(".timepicker > div:not(.timepicker-picker)").hide(),h.find(".timepicker .timepicker-picker").show()},showHours:function(){h.find(".timepicker .timepicker-picker").hide(),h.find(".timepicker .timepicker-hours").show()},showMinutes:function(){h.find(".timepicker .timepicker-picker").hide(),h.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){h.find(".timepicker .timepicker-picker").hide(),h.find(".timepicker .timepicker-seconds").show()},selectHour:function(o){var t=parseInt(e(o.target).text(),10);i||(p.hours()>=12?12!==t&&(t+=12):12===t&&(t=0)),K(p.clone().hours(t)),Y.showPicker.call(l)},selectMinute:function(o){K(p.clone().minutes(parseInt(e(o.target).text(),10))),Y.showPicker.call(l)},selectSecond:function(o){K(p.clone().seconds(parseInt(e(o.target).text(),10))),Y.showPicker.call(l)},clear:function(){K(null)},today:function(){K(o())}},X=function(o){return e(o.currentTarget).is(".disabled")?!1:(Y[e(o.currentTarget).data("action")].apply(l,arguments),!1)},z=function(){var t,i={year:function(e){return e.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function(e){return e.date(1).hours(0).seconds(0).minutes(0)},day:function(e){return e.hours(0).seconds(0).minutes(0)},hour:function(e){return e.seconds(0).minutes(0)},minute:function(e){return e.seconds(0)}};return n.prop("disabled")||n.prop("readonly")||h?l:(r.useCurrent&&c&&(t=o(),"string"==typeof r.useCurrent&&(t=i[r.useCurrent](t)),K(t)),h=R(),w(),G(),h.find(".timepicker-hours").hide(),h.find(".timepicker-minutes").hide(),h.find(".timepicker-seconds").hide(),H(),N(),e(window).on("resize",D),h.on("click","[data-action]",X),h.on("mousedown",!1),d&&d.hasClass("btn")&&d.toggleClass("active"),h.show(),D(),n.is(":focus")||n.focus(),L({type:"dp.show"}),l)},Z=function(){return h?W():z()},J=function(e){return e=o.isMoment(e)||e instanceof Date?o(e):o(e,s,r.useStrict),e.locale(r.locale),e},Q=function(e){27===e.keyCode&&W()},ee=function(o){var t=e(o.target).val().trim(),r=t?J(t):null;return K(r),o.stopImmediatePropagation(),!1},oe=function(){n.on({change:ee,blur:W,keydown:Q}),t.is("input")?n.on({focus:z}):d&&(d.on("click",Z),d.on("mousedown",!1))},te=function(){n.off({change:ee,blur:W,keydown:Q}),t.is("input")?n.off({focus:z}):d&&(d.off("click",Z),d.off("mousedown",!1))},re=function(o){var t={};return e.each(o,function(){var e=J(this);e.isValid()&&(t[e.format("YYYY-MM-DD")]=!0)}),Object.keys(t).length?t:!1},ne=function(){var e=r.format||"L LT";a=e.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(e){return p.localeData().longDateFormat(e)||e}),s=r.extraFormats?r.extraFormats.slice():[],s.indexOf(e)<0&&s.indexOf(a)<0&&s.push(a),i=a.toLowerCase().indexOf("a")<1&&a.indexOf("h")<1,S("y")&&(m=2),S("M")&&(m=1),S("d")&&(m=0),g=Math.max(m,g),c||K(p)};if(l.destroy=function(){W(),te(),t.removeData("DateTimePicker"),t.removeData("date")},l.toggle=Z,l.show=z,l.hide=W,l.disable=function(){return W(),d&&d.hasClass("btn")&&d.addClass("disabled"),n.prop("disabled",!0),l},l.enable=function(){return d&&d.hasClass("btn")&&d.removeClass("disabled"),n.prop("disabled",!1),l},l.options=function(o){if(0===arguments.length)return e.extend(!0,{},r);if(!(o instanceof Object))throw new TypeError("options() options parameter should be an object");return e.extend(!0,r,o),e.each(r,function(e,o){if(void 0===l[e])throw new TypeError("option "+e+" is not recognized!");l[e](o)}),l},l.date=function(e){if(0===arguments.length)return c?null:p.clone();if(!(null===e||"string"==typeof e||o.isMoment(e)||e instanceof Date))throw new TypeError("date() parameter must be one of [null, string, moment or Date]");return K(null===e?null:J(e)),l},l.format=function(e){if(0===arguments.length)return r.format;if("string"!=typeof e&&("boolean"!=typeof e||e!==!1))throw new TypeError("format() expects a sting or boolean:false parameter "+e);return r.format=e,a&&ne(),l},l.dayViewHeaderFormat=function(e){if(0===arguments.length)return r.dayViewHeaderFormat;if("string"!=typeof e)throw new TypeError("dayViewHeaderFormat() expects a string parameter");return r.dayViewHeaderFormat=e,l},l.extraFormats=function(e){if(0===arguments.length)return r.extraFormats;if(e!==!1&&!(e instanceof Array))throw new TypeError("extraFormats() expects an array or false parameter");return r.extraFormats=e,s&&ne(),l},l.disabledDates=function(o){if(0===arguments.length)return r.disabledDates?e.extend({},r.disabledDates):r.disabledDates;if(!o)return r.disabledDates=!1,H(),l;if(!(o instanceof Array))throw new TypeError("disabledDates() expects an array parameter");return r.disabledDates=re(o),r.enabledDates=!1,H(),l},l.enabledDates=function(o){if(0===arguments.length)return r.enabledDates?e.extend({},r.enabledDates):r.enabledDates;if(!o)return r.enabledDates=!1,H(),l;if(!(o instanceof Array))throw new TypeError("enabledDates() expects an array parameter");return r.enabledDates=re(o),r.disabledDates=!1,H(),l},l.daysOfWeekDisabled=function(e){if(0===arguments.length)return r.daysOfWeekDisabled.splice(0);if(!(e instanceof Array))throw new TypeError("daysOfWeekDisabled() expects an array parameter");return r.daysOfWeekDisabled=e.reduce(function(e,o){return o=parseInt(o,10),o>6||0>o||isNaN(o)?e:(-1===e.indexOf(o)&&e.push(o),e)},[]).sort(),H(),l},l.maxDate=function(e){if(0===arguments.length)return r.maxDate?r.maxDate.clone():r.maxDate;if("boolean"==typeof e&&e===!1)return r.maxDate=!1,H(),l;var o=J(e);if(!o.isValid())throw new TypeError("maxDate() Could not parse date parameter: "+e);if(r.minDate&&o.isBefore(r.minDate))throw new TypeError("maxDate() date parameter is before options.minDate: "+o.format(a));return r.maxDate=o,r.maxDate.isBefore(e)&&K(r.maxDate),H(),l},l.minDate=function(e){if(0===arguments.length)return r.minDate?r.minDate.clone():r.minDate;if("boolean"==typeof e&&e===!1)return r.minDate=!1,H(),l;var o=J(e);if(!o.isValid())throw new TypeError("minDate() Could not parse date parameter: "+e);if(r.maxDate&&o.isAfter(r.maxDate))throw new TypeError("minDate() date parameter is after options.maxDate: "+o.format(a));return r.minDate=o,r.minDate.isAfter(e)&&K(r.minDate),H(),l},l.defaultDate=function(e){if(0===arguments.length)return r.defaultDate?r.defaultDate.clone():r.defaultDate;if(!e)return r.defaultDate=!1,l;var o=J(e);if(!o.isValid())throw new TypeError("defaultDate() Could not parse date parameter: "+e);if(!F(o))throw new TypeError("defaultDate() date passed is invalid according to component setup validations");return r.defaultDate=o,r.defaultDate&&""===n.val().trim()&&K(r.defaultDate),l},l.locale=function(e){if(0===arguments.length)return r.locale;if(!o.localeData(e))throw new TypeError("locale() locale "+e+" is not loaded from moment locales!");return r.locale=e,p.locale(r.locale),u.locale(r.locale),a&&ne(),h&&(W(),z()),l},l.stepping=function(e){return 0===arguments.length?r.stepping:(e=parseInt(e,10),(isNaN(e)||1>e)&&(e=1),r.stepping=e,l)},l.useCurrent=function(e){var o=["year","month","day","hour","minute"];if(0===arguments.length)return r.useCurrent;if("boolean"!=typeof e&&"string"!=typeof e)throw new TypeError("useCurrent() expects a boolean or string parameter");if("string"==typeof e&&-1===o.indexOf(e.toLowerCase()))throw new TypeError("useCurrent() expects a string parameter of "+o.join(", "));return r.useCurrent=e,l},l.collapse=function(e){if(0===arguments.length)return r.collapse;if("boolean"!=typeof e)throw new TypeError("collapse() expects a boolean parameter");return r.collapse===e?l:(r.collapse=e,h&&(W(),z()),l)},l.icons=function(o){if(0===arguments.length)return e.extend({},r.icons);if(!(o instanceof Object))throw new TypeError("icons() expects parameter to be an Object");return e.extend(r.icons,o),h&&(W(),z()),l},l.useStrict=function(e){if(0===arguments.length)return r.useStrict;if("boolean"!=typeof e)throw new TypeError("useStrict() expects a boolean parameter");return r.useStrict=e,l},l.sideBySide=function(e){if(0===arguments.length)return r.sideBySide;if("boolean"!=typeof e)throw new TypeError("sideBySide() expects a boolean parameter");return r.sideBySide=e,h&&(W(),z()),l},l.viewMode=function(e){if(0===arguments.length)return r.viewMode;if("string"!=typeof e)throw new TypeError("viewMode() expects a string parameter");if(-1===f.indexOf(e))throw new TypeError("viewMode() parameter must be one of ("+f.join(", ")+") value");return r.viewMode=e,g=Math.max(f.indexOf(e),m),N(),l},l.toolbarPlacement=function(e){if(0===arguments.length)return r.toolbarPlacement;if("string"!=typeof e)throw new TypeError("toolbarPlacement() expects a string parameter");if(-1===E.indexOf(e))throw new TypeError("toolbarPlacement() parameter must be one of ("+E.join(", ")+") value");return r.toolbarPlacement=e,h&&(W(),z()),l},l.widgetPositioning=function(o){if(0===arguments.length)return e.extend({},r.widgetPositioning);if("[object Object]"!=={}.toString.call(o))throw new TypeError("widgetPositioning() expects an object variable");if(o.horizontal){if("string"!=typeof o.horizontal)throw new TypeError("widgetPositioning() horizontal variable must be a string");if(o.horizontal=o.horizontal.toLowerCase(),-1===_.indexOf(o.horizontal))throw new TypeError("widgetPositioning() expects horizontal parameter to be one of ("+_.join(", ")+")");r.widgetPositioning.horizontal=o.horizontal}if(o.vertical){if("string"!=typeof o.vertical)throw new TypeError("widgetPositioning() vertical variable must be a string");if(o.vertical=o.vertical.toLowerCase(),-1===v.indexOf(o.vertical))throw new TypeError("widgetPositioning() expects vertical parameter to be one of ("+v.join(", ")+")");r.widgetPositioning.vertical=o.vertical}return H(),l},l.calendarWeeks=function(e){if(0===arguments.length)return r.calendarWeeks;if("boolean"!=typeof e)throw new TypeError("calendarWeeks() expects parameter to be a boolean value");return r.calendarWeeks=e,H(),l},l.showTodayButton=function(e){if(0===arguments.length)return r.showTodayButton;if("boolean"!=typeof e)throw new TypeError("showTodayButton() expects a boolean parameter");return r.showTodayButton=e,h&&(W(),z()),l},l.showClear=function(e){if(0===arguments.length)return r.showClear;if("boolean"!=typeof e)throw new TypeError("showClear() expects a boolean parameter");return r.showClear=e,h&&(W(),z()),l},l.widgetParent=function(o){if(0===arguments.length)return r.widgetParent;if("string"==typeof o&&(o=e(o)),null!==o&&"string"!=typeof o&&!(o instanceof jQuery))throw new TypeError("widgetParent() expects a string or a jQuery object parameter");return r.widgetParent=o,h&&(W(),z()),l},l.keepOpen=function(e){if(0===arguments.length)return r.format;if("boolean"!=typeof e)throw new TypeError("keepOpen() expects a boolean parameter");return r.keepOpen=e,l},t.is("input"))n=t;else if(n=t.find(".datepickerinput"),0===n.size())n=t.find("input");else if(!n.is("input"))throw new Error('CSS class "datepickerinput" cannot be applied to non input element');if(t.hasClass("input-group")&&(d=t.find(0===t.find(".datepickerbutton").size()?'[class^="input-group-"]':".datepickerbutton")),!n.is("input"))throw new Error("Could not initialize DateTimePicker without an input element");return e.extend(!0,r,A()),l.options(r),ne(),oe(),n.prop("disabled")&&l.disable(),0!==n.val().trim().length?K(J(n.val().trim())):r.defaultDate&&K(r.defaultDate),l};e.fn.datetimepicker=function(o){return this.each(function(){var r=e(this);r.data("DateTimePicker")||(o=e.extend(!0,{},e.fn.datetimepicker.defaults,o),r.data("DateTimePicker",t(r,o)))})},e.fn.datetimepicker.defaults={format:!1,dayViewHeaderFormat:"MMMM YYYY",extraFormats:!1,stepping:1,minDate:!1,maxDate:!1,useCurrent:!0,collapse:!0,locale:o.locale(),defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{time:"glyphicon glyphicon-time",date:"glyphicon glyphicon-calendar",up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down",previous:"glyphicon glyphicon-chevron-left",next:"glyphicon glyphicon-chevron-right",today:"glyphicon glyphicon-screenshot",clear:"glyphicon glyphicon-trash"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:[],calendarWeeks:!1,viewMode:"days",toolbarPlacement:"default",showTodayButton:!1,showClear:!1,widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,keepOpen:!1}}),function(e,o){"object"==typeof exports?module.exports=o():"function"==typeof define&&define.amd?define([],o):e.ol=o()}(this,function(){var OPENLAYERS={},goog=this.goog={};this.CLOSURE_NO_DEPS=!0;var COMPILED=!1,goog=goog||{};if(goog.global=this,goog.global.CLOSURE_UNCOMPILED_DEFINES,goog.global.CLOSURE_DEFINES,goog.isDef=function(e){return void 0!==e},goog.exportPath_=function(e,o,t){var r=e.split("."),n=t||goog.global;r[0]in n||!n.execScript||n.execScript("var "+r[0]);for(var i;r.length&&(i=r.shift());)!r.length&&goog.isDef(o)?n[i]=o:n=n[i]?n[i]:n[i]={}},goog.define=function(e,o){var t=o;COMPILED||(goog.global.CLOSURE_UNCOMPILED_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_UNCOMPILED_DEFINES,e)?t=goog.global.CLOSURE_UNCOMPILED_DEFINES[e]:goog.global.CLOSURE_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_DEFINES,e)&&(t=goog.global.CLOSURE_DEFINES[e])),goog.exportPath_(e,t)},goog.DEBUG=!0,goog.define("goog.LOCALE","en"),goog.define("goog.TRUSTED_SITE",!0),goog.define("goog.STRICT_MODE_COMPATIBLE",!1),goog.define("goog.DISALLOW_TEST_ONLY_CODE",COMPILED&&!goog.DEBUG),goog.provide=function(e){if(!COMPILED&&goog.isProvided_(e))throw Error('Namespace "'+e+'" already declared.');goog.constructNamespace_(e)},goog.constructNamespace_=function(e,o){if(!COMPILED){delete goog.implicitNamespaces_[e];for(var t=e;(t=t.substring(0,t.lastIndexOf(".")))&&!goog.getObjectByName(t);)goog.implicitNamespaces_[t]=!0}goog.exportPath_(e,o)},goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog.module=function(e){if(!goog.isString(e)||!e||-1==e.search(goog.VALID_MODULE_RE_))throw Error("Invalid module identifier");if(!goog.isInModuleLoader_())throw Error("Module "+e+" has been loaded incorrectly.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");if(goog.moduleLoaderState_.moduleName=e,!COMPILED){if(goog.isProvided_(e))throw Error('Namespace "'+e+'" already declared.');delete goog.implicitNamespaces_[e]}},goog.module.get=function(e){return goog.module.getInternal_(e)},goog.module.getInternal_=function(e){return COMPILED?void 0:goog.isProvided_(e)?e in goog.loadedModules_?goog.loadedModules_[e]:goog.getObjectByName(e):null},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return null!=goog.moduleLoaderState_},goog.module.declareTestMethods=function(){if(!goog.isInModuleLoader_())throw new Error("goog.module.declareTestMethods must be called from within a goog.module");goog.moduleLoaderState_.declareTestMethods=!0},goog.module.declareLegacyNamespace=function(){if(!COMPILED&&!goog.isInModuleLoader_())throw new Error("goog.module.declareLegacyNamespace must be called from within a goog.module");if(!COMPILED&&!goog.moduleLoaderState_.moduleName)throw Error("goog.module must be called prior to goog.module.declareLegacyNamespace.");goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.setTestOnly=function(e){if(goog.DISALLOW_TEST_ONLY_CODE)throw e=e||"",Error("Importing test-only code into non-debug environment"+(e?": "+e:"."))},goog.forwardDeclare=function(e){},COMPILED||(goog.isProvided_=function(e){return e in goog.loadedModules_||!goog.implicitNamespaces_[e]&&goog.isDefAndNotNull(goog.getObjectByName(e))},goog.implicitNamespaces_={"goog.module":!0}),goog.getObjectByName=function(e,o){for(var t,r=e.split("."),n=o||goog.global;t=r.shift();){if(!goog.isDefAndNotNull(n[t]))return null;n=n[t]}return n},goog.globalize=function(e,o){var t=o||goog.global;for(var r in e)t[r]=e[r]},goog.addDependency=function(e,o,t,r){if(goog.DEPENDENCIES_ENABLED){for(var n,i,a=e.replace(/\\/g,"/"),s=goog.dependencies_,g=0;n=o[g];g++)s.nameToPath[n]=a,s.pathIsModule[a]=!!r;for(var l=0;i=t[l];l++)a in s.requires||(s.requires[a]={}),s.requires[a][i]=!0}},goog.define("goog.ENABLE_DEBUG_LOADER",!0),goog.logToConsole_=function(e){goog.global.console&&goog.global.console.error(e)},goog.require=function(e){if(!COMPILED){if(goog.ENABLE_DEBUG_LOADER&&goog.IS_OLD_IE_&&goog.maybeProcessDeferredDep_(e),goog.isProvided_(e))return goog.isInModuleLoader_()?goog.module.getInternal_(e):null;if(goog.ENABLE_DEBUG_LOADER){var o=goog.getPathFromDeps_(e);if(o)return goog.included_[o]=!0,goog.writeScripts_(),null}var t="goog.require could not find: "+e;throw goog.logToConsole_(t),Error(t)}},goog.basePath="",goog.global.CLOSURE_BASE_PATH,goog.global.CLOSURE_NO_DEPS,goog.global.CLOSURE_IMPORT_SCRIPT,goog.nullFunction=function(){},goog.identityFunction=function(e,o){return e},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(e){e.getInstance=function(){return e.instance_?e.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=e),e.instance_=new e)}},goog.instantiatedSingletons_=[],goog.define("goog.LOAD_MODULE_USING_EVAL",!0),goog.define("goog.SEAL_MODULE_EXPORTS",goog.DEBUG),goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER,goog.DEPENDENCIES_ENABLED&&(goog.included_={},goog.dependencies_={pathIsModule:{},nameToPath:{},requires:{},visited:{},written:{},deferred:{}},goog.inHtmlDocument_=function(){var e=goog.global.document;return"undefined"!=typeof e&&"write"in e},goog.findBasePath_=function(){if(goog.global.CLOSURE_BASE_PATH)return void(goog.basePath=goog.global.CLOSURE_BASE_PATH);if(goog.inHtmlDocument_())for(var e=goog.global.document,o=e.getElementsByTagName("script"),t=o.length-1;t>=0;--t){var r=o[t],n=r.src,i=n.lastIndexOf("?"),a=-1==i?n.length:i;if("base.js"==n.substr(a-7,7))return void(goog.basePath=n.substr(0,a-7))}},goog.importScript_=function(e,o){var t=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_;t(e,o)&&(goog.dependencies_.written[e]=!0)},goog.IS_OLD_IE_=goog.global.document&&goog.global.document.all&&!goog.global.atob,goog.importModule_=function(e){var o='goog.retrieveAndExecModule_("'+e+'");';goog.importScript_("",o)&&(goog.dependencies_.written[e]=!0)},goog.queuedModules_=[],goog.wrapModule_=function(e,o){return goog.LOAD_MODULE_USING_EVAL&&goog.isDef(goog.global.JSON)?"goog.loadModule("+goog.global.JSON.stringify(o+"\n//# sourceURL="+e+"\n")+");":'goog.loadModule(function(exports) {"use strict";'+o+"\n;return exports});\n//# sourceURL="+e+"\n"},goog.loadQueuedModules_=function(){var e=goog.queuedModules_.length;if(e>0){var o=goog.queuedModules_;goog.queuedModules_=[];for(var t=0;e>t;t++){var r=o[t];goog.maybeProcessDeferredPath_(r)}}},goog.maybeProcessDeferredDep_=function(e){if(goog.isDeferredModule_(e)&&goog.allDepsAreAvailable_(e)){var o=goog.getPathFromDeps_(e);goog.maybeProcessDeferredPath_(goog.basePath+o)}},goog.isDeferredModule_=function(e){var o=goog.getPathFromDeps_(e);if(o&&goog.dependencies_.pathIsModule[o]){var t=goog.basePath+o;return t in goog.dependencies_.deferred}return!1},goog.allDepsAreAvailable_=function(e){var o=goog.getPathFromDeps_(e);if(o&&o in goog.dependencies_.requires)for(var t in goog.dependencies_.requires[o])if(!goog.isProvided_(t)&&!goog.isDeferredModule_(t))return!1;return!0},goog.maybeProcessDeferredPath_=function(e){if(e in goog.dependencies_.deferred){var o=goog.dependencies_.deferred[e];delete goog.dependencies_.deferred[e],goog.globalEval(o)}},goog.loadModule=function(e){var o=goog.moduleLoaderState_;try{goog.moduleLoaderState_={moduleName:void 0,declareTestMethods:!1};var t;if(goog.isFunction(e))t=e.call(goog.global,{});else{if(!goog.isString(e))throw Error("Invalid module definition");t=goog.loadModuleFromSource_.call(goog.global,e)}var r=goog.moduleLoaderState_.moduleName;if(!goog.isString(r)||!r)throw Error('Invalid module name "'+r+'"');if(goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(r,t):goog.SEAL_MODULE_EXPORTS&&Object.seal&&Object.seal(t),goog.loadedModules_[r]=t,goog.moduleLoaderState_.declareTestMethods)for(var n in t)(0===n.indexOf("test",0)||"tearDown"==n||"setUp"==n||"setUpPage"==n||"tearDownPage"==n)&&(goog.global[n]=t[n])}finally{goog.moduleLoaderState_=o}},goog.loadModuleFromSource_=function(source){"use strict";var exports={};return eval(arguments[0]),exports},goog.writeScriptTag_=function(e,o){if(goog.inHtmlDocument_()){var t=goog.global.document;if("complete"==t.readyState){var r=/\bdeps.js$/.test(e);if(r)return!1;throw Error('Cannot write "'+e+'" after document load')}var n=goog.IS_OLD_IE_;if(void 0===o)if(n){var i=" onreadystatechange='goog.onScriptLoad_(this, "+ ++goog.lastNonModuleScriptIndex_+")' ";t.write('<script type="text/javascript" src="'+e+'"'+i+"></script>")}else t.write('<script type="text/javascript" src="'+e+'"></script>');else t.write('<script type="text/javascript">'+o+"</script>");return!0}return!1},goog.lastNonModuleScriptIndex_=0,goog.onScriptLoad_=function(e,o){return"complete"==e.readyState&&goog.lastNonModuleScriptIndex_==o&&goog.loadQueuedModules_(),!0},goog.writeScripts_=function(){function e(n){if(!(n in r.written)){if(n in r.visited)return void(n in t||(t[n]=!0,o.push(n)));if(r.visited[n]=!0,n in r.requires)for(var i in r.requires[n])if(!goog.isProvided_(i)){if(!(i in r.nameToPath))throw Error("Undefined nameToPath for "+i);e(r.nameToPath[i])}n in t||(t[n]=!0,o.push(n))}}var o=[],t={},r=goog.dependencies_;for(var n in goog.included_)r.written[n]||e(n);for(var i=0;i<o.length;i++){var n=o[i];goog.dependencies_.written[n]=!0}var a=goog.moduleLoaderState_;goog.moduleLoaderState_=null;for(var s=!1,i=0;i<o.length;i++){var n=o[i];if(!n)throw goog.moduleLoaderState_=a,Error("Undefined script input");r.pathIsModule[n]?(s=!0,goog.importModule_(goog.basePath+n)):goog.importScript_(goog.basePath+n)}goog.moduleLoaderState_=a},goog.getPathFromDeps_=function(e){return e in goog.dependencies_.nameToPath?goog.dependencies_.nameToPath[e]:null},goog.findBasePath_(),goog.global.CLOSURE_NO_DEPS||goog.importScript_(goog.basePath+"deps.js")),goog.normalizePath_=function(e){for(var o=e.split("/"),t=0;t<o.length;)"."==o[t]?o.splice(t,1):t&&".."==o[t]&&o[t-1]&&".."!=o[t-1]?o.splice(--t,2):t++;return o.join("/")},goog.retrieveAndExecModule_=function(e){if(!COMPILED){var o=e;e=goog.normalizePath_(e);var t=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_,r=null,n=new goog.global.XMLHttpRequest;

if(n.onload=function(){r=this.responseText},n.open("get",e,!1),n.send(),r=n.responseText,null==r)throw new Error("load of "+e+"failed");var i=goog.wrapModule_(e,r),a=goog.IS_OLD_IE_;a?(goog.dependencies_.deferred[o]=i,goog.queuedModules_.push(o)):t(e,i)}},goog.typeOf=function(e){var o=typeof e;if("object"==o){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return o;var t=Object.prototype.toString.call(e);if("[object Window]"==t)return"object";if("[object Array]"==t||"number"==typeof e.length&&"undefined"!=typeof e.splice&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==t||"undefined"!=typeof e.call&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==o&&"undefined"==typeof e.call)return"object";return o},goog.isNull=function(e){return null===e},goog.isDefAndNotNull=function(e){return null!=e},goog.isArray=function(e){return"array"==goog.typeOf(e)},goog.isArrayLike=function(e){var o=goog.typeOf(e);return"array"==o||"object"==o&&"number"==typeof e.length},goog.isDateLike=function(e){return goog.isObject(e)&&"function"==typeof e.getFullYear},goog.isString=function(e){return"string"==typeof e},goog.isBoolean=function(e){return"boolean"==typeof e},goog.isNumber=function(e){return"number"==typeof e},goog.isFunction=function(e){return"function"==goog.typeOf(e)},goog.isObject=function(e){var o=typeof e;return"object"==o&&null!=e||"function"==o},goog.getUid=function(e){return e[goog.UID_PROPERTY_]||(e[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(e){return!!e[goog.UID_PROPERTY_]},goog.removeUid=function(e){"removeAttribute"in e&&e.removeAttribute(goog.UID_PROPERTY_);try{delete e[goog.UID_PROPERTY_]}catch(o){}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(e){var o=goog.typeOf(e);if("object"==o||"array"==o){if(e.clone)return e.clone();var t="array"==o?[]:{};for(var r in e)t[r]=goog.cloneObject(e[r]);return t}return e},goog.bindNative_=function(e,o,t){return e.call.apply(e.bind,arguments)},goog.bindJs_=function(e,o,t){if(!e)throw new Error;if(arguments.length>2){var r=Array.prototype.slice.call(arguments,2);return function(){var t=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(t,r),e.apply(o,t)}}return function(){return e.apply(o,arguments)}},goog.bind=function(e,o,t){return goog.bind=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bindNative_:goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(e,o){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),e.apply(this,o)}},goog.mixin=function(e,o){for(var t in o)e[t]=o[t]},goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date},goog.globalEval=function(e){if(goog.global.execScript)goog.global.execScript(e,"JavaScript");else{if(!goog.global.eval)throw Error("goog.globalEval not available");if(null==goog.evalWorksForGlobals_&&(goog.global.eval("var _et_ = 1;"),"undefined"!=typeof goog.global._et_?(delete goog.global._et_,goog.evalWorksForGlobals_=!0):goog.evalWorksForGlobals_=!1),goog.evalWorksForGlobals_)goog.global.eval(e);else{var o=goog.global.document,t=o.createElement("script");t.type="text/javascript",t.defer=!1,t.appendChild(o.createTextNode(e)),o.body.appendChild(t),o.body.removeChild(t)}}},goog.evalWorksForGlobals_=null,goog.cssNameMapping_,goog.cssNameMappingStyle_,goog.getCssName=function(e,o){var t,r=function(e){return goog.cssNameMapping_[e]||e},n=function(e){for(var o=e.split("-"),t=[],n=0;n<o.length;n++)t.push(r(o[n]));return t.join("-")};return t=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?r:n:function(e){return e},o?e+"-"+t(o):t(e)},goog.setCssNameMapping=function(e,o){goog.cssNameMapping_=e,goog.cssNameMappingStyle_=o},goog.global.CLOSURE_CSS_NAME_MAPPING,!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING),goog.getMsg=function(e,o){return o&&(e=e.replace(/\{\$([^}]+)}/g,function(e,t){return t in o?o[t]:e})),e},goog.getMsgWithFallback=function(e,o){return e},goog.exportSymbol=function(e,o,t){goog.exportPath_(e,o,t)},goog.exportProperty=function(e,o,t){e[o]=t},goog.inherits=function(e,o){function t(){}t.prototype=o.prototype,e.superClass_=o.prototype,e.prototype=new t,e.prototype.constructor=e,e.base=function(e,t,r){for(var n=new Array(arguments.length-2),i=2;i<arguments.length;i++)n[i-2]=arguments[i];return o.prototype[t].apply(e,n)}},goog.base=function(e,o,t){var r=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!r)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(r.superClass_){for(var n=new Array(arguments.length-1),i=1;i<arguments.length;i++)n[i-1]=arguments[i];return r.superClass_.constructor.apply(e,n)}for(var a=new Array(arguments.length-2),i=2;i<arguments.length;i++)a[i-2]=arguments[i];for(var s=!1,g=e.constructor;g;g=g.superClass_&&g.superClass_.constructor)if(g.prototype[o]===r)s=!0;else if(s)return g.prototype[o].apply(e,a);if(e[o]===r)return e.constructor.prototype[o].apply(e,a);throw Error("goog.base called from a method of one name to a method of a different name")},goog.scope=function(e){e.call(goog.global)},COMPILED||(goog.global.COMPILED=COMPILED),goog.defineClass=function(e,o){var t=o.constructor,r=o.statics;t&&t!=Object.prototype.constructor||(t=function(){throw Error("cannot instantiate an interface (no constructor defined).")});var n=goog.defineClass.createSealingConstructor_(t,e);return e&&goog.inherits(n,e),delete o.constructor,delete o.statics,goog.defineClass.applyProperties_(n.prototype,o),null!=r&&(r instanceof Function?r(n):goog.defineClass.applyProperties_(n,r)),n},goog.defineClass.ClassDescriptor,goog.define("goog.defineClass.SEAL_CLASS_INSTANCES",goog.DEBUG),goog.defineClass.createSealingConstructor_=function(e,o){if(goog.defineClass.SEAL_CLASS_INSTANCES&&Object.seal instanceof Function){if(o&&o.prototype&&o.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_])return e;var t=function(){var o=e.apply(this,arguments)||this;return o[goog.UID_PROPERTY_]=o[goog.UID_PROPERTY_],this.constructor===t&&Object.seal(o),o};return t}return e},goog.defineClass.OBJECT_PROTOTYPE_FIELDS_=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],goog.defineClass.applyProperties_=function(e,o){var t;for(t in o)Object.prototype.hasOwnProperty.call(o,t)&&(e[t]=o[t]);for(var r=0;r<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;r++)t=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[r],Object.prototype.hasOwnProperty.call(o,t)&&(e[t]=o[t])},goog.tagUnsealableClass=function(e){!COMPILED&&goog.defineClass.SEAL_CLASS_INSTANCES&&(e.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]=!0)},goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable",goog.provide("ol.PostRenderFunction"),goog.provide("ol.PreRenderFunction"),ol.PostRenderFunction,ol.PreRenderFunction,goog.provide("goog.debug.Error"),goog.debug.Error=function(e){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var o=(new Error).stack;o&&(this.stack=o)}e&&(this.message=String(e))},goog.inherits(goog.debug.Error,Error),goog.debug.Error.prototype.name="CustomError",goog.provide("goog.dom.NodeType"),goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},goog.provide("goog.string"),goog.provide("goog.string.Unicode"),goog.define("goog.string.DETECT_DOUBLE_ESCAPING",!1),goog.define("goog.string.FORCE_NON_DOM_HTML_UNESCAPING",!1),goog.string.Unicode={NBSP:" "},goog.string.startsWith=function(e,o){return 0==e.lastIndexOf(o,0)},goog.string.endsWith=function(e,o){var t=e.length-o.length;return t>=0&&e.indexOf(o,t)==t},goog.string.caseInsensitiveStartsWith=function(e,o){return 0==goog.string.caseInsensitiveCompare(o,e.substr(0,o.length))},goog.string.caseInsensitiveEndsWith=function(e,o){return 0==goog.string.caseInsensitiveCompare(o,e.substr(e.length-o.length,o.length))},goog.string.caseInsensitiveEquals=function(e,o){return e.toLowerCase()==o.toLowerCase()},goog.string.subs=function(e,o){for(var t=e.split("%s"),r="",n=Array.prototype.slice.call(arguments,1);n.length&&t.length>1;)r+=t.shift()+n.shift();return r+t.join("%s")},goog.string.collapseWhitespace=function(e){return e.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},goog.string.isEmptyOrWhitespace=function(e){return/^[\s\xa0]*$/.test(e)},goog.string.isEmptyString=function(e){return 0==e.length},goog.string.isEmpty=goog.string.isEmptyOrWhitespace,goog.string.isEmptyOrWhitespaceSafe=function(e){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(e))},goog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe,goog.string.isBreakingWhitespace=function(e){return!/[^\t\n\r ]/.test(e)},goog.string.isAlpha=function(e){return!/[^a-zA-Z]/.test(e)},goog.string.isNumeric=function(e){return!/[^0-9]/.test(e)},goog.string.isAlphaNumeric=function(e){return!/[^a-zA-Z0-9]/.test(e)},goog.string.isSpace=function(e){return" "==e},goog.string.isUnicodeChar=function(e){return 1==e.length&&e>=" "&&"~">=e||e>=""&&"�">=e},goog.string.stripNewlines=function(e){return e.replace(/(\r\n|\r|\n)+/g," ")},goog.string.canonicalizeNewlines=function(e){return e.replace(/(\r\n|\r|\n)/g,"\n")},goog.string.normalizeWhitespace=function(e){return e.replace(/\xa0|\s/g," ")},goog.string.normalizeSpaces=function(e){return e.replace(/\xa0|[ \t]+/g," ")},goog.string.collapseBreakingSpaces=function(e){return e.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},goog.string.trim=goog.TRUSTED_SITE&&String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},goog.string.trimLeft=function(e){return e.replace(/^[\s\xa0]+/,"")},goog.string.trimRight=function(e){return e.replace(/[\s\xa0]+$/,"")},goog.string.caseInsensitiveCompare=function(e,o){var t=String(e).toLowerCase(),r=String(o).toLowerCase();return r>t?-1:t==r?0:1},goog.string.numerateCompareRegExp_=/(\.\d+)|(\d+)|(\D+)/g,goog.string.numerateCompare=function(e,o){if(e==o)return 0;if(!e)return-1;if(!o)return 1;for(var t=e.toLowerCase().match(goog.string.numerateCompareRegExp_),r=o.toLowerCase().match(goog.string.numerateCompareRegExp_),n=Math.min(t.length,r.length),i=0;n>i;i++){var a=t[i],s=r[i];if(a!=s){var g=parseInt(a,10);if(!isNaN(g)){var l=parseInt(s,10);if(!isNaN(l)&&g-l)return g-l}return s>a?-1:1}}return t.length!=r.length?t.length-r.length:o>e?-1:1},goog.string.urlEncode=function(e){return encodeURIComponent(String(e))},goog.string.urlDecode=function(e){return decodeURIComponent(e.replace(/\+/g," "))},goog.string.newLineToBr=function(e,o){return e.replace(/(\r\n|\r|\n)/g,o?"<br />":"<br>")},goog.string.htmlEscape=function(e,o){return o?(e=e.replace(goog.string.AMP_RE_,"&amp;").replace(goog.string.LT_RE_,"&lt;").replace(goog.string.GT_RE_,"&gt;").replace(goog.string.QUOT_RE_,"&quot;").replace(goog.string.SINGLE_QUOTE_RE_,"&#39;").replace(goog.string.NULL_RE_,"&#0;"),goog.string.DETECT_DOUBLE_ESCAPING&&(e=e.replace(goog.string.E_RE_,"&#101;")),e):goog.string.ALL_RE_.test(e)?(-1!=e.indexOf("&")&&(e=e.replace(goog.string.AMP_RE_,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(goog.string.LT_RE_,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(goog.string.GT_RE_,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(goog.string.QUOT_RE_,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(goog.string.SINGLE_QUOTE_RE_,"&#39;")),-1!=e.indexOf("\x00")&&(e=e.replace(goog.string.NULL_RE_,"&#0;")),goog.string.DETECT_DOUBLE_ESCAPING&&-1!=e.indexOf("e")&&(e=e.replace(goog.string.E_RE_,"&#101;")),e):e},goog.string.AMP_RE_=/&/g,goog.string.LT_RE_=/</g,goog.string.GT_RE_=/>/g,goog.string.QUOT_RE_=/"/g,goog.string.SINGLE_QUOTE_RE_=/'/g,goog.string.NULL_RE_=/\x00/g,goog.string.E_RE_=/e/g,goog.string.ALL_RE_=goog.string.DETECT_DOUBLE_ESCAPING?/[\x00&<>"'e]/:/[\x00&<>"']/,goog.string.unescapeEntities=function(e){return goog.string.contains(e,"&")?!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(e):goog.string.unescapePureXmlEntities_(e):e},goog.string.unescapeEntitiesWithDocument=function(e,o){return goog.string.contains(e,"&")?goog.string.unescapeEntitiesUsingDom_(e,o):e},goog.string.unescapeEntitiesUsingDom_=function(e,o){var t,r={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'};return t=o?o.createElement("div"):goog.global.document.createElement("div"),e.replace(goog.string.HTML_ENTITY_PATTERN_,function(e,o){var n=r[e];if(n)return n;if("#"==o.charAt(0)){var i=Number("0"+o.substr(1));isNaN(i)||(n=String.fromCharCode(i))}return n||(t.innerHTML=e+" ",n=t.firstChild.nodeValue.slice(0,-1)),r[e]=n})},goog.string.unescapePureXmlEntities_=function(e){return e.replace(/&([^;]+);/g,function(e,o){switch(o){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:if("#"==o.charAt(0)){var t=Number("0"+o.substr(1));if(!isNaN(t))return String.fromCharCode(t)}return e}})},goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g,goog.string.whitespaceEscape=function(e,o){return goog.string.newLineToBr(e.replace(/  /g," &#160;"),o)},goog.string.preserveSpaces=function(e){return e.replace(/(^|[\n ]) /g,"$1"+goog.string.Unicode.NBSP)},goog.string.stripQuotes=function(e,o){for(var t=o.length,r=0;t>r;r++){var n=1==t?o:o.charAt(r);if(e.charAt(0)==n&&e.charAt(e.length-1)==n)return e.substring(1,e.length-1)}return e},goog.string.truncate=function(e,o,t){return t&&(e=goog.string.unescapeEntities(e)),e.length>o&&(e=e.substring(0,o-3)+"..."),t&&(e=goog.string.htmlEscape(e)),e},goog.string.truncateMiddle=function(e,o,t,r){if(t&&(e=goog.string.unescapeEntities(e)),r&&e.length>o){r>o&&(r=o);var n=e.length-r,i=o-r;e=e.substring(0,i)+"..."+e.substring(n)}else if(e.length>o){var a=Math.floor(o/2),s=e.length-a;a+=o%2,e=e.substring(0,a)+"..."+e.substring(s)}return t&&(e=goog.string.htmlEscape(e)),e},goog.string.specialEscapeChars_={"\x00":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","":"\\x0B",'"':'\\"',"\\":"\\\\"},goog.string.jsEscapeCache_={"'":"\\'"},goog.string.quote=function(e){if(e=String(e),e.quote)return e.quote();for(var o=['"'],t=0;t<e.length;t++){var r=e.charAt(t),n=r.charCodeAt(0);o[t+1]=goog.string.specialEscapeChars_[r]||(n>31&&127>n?r:goog.string.escapeChar(r))}return o.push('"'),o.join("")},goog.string.escapeString=function(e){for(var o=[],t=0;t<e.length;t++)o[t]=goog.string.escapeChar(e.charAt(t));return o.join("")},goog.string.escapeChar=function(e){if(e in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[e];if(e in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[e]=goog.string.specialEscapeChars_[e];var o=e,t=e.charCodeAt(0);return t>31&&127>t?o=e:(256>t?(o="\\x",(16>t||t>256)&&(o+="0")):(o="\\u",4096>t&&(o+="0")),o+=t.toString(16).toUpperCase()),goog.string.jsEscapeCache_[e]=o},goog.string.contains=function(e,o){return-1!=e.indexOf(o)},goog.string.caseInsensitiveContains=function(e,o){return goog.string.contains(e.toLowerCase(),o.toLowerCase())},goog.string.countOf=function(e,o){return e&&o?e.split(o).length-1:0},goog.string.removeAt=function(e,o,t){var r=e;return o>=0&&o<e.length&&t>0&&(r=e.substr(0,o)+e.substr(o+t,e.length-o-t)),r},goog.string.remove=function(e,o){var t=new RegExp(goog.string.regExpEscape(o),"");return e.replace(t,"")},goog.string.removeAll=function(e,o){var t=new RegExp(goog.string.regExpEscape(o),"g");return e.replace(t,"")},goog.string.regExpEscape=function(e){return String(e).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},goog.string.repeat=function(e,o){return new Array(o+1).join(e)},goog.string.padNumber=function(e,o,t){var r=goog.isDef(t)?e.toFixed(t):String(e),n=r.indexOf(".");return-1==n&&(n=r.length),goog.string.repeat("0",Math.max(0,o-n))+r},goog.string.makeSafe=function(e){return null==e?"":String(e)},goog.string.buildString=function(e){return Array.prototype.join.call(arguments,"")},goog.string.getRandomString=function(){var e=2147483648;return Math.floor(Math.random()*e).toString(36)+Math.abs(Math.floor(Math.random()*e)^goog.now()).toString(36)},goog.string.compareVersions=function(e,o){for(var t=0,r=goog.string.trim(String(e)).split("."),n=goog.string.trim(String(o)).split("."),i=Math.max(r.length,n.length),a=0;0==t&&i>a;a++){var s=r[a]||"",g=n[a]||"",l=new RegExp("(\\d*)(\\D*)","g"),p=new RegExp("(\\d*)(\\D*)","g");do{var u=l.exec(s)||["","",""],c=p.exec(g)||["","",""];if(0==u[0].length&&0==c[0].length)break;var d=0==u[1].length?0:parseInt(u[1],10),h=0==c[1].length?0:parseInt(c[1],10);t=goog.string.compareElements_(d,h)||goog.string.compareElements_(0==u[2].length,0==c[2].length)||goog.string.compareElements_(u[2],c[2])}while(0==t)}return t},goog.string.compareElements_=function(e,o){return o>e?-1:e>o?1:0},goog.string.HASHCODE_MAX_=4294967296,goog.string.hashCode=function(e){for(var o=0,t=0;t<e.length;++t)o=31*o+e.charCodeAt(t),o%=goog.string.HASHCODE_MAX_;return o},goog.string.uniqueStringCounter_=2147483648*Math.random()|0,goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++},goog.string.toNumber=function(e){var o=Number(e);return 0==o&&goog.string.isEmptyOrWhitespace(e)?0/0:o},goog.string.isLowerCamelCase=function(e){return/^[a-z]+([A-Z][a-z]*)*$/.test(e)},goog.string.isUpperCamelCase=function(e){return/^([A-Z][a-z]*)+$/.test(e)},goog.string.toCamelCase=function(e){return String(e).replace(/\-([a-z])/g,function(e,o){return o.toUpperCase()})},goog.string.toSelectorCase=function(e){return String(e).replace(/([A-Z])/g,"-$1").toLowerCase()},goog.string.toTitleCase=function(e,o){var t=goog.isString(o)?goog.string.regExpEscape(o):"\\s";t=t?"|["+t+"]+":"";var r=new RegExp("(^"+t+")([a-z])","g");return e.replace(r,function(e,o,t){return o+t.toUpperCase()})},goog.string.capitalize=function(e){return String(e.charAt(0)).toUpperCase()+String(e.substr(1)).toLowerCase()},goog.string.parseInt=function(e){return isFinite(e)&&(e=String(e)),goog.isString(e)?/^\s*-?0x/i.test(e)?parseInt(e,16):parseInt(e,10):0/0},goog.string.splitLimit=function(e,o,t){for(var r=e.split(o),n=[];t>0&&r.length;)n.push(r.shift()),t--;return r.length&&n.push(r.join(o)),n},goog.string.editDistance=function(e,o){var t=[],r=[];if(e==o)return 0;if(!e.length||!o.length)return Math.max(e.length,o.length);for(var n=0;n<o.length+1;n++)t[n]=n;for(var n=0;n<e.length;n++){r[0]=n+1;for(var i=0;i<o.length;i++){var a=e[n]!=o[i];r[i+1]=Math.min(r[i]+1,t[i+1]+1,t[i]+a)}for(var i=0;i<t.length;i++)t[i]=r[i]}return r[o.length]},goog.provide("goog.asserts"),goog.provide("goog.asserts.AssertionError"),goog.require("goog.debug.Error"),goog.require("goog.dom.NodeType"),goog.require("goog.string"),goog.define("goog.asserts.ENABLE_ASSERTS",goog.DEBUG),goog.asserts.AssertionError=function(e,o){o.unshift(e),goog.debug.Error.call(this,goog.string.subs.apply(null,o)),o.shift(),this.messagePattern=e},goog.inherits(goog.asserts.AssertionError,goog.debug.Error),goog.asserts.AssertionError.prototype.name="AssertionError",goog.asserts.DEFAULT_ERROR_HANDLER=function(e){throw e},goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER,goog.asserts.doAssertFailure_=function(e,o,t,r){var n="Assertion failed";if(t){n+=": "+t;var i=r}else e&&(n+=": "+e,i=o);var a=new goog.asserts.AssertionError(""+n,i||[]);goog.asserts.errorHandler_(a)},goog.asserts.setErrorHandler=function(e){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=e)},goog.asserts.assert=function(e,o,t){return goog.asserts.ENABLE_ASSERTS&&!e&&goog.asserts.doAssertFailure_("",null,o,Array.prototype.slice.call(arguments,2)),e},goog.asserts.fail=function(e,o){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1)))},goog.asserts.assertNumber=function(e,o,t){return goog.asserts.ENABLE_ASSERTS&&!goog.isNumber(e)&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(e),e],o,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertString=function(e,o,t){return goog.asserts.ENABLE_ASSERTS&&!goog.isString(e)&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(e),e],o,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertFunction=function(e,o,t){return goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(e)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(e),e],o,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertObject=function(e,o,t){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(e)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(e),e],o,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertArray=function(e,o,t){return goog.asserts.ENABLE_ASSERTS&&!goog.isArray(e)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(e),e],o,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertBoolean=function(e,o,t){return goog.asserts.ENABLE_ASSERTS&&!goog.isBoolean(e)&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(e),e],o,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertElement=function(e,o,t){return!goog.asserts.ENABLE_ASSERTS||goog.isObject(e)&&e.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(e),e],o,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertInstanceof=function(e,o,t,r){return!goog.asserts.ENABLE_ASSERTS||e instanceof o||goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.",[goog.asserts.getType_(o),goog.asserts.getType_(e)],t,Array.prototype.slice.call(arguments,3)),e},goog.asserts.assertObjectPrototypeIsIntact=function(){for(var e in Object.prototype)goog.asserts.fail(e+" should not be enumerable in Object.prototype.")},goog.asserts.getType_=function(e){return e instanceof Function?e.displayName||e.name||"unknown type name":e instanceof Object?e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e):null===e?"null":typeof e},goog.provide("goog.array"),goog.provide("goog.array.ArrayLike"),goog.require("goog.asserts"),goog.define("goog.NATIVE_ARRAY_PROTOTYPES",goog.TRUSTED_SITE),goog.define("goog.array.ASSUME_NATIVE_FUNCTIONS",!1),goog.array.ArrayLike,goog.array.peek=function(e){return e[e.length-1]},goog.array.last=goog.array.peek,goog.array.ARRAY_PROTOTYPE_=Array.prototype,goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.indexOf)?function(e,o,t){return goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.indexOf.call(e,o,t)}:function(e,o,t){var r=null==t?0:0>t?Math.max(0,e.length+t):t;if(goog.isString(e))return goog.isString(o)&&1==o.length?e.indexOf(o,r):-1;for(var n=r;n<e.length;n++)if(n in e&&e[n]===o)return n;return-1},goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.lastIndexOf)?function(e,o,t){goog.asserts.assert(null!=e.length);var r=null==t?e.length-1:t;return goog.array.ARRAY_PROTOTYPE_.lastIndexOf.call(e,o,r)}:function(e,o,t){var r=null==t?e.length-1:t;if(0>r&&(r=Math.max(0,e.length+r)),goog.isString(e))return goog.isString(o)&&1==o.length?e.lastIndexOf(o,r):-1;for(var n=r;n>=0;n--)if(n in e&&e[n]===o)return n;return-1},goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.forEach)?function(e,o,t){goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.forEach.call(e,o,t)}:function(e,o,t){for(var r=e.length,n=goog.isString(e)?e.split(""):e,i=0;r>i;i++)i in n&&o.call(t,n[i],i,e)},goog.array.forEachRight=function(e,o,t){for(var r=e.length,n=goog.isString(e)?e.split(""):e,i=r-1;i>=0;--i)i in n&&o.call(t,n[i],i,e)},goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.filter)?function(e,o,t){return goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.filter.call(e,o,t)}:function(e,o,t){for(var r=e.length,n=[],i=0,a=goog.isString(e)?e.split(""):e,s=0;r>s;s++)if(s in a){var g=a[s];o.call(t,g,s,e)&&(n[i++]=g)}return n},goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.map)?function(e,o,t){return goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.map.call(e,o,t)}:function(e,o,t){for(var r=e.length,n=new Array(r),i=goog.isString(e)?e.split(""):e,a=0;r>a;a++)a in i&&(n[a]=o.call(t,i[a],a,e));return n},goog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.reduce)?function(e,o,t,r){return goog.asserts.assert(null!=e.length),r&&(o=goog.bind(o,r)),goog.array.ARRAY_PROTOTYPE_.reduce.call(e,o,t)}:function(e,o,t,r){var n=t;return goog.array.forEach(e,function(t,i){n=o.call(r,n,t,i,e)}),n},goog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.reduceRight)?function(e,o,t,r){return goog.asserts.assert(null!=e.length),r&&(o=goog.bind(o,r)),goog.array.ARRAY_PROTOTYPE_.reduceRight.call(e,o,t)}:function(e,o,t,r){var n=t;return goog.array.forEachRight(e,function(t,i){n=o.call(r,n,t,i,e)}),n},goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.some)?function(e,o,t){return goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.some.call(e,o,t)}:function(e,o,t){for(var r=e.length,n=goog.isString(e)?e.split(""):e,i=0;r>i;i++)if(i in n&&o.call(t,n[i],i,e))return!0;return!1},goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.every)?function(e,o,t){return goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.every.call(e,o,t)}:function(e,o,t){for(var r=e.length,n=goog.isString(e)?e.split(""):e,i=0;r>i;i++)if(i in n&&!o.call(t,n[i],i,e))return!1;return!0},goog.array.count=function(e,o,t){var r=0;return goog.array.forEach(e,function(e,n,i){o.call(t,e,n,i)&&++r},t),r},goog.array.find=function(e,o,t){var r=goog.array.findIndex(e,o,t);return 0>r?null:goog.isString(e)?e.charAt(r):e[r]},goog.array.findIndex=function(e,o,t){for(var r=e.length,n=goog.isString(e)?e.split(""):e,i=0;r>i;i++)if(i in n&&o.call(t,n[i],i,e))return i;return-1},goog.array.findRight=function(e,o,t){var r=goog.array.findIndexRight(e,o,t);return 0>r?null:goog.isString(e)?e.charAt(r):e[r]},goog.array.findIndexRight=function(e,o,t){for(var r=e.length,n=goog.isString(e)?e.split(""):e,i=r-1;i>=0;i--)if(i in n&&o.call(t,n[i],i,e))return i;return-1},goog.array.contains=function(e,o){return goog.array.indexOf(e,o)>=0},goog.array.isEmpty=function(e){return 0==e.length},goog.array.clear=function(e){if(!goog.isArray(e))for(var o=e.length-1;o>=0;o--)delete e[o];e.length=0},goog.array.insert=function(e,o){goog.array.contains(e,o)||e.push(o)},goog.array.insertAt=function(e,o,t){goog.array.splice(e,t,0,o)},goog.array.insertArrayAt=function(e,o,t){goog.partial(goog.array.splice,e,t,0).apply(null,o)},goog.array.insertBefore=function(e,o,t){var r;2==arguments.length||(r=goog.array.indexOf(e,t))<0?e.push(o):goog.array.insertAt(e,o,r)},goog.array.remove=function(e,o){var t,r=goog.array.indexOf(e,o);return(t=r>=0)&&goog.array.removeAt(e,r),t},goog.array.removeAt=function(e,o){return goog.asserts.assert(null!=e.length),1==goog.array.ARRAY_PROTOTYPE_.splice.call(e,o,1).length},goog.array.removeIf=function(e,o,t){var r=goog.array.findIndex(e,o,t);return r>=0?(goog.array.removeAt(e,r),!0):!1},goog.array.removeAllIf=function(e,o,t){var r=0;return goog.array.forEachRight(e,function(n,i){o.call(t,n,i,e)&&goog.array.removeAt(e,i)&&r++}),r},goog.array.concat=function(e){return goog.array.ARRAY_PROTOTYPE_.concat.apply(goog.array.ARRAY_PROTOTYPE_,arguments)},goog.array.join=function(e){return goog.array.ARRAY_PROTOTYPE_.concat.apply(goog.array.ARRAY_PROTOTYPE_,arguments)},goog.array.toArray=function(e){var o=e.length;if(o>0){for(var t=new Array(o),r=0;o>r;r++)t[r]=e[r];return t}return[]},goog.array.clone=goog.array.toArray,goog.array.extend=function(e,o){for(var t=1;t<arguments.length;t++){var r=arguments[t];if(goog.isArrayLike(r)){var n=e.length||0,i=r.length||0;e.length=n+i;for(var a=0;i>a;a++)e[n+a]=r[a]}else e.push(r)}},goog.array.splice=function(e,o,t,r){return goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.splice.apply(e,goog.array.slice(arguments,1))},goog.array.slice=function(e,o,t){return goog.asserts.assert(null!=e.length),arguments.length<=2?goog.array.ARRAY_PROTOTYPE_.slice.call(e,o):goog.array.ARRAY_PROTOTYPE_.slice.call(e,o,t)},goog.array.removeDuplicates=function(e,o,t){for(var r=o||e,n=function(e){return goog.isObject(l)?"o"+goog.getUid(l):(typeof l).charAt(0)+l},i=t||n,a={},s=0,g=0;g<e.length;){var l=e[g++],p=i(l);Object.prototype.hasOwnProperty.call(a,p)||(a[p]=!0,r[s++]=l)}r.length=s},goog.array.binarySearch=function(e,o,t){return goog.array.binarySearch_(e,t||goog.array.defaultCompare,!1,o)},goog.array.binarySelect=function(e,o,t){return goog.array.binarySearch_(e,o,!0,void 0,t)},goog.array.binarySearch_=function(e,o,t,r,n){for(var i,a=0,s=e.length;s>a;){var g,l=a+s>>1;g=t?o.call(n,e[l],l,e):o(r,e[l]),g>0?a=l+1:(s=l,i=!g)}return i?a:~a},goog.array.sort=function(e,o){e.sort(o||goog.array.defaultCompare)},goog.array.stableSort=function(e,o){function t(e,o){return n(e.value,o.value)||e.index-o.index}for(var r=0;r<e.length;r++)e[r]={index:r,value:e[r]};var n=o||goog.array.defaultCompare;goog.array.sort(e,t);for(var r=0;r<e.length;r++)e[r]=e[r].value},goog.array.sortByKey=function(e,o,t){var r=t||goog.array.defaultCompare;goog.array.sort(e,function(e,t){return r(o(e),o(t))})},goog.array.sortObjectsByKey=function(e,o,t){goog.array.sortByKey(e,function(e){return e[o]},t)},goog.array.isSorted=function(e,o,t){for(var r=o||goog.array.defaultCompare,n=1;n<e.length;n++){var i=r(e[n-1],e[n]);if(i>0||0==i&&t)return!1}return!0},goog.array.equals=function(e,o,t){if(!goog.isArrayLike(e)||!goog.isArrayLike(o)||e.length!=o.length)return!1;for(var r=e.length,n=t||goog.array.defaultCompareEquality,i=0;r>i;i++)if(!n(e[i],o[i]))return!1;return!0},goog.array.compare3=function(e,o,t){for(var r=t||goog.array.defaultCompare,n=Math.min(e.length,o.length),i=0;n>i;i++){var a=r(e[i],o[i]);if(0!=a)return a}return goog.array.defaultCompare(e.length,o.length)},goog.array.defaultCompare=function(e,o){return e>o?1:o>e?-1:0},goog.array.inverseDefaultCompare=function(e,o){return-goog.array.defaultCompare(e,o)},goog.array.defaultCompareEquality=function(e,o){return e===o},goog.array.binaryInsert=function(e,o,t){var r=goog.array.binarySearch(e,o,t);return 0>r?(goog.array.insertAt(e,o,-(r+1)),!0):!1},goog.array.binaryRemove=function(e,o,t){var r=goog.array.binarySearch(e,o,t);return r>=0?goog.array.removeAt(e,r):!1},goog.array.bucket=function(e,o,t){for(var r={},n=0;n<e.length;n++){var i=e[n],a=o.call(t,i,n,e);if(goog.isDef(a)){var s=r[a]||(r[a]=[]);s.push(i)}}return r},goog.array.toObject=function(e,o,t){var r={};return goog.array.forEach(e,function(n,i){r[o.call(t,n,i,e)]=n}),r},goog.array.range=function(e,o,t){var r=[],n=0,i=e,a=t||1;if(void 0!==o&&(n=e,i=o),0>a*(i-n))return[];if(a>0)for(var s=n;i>s;s+=a)r.push(s);else for(var s=n;s>i;s+=a)r.push(s);return r},goog.array.repeat=function(e,o){for(var t=[],r=0;o>r;r++)t[r]=e;return t},goog.array.flatten=function(e){for(var o=8192,t=[],r=0;r<arguments.length;r++){var n=arguments[r];if(goog.isArray(n))for(var i=0;i<n.length;i+=o)for(var a=goog.array.slice(n,i,i+o),s=goog.array.flatten.apply(null,a),g=0;g<s.length;g++)t.push(s[g]);else t.push(n);

}return t},goog.array.rotate=function(e,o){return goog.asserts.assert(null!=e.length),e.length&&(o%=e.length,o>0?goog.array.ARRAY_PROTOTYPE_.unshift.apply(e,e.splice(-o,o)):0>o&&goog.array.ARRAY_PROTOTYPE_.push.apply(e,e.splice(0,-o))),e},goog.array.moveItem=function(e,o,t){goog.asserts.assert(o>=0&&o<e.length),goog.asserts.assert(t>=0&&t<e.length);var r=goog.array.ARRAY_PROTOTYPE_.splice.call(e,o,1);goog.array.ARRAY_PROTOTYPE_.splice.call(e,t,0,r[0])},goog.array.zip=function(e){if(!arguments.length)return[];for(var o=[],t=0;!0;t++){for(var r=[],n=0;n<arguments.length;n++){var i=arguments[n];if(t>=i.length)return o;r.push(i[t])}o.push(r)}},goog.array.shuffle=function(e,o){for(var t=o||Math.random,r=e.length-1;r>0;r--){var n=Math.floor(t()*(r+1)),i=e[r];e[r]=e[n],e[n]=i}},goog.array.copyByIndex=function(e,o){var t=[];return goog.array.forEach(o,function(o){t.push(e[o])}),t},goog.provide("goog.labs.userAgent.util"),goog.require("goog.string"),goog.labs.userAgent.util.getNativeUserAgentString_=function(){var e=goog.labs.userAgent.util.getNavigator_();if(e){var o=e.userAgent;if(o)return o}return""},goog.labs.userAgent.util.getNavigator_=function(){return goog.global.navigator},goog.labs.userAgent.util.userAgent_=goog.labs.userAgent.util.getNativeUserAgentString_(),goog.labs.userAgent.util.setUserAgent=function(e){goog.labs.userAgent.util.userAgent_=e||goog.labs.userAgent.util.getNativeUserAgentString_()},goog.labs.userAgent.util.getUserAgent=function(){return goog.labs.userAgent.util.userAgent_},goog.labs.userAgent.util.matchUserAgent=function(e){var o=goog.labs.userAgent.util.getUserAgent();return goog.string.contains(o,e)},goog.labs.userAgent.util.matchUserAgentIgnoreCase=function(e){var o=goog.labs.userAgent.util.getUserAgent();return goog.string.caseInsensitiveContains(o,e)},goog.labs.userAgent.util.extractVersionTuples=function(e){for(var o,t=new RegExp("(\\w[\\w ]+)/([^\\s]+)\\s*(?:\\((.*?)\\))?","g"),r=[];o=t.exec(e);)r.push([o[1],o[2],o[3]||void 0]);return r},goog.provide("goog.object"),goog.object.forEach=function(e,o,t){for(var r in e)o.call(t,e[r],r,e)},goog.object.filter=function(e,o,t){var r={};for(var n in e)o.call(t,e[n],n,e)&&(r[n]=e[n]);return r},goog.object.map=function(e,o,t){var r={};for(var n in e)r[n]=o.call(t,e[n],n,e);return r},goog.object.some=function(e,o,t){for(var r in e)if(o.call(t,e[r],r,e))return!0;return!1},goog.object.every=function(e,o,t){for(var r in e)if(!o.call(t,e[r],r,e))return!1;return!0},goog.object.getCount=function(e){var o=0;for(var t in e)o++;return o},goog.object.getAnyKey=function(e){for(var o in e)return o},goog.object.getAnyValue=function(e){for(var o in e)return e[o]},goog.object.contains=function(e,o){return goog.object.containsValue(e,o)},goog.object.getValues=function(e){var o=[],t=0;for(var r in e)o[t++]=e[r];return o},goog.object.getKeys=function(e){var o=[],t=0;for(var r in e)o[t++]=r;return o},goog.object.getValueByKeys=function(e,o){for(var t=goog.isArrayLike(o),r=t?o:arguments,n=t?0:1;n<r.length&&(e=e[r[n]],goog.isDef(e));n++);return e},goog.object.containsKey=function(e,o){return o in e},goog.object.containsValue=function(e,o){for(var t in e)if(e[t]==o)return!0;return!1},goog.object.findKey=function(e,o,t){for(var r in e)if(o.call(t,e[r],r,e))return r;return void 0},goog.object.findValue=function(e,o,t){var r=goog.object.findKey(e,o,t);return r&&e[r]},goog.object.isEmpty=function(e){for(var o in e)return!1;return!0},goog.object.clear=function(e){for(var o in e)delete e[o]},goog.object.remove=function(e,o){var t;return(t=o in e)&&delete e[o],t},goog.object.add=function(e,o,t){if(o in e)throw Error('The object already contains the key "'+o+'"');goog.object.set(e,o,t)},goog.object.get=function(e,o,t){return o in e?e[o]:t},goog.object.set=function(e,o,t){e[o]=t},goog.object.setIfUndefined=function(e,o,t){return o in e?e[o]:e[o]=t},goog.object.setWithReturnValueIfNotSet=function(e,o,t){if(o in e)return e[o];var r=t();return e[o]=r,r},goog.object.equals=function(e,o){for(var t in e)if(!(t in o)||e[t]!==o[t])return!1;for(var t in o)if(!(t in e))return!1;return!0},goog.object.clone=function(e){var o={};for(var t in e)o[t]=e[t];return o},goog.object.unsafeClone=function(e){var o=goog.typeOf(e);if("object"==o||"array"==o){if(e.clone)return e.clone();var t="array"==o?[]:{};for(var r in e)t[r]=goog.object.unsafeClone(e[r]);return t}return e},goog.object.transpose=function(e){var o={};for(var t in e)o[e[t]]=t;return o},goog.object.PROTOTYPE_FIELDS_=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],goog.object.extend=function(e,o){for(var t,r,n=1;n<arguments.length;n++){r=arguments[n];for(t in r)e[t]=r[t];for(var i=0;i<goog.object.PROTOTYPE_FIELDS_.length;i++)t=goog.object.PROTOTYPE_FIELDS_[i],Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}},goog.object.create=function(e){var o=arguments.length;if(1==o&&goog.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(o%2)throw Error("Uneven number of arguments");for(var t={},r=0;o>r;r+=2)t[arguments[r]]=arguments[r+1];return t},goog.object.createSet=function(e){var o=arguments.length;if(1==o&&goog.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var t={},r=0;o>r;r++)t[arguments[r]]=!0;return t},goog.object.createImmutableView=function(e){var o=e;return Object.isFrozen&&!Object.isFrozen(e)&&(o=Object.create(e),Object.freeze(o)),o},goog.object.isImmutableView=function(e){return!!Object.isFrozen&&Object.isFrozen(e)},goog.provide("goog.labs.userAgent.browser"),goog.require("goog.array"),goog.require("goog.labs.userAgent.util"),goog.require("goog.object"),goog.require("goog.string"),goog.labs.userAgent.browser.matchOpera_=function(){return goog.labs.userAgent.util.matchUserAgent("Opera")||goog.labs.userAgent.util.matchUserAgent("OPR")},goog.labs.userAgent.browser.matchIE_=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.browser.matchFirefox_=function(){return goog.labs.userAgent.util.matchUserAgent("Firefox")},goog.labs.userAgent.browser.matchSafari_=function(){return goog.labs.userAgent.util.matchUserAgent("Safari")&&!goog.labs.userAgent.util.matchUserAgent("Chrome")&&!goog.labs.userAgent.util.matchUserAgent("CriOS")&&!goog.labs.userAgent.util.matchUserAgent("Android")},goog.labs.userAgent.browser.matchCoast_=function(){return goog.labs.userAgent.util.matchUserAgent("Coast")},goog.labs.userAgent.browser.matchIosWebview_=function(){return(goog.labs.userAgent.util.matchUserAgent("iPad")||goog.labs.userAgent.util.matchUserAgent("iPhone"))&&!goog.labs.userAgent.browser.matchSafari_()&&!goog.labs.userAgent.browser.matchChrome_()&&!goog.labs.userAgent.browser.matchCoast_()&&goog.labs.userAgent.util.matchUserAgent("AppleWebKit")},goog.labs.userAgent.browser.matchChrome_=function(){return goog.labs.userAgent.util.matchUserAgent("Chrome")||goog.labs.userAgent.util.matchUserAgent("CriOS")},goog.labs.userAgent.browser.matchAndroidBrowser_=function(){return!goog.labs.userAgent.browser.isChrome()&&goog.labs.userAgent.util.matchUserAgent("Android")},goog.labs.userAgent.browser.isOpera=goog.labs.userAgent.browser.matchOpera_,goog.labs.userAgent.browser.isIE=goog.labs.userAgent.browser.matchIE_,goog.labs.userAgent.browser.isFirefox=goog.labs.userAgent.browser.matchFirefox_,goog.labs.userAgent.browser.isSafari=goog.labs.userAgent.browser.matchSafari_,goog.labs.userAgent.browser.isCoast=goog.labs.userAgent.browser.matchCoast_,goog.labs.userAgent.browser.isIosWebview=goog.labs.userAgent.browser.matchIosWebview_,goog.labs.userAgent.browser.isChrome=goog.labs.userAgent.browser.matchChrome_,goog.labs.userAgent.browser.isAndroidBrowser=goog.labs.userAgent.browser.matchAndroidBrowser_,goog.labs.userAgent.browser.isSilk=function(){return goog.labs.userAgent.util.matchUserAgent("Silk")},goog.labs.userAgent.browser.getVersion=function(){function e(e){var o=goog.array.find(e,n);return r[o]||""}var o=goog.labs.userAgent.util.getUserAgent();if(goog.labs.userAgent.browser.isIE())return goog.labs.userAgent.browser.getIEVersion_(o);var t=goog.labs.userAgent.util.extractVersionTuples(o),r={};goog.array.forEach(t,function(e){var o=e[0],t=e[1];r[o]=t});var n=goog.partial(goog.object.containsKey,r);if(goog.labs.userAgent.browser.isOpera())return e(["Version","Opera","OPR"]);if(goog.labs.userAgent.browser.isChrome())return e(["Chrome","CriOS"]);var i=t[2];return i&&i[1]||""},goog.labs.userAgent.browser.isVersionOrHigher=function(e){return goog.string.compareVersions(goog.labs.userAgent.browser.getVersion(),e)>=0},goog.labs.userAgent.browser.getIEVersion_=function(e){var o=/rv: *([\d\.]*)/.exec(e);if(o&&o[1])return o[1];var t="",r=/MSIE +([\d\.]+)/.exec(e);if(r&&r[1]){var n=/Trident\/(\d.\d)/.exec(e);if("7.0"==r[1])if(n&&n[1])switch(n[1]){case"4.0":t="8.0";break;case"5.0":t="9.0";break;case"6.0":t="10.0";break;case"7.0":t="11.0"}else t="7.0";else t=r[1]}return t},goog.provide("goog.labs.userAgent.engine"),goog.require("goog.array"),goog.require("goog.labs.userAgent.util"),goog.require("goog.string"),goog.labs.userAgent.engine.isPresto=function(){return goog.labs.userAgent.util.matchUserAgent("Presto")},goog.labs.userAgent.engine.isTrident=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.engine.isWebKit=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("WebKit")},goog.labs.userAgent.engine.isGecko=function(){return goog.labs.userAgent.util.matchUserAgent("Gecko")&&!goog.labs.userAgent.engine.isWebKit()&&!goog.labs.userAgent.engine.isTrident()},goog.labs.userAgent.engine.getVersion=function(){var e=goog.labs.userAgent.util.getUserAgent();if(e){var o=goog.labs.userAgent.util.extractVersionTuples(e),t=o[1];if(t)return"Gecko"==t[0]?goog.labs.userAgent.engine.getVersionForKey_(o,"Firefox"):t[1];var r,n=o[0];if(n&&(r=n[2])){var i=/Trident\/([^\s;]+)/.exec(r);if(i)return i[1]}}return""},goog.labs.userAgent.engine.isVersionOrHigher=function(e){return goog.string.compareVersions(goog.labs.userAgent.engine.getVersion(),e)>=0},goog.labs.userAgent.engine.getVersionForKey_=function(e,o){var t=goog.array.find(e,function(e){return o==e[0]});return t&&t[1]||""},goog.provide("goog.labs.userAgent.platform"),goog.require("goog.labs.userAgent.util"),goog.require("goog.string"),goog.labs.userAgent.platform.isAndroid=function(){return goog.labs.userAgent.util.matchUserAgent("Android")},goog.labs.userAgent.platform.isIpod=function(){return goog.labs.userAgent.util.matchUserAgent("iPod")},goog.labs.userAgent.platform.isIphone=function(){return goog.labs.userAgent.util.matchUserAgent("iPhone")&&!goog.labs.userAgent.util.matchUserAgent("iPod")&&!goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIpad=function(){return goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIos=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpad()||goog.labs.userAgent.platform.isIpod()},goog.labs.userAgent.platform.isMacintosh=function(){return goog.labs.userAgent.util.matchUserAgent("Macintosh")},goog.labs.userAgent.platform.isLinux=function(){return goog.labs.userAgent.util.matchUserAgent("Linux")},goog.labs.userAgent.platform.isWindows=function(){return goog.labs.userAgent.util.matchUserAgent("Windows")},goog.labs.userAgent.platform.isChromeOS=function(){return goog.labs.userAgent.util.matchUserAgent("CrOS")},goog.labs.userAgent.platform.getVersion=function(){var e,o=goog.labs.userAgent.util.getUserAgent(),t="";if(goog.labs.userAgent.platform.isWindows()){e=/Windows (?:NT|Phone) ([0-9.]+)/;var r=e.exec(o);t=r?r[1]:"0.0"}else if(goog.labs.userAgent.platform.isIos()){e=/(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/;var r=e.exec(o);t=r&&r[1].replace(/_/g,".")}else if(goog.labs.userAgent.platform.isMacintosh()){e=/Mac OS X ([0-9_.]+)/;var r=e.exec(o);t=r?r[1].replace(/_/g,"."):"10"}else if(goog.labs.userAgent.platform.isAndroid()){e=/Android\s+([^\);]+)(\)|;)/;var r=e.exec(o);t=r&&r[1]}else if(goog.labs.userAgent.platform.isChromeOS()){e=/(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/;var r=e.exec(o);t=r&&r[1]}return t||""},goog.labs.userAgent.platform.isVersionOrHigher=function(e){return goog.string.compareVersions(goog.labs.userAgent.platform.getVersion(),e)>=0},goog.provide("goog.userAgent"),goog.require("goog.labs.userAgent.browser"),goog.require("goog.labs.userAgent.engine"),goog.require("goog.labs.userAgent.platform"),goog.require("goog.labs.userAgent.util"),goog.require("goog.string"),goog.define("goog.userAgent.ASSUME_IE",!1),goog.define("goog.userAgent.ASSUME_GECKO",!1),goog.define("goog.userAgent.ASSUME_WEBKIT",!1),goog.define("goog.userAgent.ASSUME_MOBILE_WEBKIT",!1),goog.define("goog.userAgent.ASSUME_OPERA",!1),goog.define("goog.userAgent.ASSUME_ANY_VERSION",!1),goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA,goog.userAgent.getUserAgentString=function(){return goog.labs.userAgent.util.getUserAgent()},goog.userAgent.getNavigator=function(){return goog.global.navigator||null},goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.labs.userAgent.browser.isOpera(),goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.labs.userAgent.browser.isIE(),goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.labs.userAgent.engine.isGecko(),goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.labs.userAgent.engine.isWebKit(),goog.userAgent.isMobile_=function(){return goog.userAgent.WEBKIT&&goog.labs.userAgent.util.matchUserAgent("Mobile")},goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.isMobile_(),goog.userAgent.SAFARI=goog.userAgent.WEBKIT,goog.userAgent.determinePlatform_=function(){var e=goog.userAgent.getNavigator();return e&&e.platform||""},goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_(),goog.define("goog.userAgent.ASSUME_MAC",!1),goog.define("goog.userAgent.ASSUME_WINDOWS",!1),goog.define("goog.userAgent.ASSUME_LINUX",!1),goog.define("goog.userAgent.ASSUME_X11",!1),goog.define("goog.userAgent.ASSUME_ANDROID",!1),goog.define("goog.userAgent.ASSUME_IPHONE",!1),goog.define("goog.userAgent.ASSUME_IPAD",!1),goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11||goog.userAgent.ASSUME_ANDROID||goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD,goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.labs.userAgent.platform.isMacintosh(),goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.labs.userAgent.platform.isWindows(),goog.userAgent.isLegacyLinux_=function(){return goog.labs.userAgent.platform.isLinux()||goog.labs.userAgent.platform.isChromeOS()},goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.isLegacyLinux_(),goog.userAgent.isX11_=function(){var e=goog.userAgent.getNavigator();return!!e&&goog.string.contains(e.appVersion||"","X11")},goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.isX11_(),goog.userAgent.ANDROID=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_ANDROID:goog.labs.userAgent.platform.isAndroid(),goog.userAgent.IPHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE:goog.labs.userAgent.platform.isIphone(),goog.userAgent.IPAD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.determineVersion_=function(){var e,o="";if(goog.userAgent.OPERA&&goog.global.opera){var t=goog.global.opera.version;return goog.isFunction(t)?t():t}if(goog.userAgent.GECKO?e=/rv\:([^\);]+)(\)|;)/:goog.userAgent.IE?e=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:goog.userAgent.WEBKIT&&(e=/WebKit\/(\S+)/),e){var r=e.exec(goog.userAgent.getUserAgentString());o=r?r[1]:""}if(goog.userAgent.IE){var n=goog.userAgent.getDocumentMode_();if(n>parseFloat(o))return String(n)}return o},goog.userAgent.getDocumentMode_=function(){var e=goog.global.document;return e?e.documentMode:void 0},goog.userAgent.VERSION=goog.userAgent.determineVersion_(),goog.userAgent.compare=function(e,o){return goog.string.compareVersions(e,o)},goog.userAgent.isVersionOrHigherCache_={},goog.userAgent.isVersionOrHigher=function(e){return goog.userAgent.ASSUME_ANY_VERSION||goog.userAgent.isVersionOrHigherCache_[e]||(goog.userAgent.isVersionOrHigherCache_[e]=goog.string.compareVersions(goog.userAgent.VERSION,e)>=0)},goog.userAgent.isVersion=goog.userAgent.isVersionOrHigher,goog.userAgent.isDocumentModeOrHigher=function(e){return goog.userAgent.IE&&goog.userAgent.DOCUMENT_MODE>=e},goog.userAgent.isDocumentMode=goog.userAgent.isDocumentModeOrHigher,goog.userAgent.DOCUMENT_MODE=function(){var e=goog.global.document;if(!e||!goog.userAgent.IE)return void 0;var o=goog.userAgent.getDocumentMode_();return o||("CSS1Compat"==e.compatMode?parseInt(goog.userAgent.VERSION,10):5)}(),goog.require("goog.userAgent"),goog.provide("ol"),ol.ASSUME_TOUCH=!1,ol.DEFAULT_MAX_ZOOM=42,ol.DEFAULT_MIN_ZOOM=0,ol.DEFAULT_TILE_CACHE_HIGH_WATER_MARK=2048,ol.DEFAULT_TILE_SIZE=256,ol.DEFAULT_WMS_VERSION="1.3.0",ol.DRAG_BOX_HYSTERESIS_PIXELS=8,ol.ENABLE_CANVAS=!0,ol.ENABLE_DOM=!0,ol.ENABLE_IMAGE=!0,ol.ENABLE_NAMED_COLORS=!1,ol.ENABLE_PROJ4JS=!0,ol.ENABLE_TILE=!0,ol.ENABLE_VECTOR=!0,ol.ENABLE_WEBGL=!0,ol.LEGACY_IE_SUPPORT=!1,ol.INITIAL_ATLAS_SIZE=256,ol.IS_LEGACY_IE=goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("9.0")&&""!==goog.userAgent.VERSION,ol.MAX_ATLAS_SIZE=-1,ol.MOUSEWHEELZOOM_MAXDELTA=1,ol.MOUSEWHEELZOOM_TIMEOUT_DURATION=80,ol.OVERVIEWMAP_MAX_RATIO=.75,ol.OVERVIEWMAP_MIN_RATIO=.1,ol.SIMPLIFY_TOLERANCE=.5,ol.WEBGL_TEXTURE_CACHE_HIGH_WATER_MARK=1024,ol.WEBGL_MAX_TEXTURE_SIZE,ol.WEBGL_EXTENSIONS,ol.inherits=goog.inherits,goog.provide("goog.math"),goog.require("goog.array"),goog.require("goog.asserts"),goog.math.randomInt=function(e){return Math.floor(Math.random()*e)},goog.math.uniformRandom=function(e,o){return e+Math.random()*(o-e)},goog.math.clamp=function(e,o,t){return Math.min(Math.max(e,o),t)},goog.math.modulo=function(e,o){var t=e%o;return 0>t*o?t+o:t},goog.math.lerp=function(e,o,t){return e+t*(o-e)},goog.math.nearlyEquals=function(e,o,t){return Math.abs(e-o)<=(t||1e-6)},goog.math.standardAngle=function(e){return goog.math.modulo(e,360)},goog.math.standardAngleInRadians=function(e){return goog.math.modulo(e,2*Math.PI)},goog.math.toRadians=function(e){return e*Math.PI/180},goog.math.toDegrees=function(e){return 180*e/Math.PI},goog.math.angleDx=function(e,o){return o*Math.cos(goog.math.toRadians(e))},goog.math.angleDy=function(e,o){return o*Math.sin(goog.math.toRadians(e))},goog.math.angle=function(e,o,t,r){return goog.math.standardAngle(goog.math.toDegrees(Math.atan2(r-o,t-e)))},goog.math.angleDifference=function(e,o){var t=goog.math.standardAngle(o)-goog.math.standardAngle(e);return t>180?t-=360:-180>=t&&(t=360+t),t},goog.math.sign=function(e){return 0==e?0:0>e?-1:1},goog.math.longestCommonSubsequence=function(e,o,t,r){for(var n=t||function(e,o){return e==o},i=r||function(o,t){return e[o]},a=e.length,s=o.length,g=[],l=0;a+1>l;l++)g[l]=[],g[l][0]=0;for(var p=0;s+1>p;p++)g[0][p]=0;for(l=1;a>=l;l++)for(p=1;s>=p;p++)g[l][p]=n(e[l-1],o[p-1])?g[l-1][p-1]+1:Math.max(g[l-1][p],g[l][p-1]);for(var u=[],l=a,p=s;l>0&&p>0;)n(e[l-1],o[p-1])?(u.unshift(i(l-1,p-1)),l--,p--):g[l-1][p]>g[l][p-1]?l--:p--;return u},goog.math.sum=function(e){return goog.array.reduce(arguments,function(e,o){return e+o},0)},goog.math.average=function(e){return goog.math.sum.apply(null,arguments)/arguments.length},goog.math.sampleVariance=function(e){var o=arguments.length;if(2>o)return 0;var t=goog.math.average.apply(null,arguments),r=goog.math.sum.apply(null,goog.array.map(arguments,function(e){return Math.pow(e-t,2)}))/(o-1);return r},goog.math.standardDeviation=function(e){return Math.sqrt(goog.math.sampleVariance.apply(null,arguments))},goog.math.isInt=function(e){return isFinite(e)&&e%1==0},goog.math.isFiniteNumber=function(e){return isFinite(e)&&!isNaN(e)},goog.math.log10Floor=function(e){if(e>0){var o=Math.round(Math.log(e)*Math.LOG10E);return o-(parseFloat("1e"+o)>e)}return 0==e?-(1/0):0/0},goog.math.safeFloor=function(e,o){return goog.asserts.assert(!goog.isDef(o)||o>0),Math.floor(e+(o||2e-15))},goog.math.safeCeil=function(e,o){return goog.asserts.assert(!goog.isDef(o)||o>0),Math.ceil(e-(o||2e-15))},goog.provide("ol.CenterConstraint"),goog.provide("ol.CenterConstraintType"),goog.require("goog.math"),ol.CenterConstraintType,ol.CenterConstraint.createExtent=function(e){return function(o){return goog.isDef(o)?[goog.math.clamp(o[0],e[0],e[2]),goog.math.clamp(o[1],e[1],e[3])]:void 0}},ol.CenterConstraint.none=function(e){return e},goog.provide("ol.array"),goog.require("goog.array"),goog.require("goog.asserts"),ol.array.binaryFindNearest=function(e,o){var t=goog.array.binarySearch(e,o,function(e,o){return o-e});if(t>=0)return t;if(-1==t)return 0;if(t==-e.length-1)return e.length-1;var r=-t-2,n=-t-1;return e[r]-o<o-e[n]?r:n},ol.array.linearFindNearest=function(e,o,t){var r=e.length;if(e[0]<=o)return 0;if(o<=e[r-1])return r-1;var n;if(t>0){for(n=1;r>n;++n)if(e[n]<o)return n-1}else if(0>t){for(n=1;r>n;++n)if(e[n]<=o)return n}else for(n=1;r>n;++n){if(e[n]==o)return n;if(e[n]<o)return e[n-1]-o<o-e[n]?n-1:n}return goog.asserts.fail(),r-1},ol.array.reverseSubArray=function(e,o,t){for(goog.asserts.assert(o>=0,"Array begin index should be equal to or greater than 0"),goog.asserts.assert(t<e.length,"Array end index should be less than the array length");t>o;){var r=e[o];e[o]=e[t],e[t]=r,++o,--t}},goog.provide("ol.ResolutionConstraint"),goog.provide("ol.ResolutionConstraintType"),goog.require("goog.math"),goog.require("ol.array"),ol.ResolutionConstraintType,ol.ResolutionConstraint.createSnapToResolutions=function(e){return function(o,t,r){if(goog.isDef(o)){var n=ol.array.linearFindNearest(e,o,r);return n=goog.math.clamp(n+t,0,e.length-1),e[n]}return void 0}},ol.ResolutionConstraint.createSnapToPower=function(e,o,t){return function(r,n,i){if(goog.isDef(r)){var a;a=i>0?0:0>i?1:.5;var s=Math.floor(Math.log(o/r)/Math.log(e)+a),g=Math.max(s+n,0);return goog.isDef(t)&&(g=Math.min(g,t)),o/Math.pow(e,g)}return void 0}},goog.provide("ol.RotationConstraint"),goog.provide("ol.RotationConstraintType"),goog.require("goog.math"),ol.RotationConstraintType,ol.RotationConstraint.disable=function(e,o){return goog.isDef(e)?0:void 0},ol.RotationConstraint.none=function(e,o){return goog.isDef(e)?e+o:void 0},ol.RotationConstraint.createSnapToN=function(e){var o=2*Math.PI/e;return function(e,t){return goog.isDef(e)?e=Math.floor((e+t)/o+.5)*o:void 0}},ol.RotationConstraint.createSnapToZero=function(e){var o=e||goog.math.toRadians(5);return function(e,t){return goog.isDef(e)?Math.abs(e+t)<=o?0:e+t:void 0}},goog.provide("ol.Constraints"),goog.require("ol.CenterConstraintType"),goog.require("ol.ResolutionConstraintType"),goog.require("ol.RotationConstraintType"),ol.Constraints=function(e,o,t){this.center=e,this.resolution=o,this.rotation=t},goog.provide("goog.debug.EntryPointMonitor"),goog.provide("goog.debug.entryPointRegistry"),goog.require("goog.asserts"),goog.debug.EntryPointMonitor=function(){},goog.debug.EntryPointMonitor.prototype.wrap,goog.debug.EntryPointMonitor.prototype.unwrap,goog.debug.entryPointRegistry.refList_=[],goog.debug.entryPointRegistry.monitors_=[],goog.debug.entryPointRegistry.monitorsMayExist_=!1,goog.debug.entryPointRegistry.register=function(e){if(goog.debug.entryPointRegistry.refList_[goog.debug.entryPointRegistry.refList_.length]=e,goog.debug.entryPointRegistry.monitorsMayExist_)for(var o=goog.debug.entryPointRegistry.monitors_,t=0;t<o.length;t++)e(goog.bind(o[t].wrap,o[t]))},goog.debug.entryPointRegistry.monitorAll=function(e){goog.debug.entryPointRegistry.monitorsMayExist_=!0;for(var o=goog.bind(e.wrap,e),t=0;t<goog.debug.entryPointRegistry.refList_.length;t++)goog.debug.entryPointRegistry.refList_[t](o);goog.debug.entryPointRegistry.monitors_.push(e)},goog.debug.entryPointRegistry.unmonitorAllIfPossible=function(e){var o=goog.debug.entryPointRegistry.monitors_;goog.asserts.assert(e==o[o.length-1],"Only the most recent monitor can be unwrapped.");for(var t=goog.bind(e.unwrap,e),r=0;r<goog.debug.entryPointRegistry.refList_.length;r++)goog.debug.entryPointRegistry.refList_[r](t);o.length--},goog.provide("goog.events.BrowserFeature"),goog.require("goog.userAgent"),goog.events.BrowserFeature={HAS_W3C_BUTTON:!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9),HAS_W3C_EVENT_SUPPORT:!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9),SET_KEY_CODE_TO_PREVENT_DEFAULT:goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("9"),HAS_NAVIGATOR_ONLINE_PROPERTY:!goog.userAgent.WEBKIT||goog.userAgent.isVersionOrHigher("528"),HAS_HTML5_NETWORK_EVENT_SUPPORT:goog.userAgent.GECKO&&goog.userAgent.isVersionOrHigher("1.9b")||goog.userAgent.IE&&goog.userAgent.isVersionOrHigher("8")||goog.userAgent.OPERA&&goog.userAgent.isVersionOrHigher("9.5")||goog.userAgent.WEBKIT&&goog.userAgent.isVersionOrHigher("528"),HTML5_NETWORK_EVENTS_FIRE_ON_BODY:goog.userAgent.GECKO&&!goog.userAgent.isVersionOrHigher("8")||goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("9"),TOUCH_ENABLED:"ontouchstart"in goog.global||!!(goog.global.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!goog.global.navigator||!goog.global.navigator.msMaxTouchPoints)},goog.provide("goog.disposable.IDisposable"),goog.disposable.IDisposable=function(){},goog.disposable.IDisposable.prototype.dispose=goog.abstractMethod,goog.disposable.IDisposable.prototype.isDisposed=goog.abstractMethod,goog.provide("goog.Disposable"),goog.provide("goog.dispose"),goog.provide("goog.disposeAll"),goog.require("goog.disposable.IDisposable"),goog.Disposable=function(){goog.Disposable.MONITORING_MODE!=goog.Disposable.MonitoringMode.OFF&&(goog.Disposable.INCLUDE_STACK_ON_CREATION&&(this.creationStack=(new Error).stack),goog.Disposable.instances_[goog.getUid(this)]=this),this.disposed_=this.disposed_,this.onDisposeCallbacks_=this.onDisposeCallbacks_},goog.Disposable.MonitoringMode={OFF:0,PERMANENT:1,INTERACTIVE:2},goog.define("goog.Disposable.MONITORING_MODE",0),goog.define("goog.Disposable.INCLUDE_STACK_ON_CREATION",!0),goog.Disposable.instances_={},goog.Disposable.getUndisposedObjects=function(){var e=[];for(var o in goog.Disposable.instances_)goog.Disposable.instances_.hasOwnProperty(o)&&e.push(goog.Disposable.instances_[Number(o)]);return e},goog.Disposable.clearUndisposedObjects=function(){goog.Disposable.instances_={}},goog.Disposable.prototype.disposed_=!1,goog.Disposable.prototype.onDisposeCallbacks_,goog.Disposable.prototype.creationStack,goog.Disposable.prototype.isDisposed=function(){return this.disposed_},goog.Disposable.prototype.getDisposed=goog.Disposable.prototype.isDisposed,goog.Disposable.prototype.dispose=function(){if(!this.disposed_&&(this.disposed_=!0,this.disposeInternal(),goog.Disposable.MONITORING_MODE!=goog.Disposable.MonitoringMode.OFF)){var e=goog.getUid(this);if(goog.Disposable.MONITORING_MODE==goog.Disposable.MonitoringMode.PERMANENT&&!goog.Disposable.instances_.hasOwnProperty(e))throw Error(this+" did not call the goog.Disposable base constructor or was disposed of after a clearUndisposedObjects call");delete goog.Disposable.instances_[e]}},goog.Disposable.prototype.registerDisposable=function(e){this.addOnDisposeCallback(goog.partial(goog.dispose,e))},goog.Disposable.prototype.addOnDisposeCallback=function(e,o){return this.disposed_?void e.call(o):(this.onDisposeCallbacks_||(this.onDisposeCallbacks_=[]),void this.onDisposeCallbacks_.push(goog.isDef(o)?goog.bind(e,o):e))},goog.Disposable.prototype.disposeInternal=function(){if(this.onDisposeCallbacks_)for(;this.onDisposeCallbacks_.length;)this.onDisposeCallbacks_.shift()()},goog.Disposable.isDisposed=function(e){return e&&"function"==typeof e.isDisposed?e.isDisposed():!1},goog.dispose=function(e){e&&"function"==typeof e.dispose&&e.dispose()},goog.disposeAll=function(e){for(var o=0,t=arguments.length;t>o;++o){var r=arguments[o];goog.isArrayLike(r)?goog.disposeAll.apply(null,r):goog.dispose(r)}},goog.provide("goog.events.EventId"),goog.events.EventId=function(e){this.id=e},goog.events.EventId.prototype.toString=function(){return this.id},goog.provide("goog.events.Event"),goog.provide("goog.events.EventLike"),goog.require("goog.Disposable"),goog.require("goog.events.EventId"),goog.events.EventLike,goog.events.Event=function(e,o){this.type=e instanceof goog.events.EventId?String(e):e,this.target=o,this.currentTarget=this.target,this.propagationStopped_=!1,this.defaultPrevented=!1,this.returnValue_=!0},goog.events.Event.prototype.stopPropagation=function(){this.propagationStopped_=!0},goog.events.Event.prototype.preventDefault=function(){this.defaultPrevented=!0,this.returnValue_=!1},goog.events.Event.stopPropagation=function(e){e.stopPropagation()},goog.events.Event.preventDefault=function(e){e.preventDefault()},goog.provide("goog.events.EventType"),goog.require("goog.userAgent"),goog.events.getVendorPrefixedName_=function(e){return goog.userAgent.WEBKIT?"webkit"+e:goog.userAgent.OPERA?"o"+e.toLowerCase():e.toLowerCase()},goog.events.EventType={CLICK:"click",RIGHTCLICK:"rightclick",DBLCLICK:"dblclick",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEMOVE:"mousemove",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",SELECTSTART:"selectstart",WHEEL:"wheel",KEYPRESS:"keypress",KEYDOWN:"keydown",KEYUP:"keyup",BLUR:"blur",FOCUS:"focus",DEACTIVATE:"deactivate",FOCUSIN:goog.userAgent.IE?"focusin":"DOMFocusIn",FOCUSOUT:goog.userAgent.IE?"focusout":"DOMFocusOut",CHANGE:"change",SELECT:"select",SUBMIT:"submit",INPUT:"input",PROPERTYCHANGE:"propertychange",DRAGSTART:"dragstart",DRAG:"drag",DRAGENTER:"dragenter",DRAGOVER:"dragover",DRAGLEAVE:"dragleave",DROP:"drop",DRAGEND:"dragend",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",TOUCHCANCEL:"touchcancel",BEFOREUNLOAD:"beforeunload",CONSOLEMESSAGE:"consolemessage",CONTEXTMENU:"contextmenu",DOMCONTENTLOADED:"DOMContentLoaded",ERROR:"error",HELP:"help",LOAD:"load",LOSECAPTURE:"losecapture",ORIENTATIONCHANGE:"orientationchange",READYSTATECHANGE:"readystatechange",RESIZE:"resize",SCROLL:"scroll",UNLOAD:"unload",HASHCHANGE:"hashchange",PAGEHIDE:"pagehide",PAGESHOW:"pageshow",POPSTATE:"popstate",COPY:"copy",PASTE:"paste",CUT:"cut",BEFORECOPY:"beforecopy",BEFORECUT:"beforecut",BEFOREPASTE:"beforepaste",ONLINE:"online",OFFLINE:"offline",MESSAGE:"message",CONNECT:"connect",ANIMATIONSTART:goog.events.getVendorPrefixedName_("AnimationStart"),ANIMATIONEND:goog.events.getVendorPrefixedName_("AnimationEnd"),ANIMATIONITERATION:goog.events.getVendorPrefixedName_("AnimationIteration"),TRANSITIONEND:goog.events.getVendorPrefixedName_("TransitionEnd"),POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTERCANCEL:"pointercancel",POINTERMOVE:"pointermove",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",GOTPOINTERCAPTURE:"gotpointercapture",LOSTPOINTERCAPTURE:"lostpointercapture",MSGESTURECHANGE:"MSGestureChange",MSGESTUREEND:"MSGestureEnd",MSGESTUREHOLD:"MSGestureHold",MSGESTURESTART:"MSGestureStart",MSGESTURETAP:"MSGestureTap",MSGOTPOINTERCAPTURE:"MSGotPointerCapture",MSINERTIASTART:"MSInertiaStart",MSLOSTPOINTERCAPTURE:"MSLostPointerCapture",MSPOINTERCANCEL:"MSPointerCancel",MSPOINTERDOWN:"MSPointerDown",MSPOINTERENTER:"MSPointerEnter",MSPOINTERHOVER:"MSPointerHover",MSPOINTERLEAVE:"MSPointerLeave",MSPOINTERMOVE:"MSPointerMove",MSPOINTEROUT:"MSPointerOut",MSPOINTEROVER:"MSPointerOver",MSPOINTERUP:"MSPointerUp",TEXT:"text",
TEXTINPUT:"textInput",COMPOSITIONSTART:"compositionstart",COMPOSITIONUPDATE:"compositionupdate",COMPOSITIONEND:"compositionend",EXIT:"exit",LOADABORT:"loadabort",LOADCOMMIT:"loadcommit",LOADREDIRECT:"loadredirect",LOADSTART:"loadstart",LOADSTOP:"loadstop",RESPONSIVE:"responsive",SIZECHANGED:"sizechanged",UNRESPONSIVE:"unresponsive",VISIBILITYCHANGE:"visibilitychange",STORAGE:"storage",DOMSUBTREEMODIFIED:"DOMSubtreeModified",DOMNODEINSERTED:"DOMNodeInserted",DOMNODEREMOVED:"DOMNodeRemoved",DOMNODEREMOVEDFROMDOCUMENT:"DOMNodeRemovedFromDocument",DOMNODEINSERTEDINTODOCUMENT:"DOMNodeInsertedIntoDocument",DOMATTRMODIFIED:"DOMAttrModified",DOMCHARACTERDATAMODIFIED:"DOMCharacterDataModified"},goog.provide("goog.reflect"),goog.reflect.object=function(e,o){return o},goog.reflect.sinkValue=function(e){return goog.reflect.sinkValue[" "](e),e},goog.reflect.sinkValue[" "]=goog.nullFunction,goog.reflect.canAccessProperty=function(e,o){try{return goog.reflect.sinkValue(e[o]),!0}catch(t){}return!1},goog.provide("goog.events.BrowserEvent"),goog.provide("goog.events.BrowserEvent.MouseButton"),goog.require("goog.events.BrowserFeature"),goog.require("goog.events.Event"),goog.require("goog.events.EventType"),goog.require("goog.reflect"),goog.require("goog.userAgent"),goog.events.BrowserEvent=function(e,o){goog.events.BrowserEvent.base(this,"constructor",e?e.type:""),this.target=null,this.currentTarget=null,this.relatedTarget=null,this.offsetX=0,this.offsetY=0,this.clientX=0,this.clientY=0,this.screenX=0,this.screenY=0,this.button=0,this.keyCode=0,this.charCode=0,this.ctrlKey=!1,this.altKey=!1,this.shiftKey=!1,this.metaKey=!1,this.state=null,this.platformModifierKey=!1,this.event_=null,e&&this.init(e,o)},goog.inherits(goog.events.BrowserEvent,goog.events.Event),goog.events.BrowserEvent.MouseButton={LEFT:0,MIDDLE:1,RIGHT:2},goog.events.BrowserEvent.IEButtonMap=[1,4,2],goog.events.BrowserEvent.prototype.init=function(e,o){this.event_=e;var t=this.type=e.type;this.target=e.target||e.srcElement,this.currentTarget=o;var r=e.relatedTarget;r?goog.userAgent.GECKO&&(goog.reflect.canAccessProperty(r,"nodeName")||(r=null)):t==goog.events.EventType.MOUSEOVER?r=e.fromElement:t==goog.events.EventType.MOUSEOUT&&(r=e.toElement),this.relatedTarget=r,Object.defineProperties?Object.defineProperties(this,{offsetX:{configurable:!0,enumerable:!0,get:this.getOffsetX_,set:this.setOffsetX_},offsetY:{configurable:!0,enumerable:!0,get:this.getOffsetY_,set:this.setOffsetY_}}):(this.offsetX=this.getOffsetX_(),this.offsetY=this.getOffsetY_()),this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0,this.button=e.button,this.keyCode=e.keyCode||0,this.charCode=e.charCode||("keypress"==t?e.keyCode:0),this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.platformModifierKey=goog.userAgent.MAC?e.metaKey:e.ctrlKey,this.state=e.state,e.defaultPrevented&&this.preventDefault()},goog.events.BrowserEvent.prototype.isButton=function(e){return goog.events.BrowserFeature.HAS_W3C_BUTTON?this.event_.button==e:"click"==this.type?e==goog.events.BrowserEvent.MouseButton.LEFT:!!(this.event_.button&goog.events.BrowserEvent.IEButtonMap[e])},goog.events.BrowserEvent.prototype.isMouseActionButton=function(){return this.isButton(goog.events.BrowserEvent.MouseButton.LEFT)&&!(goog.userAgent.WEBKIT&&goog.userAgent.MAC&&this.ctrlKey)},goog.events.BrowserEvent.prototype.stopPropagation=function(){goog.events.BrowserEvent.superClass_.stopPropagation.call(this),this.event_.stopPropagation?this.event_.stopPropagation():this.event_.cancelBubble=!0},goog.events.BrowserEvent.prototype.preventDefault=function(){goog.events.BrowserEvent.superClass_.preventDefault.call(this);var e=this.event_;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,goog.events.BrowserFeature.SET_KEY_CODE_TO_PREVENT_DEFAULT)try{var o=112,t=123;(e.ctrlKey||e.keyCode>=o&&e.keyCode<=t)&&(e.keyCode=-1)}catch(r){}},goog.events.BrowserEvent.prototype.getBrowserEvent=function(){return this.event_},goog.events.BrowserEvent.prototype.getOffsetX_=function(){return goog.userAgent.WEBKIT||void 0!==this.event_.offsetX?this.event_.offsetX:this.event_.layerX},goog.events.BrowserEvent.prototype.setOffsetX_=function(e){Object.defineProperties(this,{offsetX:{writable:!0,enumerable:!0,configurable:!0,value:e}})},goog.events.BrowserEvent.prototype.getOffsetY_=function(){return goog.userAgent.WEBKIT||void 0!==this.event_.offsetY?this.event_.offsetY:this.event_.layerY},goog.events.BrowserEvent.prototype.setOffsetY_=function(e){Object.defineProperties(this,{offsetY:{writable:!0,enumerable:!0,configurable:!0,value:e}})},goog.provide("goog.events.Listenable"),goog.provide("goog.events.ListenableKey"),goog.require("goog.events.EventId"),goog.events.Listenable=function(){},goog.events.Listenable.IMPLEMENTED_BY_PROP="closure_listenable_"+(1e6*Math.random()|0),goog.events.Listenable.addImplementation=function(e){e.prototype[goog.events.Listenable.IMPLEMENTED_BY_PROP]=!0},goog.events.Listenable.isImplementedBy=function(e){return!(!e||!e[goog.events.Listenable.IMPLEMENTED_BY_PROP])},goog.events.Listenable.prototype.listen,goog.events.Listenable.prototype.listenOnce,goog.events.Listenable.prototype.unlisten,goog.events.Listenable.prototype.unlistenByKey,goog.events.Listenable.prototype.dispatchEvent,goog.events.Listenable.prototype.removeAllListeners,goog.events.Listenable.prototype.getParentEventTarget,goog.events.Listenable.prototype.fireListeners,goog.events.Listenable.prototype.getListeners,goog.events.Listenable.prototype.getListener,goog.events.Listenable.prototype.hasListener,goog.events.ListenableKey=function(){},goog.events.ListenableKey.counter_=0,goog.events.ListenableKey.reserveKey=function(){return++goog.events.ListenableKey.counter_},goog.events.ListenableKey.prototype.src,goog.events.ListenableKey.prototype.type,goog.events.ListenableKey.prototype.listener,goog.events.ListenableKey.prototype.capture,goog.events.ListenableKey.prototype.handler,goog.events.ListenableKey.prototype.key,goog.provide("goog.events.Listener"),goog.require("goog.events.ListenableKey"),goog.events.Listener=function(e,o,t,r,n,i){goog.events.Listener.ENABLE_MONITORING&&(this.creationStack=(new Error).stack),this.listener=e,this.proxy=o,this.src=t,this.type=r,this.capture=!!n,this.handler=i,this.key=goog.events.ListenableKey.reserveKey(),this.callOnce=!1,this.removed=!1},goog.define("goog.events.Listener.ENABLE_MONITORING",!1),goog.events.Listener.prototype.creationStack,goog.events.Listener.prototype.markAsRemoved=function(){this.removed=!0,this.listener=null,this.proxy=null,this.src=null,this.handler=null},goog.provide("goog.events.ListenerMap"),goog.require("goog.array"),goog.require("goog.events.Listener"),goog.require("goog.object"),goog.events.ListenerMap=function(e){this.src=e,this.listeners={},this.typeCount_=0},goog.events.ListenerMap.prototype.getTypeCount=function(){return this.typeCount_},goog.events.ListenerMap.prototype.getListenerCount=function(){var e=0;for(var o in this.listeners)e+=this.listeners[o].length;return e},goog.events.ListenerMap.prototype.add=function(e,o,t,r,n){var i=e.toString(),a=this.listeners[i];a||(a=this.listeners[i]=[],this.typeCount_++);var s,g=goog.events.ListenerMap.findListenerIndex_(a,o,r,n);return g>-1?(s=a[g],t||(s.callOnce=!1)):(s=new goog.events.Listener(o,null,this.src,i,!!r,n),s.callOnce=t,a.push(s)),s},goog.events.ListenerMap.prototype.remove=function(e,o,t,r){var n=e.toString();if(!(n in this.listeners))return!1;var i=this.listeners[n],a=goog.events.ListenerMap.findListenerIndex_(i,o,t,r);if(a>-1){var s=i[a];return s.markAsRemoved(),goog.array.removeAt(i,a),0==i.length&&(delete this.listeners[n],this.typeCount_--),!0}return!1},goog.events.ListenerMap.prototype.removeByKey=function(e){var o=e.type;if(!(o in this.listeners))return!1;var t=goog.array.remove(this.listeners[o],e);return t&&(e.markAsRemoved(),0==this.listeners[o].length&&(delete this.listeners[o],this.typeCount_--)),t},goog.events.ListenerMap.prototype.removeAll=function(e){var o=e&&e.toString(),t=0;for(var r in this.listeners)if(!o||r==o){for(var n=this.listeners[r],i=0;i<n.length;i++)++t,n[i].markAsRemoved();delete this.listeners[r],this.typeCount_--}return t},goog.events.ListenerMap.prototype.getListeners=function(e,o){var t=this.listeners[e.toString()],r=[];if(t)for(var n=0;n<t.length;++n){var i=t[n];i.capture==o&&r.push(i)}return r},goog.events.ListenerMap.prototype.getListener=function(e,o,t,r){var n=this.listeners[e.toString()],i=-1;return n&&(i=goog.events.ListenerMap.findListenerIndex_(n,o,t,r)),i>-1?n[i]:null},goog.events.ListenerMap.prototype.hasListener=function(e,o){var t=goog.isDef(e),r=t?e.toString():"",n=goog.isDef(o);return goog.object.some(this.listeners,function(e,i){for(var a=0;a<e.length;++a)if(!(t&&e[a].type!=r||n&&e[a].capture!=o))return!0;return!1})},goog.events.ListenerMap.findListenerIndex_=function(e,o,t,r){for(var n=0;n<e.length;++n){var i=e[n];if(!i.removed&&i.listener==o&&i.capture==!!t&&i.handler==r)return n}return-1},goog.provide("goog.events"),goog.provide("goog.events.CaptureSimulationMode"),goog.provide("goog.events.Key"),goog.provide("goog.events.ListenableType"),goog.require("goog.asserts"),goog.require("goog.debug.entryPointRegistry"),goog.require("goog.events.BrowserEvent"),goog.require("goog.events.BrowserFeature"),goog.require("goog.events.Listenable"),goog.require("goog.events.ListenerMap"),goog.forwardDeclare("goog.debug.ErrorHandler"),goog.forwardDeclare("goog.events.EventWrapper"),goog.events.Key,goog.events.ListenableType,goog.events.LISTENER_MAP_PROP_="closure_lm_"+(1e6*Math.random()|0),goog.events.onString_="on",goog.events.onStringMap_={},goog.events.CaptureSimulationMode={OFF_AND_FAIL:0,OFF_AND_SILENT:1,ON:2},goog.define("goog.events.CAPTURE_SIMULATION_MODE",2),goog.events.listenerCountEstimate_=0,goog.events.listen=function(e,o,t,r,n){if(goog.isArray(o)){for(var i=0;i<o.length;i++)goog.events.listen(e,o[i],t,r,n);return null}return t=goog.events.wrapListener(t),goog.events.Listenable.isImplementedBy(e)?e.listen(o,t,r,n):goog.events.listen_(e,o,t,!1,r,n)},goog.events.listen_=function(e,o,t,r,n,i){if(!o)throw Error("Invalid event type");var a=!!n;if(a&&!goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT){if(goog.events.CAPTURE_SIMULATION_MODE==goog.events.CaptureSimulationMode.OFF_AND_FAIL)return goog.asserts.fail("Can not register capture listener in IE8-."),null;if(goog.events.CAPTURE_SIMULATION_MODE==goog.events.CaptureSimulationMode.OFF_AND_SILENT)return null}var s=goog.events.getListenerMap_(e);s||(e[goog.events.LISTENER_MAP_PROP_]=s=new goog.events.ListenerMap(e));var g=s.add(o,t,r,n,i);if(g.proxy)return g;var l=goog.events.getProxy();return g.proxy=l,l.src=e,l.listener=g,e.addEventListener?e.addEventListener(o.toString(),l,a):e.attachEvent(goog.events.getOnString_(o.toString()),l),goog.events.listenerCountEstimate_++,g},goog.events.getProxy=function(){var e=goog.events.handleBrowserEvent_,o=goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT?function(t){return e.call(o.src,o.listener,t)}:function(t){var r=e.call(o.src,o.listener,t);return r?void 0:r};return o},goog.events.listenOnce=function(e,o,t,r,n){if(goog.isArray(o)){for(var i=0;i<o.length;i++)goog.events.listenOnce(e,o[i],t,r,n);return null}return t=goog.events.wrapListener(t),goog.events.Listenable.isImplementedBy(e)?e.listenOnce(o,t,r,n):goog.events.listen_(e,o,t,!0,r,n)},goog.events.listenWithWrapper=function(e,o,t,r,n){o.listen(e,t,r,n)},goog.events.unlisten=function(e,o,t,r,n){if(goog.isArray(o)){for(var i=0;i<o.length;i++)goog.events.unlisten(e,o[i],t,r,n);return null}if(t=goog.events.wrapListener(t),goog.events.Listenable.isImplementedBy(e))return e.unlisten(o,t,r,n);if(!e)return!1;var a=!!r,s=goog.events.getListenerMap_(e);if(s){var g=s.getListener(o,t,a,n);if(g)return goog.events.unlistenByKey(g)}return!1},goog.events.unlistenByKey=function(e){if(goog.isNumber(e))return!1;var o=e;if(!o||o.removed)return!1;var t=o.src;if(goog.events.Listenable.isImplementedBy(t))return t.unlistenByKey(o);var r=o.type,n=o.proxy;t.removeEventListener?t.removeEventListener(r,n,o.capture):t.detachEvent&&t.detachEvent(goog.events.getOnString_(r),n),goog.events.listenerCountEstimate_--;var i=goog.events.getListenerMap_(t);return i?(i.removeByKey(o),0==i.getTypeCount()&&(i.src=null,t[goog.events.LISTENER_MAP_PROP_]=null)):o.markAsRemoved(),!0},goog.events.unlistenWithWrapper=function(e,o,t,r,n){o.unlisten(e,t,r,n)},goog.events.removeAll=function(e,o){if(!e)return 0;if(goog.events.Listenable.isImplementedBy(e))return e.removeAllListeners(o);var t=goog.events.getListenerMap_(e);if(!t)return 0;var r=0,n=o&&o.toString();for(var i in t.listeners)if(!n||i==n)for(var a=t.listeners[i].concat(),s=0;s<a.length;++s)goog.events.unlistenByKey(a[s])&&++r;return r},goog.events.getListeners=function(e,o,t){if(goog.events.Listenable.isImplementedBy(e))return e.getListeners(o,t);if(!e)return[];var r=goog.events.getListenerMap_(e);return r?r.getListeners(o,t):[]},goog.events.getListener=function(e,o,t,r,n){o=o,t=goog.events.wrapListener(t);var i=!!r;if(goog.events.Listenable.isImplementedBy(e))return e.getListener(o,t,i,n);if(!e)return null;var a=goog.events.getListenerMap_(e);return a?a.getListener(o,t,i,n):null},goog.events.hasListener=function(e,o,t){if(goog.events.Listenable.isImplementedBy(e))return e.hasListener(o,t);var r=goog.events.getListenerMap_(e);return!!r&&r.hasListener(o,t)},goog.events.expose=function(e){var o=[];for(var t in e)o.push(e[t]&&e[t].id?t+" = "+e[t]+" ("+e[t].id+")":t+" = "+e[t]);return o.join("\n")},goog.events.getOnString_=function(e){return e in goog.events.onStringMap_?goog.events.onStringMap_[e]:goog.events.onStringMap_[e]=goog.events.onString_+e},goog.events.fireListeners=function(e,o,t,r){return goog.events.Listenable.isImplementedBy(e)?e.fireListeners(o,t,r):goog.events.fireListeners_(e,o,t,r)},goog.events.fireListeners_=function(e,o,t,r){var n=!0,i=goog.events.getListenerMap_(e);if(i){var a=i.listeners[o.toString()];if(a){a=a.concat();for(var s=0;s<a.length;s++){var g=a[s];if(g&&g.capture==t&&!g.removed){var l=goog.events.fireListener(g,r);n=n&&l!==!1}}}}return n},goog.events.fireListener=function(e,o){var t=e.listener,r=e.handler||e.src;return e.callOnce&&goog.events.unlistenByKey(e),t.call(r,o)},goog.events.getTotalListenerCount=function(){return goog.events.listenerCountEstimate_},goog.events.dispatchEvent=function(e,o){return goog.asserts.assert(goog.events.Listenable.isImplementedBy(e),"Can not use goog.events.dispatchEvent with non-goog.events.Listenable instance."),e.dispatchEvent(o)},goog.events.protectBrowserEventEntryPoint=function(e){goog.events.handleBrowserEvent_=e.protectEntryPoint(goog.events.handleBrowserEvent_)},goog.events.handleBrowserEvent_=function(e,o){if(e.removed)return!0;if(!goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT){var t=o||goog.getObjectByName("window.event"),r=new goog.events.BrowserEvent(t,this),n=!0;if(goog.events.CAPTURE_SIMULATION_MODE==goog.events.CaptureSimulationMode.ON){if(!goog.events.isMarkedIeEvent_(t)){goog.events.markIeEvent_(t);for(var i=[],a=r.currentTarget;a;a=a.parentNode)i.push(a);for(var s=e.type,g=i.length-1;!r.propagationStopped_&&g>=0;g--){r.currentTarget=i[g];var l=goog.events.fireListeners_(i[g],s,!0,r);n=n&&l}for(var g=0;!r.propagationStopped_&&g<i.length;g++){r.currentTarget=i[g];var l=goog.events.fireListeners_(i[g],s,!1,r);n=n&&l}}}else n=goog.events.fireListener(e,r);return n}return goog.events.fireListener(e,new goog.events.BrowserEvent(o,this))},goog.events.markIeEvent_=function(e){var o=!1;if(0==e.keyCode)try{return void(e.keyCode=-1)}catch(t){o=!0}(o||void 0==e.returnValue)&&(e.returnValue=!0)},goog.events.isMarkedIeEvent_=function(e){return e.keyCode<0||void 0!=e.returnValue},goog.events.uniqueIdCounter_=0,goog.events.getUniqueId=function(e){return e+"_"+goog.events.uniqueIdCounter_++},goog.events.getListenerMap_=function(e){var o=e[goog.events.LISTENER_MAP_PROP_];return o instanceof goog.events.ListenerMap?o:null},goog.events.LISTENER_WRAPPER_PROP_="__closure_events_fn_"+(1e9*Math.random()>>>0),goog.events.wrapListener=function(e){return goog.asserts.assert(e,"Listener can not be null."),goog.isFunction(e)?e:(goog.asserts.assert(e.handleEvent,"An object listener must have handleEvent method."),e[goog.events.LISTENER_WRAPPER_PROP_]||(e[goog.events.LISTENER_WRAPPER_PROP_]=function(o){return e.handleEvent(o)}),e[goog.events.LISTENER_WRAPPER_PROP_])},goog.debug.entryPointRegistry.register(function(e){goog.events.handleBrowserEvent_=e(goog.events.handleBrowserEvent_)}),goog.provide("goog.events.EventTarget"),goog.require("goog.Disposable"),goog.require("goog.asserts"),goog.require("goog.events"),goog.require("goog.events.Event"),goog.require("goog.events.Listenable"),goog.require("goog.events.ListenerMap"),goog.require("goog.object"),goog.events.EventTarget=function(){goog.Disposable.call(this),this.eventTargetListeners_=new goog.events.ListenerMap(this),this.actualEventTarget_=this,this.parentEventTarget_=null},goog.inherits(goog.events.EventTarget,goog.Disposable),goog.events.Listenable.addImplementation(goog.events.EventTarget),goog.events.EventTarget.MAX_ANCESTORS_=1e3,goog.events.EventTarget.prototype.getParentEventTarget=function(){return this.parentEventTarget_},goog.events.EventTarget.prototype.setParentEventTarget=function(e){this.parentEventTarget_=e},goog.events.EventTarget.prototype.addEventListener=function(e,o,t,r){goog.events.listen(this,e,o,t,r)},goog.events.EventTarget.prototype.removeEventListener=function(e,o,t,r){goog.events.unlisten(this,e,o,t,r)},goog.events.EventTarget.prototype.dispatchEvent=function(e){this.assertInitialized_();var o,t=this.getParentEventTarget();if(t){o=[];for(var r=1;t;t=t.getParentEventTarget())o.push(t),goog.asserts.assert(++r<goog.events.EventTarget.MAX_ANCESTORS_,"infinite loop")}return goog.events.EventTarget.dispatchEventInternal_(this.actualEventTarget_,e,o)},goog.events.EventTarget.prototype.disposeInternal=function(){goog.events.EventTarget.superClass_.disposeInternal.call(this),this.removeAllListeners(),this.parentEventTarget_=null},goog.events.EventTarget.prototype.listen=function(e,o,t,r){return this.assertInitialized_(),this.eventTargetListeners_.add(String(e),o,!1,t,r)},goog.events.EventTarget.prototype.listenOnce=function(e,o,t,r){return this.eventTargetListeners_.add(String(e),o,!0,t,r)},goog.events.EventTarget.prototype.unlisten=function(e,o,t,r){return this.eventTargetListeners_.remove(String(e),o,t,r)},goog.events.EventTarget.prototype.unlistenByKey=function(e){return this.eventTargetListeners_.removeByKey(e)},goog.events.EventTarget.prototype.removeAllListeners=function(e){return this.eventTargetListeners_?this.eventTargetListeners_.removeAll(e):0},goog.events.EventTarget.prototype.fireListeners=function(e,o,t){var r=this.eventTargetListeners_.listeners[String(e)];if(!r)return!0;r=r.concat();for(var n=!0,i=0;i<r.length;++i){var a=r[i];if(a&&!a.removed&&a.capture==o){var s=a.listener,g=a.handler||a.src;a.callOnce&&this.unlistenByKey(a),n=s.call(g,t)!==!1&&n}}return n&&0!=t.returnValue_},goog.events.EventTarget.prototype.getListeners=function(e,o){return this.eventTargetListeners_.getListeners(String(e),o)},goog.events.EventTarget.prototype.getListener=function(e,o,t,r){return this.eventTargetListeners_.getListener(String(e),o,t,r)},goog.events.EventTarget.prototype.hasListener=function(e,o){var t=goog.isDef(e)?String(e):void 0;return this.eventTargetListeners_.hasListener(t,o)},goog.events.EventTarget.prototype.setTargetForTesting=function(e){this.actualEventTarget_=e},goog.events.EventTarget.prototype.assertInitialized_=function(){goog.asserts.assert(this.eventTargetListeners_,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")},goog.events.EventTarget.dispatchEventInternal_=function(e,o,t){var r=o.type||o;if(goog.isString(o))o=new goog.events.Event(o,e);else if(o instanceof goog.events.Event)o.target=o.target||e;else{var n=o;o=new goog.events.Event(r,e),goog.object.extend(o,n)}var i,a=!0;if(t)for(var s=t.length-1;!o.propagationStopped_&&s>=0;s--)i=o.currentTarget=t[s],a=i.fireListeners(r,!0,o)&&a;if(o.propagationStopped_||(i=o.currentTarget=e,a=i.fireListeners(r,!0,o)&&a,o.propagationStopped_||(a=i.fireListeners(r,!1,o)&&a)),t)for(s=0;!o.propagationStopped_&&s<t.length;s++)i=o.currentTarget=t[s],a=i.fireListeners(r,!1,o)&&a;return a},goog.provide("ol.Observable"),goog.require("goog.events"),goog.require("goog.events.EventTarget"),goog.require("goog.events.EventType"),ol.Observable=function(){goog.base(this),this.revision_=0},goog.inherits(ol.Observable,goog.events.EventTarget),ol.Observable.unByKey=function(e){goog.events.unlistenByKey(e)},ol.Observable.prototype.changed=function(){++this.revision_,this.dispatchEvent(goog.events.EventType.CHANGE)},ol.Observable.prototype.getRevision=function(){return this.revision_},ol.Observable.prototype.on=function(e,o,t){return goog.events.listen(this,e,o,!1,t)},ol.Observable.prototype.once=function(e,o,t){return goog.events.listenOnce(this,e,o,!1,t)},ol.Observable.prototype.un=function(e,o,t){goog.events.unlisten(this,e,o,!1,t)},ol.Observable.prototype.unByKey=ol.Observable.unByKey,goog.provide("ol.Object"),goog.provide("ol.ObjectEvent"),goog.provide("ol.ObjectEventType"),goog.require("goog.events"),goog.require("goog.events.Event"),goog.require("goog.object"),goog.require("ol.Observable"),ol.ObjectEventType={PROPERTYCHANGE:"propertychange"},ol.ObjectEvent=function(e,o,t){goog.base(this,e),this.key=o,this.oldValue=t},goog.inherits(ol.ObjectEvent,goog.events.Event),ol.Object=function(e){goog.base(this),goog.getUid(this),this.values_={},goog.isDef(e)&&this.setProperties(e)},goog.inherits(ol.Object,ol.Observable),ol.Object.changeEventTypeCache_={},ol.Object.getChangeEventType=function(e){return ol.Object.changeEventTypeCache_.hasOwnProperty(e)?ol.Object.changeEventTypeCache_[e]:ol.Object.changeEventTypeCache_[e]="change:"+e},ol.Object.prototype.get=function(e){var o;return this.values_.hasOwnProperty(e)&&(o=this.values_[e]),o},ol.Object.prototype.getKeys=function(){return goog.object.getKeys(this.values_)},ol.Object.prototype.getProperties=function(){var e,o={};for(e in this.values_)o[e]=this.values_[e];return o},ol.Object.prototype.notify=function(e,o){var t;t=ol.Object.getChangeEventType(e),this.dispatchEvent(new ol.ObjectEvent(t,e,o)),t=ol.ObjectEventType.PROPERTYCHANGE,this.dispatchEvent(new ol.ObjectEvent(t,e,o))},ol.Object.prototype.set=function(e,o){var t=this.values_[e];this.values_[e]=o,this.notify(e,t)},ol.Object.prototype.setProperties=function(e){var o;for(o in e)this.set(o,e[o])},ol.Object.prototype.unset=function(e){if(e in this.values_){var o=this.values_[e];delete this.values_[e],this.notify(e,o)}},goog.provide("ol.Size"),goog.provide("ol.size"),goog.require("goog.asserts"),ol.Size,ol.size.buffer=function(e,o,t){return goog.isDef(t)||(t=[0,0]),t[0]=e[0]+2*o,t[1]=e[1]+2*o,t},ol.size.equals=function(e,o){return e[0]==o[0]&&e[1]==o[1]},ol.size.hasArea=function(e){return e[0]>0&&e[1]>0},ol.size.scale=function(e,o,t){return goog.isDef(t)||(t=[0,0]),t[0]=e[0]*o+.5|0,t[1]=e[1]*o+.5|0,t},ol.size.toSize=function(e,o){return goog.isArray(e)?e:(goog.asserts.assert(goog.isNumber(e)),goog.isDef(o)?(o[0]=e,o[1]=e):o=[e,e],o)},goog.provide("ol.Coordinate"),goog.provide("ol.CoordinateFormatType"),goog.provide("ol.coordinate"),goog.require("goog.math"),goog.require("goog.string"),ol.CoordinateFormatType,ol.Coordinate,ol.coordinate.add=function(e,o){return e[0]+=o[0],e[1]+=o[1],e},ol.coordinate.closestOnSegment=function(e,o){var t,r,n=e[0],i=e[1],a=o[0],s=o[1],g=a[0],l=a[1],p=s[0],u=s[1],c=p-g,d=u-l,h=0===c&&0===d?0:(c*(n-g)+d*(i-l))/(c*c+d*d||0);return 0>=h?(t=g,r=l):h>=1?(t=p,r=u):(t=g+h*c,r=l+h*d),[t,r]},ol.coordinate.createStringXY=function(e){return function(o){return ol.coordinate.toStringXY(o,e)}},ol.coordinate.degreesToStringHDMS_=function(e,o){var t=goog.math.modulo(e+180,360)-180,r=Math.abs(Math.round(3600*t));return Math.floor(r/3600)+"° "+goog.string.padNumber(Math.floor(r/60%60),2)+"′ "+goog.string.padNumber(Math.floor(r%60),2)+"″ "+o.charAt(0>t?1:0)},ol.coordinate.format=function(e,o,t){return goog.isDef(e)?o.replace("{x}",e[0].toFixed(t)).replace("{y}",e[1].toFixed(t)):""},ol.coordinate.equals=function(e,o){for(var t=!0,r=e.length-1;r>=0;--r)if(e[r]!=o[r]){t=!1;break}return t},ol.coordinate.rotate=function(e,o){var t=Math.cos(o),r=Math.sin(o),n=e[0]*t-e[1]*r,i=e[1]*t+e[0]*r;return e[0]=n,e[1]=i,e},ol.coordinate.scale=function(e,o){return e[0]*=o,e[1]*=o,e},ol.coordinate.sub=function(e,o){return e[0]-=o[0],e[1]-=o[1],e},ol.coordinate.squaredDistance=function(e,o){var t=e[0]-o[0],r=e[1]-o[1];return t*t+r*r},ol.coordinate.squaredDistanceToSegment=function(e,o){return ol.coordinate.squaredDistance(e,ol.coordinate.closestOnSegment(e,o))},ol.coordinate.toStringHDMS=function(e){return goog.isDef(e)?ol.coordinate.degreesToStringHDMS_(e[1],"NS")+" "+ol.coordinate.degreesToStringHDMS_(e[0],"EW"):""},ol.coordinate.toStringXY=function(e,o){return ol.coordinate.format(e,"{x}, {y}",o)},ol.coordinate.fromProjectedArray=function(e,o){var t=o.charAt(0);return"n"===t||"s"===t?[e[1],e[0]]:e},goog.provide("goog.vec.Float32Array"),goog.vec.Float32Array=function(e){this.length=e.length||e;for(var o=0;o<this.length;o++)this[o]=e[o]||0},goog.vec.Float32Array.BYTES_PER_ELEMENT=4,goog.vec.Float32Array.prototype.BYTES_PER_ELEMENT=4,goog.vec.Float32Array.prototype.set=function(e,o){o=o||0;for(var t=0;t<e.length&&o+t<this.length;t++)this[o+t]=e[t]},goog.vec.Float32Array.prototype.toString=Array.prototype.join,"undefined"==typeof Float32Array&&(goog.exportProperty(goog.vec.Float32Array,"BYTES_PER_ELEMENT",goog.vec.Float32Array.BYTES_PER_ELEMENT),goog.exportProperty(goog.vec.Float32Array.prototype,"BYTES_PER_ELEMENT",goog.vec.Float32Array.prototype.BYTES_PER_ELEMENT),goog.exportProperty(goog.vec.Float32Array.prototype,"set",goog.vec.Float32Array.prototype.set),goog.exportProperty(goog.vec.Float32Array.prototype,"toString",goog.vec.Float32Array.prototype.toString),goog.exportSymbol("Float32Array",goog.vec.Float32Array)),goog.provide("goog.vec.Float64Array"),goog.vec.Float64Array=function(e){this.length=e.length||e;for(var o=0;o<this.length;o++)this[o]=e[o]||0},goog.vec.Float64Array.BYTES_PER_ELEMENT=8,goog.vec.Float64Array.prototype.BYTES_PER_ELEMENT=8,goog.vec.Float64Array.prototype.set=function(e,o){o=o||0;for(var t=0;t<e.length&&o+t<this.length;t++)this[o+t]=e[t]},goog.vec.Float64Array.prototype.toString=Array.prototype.join,"undefined"==typeof Float64Array){try{goog.exportProperty(goog.vec.Float64Array,"BYTES_PER_ELEMENT",goog.vec.Float64Array.BYTES_PER_ELEMENT)}catch(float64ArrayError){}goog.exportProperty(goog.vec.Float64Array.prototype,"BYTES_PER_ELEMENT",goog.vec.Float64Array.prototype.BYTES_PER_ELEMENT),goog.exportProperty(goog.vec.Float64Array.prototype,"set",goog.vec.Float64Array.prototype.set),goog.exportProperty(goog.vec.Float64Array.prototype,"toString",goog.vec.Float64Array.prototype.toString),goog.exportSymbol("Float64Array",goog.vec.Float64Array)}return goog.provide("goog.vec"),goog.provide("goog.vec.AnyType"),goog.provide("goog.vec.ArrayType"),goog.provide("goog.vec.Float32"),goog.provide("goog.vec.Float64"),goog.provide("goog.vec.Number"),goog.require("goog.vec.Float32Array"),goog.require("goog.vec.Float64Array"),goog.vec.Float32,goog.vec.Float64,goog.vec.Number,goog.vec.AnyType,goog.vec.ArrayType,goog.vec.EPSILON=1e-6,goog.provide("goog.vec.Vec3"),goog.require("goog.vec"),goog.vec.Vec3.Float32,goog.vec.Vec3.Float64,goog.vec.Vec3.Number,goog.vec.Vec3.AnyType,goog.vec.Vec3.Type,goog.vec.Vec3.Vec3Like,goog.vec.Vec3.createFloat32=function(){return new Float32Array(3)},goog.vec.Vec3.createFloat64=function(){return new Float64Array(3)},goog.vec.Vec3.createNumber=function(){var e=new Array(3);return goog.vec.Vec3.setFromValues(e,0,0,0),e},goog.vec.Vec3.create=function(){return new Float32Array(3)},goog.vec.Vec3.createFloat32FromArray=function(e){var o=goog.vec.Vec3.createFloat32();return goog.vec.Vec3.setFromArray(o,e),o},goog.vec.Vec3.createFloat32FromValues=function(e,o,t){var r=goog.vec.Vec3.createFloat32();return goog.vec.Vec3.setFromValues(r,e,o,t),r},goog.vec.Vec3.cloneFloat32=goog.vec.Vec3.createFloat32FromArray,goog.vec.Vec3.createFloat64FromArray=function(e){var o=goog.vec.Vec3.createFloat64();return goog.vec.Vec3.setFromArray(o,e),o},goog.vec.Vec3.createFloat64FromValues=function(e,o,t){var r=goog.vec.Vec3.createFloat64();return goog.vec.Vec3.setFromValues(r,e,o,t),r},goog.vec.Vec3.cloneFloat64=goog.vec.Vec3.createFloat64FromArray,goog.vec.Vec3.createFromArray=function(e){var o=goog.vec.Vec3.create();return goog.vec.Vec3.setFromArray(o,e),o},goog.vec.Vec3.createFromValues=function(e,o,t){var r=goog.vec.Vec3.create();return goog.vec.Vec3.setFromValues(r,e,o,t),r},goog.vec.Vec3.clone=function(e){var o=goog.vec.Vec3.create();return goog.vec.Vec3.setFromArray(o,e),o},goog.vec.Vec3.setFromValues=function(e,o,t,r){return e[0]=o,e[1]=t,e[2]=r,e},goog.vec.Vec3.setFromArray=function(e,o){return e[0]=o[0],e[1]=o[1],e[2]=o[2],e},goog.vec.Vec3.add=function(e,o,t){return t[0]=e[0]+o[0],t[1]=e[1]+o[1],t[2]=e[2]+o[2],t},goog.vec.Vec3.subtract=function(e,o,t){return t[0]=e[0]-o[0],t[1]=e[1]-o[1],t[2]=e[2]-o[2],t},goog.vec.Vec3.negate=function(e,o){return o[0]=-e[0],o[1]=-e[1],o[2]=-e[2],o},goog.vec.Vec3.abs=function(e,o){return o[0]=Math.abs(e[0]),o[1]=Math.abs(e[1]),o[2]=Math.abs(e[2]),o},goog.vec.Vec3.scale=function(e,o,t){return t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t},goog.vec.Vec3.magnitudeSquared=function(e){var o=e[0],t=e[1],r=e[2];return o*o+t*t+r*r},goog.vec.Vec3.magnitude=function(e){var o=e[0],t=e[1],r=e[2];return Math.sqrt(o*o+t*t+r*r)},goog.vec.Vec3.normalize=function(e,o){var t=1/goog.vec.Vec3.magnitude(e);return o[0]=e[0]*t,o[1]=e[1]*t,o[2]=e[2]*t,o},goog.vec.Vec3.dot=function(e,o){return e[0]*o[0]+e[1]*o[1]+e[2]*o[2]},goog.vec.Vec3.cross=function(e,o,t){var r=e[0],n=e[1],i=e[2],a=o[0],s=o[1],g=o[2];return t[0]=n*g-i*s,t[1]=i*a-r*g,t[2]=r*s-n*a,t},goog.vec.Vec3.distanceSquared=function(e,o){var t=e[0]-o[0],r=e[1]-o[1],n=e[2]-o[2];return t*t+r*r+n*n},goog.vec.Vec3.distance=function(e,o){return Math.sqrt(goog.vec.Vec3.distanceSquared(e,o))},goog.vec.Vec3.direction=function(e,o,t){var r=o[0]-e[0],n=o[1]-e[1],i=o[2]-e[2],a=Math.sqrt(r*r+n*n+i*i);return a?(a=1/a,t[0]=r*a,t[1]=n*a,t[2]=i*a):t[0]=t[1]=t[2]=0,t},goog.vec.Vec3.lerp=function(e,o,t,r){var n=e[0],i=e[1],a=e[2];return r[0]=(o[0]-n)*t+n,r[1]=(o[1]-i)*t+i,r[2]=(o[2]-a)*t+a,r},goog.vec.Vec3.max=function(e,o,t){return goog.isNumber(o)?(t[0]=Math.max(e[0],o),t[1]=Math.max(e[1],o),t[2]=Math.max(e[2],o)):(t[0]=Math.max(e[0],o[0]),t[1]=Math.max(e[1],o[1]),t[2]=Math.max(e[2],o[2])),t},goog.vec.Vec3.min=function(e,o,t){return goog.isNumber(o)?(t[0]=Math.min(e[0],o),t[1]=Math.min(e[1],o),t[2]=Math.min(e[2],o)):(t[0]=Math.min(e[0],o[0]),t[1]=Math.min(e[1],o[1]),t[2]=Math.min(e[2],o[2])),t},goog.vec.Vec3.equals=function(e,o){return e.length==o.length&&e[0]==o[0]&&e[1]==o[1]&&e[2]==o[2]},goog.provide("goog.vec.Vec4"),goog.require("goog.vec"),goog.vec.Vec4.Float32,goog.vec.Vec4.Float64,goog.vec.Vec4.Number,goog.vec.Vec4.AnyType,goog.vec.Vec4.Type,goog.vec.Vec4.Vec4Like,goog.vec.Vec4.createFloat32=function(){return new Float32Array(4)},goog.vec.Vec4.createFloat64=function(){return new Float64Array(4)},goog.vec.Vec4.createNumber=function(){var e=new Array(4);return goog.vec.Vec4.setFromValues(e,0,0,0,0),e},goog.vec.Vec4.create=function(){return new Float32Array(4)},goog.vec.Vec4.createFromArray=function(e){var o=goog.vec.Vec4.create();return goog.vec.Vec4.setFromArray(o,e),o},goog.vec.Vec4.createFloat32FromArray=function(e){var o=goog.vec.Vec4.createFloat32();return goog.vec.Vec4.setFromArray(o,e),o},goog.vec.Vec4.createFloat32FromValues=function(e,o,t,r){var n=goog.vec.Vec4.createFloat32();return goog.vec.Vec4.setFromValues(n,e,o,t,r),
n},goog.vec.Vec4.cloneFloat32=goog.vec.Vec4.createFloat32FromArray,goog.vec.Vec4.createFloat64FromArray=function(e){var o=goog.vec.Vec4.createFloat64();return goog.vec.Vec4.setFromArray(o,e),o},goog.vec.Vec4.createFloat64FromValues=function(e,o,t,r){var n=goog.vec.Vec4.createFloat64();return goog.vec.Vec4.setFromValues(n,e,o,t,r),n},goog.vec.Vec4.cloneFloat64=goog.vec.Vec4.createFloat64FromArray,goog.vec.Vec4.createFromValues=function(e,o,t,r){var n=goog.vec.Vec4.create();return goog.vec.Vec4.setFromValues(n,e,o,t,r),n},goog.vec.Vec4.clone=goog.vec.Vec4.createFromArray,goog.vec.Vec4.setFromValues=function(e,o,t,r,n){return e[0]=o,e[1]=t,e[2]=r,e[3]=n,e},goog.vec.Vec4.setFromArray=function(e,o){return e[0]=o[0],e[1]=o[1],e[2]=o[2],e[3]=o[3],e},goog.vec.Vec4.add=function(e,o,t){return t[0]=e[0]+o[0],t[1]=e[1]+o[1],t[2]=e[2]+o[2],t[3]=e[3]+o[3],t},goog.vec.Vec4.subtract=function(e,o,t){return t[0]=e[0]-o[0],t[1]=e[1]-o[1],t[2]=e[2]-o[2],t[3]=e[3]-o[3],t},goog.vec.Vec4.negate=function(e,o){return o[0]=-e[0],o[1]=-e[1],o[2]=-e[2],o[3]=-e[3],o},goog.vec.Vec4.abs=function(e,o){return o[0]=Math.abs(e[0]),o[1]=Math.abs(e[1]),o[2]=Math.abs(e[2]),o[3]=Math.abs(e[3]),o},goog.vec.Vec4.scale=function(e,o,t){return t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t[3]=e[3]*o,t},goog.vec.Vec4.magnitudeSquared=function(e){var o=e[0],t=e[1],r=e[2],n=e[3];return o*o+t*t+r*r+n*n},goog.vec.Vec4.magnitude=function(e){var o=e[0],t=e[1],r=e[2],n=e[3];return Math.sqrt(o*o+t*t+r*r+n*n)},goog.vec.Vec4.normalize=function(e,o){var t=1/goog.vec.Vec4.magnitude(e);return o[0]=e[0]*t,o[1]=e[1]*t,o[2]=e[2]*t,o[3]=e[3]*t,o},goog.vec.Vec4.dot=function(e,o){return e[0]*o[0]+e[1]*o[1]+e[2]*o[2]+e[3]*o[3]},goog.vec.Vec4.lerp=function(e,o,t,r){var n=e[0],i=e[1],a=e[2],s=e[3];return r[0]=(o[0]-n)*t+n,r[1]=(o[1]-i)*t+i,r[2]=(o[2]-a)*t+a,r[3]=(o[3]-s)*t+s,r},goog.vec.Vec4.max=function(e,o,t){return goog.isNumber(o)?(t[0]=Math.max(e[0],o),t[1]=Math.max(e[1],o),t[2]=Math.max(e[2],o),t[3]=Math.max(e[3],o)):(t[0]=Math.max(e[0],o[0]),t[1]=Math.max(e[1],o[1]),t[2]=Math.max(e[2],o[2]),t[3]=Math.max(e[3],o[3])),t},goog.vec.Vec4.min=function(e,o,t){return goog.isNumber(o)?(t[0]=Math.min(e[0],o),t[1]=Math.min(e[1],o),t[2]=Math.min(e[2],o),t[3]=Math.min(e[3],o)):(t[0]=Math.min(e[0],o[0]),t[1]=Math.min(e[1],o[1]),t[2]=Math.min(e[2],o[2]),t[3]=Math.min(e[3],o[3])),t},goog.vec.Vec4.equals=function(e,o){return e.length==o.length&&e[0]==o[0]&&e[1]==o[1]&&e[2]==o[2]&&e[3]==o[3]},goog.provide("goog.vec.Mat4"),goog.require("goog.vec"),goog.require("goog.vec.Vec3"),goog.require("goog.vec.Vec4"),goog.vec.Mat4.Float32,goog.vec.Mat4.Float64,goog.vec.Mat4.Number,goog.vec.Mat4.AnyType,goog.vec.Mat4.Type,goog.vec.Mat4.Mat4Like,goog.vec.Mat4.createFloat32=function(){return new Float32Array(16)},goog.vec.Mat4.createFloat64=function(){return new Float64Array(16)},goog.vec.Mat4.createNumber=function(){var e=new Array(16);return goog.vec.Mat4.setFromValues(e,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0),e},goog.vec.Mat4.create=function(){return goog.vec.Mat4.createFloat32()},goog.vec.Mat4.createFloat32Identity=function(){var e=goog.vec.Mat4.createFloat32();return e[0]=e[5]=e[10]=e[15]=1,e},goog.vec.Mat4.createFloat64Identity=function(){var e=goog.vec.Mat4.createFloat64();return e[0]=e[5]=e[10]=e[15]=1,e},goog.vec.Mat4.createNumberIdentity=function(){var e=new Array(16);return goog.vec.Mat4.setFromValues(e,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),e},goog.vec.Mat4.createIdentity=function(){return goog.vec.Mat4.createFloat32Identity()},goog.vec.Mat4.createFloat32FromArray=function(e){var o=goog.vec.Mat4.createFloat32();return goog.vec.Mat4.setFromArray(o,e),o},goog.vec.Mat4.createFloat32FromValues=function(e,o,t,r,n,i,a,s,g,l,p,u,c,d,h,m){var y=goog.vec.Mat4.createFloat32();return goog.vec.Mat4.setFromValues(y,e,o,t,r,n,i,a,s,g,l,p,u,c,d,h,m),y},goog.vec.Mat4.cloneFloat32=goog.vec.Mat4.createFloat32FromArray,goog.vec.Mat4.createFloat64FromArray=function(e){var o=goog.vec.Mat4.createFloat64();return goog.vec.Mat4.setFromArray(o,e),o},goog.vec.Mat4.createFloat64FromValues=function(e,o,t,r,n,i,a,s,g,l,p,u,c,d,h,m){var y=goog.vec.Mat4.createFloat64();return goog.vec.Mat4.setFromValues(y,e,o,t,r,n,i,a,s,g,l,p,u,c,d,h,m),y},goog.vec.Mat4.cloneFloat64=goog.vec.Mat4.createFloat64FromArray,goog.vec.Mat4.createFromArray=function(e){var o=goog.vec.Mat4.createFloat32();return goog.vec.Mat4.setFromArray(o,e),o},goog.vec.Mat4.createFromValues=function(e,o,t,r,n,i,a,s,g,l,p,u,c,d,h,m){return goog.vec.Mat4.createFloat32FromValues(e,o,t,r,n,i,a,s,g,l,p,u,c,d,h,m)},goog.vec.Mat4.clone=goog.vec.Mat4.createFromArray,goog.vec.Mat4.getElement=function(e,o,t){return e[o+4*t]},goog.vec.Mat4.setElement=function(e,o,t,r){return e[o+4*t]=r,e},goog.vec.Mat4.setFromValues=function(e,o,t,r,n,i,a,s,g,l,p,u,c,d,h,m,y){return e[0]=o,e[1]=t,e[2]=r,e[3]=n,e[4]=i,e[5]=a,e[6]=s,e[7]=g,e[8]=l,e[9]=p,e[10]=u,e[11]=c,e[12]=d,e[13]=h,e[14]=m,e[15]=y,e},goog.vec.Mat4.setFromArray=function(e,o){return e[0]=o[0],e[1]=o[1],e[2]=o[2],e[3]=o[3],e[4]=o[4],e[5]=o[5],e[6]=o[6],e[7]=o[7],e[8]=o[8],e[9]=o[9],e[10]=o[10],e[11]=o[11],e[12]=o[12],e[13]=o[13],e[14]=o[14],e[15]=o[15],e},goog.vec.Mat4.setFromRowMajorArray=function(e,o){return e[0]=o[0],e[1]=o[4],e[2]=o[8],e[3]=o[12],e[4]=o[1],e[5]=o[5],e[6]=o[9],e[7]=o[13],e[8]=o[2],e[9]=o[6],e[10]=o[10],e[11]=o[14],e[12]=o[3],e[13]=o[7],e[14]=o[11],e[15]=o[15],e},goog.vec.Mat4.setDiagonalValues=function(e,o,t,r,n){return e[0]=o,e[5]=t,e[10]=r,e[15]=n,e},goog.vec.Mat4.setDiagonal=function(e,o){return e[0]=o[0],e[5]=o[1],e[10]=o[2],e[15]=o[3],e},goog.vec.Mat4.getDiagonal=function(e,o,t){if(t)for(var r=t>0?4*t:-t,n=0;n<4-Math.abs(t);n++)o[n]=e[r+5*n];else o[0]=e[0],o[1]=e[5],o[2]=e[10],o[3]=e[15];return o},goog.vec.Mat4.setColumnValues=function(e,o,t,r,n,i){var a=4*o;return e[a]=t,e[a+1]=r,e[a+2]=n,e[a+3]=i,e},goog.vec.Mat4.setColumn=function(e,o,t){var r=4*o;return e[r]=t[0],e[r+1]=t[1],e[r+2]=t[2],e[r+3]=t[3],e},goog.vec.Mat4.getColumn=function(e,o,t){var r=4*o;return t[0]=e[r],t[1]=e[r+1],t[2]=e[r+2],t[3]=e[r+3],t},goog.vec.Mat4.setColumns=function(e,o,t,r,n){return goog.vec.Mat4.setColumn(e,0,o),goog.vec.Mat4.setColumn(e,1,t),goog.vec.Mat4.setColumn(e,2,r),goog.vec.Mat4.setColumn(e,3,n),e},goog.vec.Mat4.getColumns=function(e,o,t,r,n){goog.vec.Mat4.getColumn(e,0,o),goog.vec.Mat4.getColumn(e,1,t),goog.vec.Mat4.getColumn(e,2,r),goog.vec.Mat4.getColumn(e,3,n)},goog.vec.Mat4.setRowValues=function(e,o,t,r,n,i){return e[o]=t,e[o+4]=r,e[o+8]=n,e[o+12]=i,e},goog.vec.Mat4.setRow=function(e,o,t){return e[o]=t[0],e[o+4]=t[1],e[o+8]=t[2],e[o+12]=t[3],e},goog.vec.Mat4.getRow=function(e,o,t){return t[0]=e[o],t[1]=e[o+4],t[2]=e[o+8],t[3]=e[o+12],t},goog.vec.Mat4.setRows=function(e,o,t,r,n){return goog.vec.Mat4.setRow(e,0,o),goog.vec.Mat4.setRow(e,1,t),goog.vec.Mat4.setRow(e,2,r),goog.vec.Mat4.setRow(e,3,n),e},goog.vec.Mat4.getRows=function(e,o,t,r,n){goog.vec.Mat4.getRow(e,0,o),goog.vec.Mat4.getRow(e,1,t),goog.vec.Mat4.getRow(e,2,r),goog.vec.Mat4.getRow(e,3,n)},goog.vec.Mat4.makeZero=function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=0,e},goog.vec.Mat4.makeIdentity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},goog.vec.Mat4.addMat=function(e,o,t){return t[0]=e[0]+o[0],t[1]=e[1]+o[1],t[2]=e[2]+o[2],t[3]=e[3]+o[3],t[4]=e[4]+o[4],t[5]=e[5]+o[5],t[6]=e[6]+o[6],t[7]=e[7]+o[7],t[8]=e[8]+o[8],t[9]=e[9]+o[9],t[10]=e[10]+o[10],t[11]=e[11]+o[11],t[12]=e[12]+o[12],t[13]=e[13]+o[13],t[14]=e[14]+o[14],t[15]=e[15]+o[15],t},goog.vec.Mat4.subMat=function(e,o,t){return t[0]=e[0]-o[0],t[1]=e[1]-o[1],t[2]=e[2]-o[2],t[3]=e[3]-o[3],t[4]=e[4]-o[4],t[5]=e[5]-o[5],t[6]=e[6]-o[6],t[7]=e[7]-o[7],t[8]=e[8]-o[8],t[9]=e[9]-o[9],t[10]=e[10]-o[10],t[11]=e[11]-o[11],t[12]=e[12]-o[12],t[13]=e[13]-o[13],t[14]=e[14]-o[14],t[15]=e[15]-o[15],t},goog.vec.Mat4.multScalar=function(e,o,t){return t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t[3]=e[3]*o,t[4]=e[4]*o,t[5]=e[5]*o,t[6]=e[6]*o,t[7]=e[7]*o,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12]*o,t[13]=e[13]*o,t[14]=e[14]*o,t[15]=e[15]*o,t},goog.vec.Mat4.multMat=function(e,o,t){var r=e[0],n=e[1],i=e[2],a=e[3],s=e[4],g=e[5],l=e[6],p=e[7],u=e[8],c=e[9],d=e[10],h=e[11],m=e[12],y=e[13],f=e[14],v=e[15],_=o[0],E=o[1],S=o[2],T=o[3],x=o[4],b=o[5],P=o[6],M=o[7],C=o[8],R=o[9],A=o[10],D=o[11],L=o[12],N=o[13],w=o[14],I=o[15];return t[0]=r*_+s*E+u*S+m*T,t[1]=n*_+g*E+c*S+y*T,t[2]=i*_+l*E+d*S+f*T,t[3]=a*_+p*E+h*S+v*T,t[4]=r*x+s*b+u*P+m*M,t[5]=n*x+g*b+c*P+y*M,t[6]=i*x+l*b+d*P+f*M,t[7]=a*x+p*b+h*P+v*M,t[8]=r*C+s*R+u*A+m*D,t[9]=n*C+g*R+c*A+y*D,t[10]=i*C+l*R+d*A+f*D,t[11]=a*C+p*R+h*A+v*D,t[12]=r*L+s*N+u*w+m*I,t[13]=n*L+g*N+c*w+y*I,t[14]=i*L+l*N+d*w+f*I,t[15]=a*L+p*N+h*w+v*I,t},goog.vec.Mat4.transpose=function(e,o){if(o==e){var t=e[1],r=e[2],n=e[3],i=e[6],a=e[7],s=e[11];o[1]=e[4],o[2]=e[8],o[3]=e[12],o[4]=t,o[6]=e[9],o[7]=e[13],o[8]=r,o[9]=i,o[11]=e[14],o[12]=n,o[13]=a,o[14]=s}else o[0]=e[0],o[1]=e[4],o[2]=e[8],o[3]=e[12],o[4]=e[1],o[5]=e[5],o[6]=e[9],o[7]=e[13],o[8]=e[2],o[9]=e[6],o[10]=e[10],o[11]=e[14],o[12]=e[3],o[13]=e[7],o[14]=e[11],o[15]=e[15];return o},goog.vec.Mat4.determinant=function(e){var o=e[0],t=e[1],r=e[2],n=e[3],i=e[4],a=e[5],s=e[6],g=e[7],l=e[8],p=e[9],u=e[10],c=e[11],d=e[12],h=e[13],m=e[14],y=e[15],f=o*a-t*i,v=o*s-r*i,_=o*g-n*i,E=t*s-r*a,S=t*g-n*a,T=r*g-n*s,x=l*h-p*d,b=l*m-u*d,P=l*y-c*d,M=p*m-u*h,C=p*y-c*h,R=u*y-c*m;return f*R-v*C+_*M+E*P-S*b+T*x},goog.vec.Mat4.invert=function(e,o){var t=e[0],r=e[1],n=e[2],i=e[3],a=e[4],s=e[5],g=e[6],l=e[7],p=e[8],u=e[9],c=e[10],d=e[11],h=e[12],m=e[13],y=e[14],f=e[15],v=t*s-r*a,_=t*g-n*a,E=t*l-i*a,S=r*g-n*s,T=r*l-i*s,x=n*l-i*g,b=p*m-u*h,P=p*y-c*h,M=p*f-d*h,C=u*y-c*m,R=u*f-d*m,A=c*f-d*y,D=v*A-_*R+E*C+S*M-T*P+x*b;if(0==D)return!1;var L=1/D;return o[0]=(s*A-g*R+l*C)*L,o[1]=(-r*A+n*R-i*C)*L,o[2]=(m*x-y*T+f*S)*L,o[3]=(-u*x+c*T-d*S)*L,o[4]=(-a*A+g*M-l*P)*L,o[5]=(t*A-n*M+i*P)*L,o[6]=(-h*x+y*E-f*_)*L,o[7]=(p*x-c*E+d*_)*L,o[8]=(a*R-s*M+l*b)*L,o[9]=(-t*R+r*M-i*b)*L,o[10]=(h*T-m*E+f*v)*L,o[11]=(-p*T+u*E-d*v)*L,o[12]=(-a*C+s*P-g*b)*L,o[13]=(t*C-r*P+n*b)*L,o[14]=(-h*S+m*_-y*v)*L,o[15]=(p*S-u*_+c*v)*L,!0},goog.vec.Mat4.equals=function(e,o){return e.length==o.length&&e[0]==o[0]&&e[1]==o[1]&&e[2]==o[2]&&e[3]==o[3]&&e[4]==o[4]&&e[5]==o[5]&&e[6]==o[6]&&e[7]==o[7]&&e[8]==o[8]&&e[9]==o[9]&&e[10]==o[10]&&e[11]==o[11]&&e[12]==o[12]&&e[13]==o[13]&&e[14]==o[14]&&e[15]==o[15]},goog.vec.Mat4.multVec3=function(e,o,t){var r=o[0],n=o[1],i=o[2];return t[0]=r*e[0]+n*e[4]+i*e[8]+e[12],t[1]=r*e[1]+n*e[5]+i*e[9]+e[13],t[2]=r*e[2]+n*e[6]+i*e[10]+e[14],t},goog.vec.Mat4.multVec3NoTranslate=function(e,o,t){var r=o[0],n=o[1],i=o[2];return t[0]=r*e[0]+n*e[4]+i*e[8],t[1]=r*e[1]+n*e[5]+i*e[9],t[2]=r*e[2]+n*e[6]+i*e[10],t},goog.vec.Mat4.multVec3Projective=function(e,o,t){var r=o[0],n=o[1],i=o[2],a=1/(r*e[3]+n*e[7]+i*e[11]+e[15]);return t[0]=(r*e[0]+n*e[4]+i*e[8]+e[12])*a,t[1]=(r*e[1]+n*e[5]+i*e[9]+e[13])*a,t[2]=(r*e[2]+n*e[6]+i*e[10]+e[14])*a,t},goog.vec.Mat4.multVec4=function(e,o,t){var r=o[0],n=o[1],i=o[2],a=o[3];return t[0]=r*e[0]+n*e[4]+i*e[8]+a*e[12],t[1]=r*e[1]+n*e[5]+i*e[9]+a*e[13],t[2]=r*e[2]+n*e[6]+i*e[10]+a*e[14],t[3]=r*e[3]+n*e[7]+i*e[11]+a*e[15],t},goog.vec.Mat4.makeTranslate=function(e,o,t,r){return goog.vec.Mat4.makeIdentity(e),goog.vec.Mat4.setColumnValues(e,3,o,t,r,1)},goog.vec.Mat4.makeScale=function(e,o,t,r){return goog.vec.Mat4.makeIdentity(e),goog.vec.Mat4.setDiagonalValues(e,o,t,r,1)},goog.vec.Mat4.makeRotate=function(e,o,t,r,n){var i=Math.cos(o),a=1-i,s=Math.sin(o);return goog.vec.Mat4.setFromValues(e,t*t*a+i,t*r*a+n*s,t*n*a-r*s,0,t*r*a-n*s,r*r*a+i,r*n*a+t*s,0,t*n*a+r*s,r*n*a-t*s,n*n*a+i,0,0,0,0,1)},goog.vec.Mat4.makeRotateX=function(e,o){var t=Math.cos(o),r=Math.sin(o);return goog.vec.Mat4.setFromValues(e,1,0,0,0,0,t,r,0,0,-r,t,0,0,0,0,1)},goog.vec.Mat4.makeRotateY=function(e,o){var t=Math.cos(o),r=Math.sin(o);return goog.vec.Mat4.setFromValues(e,t,0,-r,0,0,1,0,0,r,0,t,0,0,0,0,1)},goog.vec.Mat4.makeRotateZ=function(e,o){var t=Math.cos(o),r=Math.sin(o);return goog.vec.Mat4.setFromValues(e,t,r,0,0,-r,t,0,0,0,0,1,0,0,0,0,1)},goog.vec.Mat4.makeFrustum=function(e,o,t,r,n,i,a){var s=2*i/(t-o),g=2*i/(n-r),l=(t+o)/(t-o),p=(n+r)/(n-r),u=-(a+i)/(a-i),c=-(2*a*i)/(a-i);return goog.vec.Mat4.setFromValues(e,s,0,0,0,0,g,0,0,l,p,u,-1,0,0,c,0)},goog.vec.Mat4.makePerspective=function(e,o,t,r,n){var i=o/2,a=n-r,s=Math.sin(i);if(0==a||0==s||0==t)return e;var g=Math.cos(i)/s;return goog.vec.Mat4.setFromValues(e,g/t,0,0,0,0,g,0,0,0,0,-(n+r)/a,-1,0,0,-(2*r*n)/a,0)},goog.vec.Mat4.makeOrtho=function(e,o,t,r,n,i,a){var s=2/(t-o),g=2/(n-r),l=-2/(a-i),p=-(t+o)/(t-o),u=-(n+r)/(n-r),c=-(a+i)/(a-i);return goog.vec.Mat4.setFromValues(e,s,0,0,0,0,g,0,0,0,0,l,0,p,u,c,1)},goog.vec.Mat4.makeLookAt=function(e,o,t,r){var n=goog.vec.Mat4.tmpVec4_[0];goog.vec.Vec3.subtract(t,o,n),goog.vec.Vec3.normalize(n,n),n[3]=0;var i=goog.vec.Mat4.tmpVec4_[1];goog.vec.Vec3.cross(n,r,i),goog.vec.Vec3.normalize(i,i),i[3]=0;var a=goog.vec.Mat4.tmpVec4_[2];return goog.vec.Vec3.cross(i,n,a),goog.vec.Vec3.normalize(a,a),a[3]=0,goog.vec.Vec3.negate(n,n),goog.vec.Mat4.setRow(e,0,i),goog.vec.Mat4.setRow(e,1,a),goog.vec.Mat4.setRow(e,2,n),goog.vec.Mat4.setRowValues(e,3,0,0,0,1),goog.vec.Mat4.translate(e,-o[0],-o[1],-o[2]),e},goog.vec.Mat4.toLookAt=function(e,o,t,r){var n=goog.vec.Mat4.tmpMat4_[0];if(!goog.vec.Mat4.invert(e,n))return!1;if(o&&(o[0]=n[12],o[1]=n[13],o[2]=n[14]),(t||r)&&(t||(t=goog.vec.Mat4.tmpVec3_[0]),t[0]=-e[2],t[1]=-e[6],t[2]=-e[10],goog.vec.Vec3.normalize(t,t)),r){var i=goog.vec.Mat4.tmpVec3_[1];i[0]=e[0],i[1]=e[4],i[2]=e[8],goog.vec.Vec3.cross(i,t,r),goog.vec.Vec3.normalize(r,r)}return!0},goog.vec.Mat4.makeEulerZXZ=function(e,o,t,r){var n=Math.cos(o),i=Math.sin(o),a=Math.cos(t),s=Math.sin(t),g=Math.cos(r),l=Math.sin(r);return e[0]=n*g-a*i*l,e[1]=a*n*l+g*i,e[2]=l*s,e[3]=0,e[4]=-n*l-g*a*i,e[5]=n*a*g-i*l,e[6]=g*s,e[7]=0,e[8]=s*i,e[9]=-n*s,e[10]=a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},goog.vec.Mat4.toEulerZXZ=function(e,o,t){var r=Math.sqrt(e[2]*e[2]+e[6]*e[6]),n=t?-1:1;return r>goog.vec.EPSILON?(o[2]=Math.atan2(e[2]*n,e[6]*n),o[1]=Math.atan2(r*n,e[10]),o[0]=Math.atan2(e[8]*n,-e[9]*n)):(o[0]=0,o[1]=Math.atan2(r*n,e[10]),o[2]=Math.atan2(e[1],e[0])),o[0]=(o[0]+2*Math.PI)%(2*Math.PI),o[2]=(o[2]+2*Math.PI)%(2*Math.PI),o[1]=(o[1]*n+2*Math.PI)%(2*Math.PI)*n,o},goog.vec.Mat4.translate=function(e,o,t,r){return goog.vec.Mat4.setColumnValues(e,3,e[0]*o+e[4]*t+e[8]*r+e[12],e[1]*o+e[5]*t+e[9]*r+e[13],e[2]*o+e[6]*t+e[10]*r+e[14],e[3]*o+e[7]*t+e[11]*r+e[15])},goog.vec.Mat4.scale=function(e,o,t,r){return goog.vec.Mat4.setFromValues(e,e[0]*o,e[1]*o,e[2]*o,e[3]*o,e[4]*t,e[5]*t,e[6]*t,e[7]*t,e[8]*r,e[9]*r,e[10]*r,e[11]*r,e[12],e[13],e[14],e[15])},goog.vec.Mat4.rotate=function(e,o,t,r,n){var i=e[0],a=e[1],s=e[2],g=e[3],l=e[4],p=e[5],u=e[6],c=e[7],d=e[8],h=e[9],m=e[10],y=e[11],f=e[12],v=e[13],_=e[14],E=e[15],S=Math.cos(o),T=Math.sin(o),x=1-S,b=t*t*x+S,P=t*r*x+n*T,M=t*n*x-r*T,C=t*r*x-n*T,R=r*r*x+S,A=r*n*x+t*T,D=t*n*x+r*T,L=r*n*x-t*T,N=n*n*x+S;return goog.vec.Mat4.setFromValues(e,i*b+l*P+d*M,a*b+p*P+h*M,s*b+u*P+m*M,g*b+c*P+y*M,i*C+l*R+d*A,a*C+p*R+h*A,s*C+u*R+m*A,g*C+c*R+y*A,i*D+l*L+d*N,a*D+p*L+h*N,s*D+u*L+m*N,g*D+c*L+y*N,f,v,_,E)},goog.vec.Mat4.rotateX=function(e,o){var t=e[4],r=e[5],n=e[6],i=e[7],a=e[8],s=e[9],g=e[10],l=e[11],p=Math.cos(o),u=Math.sin(o);return e[4]=t*p+a*u,e[5]=r*p+s*u,e[6]=n*p+g*u,e[7]=i*p+l*u,e[8]=t*-u+a*p,e[9]=r*-u+s*p,e[10]=n*-u+g*p,e[11]=i*-u+l*p,e},goog.vec.Mat4.rotateY=function(e,o){var t=e[0],r=e[1],n=e[2],i=e[3],a=e[8],s=e[9],g=e[10],l=e[11],p=Math.cos(o),u=Math.sin(o);return e[0]=t*p+a*-u,e[1]=r*p+s*-u,e[2]=n*p+g*-u,e[3]=i*p+l*-u,e[8]=t*u+a*p,e[9]=r*u+s*p,e[10]=n*u+g*p,e[11]=i*u+l*p,e},goog.vec.Mat4.rotateZ=function(e,o){var t=e[0],r=e[1],n=e[2],i=e[3],a=e[4],s=e[5],g=e[6],l=e[7],p=Math.cos(o),u=Math.sin(o);return e[0]=t*p+a*u,e[1]=r*p+s*u,e[2]=n*p+g*u,e[3]=i*p+l*u,e[4]=t*-u+a*p,e[5]=r*-u+s*p,e[6]=n*-u+g*p,e[7]=i*-u+l*p,e},goog.vec.Mat4.getTranslation=function(e,o){return o[0]=e[12],o[1]=e[13],o[2]=e[14],o},goog.vec.Mat4.tmpVec3_=[goog.vec.Vec3.createFloat64(),goog.vec.Vec3.createFloat64()],goog.vec.Mat4.tmpVec4_=[goog.vec.Vec4.createFloat64(),goog.vec.Vec4.createFloat64(),goog.vec.Vec4.createFloat64()],goog.vec.Mat4.tmpMat4_=[goog.vec.Mat4.createFloat64()],goog.provide("ol.TransformFunction"),ol.TransformFunction,goog.provide("ol.Extent"),goog.provide("ol.extent"),goog.provide("ol.extent.Corner"),goog.provide("ol.extent.Relationship"),goog.require("goog.asserts"),goog.require("goog.vec.Mat4"),goog.require("ol.Coordinate"),goog.require("ol.Size"),goog.require("ol.TransformFunction"),ol.Extent,ol.extent.Corner={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},ol.extent.Relationship={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16},ol.extent.boundingExtent=function(e){for(var o=ol.extent.createEmpty(),t=0,r=e.length;r>t;++t)ol.extent.extendCoordinate(o,e[t]);return o},ol.extent.boundingExtentXYs_=function(e,o,t){goog.asserts.assert(e.length>0,"xs length should be larger than 0"),goog.asserts.assert(o.length>0,"ys length should be larger than 0");var r=Math.min.apply(null,e),n=Math.min.apply(null,o),i=Math.max.apply(null,e),a=Math.max.apply(null,o);return ol.extent.createOrUpdate(r,n,i,a,t)},ol.extent.buffer=function(e,o,t){return goog.isDef(t)?(t[0]=e[0]-o,t[1]=e[1]-o,t[2]=e[2]+o,t[3]=e[3]+o,t):[e[0]-o,e[1]-o,e[2]+o,e[3]+o]},ol.extent.clone=function(e,o){return goog.isDef(o)?(o[0]=e[0],o[1]=e[1],o[2]=e[2],o[3]=e[3],o):e.slice()},ol.extent.closestSquaredDistanceXY=function(e,o,t){var r,n;return r=o<e[0]?e[0]-o:e[2]<o?o-e[2]:0,n=t<e[1]?e[1]-t:e[3]<t?t-e[3]:0,r*r+n*n},ol.extent.containsCoordinate=function(e,o){return ol.extent.containsXY(e,o[0],o[1])},ol.extent.containsExtent=function(e,o){return e[0]<=o[0]&&o[2]<=e[2]&&e[1]<=o[1]&&o[3]<=e[3]},ol.extent.containsXY=function(e,o,t){return e[0]<=o&&o<=e[2]&&e[1]<=t&&t<=e[3]},ol.extent.coordinateRelationship=function(e,o){var t=e[0],r=e[1],n=e[2],i=e[3],a=o[0],s=o[1],g=ol.extent.Relationship.UNKNOWN;return t>a?g|=ol.extent.Relationship.LEFT:a>n&&(g|=ol.extent.Relationship.RIGHT),r>s?g|=ol.extent.Relationship.BELOW:s>i&&(g|=ol.extent.Relationship.ABOVE),g===ol.extent.Relationship.UNKNOWN&&(g=ol.extent.Relationship.INTERSECTING),g},ol.extent.createEmpty=function(){return[1/0,1/0,-(1/0),-(1/0)]},ol.extent.createOrUpdate=function(e,o,t,r,n){return goog.isDef(n)?(n[0]=e,n[1]=o,n[2]=t,n[3]=r,n):[e,o,t,r]},ol.extent.createOrUpdateEmpty=function(e){return ol.extent.createOrUpdate(1/0,1/0,-(1/0),-(1/0),e)},ol.extent.createOrUpdateFromCoordinate=function(e,o){var t=e[0],r=e[1];return ol.extent.createOrUpdate(t,r,t,r,o)},ol.extent.createOrUpdateFromCoordinates=function(e,o){var t=ol.extent.createOrUpdateEmpty(o);return ol.extent.extendCoordinates(t,e)},ol.extent.createOrUpdateFromFlatCoordinates=function(e,o,t,r,n){var i=ol.extent.createOrUpdateEmpty(n);return ol.extent.extendFlatCoordinates(i,e,o,t,r)},ol.extent.createOrUpdateFromRings=function(e,o){var t=ol.extent.createOrUpdateEmpty(o);return ol.extent.extendRings(t,e)},ol.extent.empty=function(e){return e[0]=e[1]=1/0,e[2]=e[3]=-(1/0),e},ol.extent.equals=function(e,o){return e[0]==o[0]&&e[2]==o[2]&&e[1]==o[1]&&e[3]==o[3]},ol.extent.extend=function(e,o){return o[0]<e[0]&&(e[0]=o[0]),o[2]>e[2]&&(e[2]=o[2]),o[1]<e[1]&&(e[1]=o[1]),o[3]>e[3]&&(e[3]=o[3]),e},ol.extent.extendCoordinate=function(e,o){o[0]<e[0]&&(e[0]=o[0]),o[0]>e[2]&&(e[2]=o[0]),o[1]<e[1]&&(e[1]=o[1]),o[1]>e[3]&&(e[3]=o[1])},ol.extent.extendCoordinates=function(e,o){var t,r;for(t=0,r=o.length;r>t;++t)ol.extent.extendCoordinate(e,o[t]);return e},ol.extent.extendFlatCoordinates=function(e,o,t,r,n){for(;r>t;t+=n)ol.extent.extendXY(e,o[t],o[t+1]);return e},ol.extent.extendRings=function(e,o){var t,r;for(t=0,r=o.length;r>t;++t)ol.extent.extendCoordinates(e,o[t]);return e},ol.extent.extendXY=function(e,o,t){e[0]=Math.min(e[0],o),e[1]=Math.min(e[1],t),e[2]=Math.max(e[2],o),e[3]=Math.max(e[3],t)},ol.extent.forEachCorner=function(e,o,t){var r;return(r=o.call(t,ol.extent.getBottomLeft(e)))?r:(r=o.call(t,ol.extent.getBottomRight(e)))?r:(r=o.call(t,ol.extent.getTopRight(e)))?r:(r=o.call(t,ol.extent.getTopLeft(e)),r?r:!1)},ol.extent.getArea=function(e){var o=0;return ol.extent.isEmpty(e)||(o=ol.extent.getWidth(e)*ol.extent.getHeight(e)),o},ol.extent.getBottomLeft=function(e){return[e[0],e[1]]},ol.extent.getBottomRight=function(e){return[e[2],e[1]]},ol.extent.getCenter=function(e){return[(e[0]+e[2])/2,(e[1]+e[3])/2]},ol.extent.getCorner=function(e,o){var t;return o===ol.extent.Corner.BOTTOM_LEFT?t=ol.extent.getBottomLeft(e):o===ol.extent.Corner.BOTTOM_RIGHT?t=ol.extent.getBottomRight(e):o===ol.extent.Corner.TOP_LEFT?t=ol.extent.getTopLeft(e):o===ol.extent.Corner.TOP_RIGHT?t=ol.extent.getTopRight(e):goog.asserts.fail("Invalid corner: %s",o),goog.asserts.assert(goog.isDef(t),"coordinate should be defined"),t},ol.extent.getEnlargedArea=function(e,o){var t=Math.min(e[0],o[0]),r=Math.min(e[1],o[1]),n=Math.max(e[2],o[2]),i=Math.max(e[3],o[3]);return(n-t)*(i-r)},ol.extent.getForViewAndSize=function(e,o,t,r,n){var i,a,s,g=o*r[0]/2,l=o*r[1]/2,p=Math.cos(t),u=Math.sin(t),c=[-g,-g,g,g],d=[-l,l,-l,l];for(i=0;4>i;++i)a=c[i],s=d[i],c[i]=e[0]+a*p-s*u,d[i]=e[1]+a*u+s*p;return ol.extent.boundingExtentXYs_(c,d,n)},ol.extent.getHeight=function(e){return e[3]-e[1]},ol.extent.getIntersectionArea=function(e,o){var t=ol.extent.getIntersection(e,o);return ol.extent.getArea(t)},ol.extent.getIntersection=function(e,o,t){var r=goog.isDef(t)?t:ol.extent.createEmpty();return ol.extent.intersects(e,o)&&(r[0]=e[0]>o[0]?e[0]:o[0],r[1]=e[1]>o[1]?e[1]:o[1],r[2]=e[2]<o[2]?e[2]:o[2],r[3]=e[3]<o[3]?e[3]:o[3]),r},ol.extent.getMargin=function(e){return ol.extent.getWidth(e)+ol.extent.getHeight(e)},ol.extent.getSize=function(e){return[e[2]-e[0],e[3]-e[1]]},ol.extent.getTopLeft=function(e){return[e[0],e[3]]},ol.extent.getTopRight=function(e){return[e[2],e[3]]},ol.extent.getWidth=function(e){return e[2]-e[0]},ol.extent.intersects=function(e,o){return e[0]<=o[2]&&e[2]>=o[0]&&e[1]<=o[3]&&e[3]>=o[1]},ol.extent.isEmpty=function(e){return e[2]<e[0]||e[3]<e[1]},ol.extent.isInfinite=function(e){return e[0]==-(1/0)||e[1]==-(1/0)||e[2]==1/0||e[3]==1/0},ol.extent.normalize=function(e,o){return[(o[0]-e[0])/(e[2]-e[0]),(o[1]-e[1])/(e[3]-e[1])]},ol.extent.returnOrUpdate=function(e,o){return goog.isDef(o)?(o[0]=e[0],o[1]=e[1],o[2]=e[2],o[3]=e[3],o):e},ol.extent.scaleFromCenter=function(e,o){var t=(e[2]-e[0])/2*(o-1),r=(e[3]-e[1])/2*(o-1);e[0]-=t,e[2]+=t,e[1]-=r,e[3]+=r},ol.extent.intersectsSegment=function(e,o,t){var r=!1,n=ol.extent.coordinateRelationship(e,o),i=ol.extent.coordinateRelationship(e,t);if(n===ol.extent.Relationship.INTERSECTING||i===ol.extent.Relationship.INTERSECTING)r=!0;else{var a,s,g=e[0],l=e[1],p=e[2],u=e[3],c=o[0],d=o[1],h=t[0],m=t[1],y=(m-d)/(h-c);i&ol.extent.Relationship.ABOVE&&!(n&ol.extent.Relationship.ABOVE)&&(a=h-(m-u)/y,r=a>=g&&p>=a),r||!(i&ol.extent.Relationship.RIGHT)||n&ol.extent.Relationship.RIGHT||(s=m-(h-p)*y,r=s>=l&&u>=s),r||!(i&ol.extent.Relationship.BELOW)||n&ol.extent.Relationship.BELOW||(a=h-(m-l)/y,r=a>=g&&p>=a),r||!(i&ol.extent.Relationship.LEFT)||n&ol.extent.Relationship.LEFT||(s=m-(h-g)*y,r=s>=l&&u>=s)}return r},ol.extent.touches=function(e,o){var t=ol.extent.intersects(e,o);return t&&(e[0]==o[2]||e[2]==o[0]||e[1]==o[3]||e[3]==o[1])},ol.extent.applyTransform=function(e,o,t){var r=[e[0],e[1],e[0],e[3],e[2],e[1],e[2],e[3]];o(r,r,2);var n=[r[0],r[2],r[4],r[6]],i=[r[1],r[3],r[5],r[7]];return ol.extent.boundingExtentXYs_(n,i,t)},ol.extent.transform2D=function(e,o,t){var r,n,i,a=goog.isDef(t)?t:[],s=goog.vec.Mat4.getElement(o,0,0),g=goog.vec.Mat4.getElement(o,1,0),l=goog.vec.Mat4.getElement(o,0,1),p=goog.vec.Mat4.getElement(o,1,1),u=goog.vec.Mat4.getElement(o,0,3),c=goog.vec.Mat4.getElement(o,1,3),d=[0,2,0,2],h=[1,1,3,3],m=[],y=[];for(r=0;4>r;++r)n=e[d[r]],i=e[h[r]],m[r]=s*n+l*i+u,y[r]=g*n+p*i+c;return a[0]=Math.min.apply(null,m),a[1]=Math.min.apply(null,y),a[2]=Math.max.apply(null,m),a[3]=Math.max.apply(null,y),a},goog.provide("goog.functions"),goog.functions.constant=function(e){return function(){return e}},goog.functions.FALSE=goog.functions.constant(!1),goog.functions.TRUE=goog.functions.constant(!0),goog.functions.NULL=goog.functions.constant(null),goog.functions.identity=function(e,o){return e},goog.functions.error=function(e){return function(){throw Error(e)}},goog.functions.fail=function(e){return function(){throw e}},goog.functions.lock=function(e,o){return o=o||0,function(){return e.apply(this,Array.prototype.slice.call(arguments,0,o))}},goog.functions.nth=function(e){return function(){return arguments[e]}},goog.functions.withReturnValue=function(e,o){return goog.functions.sequence(e,goog.functions.constant(o))},goog.functions.equalTo=function(e,o){return function(t){return o?e==t:e===t}},goog.functions.compose=function(e,o){var t=arguments,r=t.length;return function(){var e;r&&(e=t[r-1].apply(this,arguments));for(var o=r-2;o>=0;o--)e=t[o].call(this,e);return e}},goog.functions.sequence=function(e){var o=arguments,t=o.length;return function(){for(var e,r=0;t>r;r++)e=o[r].apply(this,arguments);return e}},goog.functions.and=function(e){var o=arguments,t=o.length;return function(){for(var e=0;t>e;e++)if(!o[e].apply(this,arguments))return!1;return!0}},goog.functions.or=function(e){var o=arguments,t=o.length;return function(){for(var e=0;t>e;e++)if(o[e].apply(this,arguments))return!0;return!1}},goog.functions.not=function(e){return function(){return!e.apply(this,arguments)}},goog.functions.create=function(e,o){var t=function(){};t.prototype=e.prototype;var r=new t;return e.apply(r,Array.prototype.slice.call(arguments,1)),r},goog.define("goog.functions.CACHE_RETURN_VALUE",!0),goog.functions.cacheReturnValue=function(e){var o,t=!1;return function(){return goog.functions.CACHE_RETURN_VALUE?(t||(o=e(),t=!0),o):e()}},goog.provide("ol.Sphere"),goog.require("goog.math"),ol.Sphere=function(e){this.radius=e},ol.Sphere.prototype.cosineDistance=function(e,o){var t=goog.math.toRadians(e[1]),r=goog.math.toRadians(o[1]),n=goog.math.toRadians(o[0]-e[0]);return this.radius*Math.acos(Math.sin(t)*Math.sin(r)+Math.cos(t)*Math.cos(r)*Math.cos(n))},ol.Sphere.prototype.geodesicArea=function(e){for(var o=0,t=e.length,r=e[t-1][0],n=e[t-1][1],i=0;t>i;i++){var a=e[i][0],s=e[i][1];o+=goog.math.toRadians(a-r)*(2+Math.sin(goog.math.toRadians(n))+Math.sin(goog.math.toRadians(s))),r=a,n=s}return o*this.radius*this.radius/2},ol.Sphere.prototype.crossTrackDistance=function(e,o,t){var r=this.cosineDistance(e,o),n=goog.math.toRadians(this.initialBearing(e,o)),i=goog.math.toRadians(this.initialBearing(e,t));return this.radius*Math.asin(Math.sin(r/this.radius)*Math.sin(i-n))},ol.Sphere.prototype.equirectangularDistance=function(e,o){var t=goog.math.toRadians(e[1]),r=goog.math.toRadians(o[1]),n=goog.math.toRadians(o[0]-e[0]),i=n*Math.cos((t+r)/2),a=r-t;return this.radius*Math.sqrt(i*i+a*a)},ol.Sphere.prototype.finalBearing=function(e,o){return(this.initialBearing(o,e)+180)%360},ol.Sphere.prototype.haversineDistance=function(e,o){var t=goog.math.toRadians(e[1]),r=goog.math.toRadians(o[1]),n=(r-t)/2,i=goog.math.toRadians(o[0]-e[0])/2,a=Math.sin(n)*Math.sin(n)+Math.sin(i)*Math.sin(i)*Math.cos(t)*Math.cos(r);return 2*this.radius*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))},ol.Sphere.prototype.interpolate=function(e,o,t){var r=goog.math.toRadians(e[1]),n=goog.math.toRadians(e[0]),i=goog.math.toRadians(o[1]),a=goog.math.toRadians(o[0]),s=Math.cos(r),g=Math.sin(r),l=Math.cos(i),p=Math.sin(i),u=Math.cos(a-n),c=g*p+s*l*u;if(c>=1)return o.slice();c=t*Math.acos(c);var d=Math.cos(c),h=Math.sin(c),m=Math.sin(a-n)*l,y=s*p-g*l*u,f=Math.atan2(m,y),v=Math.asin(g*d+s*h*Math.cos(f)),_=n+Math.atan2(Math.sin(f)*h*s,d-g*Math.sin(v));return[goog.math.toDegrees(_),goog.math.toDegrees(v)]},ol.Sphere.prototype.initialBearing=function(e,o){var t=goog.math.toRadians(e[1]),r=goog.math.toRadians(o[1]),n=goog.math.toRadians(o[0]-e[0]),i=Math.sin(n)*Math.cos(r),a=Math.cos(t)*Math.sin(r)-Math.sin(t)*Math.cos(r)*Math.cos(n);return goog.math.toDegrees(Math.atan2(i,a))},ol.Sphere.prototype.maximumLatitude=function(e,o){return Math.cos(Math.abs(Math.sin(goog.math.toRadians(e))*Math.cos(goog.math.toRadians(o))))},ol.Sphere.prototype.midpoint=function(e,o){var t=goog.math.toRadians(e[1]),r=goog.math.toRadians(o[1]),n=goog.math.toRadians(e[0]),i=goog.math.toRadians(o[0]-e[0]),a=Math.cos(r)*Math.cos(i),s=Math.cos(r)*Math.sin(i),g=Math.cos(t)+a,l=Math.atan2(Math.sin(t)+Math.sin(r),Math.sqrt(g*g+s*s)),p=n+Math.atan2(s,g);return[goog.math.toDegrees(p),goog.math.toDegrees(l)]},ol.Sphere.prototype.offset=function(e,o,t){var r=goog.math.toRadians(e[1]),n=goog.math.toRadians(e[0]),i=o/this.radius,a=Math.asin(Math.sin(r)*Math.cos(i)+Math.cos(r)*Math.sin(i)*Math.cos(t)),s=n+Math.atan2(Math.sin(t)*Math.sin(i)*Math.cos(r),Math.cos(i)-Math.sin(r)*Math.sin(a));return[goog.math.toDegrees(s),goog.math.toDegrees(a)]},goog.provide("ol.sphere.NORMAL"),goog.require("ol.Sphere"),ol.sphere.NORMAL=new ol.Sphere(6370997),goog.provide("ol.proj"),goog.provide("ol.proj.METERS_PER_UNIT"),goog.provide("ol.proj.Projection"),goog.provide("ol.proj.ProjectionLike"),goog.provide("ol.proj.Units"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.object"),goog.require("ol"),goog.require("ol.Extent"),goog.require("ol.TransformFunction"),goog.require("ol.extent"),goog.require("ol.sphere.NORMAL"),ol.proj.ProjectionLike,ol.proj.Units={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",USFEET:"us-ft"},ol.proj.METERS_PER_UNIT={},ol.proj.METERS_PER_UNIT[ol.proj.Units.DEGREES]=2*Math.PI*ol.sphere.NORMAL.radius/360,ol.proj.METERS_PER_UNIT[ol.proj.Units.FEET]=.3048,ol.proj.METERS_PER_UNIT[ol.proj.Units.METERS]=1,ol.proj.METERS_PER_UNIT[ol.proj.Units.USFEET]=1200/3937,ol.proj.Projection=function(e){if(this.code_=e.code,this.units_=e.units,this.extent_=goog.isDef(e.extent)?e.extent:null,this.worldExtent_=goog.isDef(e.worldExtent)?e.worldExtent:null,this.axisOrientation_=goog.isDef(e.axisOrientation)?e.axisOrientation:"enu",this.global_=goog.isDef(e.global)?e.global:!1,this.canWrapX_=this.global_&&!goog.isNull(this.extent_),this.getPointResolutionFunc_=goog.isDef(e.getPointResolution)?e.getPointResolution:this.getPointResolution_,this.defaultTileGrid_=null,ol.ENABLE_PROJ4JS&&"function"==typeof proj4){var o=e.code,t=proj4.defs(o);if(goog.isDef(t)){if(goog.isDef(t.axis)&&!goog.isDef(e.axisOrientation)&&(this.axisOrientation_=t.axis),!goog.isDef(e.units)){var r=t.units;goog.isDef(r)||goog.isDef(t.to_meter)&&(r=t.to_meter.toString(),ol.proj.METERS_PER_UNIT[r]=t.to_meter),this.units_=r}var n,i,a,s,g=ol.proj.projections_;for(n in g)i=proj4.defs(n),goog.isDef(i)&&(a=ol.proj.get(n),i===t?ol.proj.addEquivalentProjections([a,this]):(s=proj4(n,o),ol.proj.addCoordinateTransforms(a,this,s.forward,s.inverse)))}}},ol.proj.Projection.prototype.canWrapX=function(){return this.canWrapX_},ol.proj.Projection.prototype.getCode=function(){return this.code_},ol.proj.Projection.prototype.getExtent=function(){return this.extent_},ol.proj.Projection.prototype.getUnits=function(){return this.units_},ol.proj.Projection.prototype.getMetersPerUnit=function(){return ol.proj.METERS_PER_UNIT[this.units_]},ol.proj.Projection.prototype.getWorldExtent=function(){return this.worldExtent_},ol.proj.Projection.prototype.getAxisOrientation=function(){return this.axisOrientation_},ol.proj.Projection.prototype.isGlobal=function(){return this.global_},ol.proj.Projection.prototype.setGlobal=function(e){this.global_=e,this.canWrapX_=e&&!goog.isNull(this.extent_)},ol.proj.Projection.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},ol.proj.Projection.prototype.setDefaultTileGrid=function(e){this.defaultTileGrid_=e},ol.proj.Projection.prototype.setExtent=function(e){this.extent_=e,this.canWrapX_=this.global_&&!goog.isNull(e)},ol.proj.Projection.prototype.setWorldExtent=function(e){this.worldExtent_=e;

},ol.proj.Projection.prototype.setGetPointResolution=function(e){this.getPointResolutionFunc_=e},ol.proj.Projection.prototype.getPointResolution_=function(e,o){var t=this.getUnits();if(t==ol.proj.Units.DEGREES)return e;var r=ol.proj.getTransformFromProjections(this,ol.proj.get("EPSG:4326")),n=[o[0]-e/2,o[1],o[0]+e/2,o[1],o[0],o[1]-e/2,o[0],o[1]+e/2];n=r(n,n,2);var i=ol.sphere.NORMAL.haversineDistance(n.slice(0,2),n.slice(2,4)),a=ol.sphere.NORMAL.haversineDistance(n.slice(4,6),n.slice(6,8)),s=(i+a)/2,g=this.getMetersPerUnit();return goog.isDef(g)&&(s/=g),s},ol.proj.Projection.prototype.getPointResolution=function(e,o){return this.getPointResolutionFunc_(e,o)},ol.proj.projections_={},ol.proj.transforms_={},ol.proj.addEquivalentProjections=function(e){ol.proj.addProjections(e),goog.array.forEach(e,function(o){goog.array.forEach(e,function(e){o!==e&&ol.proj.addTransform(o,e,ol.proj.cloneTransform)})})},ol.proj.addEquivalentTransforms=function(e,o,t,r){goog.array.forEach(e,function(e){goog.array.forEach(o,function(o){ol.proj.addTransform(e,o,t),ol.proj.addTransform(o,e,r)})})},ol.proj.addProjection=function(e){ol.proj.projections_[e.getCode()]=e,ol.proj.addTransform(e,e,ol.proj.cloneTransform)},ol.proj.addProjections=function(e){var o=[];goog.array.forEach(e,function(e){o.push(ol.proj.addProjection(e))})},ol.proj.clearAllProjections=function(){ol.proj.projections_={},ol.proj.transforms_={}},ol.proj.createProjection=function(e,o){return goog.isDefAndNotNull(e)?goog.isString(e)?ol.proj.get(e):(goog.asserts.assertInstanceof(e,ol.proj.Projection,"projection should be an ol.proj.Projection"),e):ol.proj.get(o)},ol.proj.addTransform=function(e,o,t){var r=e.getCode(),n=o.getCode(),i=ol.proj.transforms_;goog.object.containsKey(i,r)||(i[r]={}),i[r][n]=t},ol.proj.addCoordinateTransforms=function(e,o,t,r){var n=ol.proj.get(e),i=ol.proj.get(o);ol.proj.addTransform(n,i,ol.proj.createTransformFromCoordinateTransform(t)),ol.proj.addTransform(i,n,ol.proj.createTransformFromCoordinateTransform(r))},ol.proj.createTransformFromCoordinateTransform=function(e){return function(o,t,r){var n,i,a,s=o.length,g=goog.isDef(r)?r:2,l=goog.isDef(t)?t:new Array(s);for(i=0;s>i;i+=g)for(n=e([o[i],o[i+1]]),l[i]=n[0],l[i+1]=n[1],a=g-1;a>=2;--a)l[i+a]=o[i+a];return l}},ol.proj.removeTransform=function(e,o){var t=e.getCode(),r=o.getCode(),n=ol.proj.transforms_;goog.asserts.assert(t in n,"sourceCode should be in transforms"),goog.asserts.assert(r in n[t],"destinationCode should be in transforms of sourceCode");var i=n[t][r];delete n[t][r];var a=goog.object.getKeys(n[t]);return 0===a.length&&delete n[t],i},ol.proj.fromLonLat=function(e,o){return ol.proj.transform(e,"EPSG:4326",goog.isDef(o)?o:"EPSG:3857")},ol.proj.toLonLat=function(e,o){return ol.proj.transform(e,goog.isDef(o)?o:"EPSG:3857","EPSG:4326")},ol.proj.get=function(e){var o;if(e instanceof ol.proj.Projection)o=e;else if(goog.isString(e)){var t=e;o=ol.proj.projections_[t],ol.ENABLE_PROJ4JS&&!goog.isDef(o)&&"function"==typeof proj4&&goog.isDef(proj4.defs(t))&&(o=new ol.proj.Projection({code:t}),ol.proj.addProjection(o))}else o=null;return o},ol.proj.equivalent=function(e,o){if(e===o)return!0;if(e.getCode()===o.getCode())return!0;if(e.getUnits()!=o.getUnits())return!1;var t=ol.proj.getTransformFromProjections(e,o);return t===ol.proj.cloneTransform},ol.proj.getTransform=function(e,o){var t=ol.proj.get(e),r=ol.proj.get(o);return ol.proj.getTransformFromProjections(t,r)},ol.proj.getTransformFromProjections=function(e,o){var t,r=ol.proj.transforms_,n=e.getCode(),i=o.getCode();return goog.object.containsKey(r,n)&&goog.object.containsKey(r[n],i)&&(t=r[n][i]),goog.isDef(t)||(goog.asserts.assert(goog.isDef(t),"transform should be defined"),t=ol.proj.identityTransform),t},ol.proj.identityTransform=function(e,o,t){if(goog.isDef(o)&&e!==o){goog.asserts.fail("This should not be used internally.");for(var r=0,n=e.length;n>r;++r)o[r]=e[r];e=o}return e},ol.proj.cloneTransform=function(e,o,t){var r;if(goog.isDef(o)){for(var n=0,i=e.length;i>n;++n)o[n]=e[n];r=o}else r=e.slice();return r},ol.proj.transform=function(e,o,t){var r=ol.proj.getTransform(o,t);return r(e,void 0,e.length)},ol.proj.transformExtent=function(e,o,t){var r=ol.proj.getTransform(o,t);return ol.extent.applyTransform(e,r)},ol.proj.transformWithProjections=function(e,o,t){var r=ol.proj.getTransformFromProjections(o,t);return r(e)},goog.provide("ol.geom.Geometry"),goog.provide("ol.geom.GeometryLayout"),goog.provide("ol.geom.GeometryType"),goog.require("goog.functions"),goog.require("ol.Object"),goog.require("ol.extent"),goog.require("ol.proj"),ol.geom.GeometryType={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},ol.geom.GeometryLayout={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"},ol.geom.Geometry=function(){goog.base(this),this.extent_=ol.extent.createEmpty(),this.extentRevision_=-1,this.simplifiedGeometryCache={},this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0},goog.inherits(ol.geom.Geometry,ol.Object),ol.geom.Geometry.prototype.clone=goog.abstractMethod,ol.geom.Geometry.prototype.closestPointXY=goog.abstractMethod,ol.geom.Geometry.prototype.getClosestPoint=function(e,o){var t=goog.isDef(o)?o:[0/0,0/0];return this.closestPointXY(e[0],e[1],t,1/0),t},ol.geom.Geometry.prototype.containsCoordinate=function(e){return this.containsXY(e[0],e[1])},ol.geom.Geometry.prototype.computeExtent=goog.abstractMethod,ol.geom.Geometry.prototype.containsXY=goog.functions.FALSE,ol.geom.Geometry.prototype.getExtent=function(e){return this.extentRevision_!=this.getRevision()&&(this.extent_=this.computeExtent(this.extent_),this.extentRevision_=this.getRevision()),ol.extent.returnOrUpdate(this.extent_,e)},ol.geom.Geometry.prototype.getSimplifiedGeometry=goog.abstractMethod,ol.geom.Geometry.prototype.getType=goog.abstractMethod,ol.geom.Geometry.prototype.applyTransform=goog.abstractMethod,ol.geom.Geometry.prototype.intersectsExtent=goog.abstractMethod,ol.geom.Geometry.prototype.translate=goog.abstractMethod,ol.geom.Geometry.prototype.transform=function(e,o){return this.applyTransform(ol.proj.getTransform(e,o)),this},goog.provide("ol.geom.flat.transform"),goog.require("goog.vec.Mat4"),ol.geom.flat.transform.transform2D=function(e,o,t,r,n,i){var a,s=goog.vec.Mat4.getElement(n,0,0),g=goog.vec.Mat4.getElement(n,1,0),l=goog.vec.Mat4.getElement(n,0,1),p=goog.vec.Mat4.getElement(n,1,1),u=goog.vec.Mat4.getElement(n,0,3),c=goog.vec.Mat4.getElement(n,1,3),d=goog.isDef(i)?i:[],h=0;for(a=o;t>a;a+=r){var m=e[a],y=e[a+1];d[h++]=s*m+l*y+u,d[h++]=g*m+p*y+c}return goog.isDef(i)&&d.length!=h&&(d.length=h),d},ol.geom.flat.transform.translate=function(e,o,t,r,n,i,a){var s,g,l=goog.isDef(a)?a:[],p=0;for(s=o;t>s;s+=r)for(l[p++]=e[s]+n,l[p++]=e[s+1]+i,g=s+2;s+r>g;++g)l[p++]=e[g];return goog.isDef(a)&&l.length!=p&&(l.length=p),l},goog.provide("ol.geom.SimpleGeometry"),goog.require("goog.asserts"),goog.require("goog.functions"),goog.require("goog.object"),goog.require("ol.extent"),goog.require("ol.geom.Geometry"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.flat.transform"),ol.geom.SimpleGeometry=function(){goog.base(this),this.layout=ol.geom.GeometryLayout.XY,this.stride=2,this.flatCoordinates=null},goog.inherits(ol.geom.SimpleGeometry,ol.geom.Geometry),ol.geom.SimpleGeometry.getLayoutForStride_=function(e){return 2==e?ol.geom.GeometryLayout.XY:3==e?ol.geom.GeometryLayout.XYZ:4==e?ol.geom.GeometryLayout.XYZM:void goog.asserts.fail("unsupported stride: "+e)},ol.geom.SimpleGeometry.getStrideForLayout=function(e){return e==ol.geom.GeometryLayout.XY?2:e==ol.geom.GeometryLayout.XYZ?3:e==ol.geom.GeometryLayout.XYM?3:e==ol.geom.GeometryLayout.XYZM?4:void goog.asserts.fail("unsupported layout: "+e)},ol.geom.SimpleGeometry.prototype.containsXY=goog.functions.FALSE,ol.geom.SimpleGeometry.prototype.computeExtent=function(e){return ol.extent.createOrUpdateFromFlatCoordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)},ol.geom.SimpleGeometry.prototype.getCoordinates=goog.abstractMethod,ol.geom.SimpleGeometry.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},ol.geom.SimpleGeometry.prototype.getFlatCoordinates=function(){return this.flatCoordinates},ol.geom.SimpleGeometry.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},ol.geom.SimpleGeometry.prototype.getLayout=function(){return this.layout},ol.geom.SimpleGeometry.prototype.getSimplifiedGeometry=function(e){if(this.simplifiedGeometryRevision!=this.getRevision()&&(goog.object.clear(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),0>e||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var o=e.toString();if(this.simplifiedGeometryCache.hasOwnProperty(o))return this.simplifiedGeometryCache[o];var t=this.getSimplifiedGeometryInternal(e),r=t.getFlatCoordinates();return r.length<this.flatCoordinates.length?(this.simplifiedGeometryCache[o]=t,t):(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)},ol.geom.SimpleGeometry.prototype.getSimplifiedGeometryInternal=function(e){return this},ol.geom.SimpleGeometry.prototype.getStride=function(){return this.stride},ol.geom.SimpleGeometry.prototype.setFlatCoordinatesInternal=function(e,o){this.stride=ol.geom.SimpleGeometry.getStrideForLayout(e),this.layout=e,this.flatCoordinates=o},ol.geom.SimpleGeometry.prototype.setCoordinates=goog.abstractMethod,ol.geom.SimpleGeometry.prototype.setLayout=function(e,o,t){var r;if(goog.isDef(e))r=ol.geom.SimpleGeometry.getStrideForLayout(e);else{var n;for(n=0;t>n;++n){if(0===o.length)return this.layout=ol.geom.GeometryLayout.XY,void(this.stride=2);o=o[0]}r=o.length,e=ol.geom.SimpleGeometry.getLayoutForStride_(r)}this.layout=e,this.stride=r},ol.geom.SimpleGeometry.prototype.applyTransform=function(e){goog.isNull(this.flatCoordinates)||(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},ol.geom.SimpleGeometry.prototype.translate=function(e,o){var t=this.getFlatCoordinates();if(!goog.isNull(t)){var r=this.getStride();ol.geom.flat.transform.translate(t,0,t.length,r,e,o,t),this.changed()}},ol.geom.transformSimpleGeometry2D=function(e,o,t){var r=e.getFlatCoordinates();if(goog.isNull(r))return null;var n=e.getStride();return ol.geom.flat.transform.transform2D(r,0,r.length,n,o,t)},goog.provide("ol.geom.flat.area"),ol.geom.flat.area.linearRing=function(e,o,t,r){for(var n=0,i=e[t-r],a=e[t-r+1];t>o;o+=r){var s=e[o],g=e[o+1];n+=a*s-i*g,i=s,a=g}return n/2},ol.geom.flat.area.linearRings=function(e,o,t,r){var n,i,a=0;for(n=0,i=t.length;i>n;++n){var s=t[n];a+=ol.geom.flat.area.linearRing(e,o,s,r),o=s}return a},ol.geom.flat.area.linearRingss=function(e,o,t,r){var n,i,a=0;for(n=0,i=t.length;i>n;++n){var s=t[n];a+=ol.geom.flat.area.linearRings(e,o,s,r),o=s[s.length-1]}return a},goog.provide("ol.math"),goog.require("goog.asserts"),ol.math.cosh=function(e){return(Math.exp(e)+Math.exp(-e))/2},ol.math.coth=function(e){var o=Math.exp(-2*e);return(1+o)/(1-o)},ol.math.csch=function(e){return 2/(Math.exp(e)-Math.exp(-e))},ol.math.roundUpToPowerOfTwo=function(e){return goog.asserts.assert(e>0,"x should be larger than 0"),Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},ol.math.sech=function(e){return 2/(Math.exp(e)+Math.exp(-e))},ol.math.sinh=function(e){return(Math.exp(e)-Math.exp(-e))/2},ol.math.squaredSegmentDistance=function(e,o,t,r,n,i){var a=n-t,s=i-r;if(0!==a||0!==s){var g=((e-t)*a+(o-r)*s)/(a*a+s*s);g>1?(t=n,r=i):g>0&&(t+=a*g,r+=s*g)}return ol.math.squaredDistance(e,o,t,r)},ol.math.squaredDistance=function(e,o,t,r){var n=t-e,i=r-o;return n*n+i*i},ol.math.tanh=function(e){var o=Math.exp(-2*e);return(1-o)/(1+o)},goog.provide("ol.geom.flat.closest"),goog.require("goog.asserts"),goog.require("goog.math"),goog.require("ol.math"),ol.geom.flat.closest.point=function(e,o,t,r,n,i,a){var s,g,l=e[o],p=e[o+1],u=e[t]-l,c=e[t+1]-p;if(0===u&&0===c)g=o;else{var d=((n-l)*u+(i-p)*c)/(u*u+c*c);if(d>1)g=t;else{if(d>0){for(s=0;r>s;++s)a[s]=goog.math.lerp(e[o+s],e[t+s],d);return void(a.length=r)}g=o}}for(s=0;r>s;++s)a[s]=e[g+s];a.length=r},ol.geom.flat.closest.getMaxSquaredDelta=function(e,o,t,r,n){var i=e[o],a=e[o+1];for(o+=r;t>o;o+=r){var s=e[o],g=e[o+1],l=ol.math.squaredDistance(i,a,s,g);l>n&&(n=l),i=s,a=g}return n},ol.geom.flat.closest.getsMaxSquaredDelta=function(e,o,t,r,n){var i,a;for(i=0,a=t.length;a>i;++i){var s=t[i];n=ol.geom.flat.closest.getMaxSquaredDelta(e,o,s,r,n),o=s}return n},ol.geom.flat.closest.getssMaxSquaredDelta=function(e,o,t,r,n){var i,a;for(i=0,a=t.length;a>i;++i){var s=t[i];n=ol.geom.flat.closest.getsMaxSquaredDelta(e,o,s,r,n),o=s[s.length-1]}return n},ol.geom.flat.closest.getClosestPoint=function(e,o,t,r,n,i,a,s,g,l,p){if(o==t)return l;var u,c;if(0===n){if(c=ol.math.squaredDistance(a,s,e[o],e[o+1]),l>c){for(u=0;r>u;++u)g[u]=e[o+u];return g.length=r,c}return l}goog.asserts.assert(n>0,"maxDelta should be larger than 0");for(var d=goog.isDef(p)?p:[0/0,0/0],h=o+r;t>h;)if(ol.geom.flat.closest.point(e,h-r,h,r,a,s,d),c=ol.math.squaredDistance(a,s,d[0],d[1]),l>c){for(l=c,u=0;r>u;++u)g[u]=d[u];g.length=r,h+=r}else h+=r*Math.max((Math.sqrt(c)-Math.sqrt(l))/n|0,1);if(i&&(ol.geom.flat.closest.point(e,t-r,o,r,a,s,d),c=ol.math.squaredDistance(a,s,d[0],d[1]),l>c)){for(l=c,u=0;r>u;++u)g[u]=d[u];g.length=r}return l},ol.geom.flat.closest.getsClosestPoint=function(e,o,t,r,n,i,a,s,g,l,p){var u,c,d=goog.isDef(p)?p:[0/0,0/0];for(u=0,c=t.length;c>u;++u){var h=t[u];l=ol.geom.flat.closest.getClosestPoint(e,o,h,r,n,i,a,s,g,l,d),o=h}return l},ol.geom.flat.closest.getssClosestPoint=function(e,o,t,r,n,i,a,s,g,l,p){var u,c,d=goog.isDef(p)?p:[0/0,0/0];for(u=0,c=t.length;c>u;++u){var h=t[u];l=ol.geom.flat.closest.getsClosestPoint(e,o,h,r,n,i,a,s,g,l,d),o=h[h.length-1]}return l},goog.provide("ol.geom.flat.deflate"),goog.require("goog.asserts"),ol.geom.flat.deflate.coordinate=function(e,o,t,r){goog.asserts.assert(t.length==r,"length of the coordinate array should match stride");var n,i;for(n=0,i=t.length;i>n;++n)e[o++]=t[n];return o},ol.geom.flat.deflate.coordinates=function(e,o,t,r){var n,i;for(n=0,i=t.length;i>n;++n){var a=t[n];goog.asserts.assert(a.length==r,"length of coordinate array should match stride");var s;for(s=0;r>s;++s)e[o++]=a[s]}return o},ol.geom.flat.deflate.coordinatess=function(e,o,t,r,n){var i,a,s=goog.isDef(n)?n:[],g=0;for(i=0,a=t.length;a>i;++i){var l=ol.geom.flat.deflate.coordinates(e,o,t[i],r);s[g++]=l,o=l}return s.length=g,s},ol.geom.flat.deflate.coordinatesss=function(e,o,t,r,n){var i,a,s=goog.isDef(n)?n:[],g=0;for(i=0,a=t.length;a>i;++i){var l=ol.geom.flat.deflate.coordinatess(e,o,t[i],r,s[g]);s[g++]=l,o=l[l.length-1]}return s.length=g,s},goog.provide("ol.geom.flat.inflate"),ol.geom.flat.inflate.coordinates=function(e,o,t,r,n){var i,a=goog.isDef(n)?n:[],s=0;for(i=o;t>i;i+=r)a[s++]=e.slice(i,i+r);return a.length=s,a},ol.geom.flat.inflate.coordinatess=function(e,o,t,r,n){var i,a,s=goog.isDef(n)?n:[],g=0;for(i=0,a=t.length;a>i;++i){var l=t[i];s[g++]=ol.geom.flat.inflate.coordinates(e,o,l,r,s[g]),o=l}return s.length=g,s},ol.geom.flat.inflate.coordinatesss=function(e,o,t,r,n){var i,a,s=goog.isDef(n)?n:[],g=0;for(i=0,a=t.length;a>i;++i){var l=t[i];s[g++]=ol.geom.flat.inflate.coordinatess(e,o,l,r,s[g]),o=l[l.length-1]}return s.length=g,s},goog.provide("ol.geom.flat.simplify"),goog.require("ol.math"),ol.geom.flat.simplify.lineString=function(e,o,t,r,n,i,a){var s=goog.isDef(a)?a:[];return i||(t=ol.geom.flat.simplify.radialDistance(e,o,t,r,n,s,0),e=s,o=0,r=2),s.length=ol.geom.flat.simplify.douglasPeucker(e,o,t,r,n,s,0),s},ol.geom.flat.simplify.douglasPeucker=function(e,o,t,r,n,i,a){var s=(t-o)/r;if(3>s){for(;t>o;o+=r)i[a++]=e[o],i[a++]=e[o+1];return a}var g=new Array(s);g[0]=1,g[s-1]=1;for(var l,p=[o,t-r],u=0;p.length>0;){var c=p.pop(),d=p.pop(),h=0,m=e[d],y=e[d+1],f=e[c],v=e[c+1];for(l=d+r;c>l;l+=r){var _=e[l],E=e[l+1],S=ol.math.squaredSegmentDistance(_,E,m,y,f,v);S>h&&(u=l,h=S)}h>n&&(g[(u-o)/r]=1,u>d+r&&p.push(d,u),c>u+r&&p.push(u,c))}for(l=0;s>l;++l)g[l]&&(i[a++]=e[o+l*r],i[a++]=e[o+l*r+1]);return a},ol.geom.flat.simplify.douglasPeuckers=function(e,o,t,r,n,i,a,s){var g,l;for(g=0,l=t.length;l>g;++g){var p=t[g];a=ol.geom.flat.simplify.douglasPeucker(e,o,p,r,n,i,a),s.push(a),o=p}return a},ol.geom.flat.simplify.douglasPeuckerss=function(e,o,t,r,n,i,a,s){var g,l;for(g=0,l=t.length;l>g;++g){var p=t[g],u=[];a=ol.geom.flat.simplify.douglasPeuckers(e,o,p,r,n,i,a,u),s.push(u),o=p[p.length-1]}return a},ol.geom.flat.simplify.radialDistance=function(e,o,t,r,n,i,a){if(o+r>=t){for(;t>o;o+=r)i[a++]=e[o],i[a++]=e[o+1];return a}var s=e[o],g=e[o+1];i[a++]=s,i[a++]=g;var l=s,p=g;for(o+=r;t>o;o+=r)l=e[o],p=e[o+1],ol.math.squaredDistance(s,g,l,p)>n&&(i[a++]=l,i[a++]=p,s=l,g=p);return(l!=s||p!=g)&&(i[a++]=l,i[a++]=p),a},ol.geom.flat.simplify.snap=function(e,o){return o*Math.round(e/o)},ol.geom.flat.simplify.quantize=function(e,o,t,r,n,i,a){if(o==t)return a;var s=ol.geom.flat.simplify.snap(e[o],n),g=ol.geom.flat.simplify.snap(e[o+1],n);o+=r,i[a++]=s,i[a++]=g;var l,p;do if(l=ol.geom.flat.simplify.snap(e[o],n),p=ol.geom.flat.simplify.snap(e[o+1],n),o+=r,o==t)return i[a++]=l,i[a++]=p,a;while(l==s&&p==g);for(;t>o;){var u,c;if(u=ol.geom.flat.simplify.snap(e[o],n),c=ol.geom.flat.simplify.snap(e[o+1],n),o+=r,u!=l||c!=p){var d=l-s,h=p-g,m=u-s,y=c-g;d*y==h*m&&(0>d&&d>m||d==m||d>0&&m>d)&&(0>h&&h>y||h==y||h>0&&y>h)?(l=u,p=c):(i[a++]=l,i[a++]=p,s=l,g=p,l=u,p=c)}}return i[a++]=l,i[a++]=p,a},ol.geom.flat.simplify.quantizes=function(e,o,t,r,n,i,a,s){var g,l;for(g=0,l=t.length;l>g;++g){var p=t[g];a=ol.geom.flat.simplify.quantize(e,o,p,r,n,i,a),s.push(a),o=p}return a},ol.geom.flat.simplify.quantizess=function(e,o,t,r,n,i,a,s){var g,l;for(g=0,l=t.length;l>g;++g){var p=t[g],u=[];a=ol.geom.flat.simplify.quantizes(e,o,p,r,n,i,a,u),s.push(u),o=p[p.length-1]}return a},goog.provide("ol.geom.LinearRing"),goog.require("ol.extent"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.SimpleGeometry"),goog.require("ol.geom.flat.area"),goog.require("ol.geom.flat.closest"),goog.require("ol.geom.flat.deflate"),goog.require("ol.geom.flat.inflate"),goog.require("ol.geom.flat.simplify"),ol.geom.LinearRing=function(e,o){goog.base(this),this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.setCoordinates(e,o)},goog.inherits(ol.geom.LinearRing,ol.geom.SimpleGeometry),ol.geom.LinearRing.prototype.clone=function(){var e=new ol.geom.LinearRing(null);return e.setFlatCoordinates(this.layout,this.flatCoordinates.slice()),e},ol.geom.LinearRing.prototype.closestPointXY=function(e,o,t,r){return r<ol.extent.closestSquaredDistanceXY(this.getExtent(),e,o)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ol.geom.flat.closest.getMaxSquaredDelta(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),ol.geom.flat.closest.getClosestPoint(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,o,t,r))},ol.geom.LinearRing.prototype.getArea=function(){return ol.geom.flat.area.linearRing(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},ol.geom.LinearRing.prototype.getCoordinates=function(){return ol.geom.flat.inflate.coordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},ol.geom.LinearRing.prototype.getSimplifiedGeometryInternal=function(e){var o=[];o.length=ol.geom.flat.simplify.douglasPeucker(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,o,0);var t=new ol.geom.LinearRing(null);return t.setFlatCoordinates(ol.geom.GeometryLayout.XY,o),t},ol.geom.LinearRing.prototype.getType=function(){return ol.geom.GeometryType.LINEAR_RING},ol.geom.LinearRing.prototype.setCoordinates=function(e,o){goog.isNull(e)?this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null):(this.setLayout(o,e,1),goog.isNull(this.flatCoordinates)&&(this.flatCoordinates=[]),this.flatCoordinates.length=ol.geom.flat.deflate.coordinates(this.flatCoordinates,0,e,this.stride),this.changed())},ol.geom.LinearRing.prototype.setFlatCoordinates=function(e,o){this.setFlatCoordinatesInternal(e,o),this.changed()},goog.provide("ol.geom.Point"),goog.require("ol.extent"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.SimpleGeometry"),goog.require("ol.geom.flat.deflate"),goog.require("ol.math"),ol.geom.Point=function(e,o){goog.base(this),this.setCoordinates(e,o)},goog.inherits(ol.geom.Point,ol.geom.SimpleGeometry),ol.geom.Point.prototype.clone=function(){var e=new ol.geom.Point(null);return e.setFlatCoordinates(this.layout,this.flatCoordinates.slice()),e},ol.geom.Point.prototype.closestPointXY=function(e,o,t,r){var n=this.flatCoordinates,i=ol.math.squaredDistance(e,o,n[0],n[1]);if(r>i){var a,s=this.stride;for(a=0;s>a;++a)t[a]=n[a];return t.length=s,i}return r},ol.geom.Point.prototype.getCoordinates=function(){return goog.isNull(this.flatCoordinates)?[]:this.flatCoordinates.slice()},ol.geom.Point.prototype.computeExtent=function(e){return ol.extent.createOrUpdateFromCoordinate(this.flatCoordinates,e)},ol.geom.Point.prototype.getType=function(){return ol.geom.GeometryType.POINT},ol.geom.Point.prototype.intersectsExtent=function(e){return ol.extent.containsXY(e,this.flatCoordinates[0],this.flatCoordinates[1])},ol.geom.Point.prototype.setCoordinates=function(e,o){goog.isNull(e)?this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null):(this.setLayout(o,e,0),goog.isNull(this.flatCoordinates)&&(this.flatCoordinates=[]),this.flatCoordinates.length=ol.geom.flat.deflate.coordinate(this.flatCoordinates,0,e,this.stride),this.changed())},ol.geom.Point.prototype.setFlatCoordinates=function(e,o){this.setFlatCoordinatesInternal(e,o),this.changed()},goog.provide("ol.geom.flat.contains"),goog.require("goog.asserts"),goog.require("ol.extent"),ol.geom.flat.contains.linearRingContainsExtent=function(e,o,t,r,n){var i=ol.extent.forEachCorner(n,function(n){return!ol.geom.flat.contains.linearRingContainsXY(e,o,t,r,n[0],n[1])});return!i},ol.geom.flat.contains.linearRingContainsXY=function(e,o,t,r,n,i){for(var a=!1,s=e[t-r],g=e[t-r+1];t>o;o+=r){var l=e[o],p=e[o+1],u=g>i!=p>i&&(l-s)*(i-g)/(p-g)+s>n;u&&(a=!a),s=l,g=p}return a},ol.geom.flat.contains.linearRingsContainsXY=function(e,o,t,r,n,i){if(goog.asserts.assert(t.length>0,"ends should not be an empty array"),0===t.length)return!1;if(!ol.geom.flat.contains.linearRingContainsXY(e,o,t[0],r,n,i))return!1;var a,s;for(a=1,s=t.length;s>a;++a)if(ol.geom.flat.contains.linearRingContainsXY(e,t[a-1],t[a],r,n,i))return!1;return!0},ol.geom.flat.contains.linearRingssContainsXY=function(e,o,t,r,n,i){if(goog.asserts.assert(t.length>0,"endss should not be an empty array"),0===t.length)return!1;var a,s;for(a=0,s=t.length;s>a;++a){var g=t[a];if(ol.geom.flat.contains.linearRingsContainsXY(e,o,g,r,n,i))return!0;o=g[g.length-1]}return!1},goog.provide("ol.geom.flat.interiorpoint"),goog.require("goog.asserts"),goog.require("ol.geom.flat.contains"),ol.geom.flat.interiorpoint.linearRings=function(e,o,t,r,n,i,a){var s,g,l,p,u,c,d,h=n[i+1],m=[],y=t[0];for(p=e[y-r],c=e[y-r+1],s=o;y>s;s+=r)u=e[s],d=e[s+1],(c>=h&&h>=d||h>=c&&d>=h)&&(l=(h-c)/(d-c)*(u-p)+p,m.push(l)),p=u,c=d;var f=0/0,v=-(1/0);for(m.sort(),p=m[0],s=1,g=m.length;g>s;++s){u=m[s];var _=Math.abs(u-p);_>v&&(l=(p+u)/2,ol.geom.flat.contains.linearRingsContainsXY(e,o,t,r,l,h)&&(f=l,v=_)),p=u}return isNaN(f)&&(f=n[i]),goog.isDef(a)?(a.push(f,h),a):[f,h]},ol.geom.flat.interiorpoint.linearRingss=function(e,o,t,r,n){goog.asserts.assert(2*t.length==n.length,"endss.length times 2 should be flatCenters.length");var i,a,s=[];for(i=0,a=t.length;a>i;++i){var g=t[i];s=ol.geom.flat.interiorpoint.linearRings(e,o,g,r,n,2*i,s),o=g[g.length-1]}return s},goog.provide("ol.geom.flat.segments"),ol.geom.flat.segments.forEach=function(e,o,t,r,n,i){for(var a,s=[e[o],e[o+1]],g=[];t>o+r;o+=r){if(g[0]=e[o+r],g[1]=e[o+r+1],a=n.call(i,s,g))return a;s[0]=g[0],s[1]=g[1]}return!1},goog.provide("ol.geom.flat.intersectsextent"),goog.require("goog.asserts"),goog.require("ol.extent"),goog.require("ol.geom.flat.contains"),goog.require("ol.geom.flat.segments"),ol.geom.flat.intersectsextent.lineString=function(e,o,t,r,n){var i=ol.extent.extendFlatCoordinates(ol.extent.createEmpty(),e,o,t,r);return ol.extent.intersects(n,i)?ol.extent.containsExtent(n,i)?!0:i[0]>=n[0]&&i[2]<=n[2]?!0:i[1]>=n[1]&&i[3]<=n[3]?!0:ol.geom.flat.segments.forEach(e,o,t,r,function(e,o){return ol.extent.intersectsSegment(n,e,o)}):!1},ol.geom.flat.intersectsextent.lineStrings=function(e,o,t,r,n){var i,a;for(i=0,a=t.length;a>i;++i){if(ol.geom.flat.intersectsextent.lineString(e,o,t[i],r,n))return!0;o=t[i]}return!1},ol.geom.flat.intersectsextent.linearRing=function(e,o,t,r,n){return ol.geom.flat.intersectsextent.lineString(e,o,t,r,n)?!0:ol.geom.flat.contains.linearRingContainsXY(e,o,t,r,n[0],n[1])?!0:ol.geom.flat.contains.linearRingContainsXY(e,o,t,r,n[0],n[3])?!0:ol.geom.flat.contains.linearRingContainsXY(e,o,t,r,n[2],n[1])?!0:ol.geom.flat.contains.linearRingContainsXY(e,o,t,r,n[2],n[3])?!0:!1},ol.geom.flat.intersectsextent.linearRings=function(e,o,t,r,n){if(goog.asserts.assert(t.length>0,"ends should not be an empty array"),!ol.geom.flat.intersectsextent.linearRing(e,o,t[0],r,n))return!1;if(1===t.length)return!0;var i,a;for(i=1,a=t.length;a>i;++i)if(ol.geom.flat.contains.linearRingContainsExtent(e,t[i-1],t[i],r,n))return!1;return!0},ol.geom.flat.intersectsextent.linearRingss=function(e,o,t,r,n){goog.asserts.assert(t.length>0,"endss should not be an empty array");var i,a;for(i=0,a=t.length;a>i;++i){var s=t[i];if(ol.geom.flat.intersectsextent.linearRings(e,o,s,r,n))return!0;o=s[s.length-1]}return!1},goog.provide("ol.geom.flat.reverse"),ol.geom.flat.reverse.coordinates=function(e,o,t,r){for(;t-r>o;){var n;for(n=0;r>n;++n){var i=e[o+n];e[o+n]=e[t-r+n],e[t-r+n]=i}o+=r,t-=r}},goog.provide("ol.geom.flat.orient"),goog.require("ol.geom.flat.reverse"),ol.geom.flat.orient.linearRingIsClockwise=function(e,o,t,r){for(var n=0,i=e[t-r],a=e[t-r+1];t>o;o+=r){var s=e[o],g=e[o+1];n+=(s-i)*(g+a),i=s,a=g}return n>0},ol.geom.flat.orient.linearRingsAreOriented=function(e,o,t,r,n){var i,a,s=goog.isDef(n)?n:!1;for(i=0,a=t.length;a>i;++i){var g=t[i],l=ol.geom.flat.orient.linearRingIsClockwise(e,o,g,r);if(0===i){if(s&&l||!s&&!l)return!1}else if(s&&!l||!s&&l)return!1;o=g}return!0},ol.geom.flat.orient.linearRingssAreOriented=function(e,o,t,r,n){var i,a;for(i=0,a=t.length;a>i;++i)if(!ol.geom.flat.orient.linearRingsAreOriented(e,o,t[i],r,n))return!1;return!0},ol.geom.flat.orient.orientLinearRings=function(e,o,t,r,n){var i,a,s=goog.isDef(n)?n:!1;for(i=0,a=t.length;a>i;++i){var g=t[i],l=ol.geom.flat.orient.linearRingIsClockwise(e,o,g,r),p=0===i?s&&l||!s&&!l:s&&!l||!s&&l;p&&ol.geom.flat.reverse.coordinates(e,o,g,r),o=g}return o},ol.geom.flat.orient.orientLinearRingss=function(e,o,t,r,n){var i,a;for(i=0,a=t.length;a>i;++i)o=ol.geom.flat.orient.orientLinearRings(e,o,t[i],r,n);return o},goog.provide("ol.geom.Polygon"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.math"),goog.require("ol.extent"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.LinearRing"),goog.require("ol.geom.Point"),goog.require("ol.geom.SimpleGeometry"),goog.require("ol.geom.flat.area"),goog.require("ol.geom.flat.closest"),goog.require("ol.geom.flat.contains"),goog.require("ol.geom.flat.deflate"),goog.require("ol.geom.flat.inflate"),goog.require("ol.geom.flat.interiorpoint"),goog.require("ol.geom.flat.intersectsextent"),goog.require("ol.geom.flat.orient"),goog.require("ol.geom.flat.simplify"),ol.geom.Polygon=function(e,o){goog.base(this),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,this.setCoordinates(e,o)},goog.inherits(ol.geom.Polygon,ol.geom.SimpleGeometry),ol.geom.Polygon.prototype.appendLinearRing=function(e){goog.asserts.assert(e.getLayout()==this.layout,"layout of linearRing should match layout"),goog.isNull(this.flatCoordinates)?this.flatCoordinates=e.getFlatCoordinates().slice():goog.array.extend(this.flatCoordinates,e.getFlatCoordinates()),this.ends_.push(this.flatCoordinates.length),this.changed()},ol.geom.Polygon.prototype.clone=function(){var e=new ol.geom.Polygon(null);return e.setFlatCoordinates(this.layout,this.flatCoordinates.slice(),this.ends_.slice()),e},ol.geom.Polygon.prototype.closestPointXY=function(e,o,t,r){return r<ol.extent.closestSquaredDistanceXY(this.getExtent(),e,o)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ol.geom.flat.closest.getsMaxSquaredDelta(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),ol.geom.flat.closest.getsClosestPoint(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,o,t,r))},ol.geom.Polygon.prototype.containsXY=function(e,o){return ol.geom.flat.contains.linearRingsContainsXY(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,o)},ol.geom.Polygon.prototype.getArea=function(){return ol.geom.flat.area.linearRings(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},ol.geom.Polygon.prototype.getCoordinates=function(e){var o;return goog.isDef(e)?(o=this.getOrientedFlatCoordinates().slice(),ol.geom.flat.orient.orientLinearRings(o,0,this.ends_,this.stride,e)):o=this.flatCoordinates,ol.geom.flat.inflate.coordinatess(o,0,this.ends_,this.stride)},ol.geom.Polygon.prototype.getEnds=function(){return this.ends_},ol.geom.Polygon.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var e=ol.extent.getCenter(this.getExtent());this.flatInteriorPoint_=ol.geom.flat.interiorpoint.linearRings(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},ol.geom.Polygon.prototype.getInteriorPoint=function(){return new ol.geom.Point(this.getFlatInteriorPoint())},ol.geom.Polygon.prototype.getLinearRingCount=function(){return this.ends_.length},ol.geom.Polygon.prototype.getLinearRing=function(e){if(goog.asserts.assert(e>=0&&e<this.ends_.length,"index should be in between 0 and and length of this.ends_"),0>e||this.ends_.length<=e)return null;var o=new ol.geom.LinearRing(null);return o.setFlatCoordinates(this.layout,this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e])),o},ol.geom.Polygon.prototype.getLinearRings=function(){var e,o,t=this.layout,r=this.flatCoordinates,n=this.ends_,i=[],a=0;for(e=0,o=n.length;o>e;++e){var s=n[e],g=new ol.geom.LinearRing(null);g.setFlatCoordinates(t,r.slice(a,s)),i.push(g),a=s}return i},ol.geom.Polygon.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var e=this.flatCoordinates;ol.geom.flat.orient.linearRingsAreOriented(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=ol.geom.flat.orient.orientLinearRings(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},ol.geom.Polygon.prototype.getSimplifiedGeometryInternal=function(e){var o=[],t=[];o.length=ol.geom.flat.simplify.quantizes(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),o,0,t);var r=new ol.geom.Polygon(null);return r.setFlatCoordinates(ol.geom.GeometryLayout.XY,o,t),r},ol.geom.Polygon.prototype.getType=function(){return ol.geom.GeometryType.POLYGON},ol.geom.Polygon.prototype.intersectsExtent=function(e){return ol.geom.flat.intersectsextent.linearRings(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)},ol.geom.Polygon.prototype.setCoordinates=function(e,o){if(goog.isNull(e))this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null,this.ends_);
else{this.setLayout(o,e,2),goog.isNull(this.flatCoordinates)&&(this.flatCoordinates=[]);var t=ol.geom.flat.deflate.coordinatess(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===t.length?0:t[t.length-1],this.changed()}},ol.geom.Polygon.prototype.setFlatCoordinates=function(e,o,t){goog.isNull(o)?goog.asserts.assert(!goog.isNull(t)&&0===t.length,"ends cannot be null and should be an empty array"):0===t.length?goog.asserts.assert(0===o.length,"flatCoordinates should be an empty array"):goog.asserts.assert(o.length==t[t.length-1],"the length of flatCoordinates should be the last entry of ends"),this.setFlatCoordinatesInternal(e,o),this.ends_=t,this.changed()},ol.geom.Polygon.circular=function(e,o,t,r){var n,i=goog.isDef(r)?r:32,a=[];for(n=0;i>n;++n)goog.array.extend(a,e.offset(o,t,2*Math.PI*n/i));a.push(a[0],a[1]);var s=new ol.geom.Polygon(null);return s.setFlatCoordinates(ol.geom.GeometryLayout.XY,a,[a.length]),s},ol.geom.Polygon.fromExtent=function(e){var o=e[0],t=e[1],r=e[2],n=e[3],i=[o,t,o,n,r,n,r,t,o,t],a=new ol.geom.Polygon(null);return a.setFlatCoordinates(ol.geom.GeometryLayout.XY,i,[i.length]),a},ol.geom.Polygon.fromCircle=function(e,o,t){var r=goog.isDef(o)?o:32,n=e.getStride(),i=e.getLayout(),a=new ol.geom.Polygon(null,i),s=goog.array.repeat(0,n*(r+1)),g=[s.length];return a.setFlatCoordinates(i,s,g),ol.geom.Polygon.makeRegular(a,e.getCenter(),e.getRadius(),t),a},ol.geom.Polygon.makeRegular=function(e,o,t,r){var n=e.getFlatCoordinates(),i=e.getLayout(),a=e.getStride(),s=e.getEnds();goog.asserts.assert(1===s.length,"only 1 ring is supported");for(var g,l,p=n.length/a-1,u=goog.isDef(r)?r:0,c=0;p>=c;++c)l=c*a,g=u+2*goog.math.modulo(c,p)*Math.PI/p,n[l]=o[0]+t*Math.cos(g),n[l+1]=o[1]+t*Math.sin(g);e.setFlatCoordinates(i,n,s)},goog.provide("ol.View"),goog.provide("ol.ViewHint"),goog.provide("ol.ViewProperty"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("ol"),goog.require("ol.CenterConstraint"),goog.require("ol.Constraints"),goog.require("ol.Object"),goog.require("ol.ResolutionConstraint"),goog.require("ol.RotationConstraint"),goog.require("ol.RotationConstraintType"),goog.require("ol.Size"),goog.require("ol.coordinate"),goog.require("ol.extent"),goog.require("ol.geom.Polygon"),goog.require("ol.geom.SimpleGeometry"),goog.require("ol.proj"),goog.require("ol.proj.METERS_PER_UNIT"),goog.require("ol.proj.Projection"),goog.require("ol.proj.Units"),ol.ViewProperty={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},ol.ViewHint={ANIMATING:0,INTERACTING:1},ol.View=function(e){goog.base(this);var o=goog.isDef(e)?e:{};this.hints_=[0,0];var t={};t[ol.ViewProperty.CENTER]=goog.isDef(o.center)?o.center:null,this.projection_=ol.proj.createProjection(o.projection,"EPSG:3857");var r=ol.View.createResolutionConstraint_(o);this.maxResolution_=r.maxResolution,this.minResolution_=r.minResolution,this.minZoom_=r.minZoom;var n=ol.View.createCenterConstraint_(o),i=r.constraint,a=ol.View.createRotationConstraint_(o);this.constraints_=new ol.Constraints(n,i,a),goog.isDef(o.resolution)?t[ol.ViewProperty.RESOLUTION]=o.resolution:goog.isDef(o.zoom)&&(t[ol.ViewProperty.RESOLUTION]=this.constrainResolution(this.maxResolution_,o.zoom-this.minZoom_)),t[ol.ViewProperty.ROTATION]=goog.isDef(o.rotation)?o.rotation:0,this.setProperties(t)},goog.inherits(ol.View,ol.Object),ol.View.prototype.calculateCenterRotate=function(e,o){var t,r=this.getCenter();return goog.isDef(r)&&(t=[r[0]-o[0],r[1]-o[1]],ol.coordinate.rotate(t,e-this.getRotation()),ol.coordinate.add(t,o)),t},ol.View.prototype.calculateCenterZoom=function(e,o){var t,r=this.getCenter(),n=this.getResolution();if(goog.isDef(r)&&goog.isDef(n)){var i=o[0]-e*(o[0]-r[0])/n,a=o[1]-e*(o[1]-r[1])/n;t=[i,a]}return t},ol.View.prototype.constrainCenter=function(e){return this.constraints_.center(e)},ol.View.prototype.constrainResolution=function(e,o,t){var r=o||0,n=t||0;return this.constraints_.resolution(e,r,n)},ol.View.prototype.constrainRotation=function(e,o){var t=o||0;return this.constraints_.rotation(e,t)},ol.View.prototype.getCenter=function(){return this.get(ol.ViewProperty.CENTER)},ol.View.prototype.getHints=function(){return this.hints_.slice()},ol.View.prototype.calculateExtent=function(e){var o=this.getCenter();goog.asserts.assert(goog.isDefAndNotNull(o),"The view center is not defined");var t=this.getResolution();goog.asserts.assert(goog.isDef(t),"The view resolution is not defined");var r=this.getRotation();return goog.asserts.assert(goog.isDef(r),"The view rotation is not defined"),ol.extent.getForViewAndSize(o,t,r,e)},ol.View.prototype.getProjection=function(){return this.projection_},ol.View.prototype.getResolution=function(){return this.get(ol.ViewProperty.RESOLUTION)},ol.View.prototype.getResolutionForExtent=function(e,o){var t=ol.extent.getWidth(e)/o[0],r=ol.extent.getHeight(e)/o[1];return Math.max(t,r)},ol.View.prototype.getResolutionForValueFunction=function(e){var o=e||2,t=this.maxResolution_,r=this.minResolution_,n=Math.log(t/r)/Math.log(o);return function(e){var i=t/Math.pow(o,e*n);return goog.asserts.assert(i>=r&&t>=i,"calculated resolution outside allowed bounds (%s <= %s <= %s)",r,i,t),i}},ol.View.prototype.getRotation=function(){return this.get(ol.ViewProperty.ROTATION)},ol.View.prototype.getValueForResolutionFunction=function(e){var o=e||2,t=this.maxResolution_,r=this.minResolution_,n=Math.log(t/r)/Math.log(o);return function(e){var r=Math.log(t/e)/Math.log(o)/n;return goog.asserts.assert(r>=0&&1>=r,"calculated value (%s) ouside allowed range (0-1)",r),r}},ol.View.prototype.getState=function(){goog.asserts.assert(this.isDef(),"the view was not defined (had no center and/or resolution)");var e=this.getCenter(),o=this.getProjection(),t=this.getResolution(),r=this.getRotation();return{center:e.slice(),projection:goog.isDef(o)?o:null,resolution:t,rotation:r}},ol.View.prototype.getZoom=function(){var e,o=this.getResolution();if(goog.isDef(o)){var t,r=0;do{if(t=this.constrainResolution(this.maxResolution_,r),t==o){e=r;break}++r}while(t>this.minResolution_)}return goog.isDef(e)?this.minZoom_+e:e},ol.View.prototype.fit=function(e,o,t){e instanceof ol.geom.SimpleGeometry||(goog.asserts.assert(goog.isArray(e),"invalid extent or geometry"),goog.asserts.assert(!ol.extent.isEmpty(e),"cannot fit empty extent"),e=ol.geom.Polygon.fromExtent(e));var r,n=goog.isDef(t)?t:{},i=goog.isDef(n.padding)?n.padding:[0,0,0,0],a=goog.isDef(n.constrainResolution)?n.constrainResolution:!0,s=goog.isDef(n.nearest)?n.nearest:!1;r=goog.isDef(n.minResolution)?n.minResolution:goog.isDef(n.maxZoom)?this.constrainResolution(this.maxResolution_,n.maxZoom-this.minZoom_,0):0;var g=e.getFlatCoordinates(),l=this.getRotation();goog.asserts.assert(goog.isDef(l),"rotation was not defined");for(var p=Math.cos(-l),u=Math.sin(-l),c=+(1/0),d=+(1/0),h=-(1/0),m=-(1/0),y=e.getStride(),f=0,v=g.length;v>f;f+=y){var _=g[f]*p-g[f+1]*u,E=g[f]*u+g[f+1]*p;c=Math.min(c,_),d=Math.min(d,E),h=Math.max(h,_),m=Math.max(m,E)}var S=this.getResolutionForExtent([c,d,h,m],[o[0]-i[1]-i[3],o[1]-i[0]-i[2]]);if(S=isNaN(S)?r:Math.max(S,r),a){var T=this.constrainResolution(S,0,0);!s&&S>T&&(T=this.constrainResolution(T,-1,0)),S=T}this.setResolution(S),u=-u;var x=(c+h)/2,b=(d+m)/2;x+=(i[1]-i[3])/2*S,b+=(i[0]-i[2])/2*S;var P=x*p-b*u,M=b*p+x*u;this.setCenter([P,M])},ol.View.prototype.centerOn=function(e,o,t){var r=this.getRotation(),n=Math.cos(-r),i=Math.sin(-r),a=e[0]*n-e[1]*i,s=e[1]*n+e[0]*i,g=this.getResolution();a+=(o[0]/2-t[0])*g,s+=(t[1]-o[1]/2)*g,i=-i;var l=a*n-s*i,p=s*n+a*i;this.setCenter([l,p])},ol.View.prototype.isDef=function(){return goog.isDefAndNotNull(this.getCenter())&&goog.isDef(this.getResolution())},ol.View.prototype.rotate=function(e,o){if(goog.isDef(o)){var t=this.calculateCenterRotate(e,o);this.setCenter(t)}this.setRotation(e)},ol.View.prototype.setCenter=function(e){this.set(ol.ViewProperty.CENTER,e)},ol.View.prototype.setHint=function(e,o){return goog.asserts.assert(e>=0&&e<this.hints_.length,"illegal hint (%s), must be between 0 and %s",e,this.hints_.length),this.hints_[e]+=o,goog.asserts.assert(this.hints_[e]>=0,"Hint at %s must be positive, was %s",e,this.hints_[e]),this.hints_[e]},ol.View.prototype.setResolution=function(e){this.set(ol.ViewProperty.RESOLUTION,e)},ol.View.prototype.setRotation=function(e){this.set(ol.ViewProperty.ROTATION,e)},ol.View.prototype.setZoom=function(e){var o=this.constrainResolution(this.maxResolution_,e-this.minZoom_,0);this.setResolution(o)},ol.View.createCenterConstraint_=function(e){return goog.isDef(e.extent)?ol.CenterConstraint.createExtent(e.extent):ol.CenterConstraint.none},ol.View.createResolutionConstraint_=function(e){var o,t,r,n=28,i=2,a=goog.isDef(e.minZoom)?e.minZoom:ol.DEFAULT_MIN_ZOOM,s=goog.isDef(e.maxZoom)?e.maxZoom:n,g=goog.isDef(e.zoomFactor)?e.zoomFactor:i;if(goog.isDef(e.resolutions)){var l=e.resolutions;t=l[0],r=l[l.length-1],o=ol.ResolutionConstraint.createSnapToResolutions(l)}else{var p=ol.proj.createProjection(e.projection,"EPSG:3857"),u=p.getExtent(),c=goog.isNull(u)?360*ol.proj.METERS_PER_UNIT[ol.proj.Units.DEGREES]/ol.proj.METERS_PER_UNIT[p.getUnits()]:Math.max(ol.extent.getWidth(u),ol.extent.getHeight(u)),d=c/ol.DEFAULT_TILE_SIZE/Math.pow(i,ol.DEFAULT_MIN_ZOOM),h=d/Math.pow(i,n-ol.DEFAULT_MIN_ZOOM);t=e.maxResolution,goog.isDef(t)?a=0:t=d/Math.pow(g,a),r=e.minResolution,goog.isDef(r)||(r=goog.isDef(e.maxZoom)?goog.isDef(e.maxResolution)?t/Math.pow(g,s):d/Math.pow(g,s):h),s=a+Math.floor(Math.log(t/r)/Math.log(g)),r=t/Math.pow(g,s-a),o=ol.ResolutionConstraint.createSnapToPower(g,t,s-a)}return{constraint:o,maxResolution:t,minResolution:r,minZoom:a}},ol.View.createRotationConstraint_=function(e){var o=goog.isDef(e.enableRotation)?e.enableRotation:!0;if(o){var t=e.constrainRotation;return goog.isDef(t)&&t!==!0?t===!1?ol.RotationConstraint.none:goog.isNumber(t)?ol.RotationConstraint.createSnapToN(t):(goog.asserts.fail("illegal option for constrainRotation (%s)",t),ol.RotationConstraint.none):ol.RotationConstraint.createSnapToZero()}return ol.RotationConstraint.disable},goog.provide("goog.fx.easing"),goog.fx.easing.easeIn=function(e){return goog.fx.easing.easeInInternal_(e,3)},goog.fx.easing.easeInInternal_=function(e,o){return Math.pow(e,o)},goog.fx.easing.easeOut=function(e){return goog.fx.easing.easeOutInternal_(e,3)},goog.fx.easing.easeOutInternal_=function(e,o){return 1-goog.fx.easing.easeInInternal_(1-e,o)},goog.fx.easing.easeOutLong=function(e){return goog.fx.easing.easeOutInternal_(e,4)},goog.fx.easing.inAndOut=function(e){return 3*e*e-2*e*e*e},goog.provide("ol.easing"),goog.require("goog.fx.easing"),ol.easing.easeIn=goog.fx.easing.easeIn,ol.easing.easeOut=goog.fx.easing.easeOut,ol.easing.inAndOut=goog.fx.easing.inAndOut,ol.easing.linear=function(e){return e},ol.easing.upAndDown=function(e){return.5>e?ol.easing.inAndOut(2*e):1-ol.easing.inAndOut(2*(e-.5))},goog.provide("ol.animation"),goog.require("ol.PreRenderFunction"),goog.require("ol.ViewHint"),goog.require("ol.coordinate"),goog.require("ol.easing"),ol.animation.bounce=function(e){var o=e.resolution,t=goog.isDef(e.start)?e.start:goog.now(),r=goog.isDef(e.duration)?e.duration:1e3,n=goog.isDef(e.easing)?e.easing:ol.easing.upAndDown;return function(e,i){if(i.time<t)return i.animate=!0,i.viewHints[ol.ViewHint.ANIMATING]+=1,!0;if(i.time<t+r){var a=n((i.time-t)/r),s=o-i.viewState.resolution;return i.animate=!0,i.viewState.resolution+=a*s,i.viewHints[ol.ViewHint.ANIMATING]+=1,!0}return!1}},ol.animation.pan=function(e){var o=e.source,t=goog.isDef(e.start)?e.start:goog.now(),r=o[0],n=o[1],i=goog.isDef(e.duration)?e.duration:1e3,a=goog.isDef(e.easing)?e.easing:ol.easing.inAndOut;return function(e,o){if(o.time<t)return o.animate=!0,o.viewHints[ol.ViewHint.ANIMATING]+=1,!0;if(o.time<t+i){var s=1-a((o.time-t)/i),g=r-o.viewState.center[0],l=n-o.viewState.center[1];return o.animate=!0,o.viewState.center[0]+=s*g,o.viewState.center[1]+=s*l,o.viewHints[ol.ViewHint.ANIMATING]+=1,!0}return!1}},ol.animation.rotate=function(e){var o=goog.isDef(e.rotation)?e.rotation:0,t=goog.isDef(e.start)?e.start:goog.now(),r=goog.isDef(e.duration)?e.duration:1e3,n=goog.isDef(e.easing)?e.easing:ol.easing.inAndOut,i=goog.isDef(e.anchor)?e.anchor:null;return function(e,a){if(a.time<t)return a.animate=!0,a.viewHints[ol.ViewHint.ANIMATING]+=1,!0;if(a.time<t+r){var s=1-n((a.time-t)/r),g=(o-a.viewState.rotation)*s;if(a.animate=!0,a.viewState.rotation+=g,!goog.isNull(i)){var l=a.viewState.center;ol.coordinate.sub(l,i),ol.coordinate.rotate(l,g),ol.coordinate.add(l,i)}return a.viewHints[ol.ViewHint.ANIMATING]+=1,!0}return!1}},ol.animation.zoom=function(e){var o=e.resolution,t=goog.isDef(e.start)?e.start:goog.now(),r=goog.isDef(e.duration)?e.duration:1e3,n=goog.isDef(e.easing)?e.easing:ol.easing.inAndOut;return function(e,i){if(i.time<t)return i.animate=!0,i.viewHints[ol.ViewHint.ANIMATING]+=1,!0;if(i.time<t+r){var a=1-n((i.time-t)/r),s=o-i.viewState.resolution;return i.animate=!0,i.viewState.resolution+=a*s,i.viewHints[ol.ViewHint.ANIMATING]+=1,!0}return!1}},goog.provide("ol.TileCoord"),goog.provide("ol.tilecoord"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("ol.extent"),ol.TileCoord,ol.QuadKeyCharCode={ZERO:"0".charCodeAt(0),ONE:"1".charCodeAt(0),TWO:"2".charCodeAt(0),THREE:"3".charCodeAt(0)},ol.tilecoord.createFromString=function(e){var o=e.split("/");return goog.asserts.assert(3===o.length,'must provide a string in "z/x/y" format, got "%s"',e),o=goog.array.map(o,function(e,o,t){return parseInt(e,10)})},ol.tilecoord.createOrUpdate=function(e,o,t,r){return goog.isDef(r)?(r[0]=e,r[1]=o,r[2]=t,r):[e,o,t]},ol.tilecoord.getKeyZXY=function(e,o,t){return e+"/"+o+"/"+t},ol.tilecoord.hash=function(e){return(e[1]<<e[0])+e[2]},ol.tilecoord.quadKey=function(e){var o,t,r=e[0],n=new Array(r),i=1<<r-1;for(o=0;r>o;++o)t=ol.QuadKeyCharCode.ZERO,e[1]&i&&(t+=1),e[2]&i&&(t+=2),n[o]=String.fromCharCode(t),i>>=1;return n.join("")},ol.tilecoord.toString=function(e){return ol.tilecoord.getKeyZXY(e[0],e[1],e[2])},ol.tilecoord.wrapX=function(e,o,t){var r=e[0],n=o.getTileCoordCenter(e),i=ol.tilegrid.extentFromProjection(t);if(ol.extent.containsCoordinate(i,n))return e;var a=ol.extent.getWidth(i),s=Math.ceil((i[0]-n[0])/a);return n[0]+=a*s,o.getTileCoordForCoordAndZ(n,r)},ol.tilecoord.withinExtentAndZ=function(e,o){var t=e[0],r=e[1],n=e[2];if(o.getMinZoom()>t||t>o.getMaxZoom())return!1;var i,a=o.getExtent();return i=goog.isNull(a)?o.getFullTileRange(t):o.getTileRangeForExtentAndZ(a,t),goog.isNull(i)?!0:i.containsXY(r,n)},goog.provide("ol.TileRange"),goog.require("goog.asserts"),goog.require("ol.Size"),goog.require("ol.TileCoord"),ol.TileRange=function(e,o,t,r){this.minX=e,this.maxX=o,this.minY=t,this.maxY=r},ol.TileRange.boundingTileRange=function(e){var o,t,r,n,i,a,s=arguments[0],g=s[0],l=s[1],p=s[2],u=new ol.TileRange(l,l,p,p);for(o=1,t=arguments.length;t>o;++o)r=arguments[o],a=r[0],n=r[1],i=r[2],goog.asserts.assert(a==g,"passed tilecoords all have the same Z-value"),u.minX=Math.min(u.minX,n),u.maxX=Math.max(u.maxX,n),u.minY=Math.min(u.minY,i),u.maxY=Math.max(u.maxY,i);return u},ol.TileRange.createOrUpdate=function(e,o,t,r,n){return goog.isDef(n)?(n.minX=e,n.maxX=o,n.minY=t,n.maxY=r,n):new ol.TileRange(e,o,t,r)},ol.TileRange.prototype.contains=function(e){return this.containsXY(e[1],e[2])},ol.TileRange.prototype.containsTileRange=function(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY},ol.TileRange.prototype.containsXY=function(e,o){return this.minX<=e&&e<=this.maxX&&this.minY<=o&&o<=this.maxY},ol.TileRange.prototype.equals=function(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY},ol.TileRange.prototype.extend=function(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)},ol.TileRange.prototype.getHeight=function(){return this.maxY-this.minY+1},ol.TileRange.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},ol.TileRange.prototype.getWidth=function(){return this.maxX-this.minX+1},ol.TileRange.prototype.intersects=function(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY},goog.provide("ol.Attribution"),goog.require("goog.asserts"),goog.require("goog.math"),goog.require("ol.TileRange"),ol.Attribution=function(e){this.html_=e.html,this.tileRanges_=goog.isDef(e.tileRanges)?e.tileRanges:null},ol.Attribution.prototype.getHTML=function(){return this.html_},ol.Attribution.prototype.intersectsAnyTileRange=function(e,o,t){if(goog.isNull(this.tileRanges_))return!0;var r,n,i,a;for(a in e)if(a in this.tileRanges_){i=e[a];var s;for(r=0,n=this.tileRanges_[a].length;n>r;++r){if(s=this.tileRanges_[a][r],s.intersects(i))return!0;var g=o.getTileRangeForExtentAndZ(t.getExtent(),parseInt(a,10)),l=g.getWidth();if(i.minX<g.minX||i.maxX>g.maxX){if(s.intersects(new ol.TileRange(goog.math.modulo(i.minX,l),goog.math.modulo(i.maxX,l),i.minY,i.maxY)))return!0;if(i.getWidth()>l&&s.intersects(g))return!0}}}return!1},goog.provide("ol.CanvasFunctionType"),ol.CanvasFunctionType,goog.provide("ol.Collection"),goog.provide("ol.CollectionEvent"),goog.provide("ol.CollectionEventType"),goog.require("goog.array"),goog.require("goog.events.Event"),goog.require("ol.Object"),ol.CollectionEventType={ADD:"add",REMOVE:"remove"},ol.CollectionEvent=function(e,o,t){goog.base(this,e,t),this.element=o},goog.inherits(ol.CollectionEvent,goog.events.Event),ol.CollectionProperty={LENGTH:"length"},ol.Collection=function(e){goog.base(this),this.array_=goog.isDef(e)?e:[],this.updateLength_()},goog.inherits(ol.Collection,ol.Object),ol.Collection.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},ol.Collection.prototype.extend=function(e){var o,t;for(o=0,t=e.length;t>o;++o)this.push(e[o]);return this},ol.Collection.prototype.forEach=function(e,o){goog.array.forEach(this.array_,e,o)},ol.Collection.prototype.getArray=function(){return this.array_},ol.Collection.prototype.item=function(e){return this.array_[e]},ol.Collection.prototype.getLength=function(){return this.get(ol.CollectionProperty.LENGTH)},ol.Collection.prototype.insertAt=function(e,o){goog.array.insertAt(this.array_,o,e),this.updateLength_(),this.dispatchEvent(new ol.CollectionEvent(ol.CollectionEventType.ADD,o,this))},ol.Collection.prototype.pop=function(){return this.removeAt(this.getLength()-1)},ol.Collection.prototype.push=function(e){var o=this.array_.length;return this.insertAt(o,e),o},ol.Collection.prototype.remove=function(e){var o,t,r=this.array_;for(o=0,t=r.length;t>o;++o)if(r[o]===e)return this.removeAt(o);return void 0},ol.Collection.prototype.removeAt=function(e){var o=this.array_[e];return goog.array.removeAt(this.array_,e),this.updateLength_(),this.dispatchEvent(new ol.CollectionEvent(ol.CollectionEventType.REMOVE,o,this)),o},ol.Collection.prototype.setAt=function(e,o){var t=this.getLength();if(t>e){var r=this.array_[e];this.array_[e]=o,this.dispatchEvent(new ol.CollectionEvent(ol.CollectionEventType.REMOVE,r,this)),this.dispatchEvent(new ol.CollectionEvent(ol.CollectionEventType.ADD,o,this))}else{var n;for(n=t;e>n;++n)this.insertAt(n,void 0);this.insertAt(e,o)}},ol.Collection.prototype.updateLength_=function(){this.set(ol.CollectionProperty.LENGTH,this.array_.length)},goog.provide("goog.color.names"),goog.color.names={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},goog.provide("goog.color"),goog.provide("goog.color.Hsl"),goog.provide("goog.color.Hsv"),goog.provide("goog.color.Rgb"),goog.require("goog.color.names"),goog.require("goog.math"),goog.color.Rgb,goog.color.Hsv,goog.color.Hsl,goog.color.parse=function(e){var o={};e=String(e);var t=goog.color.prependHashIfNecessaryHelper(e);if(goog.color.isValidHexColor_(t))return o.hex=goog.color.normalizeHex(t),o.type="hex",o;var r=goog.color.isValidRgbColor_(e);if(r.length)return o.hex=goog.color.rgbArrayToHex(r),o.type="rgb",o;if(goog.color.names){var n=goog.color.names[e.toLowerCase()];if(n)return o.hex=n,o.type="named",o}throw Error(e+" is not a valid color string")},goog.color.isValidColor=function(e){var o=goog.color.prependHashIfNecessaryHelper(e);return!!(goog.color.isValidHexColor_(o)||goog.color.isValidRgbColor_(e).length||goog.color.names&&goog.color.names[e.toLowerCase()])},goog.color.parseRgb=function(e){var o=goog.color.isValidRgbColor_(e);if(!o.length)throw Error(e+" is not a valid RGB color");return o},goog.color.hexToRgbStyle=function(e){return goog.color.rgbStyle_(goog.color.hexToRgb(e))},goog.color.hexTripletRe_=/#(.)(.)(.)/,goog.color.normalizeHex=function(e){if(!goog.color.isValidHexColor_(e))throw Error("'"+e+"' is not a valid hex color");return 4==e.length&&(e=e.replace(goog.color.hexTripletRe_,"#$1$1$2$2$3$3")),e.toLowerCase()},goog.color.hexToRgb=function(e){e=goog.color.normalizeHex(e);var o=parseInt(e.substr(1,2),16),t=parseInt(e.substr(3,2),16),r=parseInt(e.substr(5,2),16);return[o,t,r]},goog.color.rgbToHex=function(e,o,t){if(e=Number(e),o=Number(o),t=Number(t),isNaN(e)||0>e||e>255||isNaN(o)||0>o||o>255||isNaN(t)||0>t||t>255)throw Error('"('+e+","+o+","+t+'") is not a valid RGB color');var r=goog.color.prependZeroIfNecessaryHelper(e.toString(16)),n=goog.color.prependZeroIfNecessaryHelper(o.toString(16)),i=goog.color.prependZeroIfNecessaryHelper(t.toString(16));return"#"+r+n+i},goog.color.rgbArrayToHex=function(e){return goog.color.rgbToHex(e[0],e[1],e[2])},goog.color.rgbToHsl=function(e,o,t){var r=e/255,n=o/255,i=t/255,a=Math.max(r,n,i),s=Math.min(r,n,i),g=0,l=0,p=.5*(a+s);return a!=s&&(a==r?g=60*(n-i)/(a-s):a==n?g=60*(i-r)/(a-s)+120:a==i&&(g=60*(r-n)/(a-s)+240),l=p>0&&.5>=p?(a-s)/(2*p):(a-s)/(2-2*p)),[Math.round(g+360)%360,l,p]},goog.color.rgbArrayToHsl=function(e){return goog.color.rgbToHsl(e[0],e[1],e[2])},goog.color.hueToRgb_=function(e,o,t){return 0>t?t+=1:t>1&&(t-=1),1>6*t?e+6*(o-e)*t:1>2*t?o:2>3*t?e+(o-e)*(2/3-t)*6:e},goog.color.hslToRgb=function(e,o,t){var r=0,n=0,i=0,a=e/360;if(0==o)r=n=i=255*t;else{var s=0,g=0;g=.5>t?t*(1+o):t+o-o*t,s=2*t-g,r=255*goog.color.hueToRgb_(s,g,a+1/3),n=255*goog.color.hueToRgb_(s,g,a),i=255*goog.color.hueToRgb_(s,g,a-1/3)}return[Math.round(r),Math.round(n),Math.round(i)]},goog.color.hslArrayToRgb=function(e){return goog.color.hslToRgb(e[0],e[1],e[2])},goog.color.validHexColorRe_=/^#(?:[0-9a-f]{3}){1,2}$/i,goog.color.isValidHexColor_=function(e){return goog.color.validHexColorRe_.test(e)},goog.color.normalizedHexColorRe_=/^#[0-9a-f]{6}$/,goog.color.isNormalizedHexColor_=function(e){return goog.color.normalizedHexColorRe_.test(e)},goog.color.rgbColorRe_=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i,goog.color.isValidRgbColor_=function(e){var o=e.match(goog.color.rgbColorRe_);if(o){var t=Number(o[1]),r=Number(o[2]),n=Number(o[3]);if(t>=0&&255>=t&&r>=0&&255>=r&&n>=0&&255>=n)return[t,r,n]}return[]},goog.color.prependZeroIfNecessaryHelper=function(e){return 1==e.length?"0"+e:e},goog.color.prependHashIfNecessaryHelper=function(e){return"#"==e.charAt(0)?e:"#"+e},goog.color.rgbStyle_=function(e){return"rgb("+e.join(",")+")"},goog.color.hsvToRgb=function(e,o,t){var r=0,n=0,i=0;if(0==o)r=t,n=t,i=t;else{var a=Math.floor(e/60),s=e/60-a,g=t*(1-o),l=t*(1-o*s),p=t*(1-o*(1-s));switch(a){case 1:r=l,n=t,i=g;break;case 2:r=g,n=t,i=p;break;case 3:r=g,n=l,i=t;break;case 4:r=p,n=g,i=t;break;case 5:r=t,n=g,i=l;break;case 6:case 0:r=t,n=p,i=g}}return[Math.floor(r),Math.floor(n),Math.floor(i)]},goog.color.rgbToHsv=function(e,o,t){var r,n,i=Math.max(Math.max(e,o),t),a=Math.min(Math.min(e,o),t),s=i;if(a==i)r=0,n=0;else{var g=i-a;n=g/i,r=e==i?(o-t)/g:o==i?2+(t-e)/g:4+(e-o)/g,r*=60,0>r&&(r+=360),r>360&&(r-=360)}return[r,n,s]},goog.color.rgbArrayToHsv=function(e){return goog.color.rgbToHsv(e[0],e[1],e[2])},goog.color.hsvArrayToRgb=function(e){return goog.color.hsvToRgb(e[0],e[1],e[2])},goog.color.hexToHsl=function(e){var o=goog.color.hexToRgb(e);return goog.color.rgbToHsl(o[0],o[1],o[2])},goog.color.hslToHex=function(e,o,t){return goog.color.rgbArrayToHex(goog.color.hslToRgb(e,o,t))},goog.color.hslArrayToHex=function(e){return goog.color.rgbArrayToHex(goog.color.hslToRgb(e[0],e[1],e[2]))},goog.color.hexToHsv=function(e){return goog.color.rgbArrayToHsv(goog.color.hexToRgb(e))},goog.color.hsvToHex=function(e,o,t){return goog.color.rgbArrayToHex(goog.color.hsvToRgb(e,o,t))},goog.color.hsvArrayToHex=function(e){return goog.color.hsvToHex(e[0],e[1],e[2])},goog.color.hslDistance=function(e,o){var t,r;t=e[2]<=.5?e[1]*e[2]:e[1]*(1-e[2]),r=o[2]<=.5?o[1]*o[2]:o[1]*(1-o[2]);var n=e[0]/360,i=o[0]/360,a=2*(n-i)*Math.PI;return(e[2]-o[2])*(e[2]-o[2])+t*t+r*r-2*t*r*Math.cos(a)},goog.color.blend=function(e,o,t){return t=goog.math.clamp(t,0,1),[Math.round(t*e[0]+(1-t)*o[0]),Math.round(t*e[1]+(1-t)*o[1]),Math.round(t*e[2]+(1-t)*o[2])]},goog.color.darken=function(e,o){var t=[0,0,0];return goog.color.blend(t,e,o)},goog.color.lighten=function(e,o){var t=[255,255,255];return goog.color.blend(t,e,o)},goog.color.highContrast=function(e,o){for(var t=[],r=0;r<o.length;r++)t.push({color:o[r],diff:goog.color.yiqBrightnessDiff_(o[r],e)+goog.color.colorDiff_(o[r],e)});return t.sort(function(e,o){return o.diff-e.diff}),t[0].color},goog.color.yiqBrightness_=function(e){return Math.round((299*e[0]+587*e[1]+114*e[2])/1e3)},goog.color.yiqBrightnessDiff_=function(e,o){return Math.abs(goog.color.yiqBrightness_(e)-goog.color.yiqBrightness_(o))},goog.color.colorDiff_=function(e,o){return Math.abs(e[0]-o[0])+Math.abs(e[1]-o[1])+Math.abs(e[2]-o[2])},goog.provide("ol.Color"),goog.provide("ol.color"),goog.require("goog.asserts"),goog.require("goog.color"),goog.require("goog.color.names"),goog.require("goog.math"),goog.require("goog.vec.Mat4"),goog.require("ol"),ol.Color,ol.color.hexColorRe_=/^#(?:[0-9a-f]{3}){1,2}$/i,ol.color.rgbColorRe_=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i,ol.color.rgbaColorRe_=/^(?:rgba)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|1|0\.\d{0,10})\)$/i,ol.color.blend=function(e,o,t){var r=goog.isDef(t)?t:[],n=e[3],i=o[3];if(1==n)r[0]=o[0]*i+e[0]*(1-i)+.5|0,r[1]=o[1]*i+e[1]*(1-i)+.5|0,r[2]=o[2]*i+e[2]*(1-i)+.5|0,r[3]=1;else if(0===i)r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=n;else{var a=i+n*(1-i);0===a?(r[0]=0,r[1]=0,r[2]=0,r[3]=0):(r[0]=(o[0]*i+e[0]*n*(1-i))/a+.5|0,r[1]=(o[1]*i+e[1]*n*(1-i))/a+.5|0,r[2]=(o[2]*i+e[2]*n*(1-i))/a+.5|0,r[3]=a)}return goog.asserts.assert(ol.color.isValid(r),"Output color of blend should be a valid color"),r},ol.color.asArray=function(e){return goog.isArray(e)?e:(goog.asserts.assert(goog.isString(e),"Color should be a string"),ol.color.fromString(e))},ol.color.asString=function(e){return goog.isString(e)?e:(goog.asserts.assert(goog.isArray(e),"Color should be an array"),ol.color.toString(e))},ol.color.equals=function(e,o){return e===o||e[0]==o[0]&&e[1]==o[1]&&e[2]==o[2]&&e[3]==o[3]},ol.color.fromString=function(){var e=1024,o={},t=0;return function(r){var n;if(o.hasOwnProperty(r))n=o[r];else{if(t>=e){var i,a=0;for(i in o)0===(3&a++)&&(delete o[i],--t)}n=ol.color.fromStringInternal_(r),o[r]=n,++t}return n}}(),ol.color.fromStringInternal_=function(e){var o=!1;ol.ENABLE_NAMED_COLORS&&goog.color.names.hasOwnProperty(e)&&(e=goog.color.names[e],o=!0);var t,r,n,i,a,s;if(o||(s=ol.color.hexColorRe_.exec(e))){var g=e.length-1;goog.asserts.assert(3==g||6==g,"Color string length should be 3 or 6");var l=3==g?1:2;return t=parseInt(e.substr(1+0*l,l),16),r=parseInt(e.substr(1+1*l,l),16),n=parseInt(e.substr(1+2*l,l),16),1==l&&(t=(t<<4)+t,r=(r<<4)+r,n=(n<<4)+n),i=1,a=[t,r,n,i],goog.asserts.assert(ol.color.isValid(a),"Color should be a valid color"),a}return(s=ol.color.rgbaColorRe_.exec(e))?(t=Number(s[1]),r=Number(s[2]),n=Number(s[3]),i=Number(s[4]),a=[t,r,n,i],ol.color.normalize(a,a)):(s=ol.color.rgbColorRe_.exec(e))?(t=Number(s[1]),r=Number(s[2]),n=Number(s[3]),a=[t,r,n,1],ol.color.normalize(a,a)):void goog.asserts.fail(e+" is not a valid color")},ol.color.isValid=function(e){return 0<=e[0]&&e[0]<256&&0<=e[1]&&e[1]<256&&0<=e[2]&&e[2]<256&&0<=e[3]&&e[3]<=1},ol.color.normalize=function(e,o){var t=goog.isDef(o)?o:[];return t[0]=goog.math.clamp(e[0]+.5|0,0,255),t[1]=goog.math.clamp(e[1]+.5|0,0,255),t[2]=goog.math.clamp(e[2]+.5|0,0,255),t[3]=goog.math.clamp(e[3],0,1),t},ol.color.toString=function(e){var o=e[0];o!=(0|o)&&(o=o+.5|0);var t=e[1];t!=(0|t)&&(t=t+.5|0);var r=e[2];r!=(0|r)&&(r=r+.5|0);var n=e[3];return"rgba("+o+","+t+","+r+","+n+")"},ol.color.transform=function(e,o,t){var r=goog.isDef(t)?t:[];return r=goog.vec.Mat4.multVec3(o,e,r),goog.asserts.assert(goog.isArray(r),"result should be an array"),r[3]=e[3],ol.color.normalize(r,r)},ol.color.stringOrColorEquals=function(e,o){return e===o||e==o?!0:(goog.isString(e)&&(e=ol.color.fromString(e)),goog.isString(o)&&(o=ol.color.fromString(o)),ol.color.equals(e,o))},goog.provide("ol.color.Matrix"),goog.require("goog.vec.Mat4"),ol.color.Matrix=function(){this.colorMatrix_=goog.vec.Mat4.createNumber(),this.brightness_=void 0,this.brightnessMatrix_=goog.vec.Mat4.createNumber(),this.contrast_=void 0,this.contrastMatrix_=goog.vec.Mat4.createNumber(),this.hue_=void 0,this.hueMatrix_=goog.vec.Mat4.createNumber(),this.saturation_=void 0,
this.saturationMatrix_=goog.vec.Mat4.createNumber()},ol.color.Matrix.makeBrightness=function(e,o){return goog.vec.Mat4.makeTranslate(e,o,o,o),e},ol.color.Matrix.makeContrast=function(e,o){goog.vec.Mat4.makeScale(e,o,o,o);var t=-.5*o+.5;return goog.vec.Mat4.setColumnValues(e,3,t,t,t,1),e},ol.color.Matrix.makeHue=function(e,o){var t=Math.cos(o),r=Math.sin(o),n=.213+.787*t-.213*r,i=.715-.715*t-.715*r,a=.072-.072*t+.928*r,s=0,g=.213-.213*t+.143*r,l=.715+.285*t+.14*r,p=.072-.072*t-.283*r,u=0,c=.213-.213*t-.787*r,d=.715-.715*t+.715*r,h=.072+.928*t+.072*r,m=0,y=0,f=0,v=0,_=1;return goog.vec.Mat4.setFromValues(e,n,g,c,y,i,l,d,f,a,p,h,v,s,u,m,_),e},ol.color.Matrix.makeSaturation=function(e,o){var t=.213+.787*o,r=.715-.715*o,n=.072-.072*o,i=0,a=.213-.213*o,s=.715+.285*o,g=.072-.072*o,l=0,p=.213-.213*o,u=.715-.715*o,c=.072+.928*o,d=0,h=0,m=0,y=0,f=1;return goog.vec.Mat4.setFromValues(e,t,a,p,h,r,s,u,m,n,g,c,y,i,l,d,f),e},ol.color.Matrix.prototype.getMatrix=function(e,o,t,r){var n=!1;if(goog.isDef(e)&&e!==this.brightness_&&(ol.color.Matrix.makeBrightness(this.brightnessMatrix_,e),this.brightness_=e,n=!0),goog.isDef(o)&&o!==this.contrast_&&(ol.color.Matrix.makeContrast(this.contrastMatrix_,o),this.contrast_=o,n=!0),goog.isDef(t)&&t!==this.hue_&&(ol.color.Matrix.makeHue(this.hueMatrix_,t),this.hue_=t,n=!0),goog.isDef(r)&&r!==this.saturation_&&(ol.color.Matrix.makeSaturation(this.saturationMatrix_,r),this.saturation_=r,n=!0),n){var i=this.colorMatrix_;goog.vec.Mat4.makeIdentity(i),goog.isDef(o)&&goog.vec.Mat4.multMat(i,this.contrastMatrix_,i),goog.isDef(e)&&goog.vec.Mat4.multMat(i,this.brightnessMatrix_,i),goog.isDef(r)&&goog.vec.Mat4.multMat(i,this.saturationMatrix_,i),goog.isDef(t)&&goog.vec.Mat4.multMat(i,this.hueMatrix_,i)}return this.colorMatrix_},goog.provide("goog.dom.BrowserFeature"),goog.require("goog.userAgent"),goog.dom.BrowserFeature={CAN_ADD_NAME_OR_TYPE_ATTRIBUTES:!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9),CAN_USE_CHILDREN_ATTRIBUTE:!goog.userAgent.GECKO&&!goog.userAgent.IE||goog.userAgent.IE&&goog.userAgent.isDocumentModeOrHigher(9)||goog.userAgent.GECKO&&goog.userAgent.isVersionOrHigher("1.9.1"),CAN_USE_INNER_TEXT:goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("9"),CAN_USE_PARENT_ELEMENT_PROPERTY:goog.userAgent.IE||goog.userAgent.OPERA||goog.userAgent.WEBKIT,INNER_HTML_NEEDS_SCOPED_ELEMENT:goog.userAgent.IE,LEGACY_IE_RANGES:goog.userAgent.IE&&!goog.userAgent.isDocumentModeOrHigher(9)},goog.provide("goog.dom.TagName"),goog.dom.TagName={A:"A",ABBR:"ABBR",ACRONYM:"ACRONYM",ADDRESS:"ADDRESS",APPLET:"APPLET",AREA:"AREA",ARTICLE:"ARTICLE",ASIDE:"ASIDE",AUDIO:"AUDIO",B:"B",BASE:"BASE",BASEFONT:"BASEFONT",BDI:"BDI",BDO:"BDO",BIG:"BIG",BLOCKQUOTE:"BLOCKQUOTE",BODY:"BODY",BR:"BR",BUTTON:"BUTTON",CANVAS:"CANVAS",CAPTION:"CAPTION",CENTER:"CENTER",CITE:"CITE",CODE:"CODE",COL:"COL",COLGROUP:"COLGROUP",COMMAND:"COMMAND",DATA:"DATA",DATALIST:"DATALIST",DD:"DD",DEL:"DEL",DETAILS:"DETAILS",DFN:"DFN",DIALOG:"DIALOG",DIR:"DIR",DIV:"DIV",DL:"DL",DT:"DT",EM:"EM",EMBED:"EMBED",FIELDSET:"FIELDSET",FIGCAPTION:"FIGCAPTION",FIGURE:"FIGURE",FONT:"FONT",FOOTER:"FOOTER",FORM:"FORM",FRAME:"FRAME",FRAMESET:"FRAMESET",H1:"H1",H2:"H2",H3:"H3",H4:"H4",H5:"H5",H6:"H6",HEAD:"HEAD",HEADER:"HEADER",HGROUP:"HGROUP",HR:"HR",HTML:"HTML",I:"I",IFRAME:"IFRAME",IMG:"IMG",INPUT:"INPUT",INS:"INS",ISINDEX:"ISINDEX",KBD:"KBD",KEYGEN:"KEYGEN",LABEL:"LABEL",LEGEND:"LEGEND",LI:"LI",LINK:"LINK",MAP:"MAP",MARK:"MARK",MATH:"MATH",MENU:"MENU",META:"META",METER:"METER",NAV:"NAV",NOFRAMES:"NOFRAMES",NOSCRIPT:"NOSCRIPT",OBJECT:"OBJECT",OL:"OL",OPTGROUP:"OPTGROUP",OPTION:"OPTION",OUTPUT:"OUTPUT",P:"P",PARAM:"PARAM",PRE:"PRE",PROGRESS:"PROGRESS",Q:"Q",RP:"RP",RT:"RT",RUBY:"RUBY",S:"S",SAMP:"SAMP",SCRIPT:"SCRIPT",SECTION:"SECTION",SELECT:"SELECT",SMALL:"SMALL",SOURCE:"SOURCE",SPAN:"SPAN",STRIKE:"STRIKE",STRONG:"STRONG",STYLE:"STYLE",SUB:"SUB",SUMMARY:"SUMMARY",SUP:"SUP",SVG:"SVG",TABLE:"TABLE",TBODY:"TBODY",TD:"TD",TEXTAREA:"TEXTAREA",TFOOT:"TFOOT",TH:"TH",THEAD:"THEAD",TIME:"TIME",TITLE:"TITLE",TR:"TR",TRACK:"TRACK",TT:"TT",U:"U",UL:"UL",VAR:"VAR",VIDEO:"VIDEO",WBR:"WBR"},goog.provide("goog.dom.tags"),goog.require("goog.object"),goog.dom.tags.VOID_TAGS_=goog.object.createSet("area,base,br,col,command,embed,hr,img,input,keygen,link,meta,param,source,track,wbr".split(",")),goog.dom.tags.isVoidTag=function(e){return goog.dom.tags.VOID_TAGS_[e]===!0},goog.provide("goog.string.TypedString"),goog.string.TypedString=function(){},goog.string.TypedString.prototype.implementsGoogStringTypedString,goog.string.TypedString.prototype.getTypedStringValue,goog.provide("goog.string.Const"),goog.require("goog.asserts"),goog.require("goog.string.TypedString"),goog.string.Const=function(){this.stringConstValueWithSecurityContract__googStringSecurityPrivate_="",this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_=goog.string.Const.TYPE_MARKER_},goog.string.Const.prototype.implementsGoogStringTypedString=!0,goog.string.Const.prototype.getTypedStringValue=function(){return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_},goog.string.Const.prototype.toString=function(){return"Const{"+this.stringConstValueWithSecurityContract__googStringSecurityPrivate_+"}"},goog.string.Const.unwrap=function(e){return e instanceof goog.string.Const&&e.constructor===goog.string.Const&&e.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_===goog.string.Const.TYPE_MARKER_?e.stringConstValueWithSecurityContract__googStringSecurityPrivate_:(goog.asserts.fail("expected object of type Const, got '"+e+"'"),"type_error:Const")},goog.string.Const.from=function(e){return goog.string.Const.create__googStringSecurityPrivate_(e)},goog.string.Const.TYPE_MARKER_={},goog.string.Const.create__googStringSecurityPrivate_=function(e){var o=new goog.string.Const;return o.stringConstValueWithSecurityContract__googStringSecurityPrivate_=e,o},goog.provide("goog.html.SafeStyle"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.string"),goog.require("goog.string.Const"),goog.require("goog.string.TypedString"),goog.html.SafeStyle=function(){this.privateDoNotAccessOrElseSafeStyleWrappedValue_="",this.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyle.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyle.fromConstant=function(e){var o=goog.string.Const.unwrap(e);return 0===o.length?goog.html.SafeStyle.EMPTY:(goog.html.SafeStyle.checkStyle_(o),goog.asserts.assert(goog.string.endsWith(o,";"),"Last character of style string is not ';': "+o),goog.asserts.assert(goog.string.contains(o,":"),"Style string must contain at least one ':', to specify a \"name: value\" pair: "+o),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(o))},goog.html.SafeStyle.checkStyle_=function(e){goog.asserts.assert(!/[<>]/.test(e),"Forbidden characters in style string: "+e)},goog.html.SafeStyle.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_},goog.DEBUG&&(goog.html.SafeStyle.prototype.toString=function(){return"SafeStyle{"+this.privateDoNotAccessOrElseSafeStyleWrappedValue_+"}"}),goog.html.SafeStyle.unwrap=function(e){return e instanceof goog.html.SafeStyle&&e.constructor===goog.html.SafeStyle&&e.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeStyleWrappedValue_:(goog.asserts.fail("expected object of type SafeStyle, got '"+e+"'"),"type_error:SafeStyle")},goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse=function(e){var o=new goog.html.SafeStyle;return o.privateDoNotAccessOrElseSafeStyleWrappedValue_=e,o},goog.html.SafeStyle.EMPTY=goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(""),goog.html.SafeStyle.INNOCUOUS_STRING="zClosurez",goog.html.SafeStyle.PropertyMap,goog.html.SafeStyle.create=function(e){var o="";for(var t in e){if(!/^[-_a-zA-Z0-9]+$/.test(t))throw Error("Name allows only [-_a-zA-Z0-9], got: "+t);var r=e[t];null!=r&&(r instanceof goog.string.Const?(r=goog.string.Const.unwrap(r),goog.asserts.assert(!/[{;}]/.test(r),"Value does not allow [{;}].")):goog.html.SafeStyle.VALUE_RE_.test(r)||(goog.asserts.fail("String value allows only [-.%_!# a-zA-Z0-9], got: "+r),r=goog.html.SafeStyle.INNOCUOUS_STRING),o+=t+":"+r+";")}return o?(goog.html.SafeStyle.checkStyle_(o),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(o)):goog.html.SafeStyle.EMPTY},goog.html.SafeStyle.VALUE_RE_=/^[-.%_!# a-zA-Z0-9]+$/,goog.html.SafeStyle.concat=function(e){var o="",t=function(e){goog.isArray(e)?goog.array.forEach(e,t):o+=goog.html.SafeStyle.unwrap(e)};return goog.array.forEach(arguments,t),o?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(o):goog.html.SafeStyle.EMPTY},goog.provide("goog.html.SafeStyleSheet"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.string"),goog.require("goog.string.Const"),goog.require("goog.string.TypedString"),goog.html.SafeStyleSheet=function(){this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_="",this.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyleSheet.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyleSheet.concat=function(e){var o="",t=function(e){goog.isArray(e)?goog.array.forEach(e,t):o+=goog.html.SafeStyleSheet.unwrap(e)};return goog.array.forEach(arguments,t),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(o)},goog.html.SafeStyleSheet.fromConstant=function(e){var o=goog.string.Const.unwrap(e);return 0===o.length?goog.html.SafeStyleSheet.EMPTY:(goog.asserts.assert(!goog.string.contains(o,"<"),"Forbidden '<' character in style sheet string: "+o),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(o))},goog.html.SafeStyleSheet.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_},goog.DEBUG&&(goog.html.SafeStyleSheet.prototype.toString=function(){return"SafeStyleSheet{"+this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_+"}"}),goog.html.SafeStyleSheet.unwrap=function(e){return e instanceof goog.html.SafeStyleSheet&&e.constructor===goog.html.SafeStyleSheet&&e.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_:(goog.asserts.fail("expected object of type SafeStyleSheet, got '"+e+"'"),"type_error:SafeStyleSheet")},goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse=function(e){var o=new goog.html.SafeStyleSheet;return o.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_=e,o},goog.html.SafeStyleSheet.EMPTY=goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(""),goog.provide("goog.i18n.bidi"),goog.provide("goog.i18n.bidi.Dir"),goog.provide("goog.i18n.bidi.DirectionalString"),goog.provide("goog.i18n.bidi.Format"),goog.define("goog.i18n.bidi.FORCE_RTL",!1),goog.i18n.bidi.IS_RTL=goog.i18n.bidi.FORCE_RTL||("ar"==goog.LOCALE.substring(0,2).toLowerCase()||"fa"==goog.LOCALE.substring(0,2).toLowerCase()||"he"==goog.LOCALE.substring(0,2).toLowerCase()||"iw"==goog.LOCALE.substring(0,2).toLowerCase()||"ps"==goog.LOCALE.substring(0,2).toLowerCase()||"sd"==goog.LOCALE.substring(0,2).toLowerCase()||"ug"==goog.LOCALE.substring(0,2).toLowerCase()||"ur"==goog.LOCALE.substring(0,2).toLowerCase()||"yi"==goog.LOCALE.substring(0,2).toLowerCase())&&(2==goog.LOCALE.length||"-"==goog.LOCALE.substring(2,3)||"_"==goog.LOCALE.substring(2,3))||goog.LOCALE.length>=3&&"ckb"==goog.LOCALE.substring(0,3).toLowerCase()&&(3==goog.LOCALE.length||"-"==goog.LOCALE.substring(3,4)||"_"==goog.LOCALE.substring(3,4)),goog.i18n.bidi.Format={LRE:"‪",RLE:"‫",PDF:"‬",LRM:"‎",RLM:"‏"},goog.i18n.bidi.Dir={LTR:1,RTL:-1,NEUTRAL:0},goog.i18n.bidi.RIGHT="right",goog.i18n.bidi.LEFT="left",goog.i18n.bidi.I18N_RIGHT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.LEFT:goog.i18n.bidi.RIGHT,goog.i18n.bidi.I18N_LEFT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,goog.i18n.bidi.toDir=function(e,o){return"number"==typeof e?e>0?goog.i18n.bidi.Dir.LTR:0>e?goog.i18n.bidi.Dir.RTL:o?null:goog.i18n.bidi.Dir.NEUTRAL:null==e?null:e?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.ltrChars_="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",goog.i18n.bidi.rtlChars_="֑-߿‏יִ-﷿ﹰ-ﻼ",goog.i18n.bidi.htmlSkipReg_=/<[^>]*>|&[^;]+;/g,goog.i18n.bidi.stripHtmlIfNeeded_=function(e,o){return o?e.replace(goog.i18n.bidi.htmlSkipReg_,""):e},goog.i18n.bidi.rtlCharReg_=new RegExp("["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.ltrCharReg_=new RegExp("["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.hasAnyRtl=function(e,o){return goog.i18n.bidi.rtlCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,o))},goog.i18n.bidi.hasRtlChar=goog.i18n.bidi.hasAnyRtl,goog.i18n.bidi.hasAnyLtr=function(e,o){return goog.i18n.bidi.ltrCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,o))},goog.i18n.bidi.ltrRe_=new RegExp("^["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlRe_=new RegExp("^["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.isRtlChar=function(e){return goog.i18n.bidi.rtlRe_.test(e)},goog.i18n.bidi.isLtrChar=function(e){return goog.i18n.bidi.ltrRe_.test(e)},goog.i18n.bidi.isNeutralChar=function(e){return!goog.i18n.bidi.isLtrChar(e)&&!goog.i18n.bidi.isRtlChar(e)},goog.i18n.bidi.ltrDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.rtlChars_+"]*["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.ltrChars_+"]*["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.startsWithRtl=function(e,o){return goog.i18n.bidi.rtlDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,o))},goog.i18n.bidi.isRtlText=goog.i18n.bidi.startsWithRtl,goog.i18n.bidi.startsWithLtr=function(e,o){return goog.i18n.bidi.ltrDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,o))},goog.i18n.bidi.isLtrText=goog.i18n.bidi.startsWithLtr,goog.i18n.bidi.isRequiredLtrRe_=/^http:\/\/.*/,goog.i18n.bidi.isNeutralText=function(e,o){return e=goog.i18n.bidi.stripHtmlIfNeeded_(e,o),goog.i18n.bidi.isRequiredLtrRe_.test(e)||!goog.i18n.bidi.hasAnyLtr(e)&&!goog.i18n.bidi.hasAnyRtl(e)},goog.i18n.bidi.ltrExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.ltrChars_+"][^"+goog.i18n.bidi.rtlChars_+"]*$"),goog.i18n.bidi.rtlExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.rtlChars_+"][^"+goog.i18n.bidi.ltrChars_+"]*$"),goog.i18n.bidi.endsWithLtr=function(e,o){return goog.i18n.bidi.ltrExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,o))},goog.i18n.bidi.isLtrExitText=goog.i18n.bidi.endsWithLtr,goog.i18n.bidi.endsWithRtl=function(e,o){return goog.i18n.bidi.rtlExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,o))},goog.i18n.bidi.isRtlExitText=goog.i18n.bidi.endsWithRtl,goog.i18n.bidi.rtlLocalesRe_=new RegExp("^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Arab|Hebr|Thaa|Nkoo|Tfng))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)","i"),goog.i18n.bidi.isRtlLanguage=function(e){return goog.i18n.bidi.rtlLocalesRe_.test(e)},goog.i18n.bidi.bracketGuardHtmlRe_=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(&lt;.*?(&gt;)+)/g,goog.i18n.bidi.bracketGuardTextRe_=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(<.*?>+)/g,goog.i18n.bidi.guardBracketInHtml=function(e,o){var t=void 0===o?goog.i18n.bidi.hasAnyRtl(e):o;return t?e.replace(goog.i18n.bidi.bracketGuardHtmlRe_,"<span dir=rtl>$&</span>"):e.replace(goog.i18n.bidi.bracketGuardHtmlRe_,"<span dir=ltr>$&</span>")},goog.i18n.bidi.guardBracketInText=function(e,o){var t=void 0===o?goog.i18n.bidi.hasAnyRtl(e):o,r=t?goog.i18n.bidi.Format.RLM:goog.i18n.bidi.Format.LRM;return e.replace(goog.i18n.bidi.bracketGuardTextRe_,r+"$&"+r)},goog.i18n.bidi.enforceRtlInHtml=function(e){return"<"==e.charAt(0)?e.replace(/<\w+/,"$& dir=rtl"):"\n<span dir=rtl>"+e+"</span>"},goog.i18n.bidi.enforceRtlInText=function(e){return goog.i18n.bidi.Format.RLE+e+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.enforceLtrInHtml=function(e){return"<"==e.charAt(0)?e.replace(/<\w+/,"$& dir=ltr"):"\n<span dir=ltr>"+e+"</span>"},goog.i18n.bidi.enforceLtrInText=function(e){return goog.i18n.bidi.Format.LRE+e+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.dimensionsRe_=/:\s*([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)/g,goog.i18n.bidi.leftRe_=/left/gi,goog.i18n.bidi.rightRe_=/right/gi,goog.i18n.bidi.tempRe_=/%%%%/g,goog.i18n.bidi.mirrorCSS=function(e){return e.replace(goog.i18n.bidi.dimensionsRe_,":$1 $4 $3 $2").replace(goog.i18n.bidi.leftRe_,"%%%%").replace(goog.i18n.bidi.rightRe_,goog.i18n.bidi.LEFT).replace(goog.i18n.bidi.tempRe_,goog.i18n.bidi.RIGHT)},goog.i18n.bidi.doubleQuoteSubstituteRe_=/([\u0591-\u05f2])"/g,goog.i18n.bidi.singleQuoteSubstituteRe_=/([\u0591-\u05f2])'/g,goog.i18n.bidi.normalizeHebrewQuote=function(e){return e.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_,"$1״").replace(goog.i18n.bidi.singleQuoteSubstituteRe_,"$1׳")},goog.i18n.bidi.wordSeparatorRe_=/\s+/,goog.i18n.bidi.hasNumeralsRe_=/\d/,goog.i18n.bidi.rtlDetectionThreshold_=.4,goog.i18n.bidi.estimateDirection=function(e,o){for(var t=0,r=0,n=!1,i=goog.i18n.bidi.stripHtmlIfNeeded_(e,o).split(goog.i18n.bidi.wordSeparatorRe_),a=0;a<i.length;a++){var s=i[a];goog.i18n.bidi.startsWithRtl(s)?(t++,r++):goog.i18n.bidi.isRequiredLtrRe_.test(s)?n=!0:goog.i18n.bidi.hasAnyLtr(s)?r++:goog.i18n.bidi.hasNumeralsRe_.test(s)&&(n=!0)}return 0==r?n?goog.i18n.bidi.Dir.LTR:goog.i18n.bidi.Dir.NEUTRAL:t/r>goog.i18n.bidi.rtlDetectionThreshold_?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.detectRtlDirectionality=function(e,o){return goog.i18n.bidi.estimateDirection(e,o)==goog.i18n.bidi.Dir.RTL},goog.i18n.bidi.setElementDirAndAlign=function(e,o){e&&(o=goog.i18n.bidi.toDir(o),o&&(e.style.textAlign=o==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,e.dir=o==goog.i18n.bidi.Dir.RTL?"rtl":"ltr"))},goog.i18n.bidi.DirectionalString=function(){},goog.i18n.bidi.DirectionalString.prototype.implementsGoogI18nBidiDirectionalString,goog.i18n.bidi.DirectionalString.prototype.getDirection,goog.provide("goog.html.SafeUrl"),goog.require("goog.asserts"),goog.require("goog.i18n.bidi.Dir"),goog.require("goog.i18n.bidi.DirectionalString"),goog.require("goog.string.Const"),goog.require("goog.string.TypedString"),goog.html.SafeUrl=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="",this.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeUrl.INNOCUOUS_STRING="about:invalid#zClosurez",goog.html.SafeUrl.prototype.implementsGoogStringTypedString=!0,goog.html.SafeUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_},goog.html.SafeUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.DEBUG&&(goog.html.SafeUrl.prototype.toString=function(){return"SafeUrl{"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+"}"}),goog.html.SafeUrl.unwrap=function(e){return e instanceof goog.html.SafeUrl&&e.constructor===goog.html.SafeUrl&&e.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeHtmlWrappedValue_:(goog.asserts.fail("expected object of type SafeUrl, got '"+e+"'"),"type_error:SafeUrl")},goog.html.SafeUrl.fromConstant=function(e){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(e))},goog.html.SAFE_URL_PATTERN_=/^(?:(?:https?|mailto):|[^&:/?#]*(?:[/?#]|$))/i,goog.html.SafeUrl.sanitize=function(e){return e instanceof goog.html.SafeUrl?e:(e=e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),e=goog.html.SAFE_URL_PATTERN_.test(e)?goog.html.SafeUrl.normalize_(e):goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeUrl.normalize_=function(e){try{var o=encodeURI(e)}catch(t){return goog.html.SafeUrl.INNOCUOUS_STRING}return o.replace(goog.html.SafeUrl.NORMALIZE_MATCHER_,function(e){return goog.html.SafeUrl.NORMALIZE_REPLACER_MAP_[e]})},goog.html.SafeUrl.NORMALIZE_MATCHER_=/[()']|%5B|%5D|%25/g,goog.html.SafeUrl.NORMALIZE_REPLACER_MAP_={"'":"%27","(":"%28",")":"%29","%5B":"[","%5D":"]","%25":"%"},goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse=function(e){var o=new goog.html.SafeUrl;return o.privateDoNotAccessOrElseSafeHtmlWrappedValue_=e,o},goog.provide("goog.html.TrustedResourceUrl"),goog.require("goog.asserts"),goog.require("goog.i18n.bidi.Dir"),goog.require("goog.i18n.bidi.DirectionalString"),goog.require("goog.string.Const"),goog.require("goog.string.TypedString"),goog.html.TrustedResourceUrl=function(){this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_="",this.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.TrustedResourceUrl.prototype.implementsGoogStringTypedString=!0,goog.html.TrustedResourceUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_},goog.html.TrustedResourceUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.TrustedResourceUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.DEBUG&&(goog.html.TrustedResourceUrl.prototype.toString=function(){return"TrustedResourceUrl{"+this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_+"}"}),goog.html.TrustedResourceUrl.unwrap=function(e){return e instanceof goog.html.TrustedResourceUrl&&e.constructor===goog.html.TrustedResourceUrl&&e.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_:(goog.asserts.fail("expected object of type TrustedResourceUrl, got '"+e+"'"),"type_error:TrustedResourceUrl")},goog.html.TrustedResourceUrl.fromConstant=function(e){return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(e))},goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse=function(e){var o=new goog.html.TrustedResourceUrl;return o.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_=e,o},goog.provide("goog.html.SafeHtml"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.dom.tags"),goog.require("goog.html.SafeStyle"),goog.require("goog.html.SafeStyleSheet"),goog.require("goog.html.SafeUrl"),goog.require("goog.html.TrustedResourceUrl"),goog.require("goog.i18n.bidi.Dir"),goog.require("goog.i18n.bidi.DirectionalString"),goog.require("goog.object"),goog.require("goog.string"),goog.require("goog.string.Const"),goog.require("goog.string.TypedString"),goog.html.SafeHtml=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="",this.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_,this.dir_=null},goog.html.SafeHtml.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeHtml.prototype.getDirection=function(){return this.dir_},goog.html.SafeHtml.prototype.implementsGoogStringTypedString=!0,goog.html.SafeHtml.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_},goog.DEBUG&&(goog.html.SafeHtml.prototype.toString=function(){return"SafeHtml{"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+"}"}),goog.html.SafeHtml.unwrap=function(e){return e instanceof goog.html.SafeHtml&&e.constructor===goog.html.SafeHtml&&e.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeHtmlWrappedValue_:(goog.asserts.fail("expected object of type SafeHtml, got '"+e+"'"),"type_error:SafeHtml")},goog.html.SafeHtml.TextOrHtml_,goog.html.SafeHtml.htmlEscape=function(e){if(e instanceof goog.html.SafeHtml)return e;var o=null;e.implementsGoogI18nBidiDirectionalString&&(o=e.getDirection());var t;return t=e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.htmlEscape(t),o)},goog.html.SafeHtml.htmlEscapePreservingNewlines=function(e){if(e instanceof goog.html.SafeHtml)return e;var o=goog.html.SafeHtml.htmlEscape(e);return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.newLineToBr(goog.html.SafeHtml.unwrap(o)),o.getDirection())},goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces=function(e){if(e instanceof goog.html.SafeHtml)return e;var o=goog.html.SafeHtml.htmlEscape(e);return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.whitespaceEscape(goog.html.SafeHtml.unwrap(o)),o.getDirection())},goog.html.SafeHtml.from=goog.html.SafeHtml.htmlEscape,goog.html.SafeHtml.VALID_NAMES_IN_TAG_=/^[a-zA-Z0-9-]+$/,goog.html.SafeHtml.URL_ATTRIBUTES_=goog.object.createSet("action","cite","data","formaction","href","manifest","poster","src"),goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_=goog.object.createSet("embed","iframe","link","object","script","style","template"),goog.html.SafeHtml.AttributeValue_,goog.html.SafeHtml.create=function(e,o,t){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(e))throw Error("Invalid tag name <"+e+">.");if(e.toLowerCase()in goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_)throw Error("Tag name <"+e+"> is not allowed for SafeHtml.");return goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(e,o,t)},goog.html.SafeHtml.createIframe=function(e,o,t,r){var n={};n.src=e||null,n.srcdoc=o||null;var i={sandbox:""},a=goog.html.SafeHtml.combineAttributes(n,i,t);return goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",a,r)},goog.html.SafeHtml.createStyle=function(e,o){var t={type:"text/css"},r={},n=goog.html.SafeHtml.combineAttributes(t,r,o),i="";e=goog.array.concat(e);for(var a=0;a<e.length;a++)i+=goog.html.SafeStyleSheet.unwrap(e[a]);var s=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(i,goog.i18n.bidi.Dir.NEUTRAL);return goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("style",n,s)},goog.html.SafeHtml.getAttrNameAndValue_=function(e,o,t){if(t instanceof goog.string.Const)t=goog.string.Const.unwrap(t);else if("style"==o.toLowerCase())t=goog.html.SafeHtml.getStyleValue_(t);else{if(/^on/i.test(o))throw Error('Attribute "'+o+'" requires goog.string.Const value, "'+t+'" given.');if(o.toLowerCase()in goog.html.SafeHtml.URL_ATTRIBUTES_)if(t instanceof goog.html.TrustedResourceUrl)t=goog.html.TrustedResourceUrl.unwrap(t);else{if(!(t instanceof goog.html.SafeUrl))throw Error('Attribute "'+o+'" on tag "'+e+'" requires goog.html.SafeUrl or goog.string.Const value, "'+t+'" given.');t=goog.html.SafeUrl.unwrap(t)}}return t.implementsGoogStringTypedString&&(t=t.getTypedStringValue()),goog.asserts.assert(goog.isString(t)||goog.isNumber(t),"String or number value expected, got "+typeof t+" with value: "+t),o+'="'+goog.string.htmlEscape(String(t))+'"'},goog.html.SafeHtml.getStyleValue_=function(e){if(!goog.isObject(e))throw Error('The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof e+" given: "+e);return e instanceof goog.html.SafeStyle||(e=goog.html.SafeStyle.create(e)),goog.html.SafeStyle.unwrap(e)},goog.html.SafeHtml.createWithDir=function(e,o,t,r){var n=goog.html.SafeHtml.create(o,t,r);return n.dir_=e,n},goog.html.SafeHtml.concat=function(e){var o=goog.i18n.bidi.Dir.NEUTRAL,t="",r=function(e){if(goog.isArray(e))goog.array.forEach(e,r);else{var n=goog.html.SafeHtml.htmlEscape(e);t+=goog.html.SafeHtml.unwrap(n);var i=n.getDirection();o==goog.i18n.bidi.Dir.NEUTRAL?o=i:i!=goog.i18n.bidi.Dir.NEUTRAL&&o!=i&&(o=null)}};return goog.array.forEach(arguments,r),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(t,o)},goog.html.SafeHtml.concatWithDir=function(e,o){var t=goog.html.SafeHtml.concat(goog.array.slice(arguments,1));return t.dir_=e,t},goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse=function(e,o){var t=new goog.html.SafeHtml;return t.privateDoNotAccessOrElseSafeHtmlWrappedValue_=e,t.dir_=o,t},goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse=function(e,o,t){var r=null,n="<"+e;if(o)for(var i in o){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(i))throw Error('Invalid attribute name "'+i+'".');var a=o[i];goog.isDefAndNotNull(a)&&(n+=" "+goog.html.SafeHtml.getAttrNameAndValue_(e,i,a))}var s=t;if(goog.isDef(s)?goog.isArray(s)||(s=[s]):s=[],goog.dom.tags.isVoidTag(e.toLowerCase()))goog.asserts.assert(!s.length,"Void tag <"+e+"> does not allow content."),n+=">";else{var g=goog.html.SafeHtml.concat(s);n+=">"+goog.html.SafeHtml.unwrap(g)+"</"+e+">",r=g.getDirection()}var l=o&&o.dir;return l&&(r=/^(ltr|rtl|auto)$/i.test(l)?goog.i18n.bidi.Dir.NEUTRAL:null),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(n,r)},goog.html.SafeHtml.combineAttributes=function(e,o,t){var r,n={};for(r in e)goog.asserts.assert(r.toLowerCase()==r,"Must be lower case"),n[r]=e[r];for(r in o)goog.asserts.assert(r.toLowerCase()==r,"Must be lower case"),n[r]=o[r];for(r in t){var i=r.toLowerCase();if(i in e)throw Error('Cannot override "'+i+'" attribute, got "'+r+'" with value "'+t[r]+'"');i in o&&delete n[i],n[r]=t[r]}return n},goog.html.SafeHtml.EMPTY=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("",goog.i18n.bidi.Dir.NEUTRAL),goog.provide("goog.dom.safe"),goog.require("goog.html.SafeHtml"),goog.require("goog.html.SafeUrl"),goog.dom.safe.setInnerHtml=function(e,o){e.innerHTML=goog.html.SafeHtml.unwrap(o)},goog.dom.safe.setOuterHtml=function(e,o){e.outerHTML=goog.html.SafeHtml.unwrap(o)},goog.dom.safe.documentWrite=function(e,o){e.write(goog.html.SafeHtml.unwrap(o))},goog.dom.safe.setAnchorHref=function(e,o){var t;t=o instanceof goog.html.SafeUrl?o:goog.html.SafeUrl.sanitize(o),e.href=goog.html.SafeUrl.unwrap(t)},goog.dom.safe.setLocationHref=function(e,o){var t;t=o instanceof goog.html.SafeUrl?o:goog.html.SafeUrl.sanitize(o),e.href=goog.html.SafeUrl.unwrap(t)},goog.provide("goog.math.Coordinate"),goog.require("goog.math"),goog.math.Coordinate=function(e,o){this.x=goog.isDef(e)?e:0,this.y=goog.isDef(o)?o:0},goog.math.Coordinate.prototype.clone=function(){return new goog.math.Coordinate(this.x,this.y)},goog.DEBUG&&(goog.math.Coordinate.prototype.toString=function(){return"("+this.x+", "+this.y+")"}),goog.math.Coordinate.equals=function(e,o){return e==o?!0:e&&o?e.x==o.x&&e.y==o.y:!1},goog.math.Coordinate.distance=function(e,o){var t=e.x-o.x,r=e.y-o.y;return Math.sqrt(t*t+r*r)},goog.math.Coordinate.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},goog.math.Coordinate.azimuth=function(e){return goog.math.angle(0,0,e.x,e.y)},goog.math.Coordinate.squaredDistance=function(e,o){var t=e.x-o.x,r=e.y-o.y;return t*t+r*r},goog.math.Coordinate.difference=function(e,o){return new goog.math.Coordinate(e.x-o.x,e.y-o.y)},goog.math.Coordinate.sum=function(e,o){return new goog.math.Coordinate(e.x+o.x,e.y+o.y)},goog.math.Coordinate.prototype.ceil=function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},goog.math.Coordinate.prototype.floor=function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},goog.math.Coordinate.prototype.round=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},goog.math.Coordinate.prototype.translate=function(e,o){return e instanceof goog.math.Coordinate?(this.x+=e.x,this.y+=e.y):(this.x+=e,goog.isNumber(o)&&(this.y+=o)),this},goog.math.Coordinate.prototype.scale=function(e,o){
var t=goog.isNumber(o)?o:e;return this.x*=e,this.y*=t,this},goog.math.Coordinate.prototype.rotateRadians=function(e,o){var t=o||new goog.math.Coordinate(0,0),r=this.x,n=this.y,i=Math.cos(e),a=Math.sin(e);this.x=(r-t.x)*i-(n-t.y)*a+t.x,this.y=(r-t.x)*a+(n-t.y)*i+t.y},goog.math.Coordinate.prototype.rotateDegrees=function(e,o){this.rotateRadians(goog.math.toRadians(e),o)},goog.provide("goog.math.Size"),goog.math.Size=function(e,o){this.width=e,this.height=o},goog.math.Size.equals=function(e,o){return e==o?!0:e&&o?e.width==o.width&&e.height==o.height:!1},goog.math.Size.prototype.clone=function(){return new goog.math.Size(this.width,this.height)},goog.DEBUG&&(goog.math.Size.prototype.toString=function(){return"("+this.width+" x "+this.height+")"}),goog.math.Size.prototype.getLongest=function(){return Math.max(this.width,this.height)},goog.math.Size.prototype.getShortest=function(){return Math.min(this.width,this.height)},goog.math.Size.prototype.area=function(){return this.width*this.height},goog.math.Size.prototype.perimeter=function(){return 2*(this.width+this.height)},goog.math.Size.prototype.aspectRatio=function(){return this.width/this.height},goog.math.Size.prototype.isEmpty=function(){return!this.area()},goog.math.Size.prototype.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},goog.math.Size.prototype.fitsInside=function(e){return this.width<=e.width&&this.height<=e.height},goog.math.Size.prototype.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},goog.math.Size.prototype.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this},goog.math.Size.prototype.scale=function(e,o){var t=goog.isNumber(o)?o:e;return this.width*=e,this.height*=t,this},goog.math.Size.prototype.scaleToFit=function(e){var o=this.aspectRatio()>e.aspectRatio()?e.width/this.width:e.height/this.height;return this.scale(o)},goog.provide("goog.dom"),goog.provide("goog.dom.Appendable"),goog.provide("goog.dom.DomHelper"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.dom.BrowserFeature"),goog.require("goog.dom.NodeType"),goog.require("goog.dom.TagName"),goog.require("goog.dom.safe"),goog.require("goog.html.SafeHtml"),goog.require("goog.math.Coordinate"),goog.require("goog.math.Size"),goog.require("goog.object"),goog.require("goog.string"),goog.require("goog.string.Unicode"),goog.require("goog.userAgent"),goog.define("goog.dom.ASSUME_QUIRKS_MODE",!1),goog.define("goog.dom.ASSUME_STANDARDS_MODE",!1),goog.dom.COMPAT_MODE_KNOWN_=goog.dom.ASSUME_QUIRKS_MODE||goog.dom.ASSUME_STANDARDS_MODE,goog.dom.getDomHelper=function(e){return e?new goog.dom.DomHelper(goog.dom.getOwnerDocument(e)):goog.dom.defaultDomHelper_||(goog.dom.defaultDomHelper_=new goog.dom.DomHelper)},goog.dom.defaultDomHelper_,goog.dom.getDocument=function(){return document},goog.dom.getElement=function(e){return goog.dom.getElementHelper_(document,e)},goog.dom.getElementHelper_=function(e,o){return goog.isString(o)?e.getElementById(o):o},goog.dom.getRequiredElement=function(e){return goog.dom.getRequiredElementHelper_(document,e)},goog.dom.getRequiredElementHelper_=function(e,o){goog.asserts.assertString(o);var t=goog.dom.getElementHelper_(e,o);return t=goog.asserts.assertElement(t,"No element found with id: "+o)},goog.dom.$=goog.dom.getElement,goog.dom.getElementsByTagNameAndClass=function(e,o,t){return goog.dom.getElementsByTagNameAndClass_(document,e,o,t)},goog.dom.getElementsByClass=function(e,o){var t=o||document;return goog.dom.canUseQuerySelector_(t)?t.querySelectorAll("."+e):goog.dom.getElementsByTagNameAndClass_(document,"*",e,o)},goog.dom.getElementByClass=function(e,o){var t=o||document,r=null;return r=goog.dom.canUseQuerySelector_(t)?t.querySelector("."+e):goog.dom.getElementsByTagNameAndClass_(document,"*",e,o)[0],r||null},goog.dom.getRequiredElementByClass=function(e,o){var t=goog.dom.getElementByClass(e,o);return goog.asserts.assert(t,"No element found with className: "+e)},goog.dom.canUseQuerySelector_=function(e){return!(!e.querySelectorAll||!e.querySelector)},goog.dom.getElementsByTagNameAndClass_=function(e,o,t,r){var n=r||e,i=o&&"*"!=o?o.toUpperCase():"";if(goog.dom.canUseQuerySelector_(n)&&(i||t)){var a=i+(t?"."+t:"");return n.querySelectorAll(a)}if(t&&n.getElementsByClassName){var s=n.getElementsByClassName(t);if(i){for(var g,l={},p=0,u=0;g=s[u];u++)i==g.nodeName&&(l[p++]=g);return l.length=p,l}return s}var s=n.getElementsByTagName(i||"*");if(t){for(var g,l={},p=0,u=0;g=s[u];u++){var c=g.className;"function"==typeof c.split&&goog.array.contains(c.split(/\s+/),t)&&(l[p++]=g)}return l.length=p,l}return s},goog.dom.$$=goog.dom.getElementsByTagNameAndClass,goog.dom.setProperties=function(e,o){goog.object.forEach(o,function(o,t){"style"==t?e.style.cssText=o:"class"==t?e.className=o:"for"==t?e.htmlFor=o:t in goog.dom.DIRECT_ATTRIBUTE_MAP_?e.setAttribute(goog.dom.DIRECT_ATTRIBUTE_MAP_[t],o):goog.string.startsWith(t,"aria-")||goog.string.startsWith(t,"data-")?e.setAttribute(t,o):e[t]=o})},goog.dom.DIRECT_ATTRIBUTE_MAP_={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},goog.dom.getViewportSize=function(e){return goog.dom.getViewportSize_(e||window)},goog.dom.getViewportSize_=function(e){var o=e.document,t=goog.dom.isCss1CompatMode_(o)?o.documentElement:o.body;return new goog.math.Size(t.clientWidth,t.clientHeight)},goog.dom.getDocumentHeight=function(){return goog.dom.getDocumentHeight_(window)},goog.dom.getDocumentHeight_=function(e){var o=e.document,t=0;if(o){var r=o.body,n=o.documentElement;if(!n||!r)return 0;var i=goog.dom.getViewportSize_(e).height;if(goog.dom.isCss1CompatMode_(o)&&n.scrollHeight)t=n.scrollHeight!=i?n.scrollHeight:n.offsetHeight;else{var a=n.scrollHeight,s=n.offsetHeight;n.clientHeight!=s&&(a=r.scrollHeight,s=r.offsetHeight),t=a>i?a>s?a:s:s>a?a:s}}return t},goog.dom.getPageScroll=function(e){var o=e||goog.global||window;return goog.dom.getDomHelper(o.document).getDocumentScroll()},goog.dom.getDocumentScroll=function(){return goog.dom.getDocumentScroll_(document)},goog.dom.getDocumentScroll_=function(e){var o=goog.dom.getDocumentScrollElement_(e),t=goog.dom.getWindow_(e);return goog.userAgent.IE&&goog.userAgent.isVersionOrHigher("10")&&t.pageYOffset!=o.scrollTop?new goog.math.Coordinate(o.scrollLeft,o.scrollTop):new goog.math.Coordinate(t.pageXOffset||o.scrollLeft,t.pageYOffset||o.scrollTop)},goog.dom.getDocumentScrollElement=function(){return goog.dom.getDocumentScrollElement_(document)},goog.dom.getDocumentScrollElement_=function(e){return!goog.userAgent.WEBKIT&&goog.dom.isCss1CompatMode_(e)?e.documentElement:e.body||e.documentElement},goog.dom.getWindow=function(e){return e?goog.dom.getWindow_(e):window},goog.dom.getWindow_=function(e){return e.parentWindow||e.defaultView},goog.dom.createDom=function(e,o,t){return goog.dom.createDom_(document,arguments)},goog.dom.createDom_=function(e,o){var t=o[0],r=o[1];if(!goog.dom.BrowserFeature.CAN_ADD_NAME_OR_TYPE_ATTRIBUTES&&r&&(r.name||r.type)){var n=["<",t];if(r.name&&n.push(' name="',goog.string.htmlEscape(r.name),'"'),r.type){n.push(' type="',goog.string.htmlEscape(r.type),'"');var i={};goog.object.extend(i,r),delete i.type,r=i}n.push(">"),t=n.join("")}var a=e.createElement(t);return r&&(goog.isString(r)?a.className=r:goog.isArray(r)?a.className=r.join(" "):goog.dom.setProperties(a,r)),o.length>2&&goog.dom.append_(e,a,o,2),a},goog.dom.append_=function(e,o,t,r){function n(t){t&&o.appendChild(goog.isString(t)?e.createTextNode(t):t)}for(var i=r;i<t.length;i++){var a=t[i];goog.isArrayLike(a)&&!goog.dom.isNodeLike(a)?goog.array.forEach(goog.dom.isNodeList(a)?goog.array.toArray(a):a,n):n(a)}},goog.dom.$dom=goog.dom.createDom,goog.dom.createElement=function(e){return document.createElement(e)},goog.dom.createTextNode=function(e){return document.createTextNode(String(e))},goog.dom.createTable=function(e,o,t){return goog.dom.createTable_(document,e,o,!!t)},goog.dom.createTable_=function(e,o,t,r){for(var n=e.createElement(goog.dom.TagName.TABLE),i=n.appendChild(e.createElement(goog.dom.TagName.TBODY)),a=0;o>a;a++){for(var s=e.createElement(goog.dom.TagName.TR),g=0;t>g;g++){var l=e.createElement(goog.dom.TagName.TD);r&&goog.dom.setTextContent(l,goog.string.Unicode.NBSP),s.appendChild(l)}i.appendChild(s)}return n},goog.dom.safeHtmlToNode=function(e){return goog.dom.safeHtmlToNode_(document,e)},goog.dom.safeHtmlToNode_=function(e,o){var t=e.createElement("div");return goog.dom.BrowserFeature.INNER_HTML_NEEDS_SCOPED_ELEMENT?(goog.dom.safe.setInnerHtml(t,goog.html.SafeHtml.concat(goog.html.SafeHtml.create("br"),o)),t.removeChild(t.firstChild)):goog.dom.safe.setInnerHtml(t,o),goog.dom.childrenToNode_(e,t)},goog.dom.htmlToDocumentFragment=function(e){return goog.dom.htmlToDocumentFragment_(document,e)},goog.dom.htmlToDocumentFragment_=function(e,o){var t=e.createElement("div");return goog.dom.BrowserFeature.INNER_HTML_NEEDS_SCOPED_ELEMENT?(t.innerHTML="<br>"+o,t.removeChild(t.firstChild)):t.innerHTML=o,goog.dom.childrenToNode_(e,t)},goog.dom.childrenToNode_=function(e,o){if(1==o.childNodes.length)return o.removeChild(o.firstChild);for(var t=e.createDocumentFragment();o.firstChild;)t.appendChild(o.firstChild);return t},goog.dom.isCss1CompatMode=function(){return goog.dom.isCss1CompatMode_(document)},goog.dom.isCss1CompatMode_=function(e){return goog.dom.COMPAT_MODE_KNOWN_?goog.dom.ASSUME_STANDARDS_MODE:"CSS1Compat"==e.compatMode},goog.dom.canHaveChildren=function(e){if(e.nodeType!=goog.dom.NodeType.ELEMENT)return!1;switch(e.tagName){case goog.dom.TagName.APPLET:case goog.dom.TagName.AREA:case goog.dom.TagName.BASE:case goog.dom.TagName.BR:case goog.dom.TagName.COL:case goog.dom.TagName.COMMAND:case goog.dom.TagName.EMBED:case goog.dom.TagName.FRAME:case goog.dom.TagName.HR:case goog.dom.TagName.IMG:case goog.dom.TagName.INPUT:case goog.dom.TagName.IFRAME:case goog.dom.TagName.ISINDEX:case goog.dom.TagName.KEYGEN:case goog.dom.TagName.LINK:case goog.dom.TagName.NOFRAMES:case goog.dom.TagName.NOSCRIPT:case goog.dom.TagName.META:case goog.dom.TagName.OBJECT:case goog.dom.TagName.PARAM:case goog.dom.TagName.SCRIPT:case goog.dom.TagName.SOURCE:case goog.dom.TagName.STYLE:case goog.dom.TagName.TRACK:case goog.dom.TagName.WBR:return!1}return!0},goog.dom.appendChild=function(e,o){e.appendChild(o)},goog.dom.append=function(e,o){goog.dom.append_(goog.dom.getOwnerDocument(e),e,arguments,1)},goog.dom.removeChildren=function(e){for(var o;o=e.firstChild;)e.removeChild(o)},goog.dom.insertSiblingBefore=function(e,o){o.parentNode&&o.parentNode.insertBefore(e,o)},goog.dom.insertSiblingAfter=function(e,o){o.parentNode&&o.parentNode.insertBefore(e,o.nextSibling)},goog.dom.insertChildAt=function(e,o,t){e.insertBefore(o,e.childNodes[t]||null)},goog.dom.removeNode=function(e){return e&&e.parentNode?e.parentNode.removeChild(e):null},goog.dom.replaceNode=function(e,o){var t=o.parentNode;t&&t.replaceChild(e,o)},goog.dom.flattenElement=function(e){var o,t=e.parentNode;if(t&&t.nodeType!=goog.dom.NodeType.DOCUMENT_FRAGMENT){if(e.removeNode)return e.removeNode(!1);for(;o=e.firstChild;)t.insertBefore(o,e);return goog.dom.removeNode(e)}},goog.dom.getChildren=function(e){return goog.dom.BrowserFeature.CAN_USE_CHILDREN_ATTRIBUTE&&void 0!=e.children?e.children:goog.array.filter(e.childNodes,function(e){return e.nodeType==goog.dom.NodeType.ELEMENT})},goog.dom.getFirstElementChild=function(e){return void 0!=e.firstElementChild?e.firstElementChild:goog.dom.getNextElementNode_(e.firstChild,!0)},goog.dom.getLastElementChild=function(e){return void 0!=e.lastElementChild?e.lastElementChild:goog.dom.getNextElementNode_(e.lastChild,!1)},goog.dom.getNextElementSibling=function(e){return void 0!=e.nextElementSibling?e.nextElementSibling:goog.dom.getNextElementNode_(e.nextSibling,!0)},goog.dom.getPreviousElementSibling=function(e){return void 0!=e.previousElementSibling?e.previousElementSibling:goog.dom.getNextElementNode_(e.previousSibling,!1)},goog.dom.getNextElementNode_=function(e,o){for(;e&&e.nodeType!=goog.dom.NodeType.ELEMENT;)e=o?e.nextSibling:e.previousSibling;return e},goog.dom.getNextNode=function(e){if(!e)return null;if(e.firstChild)return e.firstChild;for(;e&&!e.nextSibling;)e=e.parentNode;return e?e.nextSibling:null},goog.dom.getPreviousNode=function(e){if(!e)return null;if(!e.previousSibling)return e.parentNode;for(e=e.previousSibling;e&&e.lastChild;)e=e.lastChild;return e},goog.dom.isNodeLike=function(e){return goog.isObject(e)&&e.nodeType>0},goog.dom.isElement=function(e){return goog.isObject(e)&&e.nodeType==goog.dom.NodeType.ELEMENT},goog.dom.isWindow=function(e){return goog.isObject(e)&&e.window==e},goog.dom.getParentElement=function(e){var o;if(goog.dom.BrowserFeature.CAN_USE_PARENT_ELEMENT_PROPERTY){var t=goog.userAgent.IE&&goog.userAgent.isVersionOrHigher("9")&&!goog.userAgent.isVersionOrHigher("10");if(!(t&&goog.global.SVGElement&&e instanceof goog.global.SVGElement)&&(o=e.parentElement))return o}return o=e.parentNode,goog.dom.isElement(o)?o:null},goog.dom.contains=function(e,o){if(e.contains&&o.nodeType==goog.dom.NodeType.ELEMENT)return e==o||e.contains(o);if("undefined"!=typeof e.compareDocumentPosition)return e==o||Boolean(16&e.compareDocumentPosition(o));for(;o&&e!=o;)o=o.parentNode;return o==e},goog.dom.compareNodeOrder=function(e,o){if(e==o)return 0;if(e.compareDocumentPosition)return 2&e.compareDocumentPosition(o)?1:-1;if(goog.userAgent.IE&&!goog.userAgent.isDocumentModeOrHigher(9)){if(e.nodeType==goog.dom.NodeType.DOCUMENT)return-1;if(o.nodeType==goog.dom.NodeType.DOCUMENT)return 1}if("sourceIndex"in e||e.parentNode&&"sourceIndex"in e.parentNode){var t=e.nodeType==goog.dom.NodeType.ELEMENT,r=o.nodeType==goog.dom.NodeType.ELEMENT;if(t&&r)return e.sourceIndex-o.sourceIndex;var n=e.parentNode,i=o.parentNode;return n==i?goog.dom.compareSiblingOrder_(e,o):!t&&goog.dom.contains(n,o)?-1*goog.dom.compareParentsDescendantNodeIe_(e,o):!r&&goog.dom.contains(i,e)?goog.dom.compareParentsDescendantNodeIe_(o,e):(t?e.sourceIndex:n.sourceIndex)-(r?o.sourceIndex:i.sourceIndex)}var a,s,g=goog.dom.getOwnerDocument(e);return a=g.createRange(),a.selectNode(e),a.collapse(!0),s=g.createRange(),s.selectNode(o),s.collapse(!0),a.compareBoundaryPoints(goog.global.Range.START_TO_END,s)},goog.dom.compareParentsDescendantNodeIe_=function(e,o){var t=e.parentNode;if(t==o)return-1;for(var r=o;r.parentNode!=t;)r=r.parentNode;return goog.dom.compareSiblingOrder_(r,e)},goog.dom.compareSiblingOrder_=function(e,o){for(var t=o;t=t.previousSibling;)if(t==e)return-1;return 1},goog.dom.findCommonAncestor=function(e){var o,t=arguments.length;if(!t)return null;if(1==t)return arguments[0];var r=[],n=1/0;for(o=0;t>o;o++){for(var i=[],a=arguments[o];a;)i.unshift(a),a=a.parentNode;r.push(i),n=Math.min(n,i.length)}var s=null;for(o=0;n>o;o++){for(var g=r[0][o],l=1;t>l;l++)if(g!=r[l][o])return s;s=g}return s},goog.dom.getOwnerDocument=function(e){return goog.asserts.assert(e,"Node cannot be null or undefined."),e.nodeType==goog.dom.NodeType.DOCUMENT?e:e.ownerDocument||e.document},goog.dom.getFrameContentDocument=function(e){var o=e.contentDocument||e.contentWindow.document;return o},goog.dom.getFrameContentWindow=function(e){return e.contentWindow||goog.dom.getWindow(goog.dom.getFrameContentDocument(e))},goog.dom.setTextContent=function(e,o){if(goog.asserts.assert(null!=e,"goog.dom.setTextContent expects a non-null value for node"),"textContent"in e)e.textContent=o;else if(e.nodeType==goog.dom.NodeType.TEXT)e.data=o;else if(e.firstChild&&e.firstChild.nodeType==goog.dom.NodeType.TEXT){for(;e.lastChild!=e.firstChild;)e.removeChild(e.lastChild);e.firstChild.data=o}else{goog.dom.removeChildren(e);var t=goog.dom.getOwnerDocument(e);e.appendChild(t.createTextNode(String(o)))}},goog.dom.getOuterHtml=function(e){if("outerHTML"in e)return e.outerHTML;var o=goog.dom.getOwnerDocument(e),t=o.createElement("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML},goog.dom.findNode=function(e,o){var t=[],r=goog.dom.findNodes_(e,o,t,!0);return r?t[0]:void 0},goog.dom.findNodes=function(e,o){var t=[];return goog.dom.findNodes_(e,o,t,!1),t},goog.dom.findNodes_=function(e,o,t,r){if(null!=e)for(var n=e.firstChild;n;){if(o(n)&&(t.push(n),r))return!0;if(goog.dom.findNodes_(n,o,t,r))return!0;n=n.nextSibling}return!1},goog.dom.TAGS_TO_IGNORE_={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},goog.dom.PREDEFINED_TAG_VALUES_={IMG:" ",BR:"\n"},goog.dom.isFocusableTabIndex=function(e){return goog.dom.hasSpecifiedTabIndex_(e)&&goog.dom.isTabIndexFocusable_(e)},goog.dom.setFocusableTabIndex=function(e,o){o?e.tabIndex=0:(e.tabIndex=-1,e.removeAttribute("tabIndex"))},goog.dom.isFocusable=function(e){var o;return o=goog.dom.nativelySupportsFocus_(e)?!e.disabled&&(!goog.dom.hasSpecifiedTabIndex_(e)||goog.dom.isTabIndexFocusable_(e)):goog.dom.isFocusableTabIndex(e),o&&goog.userAgent.IE?goog.dom.hasNonZeroBoundingRect_(e):o},goog.dom.hasSpecifiedTabIndex_=function(e){var o=e.getAttributeNode("tabindex");return goog.isDefAndNotNull(o)&&o.specified},goog.dom.isTabIndexFocusable_=function(e){var o=e.tabIndex;return goog.isNumber(o)&&o>=0&&32768>o},goog.dom.nativelySupportsFocus_=function(e){return e.tagName==goog.dom.TagName.A||e.tagName==goog.dom.TagName.INPUT||e.tagName==goog.dom.TagName.TEXTAREA||e.tagName==goog.dom.TagName.SELECT||e.tagName==goog.dom.TagName.BUTTON},goog.dom.hasNonZeroBoundingRect_=function(e){var o=goog.isFunction(e.getBoundingClientRect)?e.getBoundingClientRect():{height:e.offsetHeight,width:e.offsetWidth};return goog.isDefAndNotNull(o)&&o.height>0&&o.width>0},goog.dom.getTextContent=function(e){var o;if(goog.dom.BrowserFeature.CAN_USE_INNER_TEXT&&"innerText"in e)o=goog.string.canonicalizeNewlines(e.innerText);else{var t=[];goog.dom.getTextContent_(e,t,!0),o=t.join("")}return o=o.replace(/ \xAD /g," ").replace(/\xAD/g,""),o=o.replace(/\u200B/g,""),goog.dom.BrowserFeature.CAN_USE_INNER_TEXT||(o=o.replace(/ +/g," "))," "!=o&&(o=o.replace(/^\s*/,"")),o},goog.dom.getRawTextContent=function(e){var o=[];return goog.dom.getTextContent_(e,o,!1),o.join("")},goog.dom.getTextContent_=function(e,o,t){if(e.nodeName in goog.dom.TAGS_TO_IGNORE_);else if(e.nodeType==goog.dom.NodeType.TEXT)o.push(t?String(e.nodeValue).replace(/(\r\n|\r|\n)/g,""):e.nodeValue);else if(e.nodeName in goog.dom.PREDEFINED_TAG_VALUES_)o.push(goog.dom.PREDEFINED_TAG_VALUES_[e.nodeName]);else for(var r=e.firstChild;r;)goog.dom.getTextContent_(r,o,t),r=r.nextSibling},goog.dom.getNodeTextLength=function(e){return goog.dom.getTextContent(e).length},goog.dom.getNodeTextOffset=function(e,o){for(var t=o||goog.dom.getOwnerDocument(e).body,r=[];e&&e!=t;){for(var n=e;n=n.previousSibling;)r.unshift(goog.dom.getTextContent(n));e=e.parentNode}return goog.string.trimLeft(r.join("")).replace(/ +/g," ").length},goog.dom.getNodeAtOffset=function(e,o,t){for(var r=[e],n=0,i=null;r.length>0&&o>n;)if(i=r.pop(),i.nodeName in goog.dom.TAGS_TO_IGNORE_);else if(i.nodeType==goog.dom.NodeType.TEXT){var a=i.nodeValue.replace(/(\r\n|\r|\n)/g,"").replace(/ +/g," ");n+=a.length}else if(i.nodeName in goog.dom.PREDEFINED_TAG_VALUES_)n+=goog.dom.PREDEFINED_TAG_VALUES_[i.nodeName].length;else for(var s=i.childNodes.length-1;s>=0;s--)r.push(i.childNodes[s]);return goog.isObject(t)&&(t.remainder=i?i.nodeValue.length+o-n-1:0,t.node=i),i},goog.dom.isNodeList=function(e){if(e&&"number"==typeof e.length){if(goog.isObject(e))return"function"==typeof e.item||"string"==typeof e.item;if(goog.isFunction(e))return"function"==typeof e.item}return!1},goog.dom.getAncestorByTagNameAndClass=function(e,o,t,r){if(!o&&!t)return null;var n=o?o.toUpperCase():null;return goog.dom.getAncestor(e,function(e){return(!n||e.nodeName==n)&&(!t||goog.isString(e.className)&&goog.array.contains(e.className.split(/\s+/),t))},!0,r)},goog.dom.getAncestorByClass=function(e,o,t){return goog.dom.getAncestorByTagNameAndClass(e,null,o,t)},goog.dom.getAncestor=function(e,o,t,r){t||(e=e.parentNode);for(var n=null==r,i=0;e&&(n||r>=i);){if(o(e))return e;e=e.parentNode,i++}return null},goog.dom.getActiveElement=function(e){try{return e&&e.activeElement}catch(o){}return null},goog.dom.getPixelRatio=function(){var e=goog.dom.getWindow(),o=goog.userAgent.GECKO&&goog.userAgent.MOBILE;return goog.isDef(e.devicePixelRatio)&&!o?e.devicePixelRatio:e.matchMedia?goog.dom.matchesPixelRatio_(.75)||goog.dom.matchesPixelRatio_(1.5)||goog.dom.matchesPixelRatio_(2)||goog.dom.matchesPixelRatio_(3)||1:1},goog.dom.matchesPixelRatio_=function(e){var o=goog.dom.getWindow(),t="(-webkit-min-device-pixel-ratio: "+e+"),(min--moz-device-pixel-ratio: "+e+"),(min-resolution: "+e+"dppx)";return o.matchMedia(t).matches?e:0},goog.dom.DomHelper=function(e){this.document_=e||goog.global.document||document},goog.dom.DomHelper.prototype.getDomHelper=goog.dom.getDomHelper,goog.dom.DomHelper.prototype.setDocument=function(e){this.document_=e},goog.dom.DomHelper.prototype.getDocument=function(){return this.document_},goog.dom.DomHelper.prototype.getElement=function(e){return goog.dom.getElementHelper_(this.document_,e)},goog.dom.DomHelper.prototype.getRequiredElement=function(e){return goog.dom.getRequiredElementHelper_(this.document_,e)},goog.dom.DomHelper.prototype.$=goog.dom.DomHelper.prototype.getElement,goog.dom.DomHelper.prototype.getElementsByTagNameAndClass=function(e,o,t){return goog.dom.getElementsByTagNameAndClass_(this.document_,e,o,t)},goog.dom.DomHelper.prototype.getElementsByClass=function(e,o){var t=o||this.document_;return goog.dom.getElementsByClass(e,t)},goog.dom.DomHelper.prototype.getElementByClass=function(e,o){var t=o||this.document_;return goog.dom.getElementByClass(e,t)},goog.dom.DomHelper.prototype.getRequiredElementByClass=function(e,o){var t=o||this.document_;return goog.dom.getRequiredElementByClass(e,t)},goog.dom.DomHelper.prototype.$$=goog.dom.DomHelper.prototype.getElementsByTagNameAndClass,goog.dom.DomHelper.prototype.setProperties=goog.dom.setProperties,goog.dom.DomHelper.prototype.getViewportSize=function(e){return goog.dom.getViewportSize(e||this.getWindow())},goog.dom.DomHelper.prototype.getDocumentHeight=function(){return goog.dom.getDocumentHeight_(this.getWindow())},goog.dom.Appendable,goog.dom.DomHelper.prototype.createDom=function(e,o,t){return goog.dom.createDom_(this.document_,arguments)},goog.dom.DomHelper.prototype.$dom=goog.dom.DomHelper.prototype.createDom,goog.dom.DomHelper.prototype.createElement=function(e){return this.document_.createElement(e)},goog.dom.DomHelper.prototype.createTextNode=function(e){return this.document_.createTextNode(String(e))},goog.dom.DomHelper.prototype.createTable=function(e,o,t){return goog.dom.createTable_(this.document_,e,o,!!t)},goog.dom.DomHelper.prototype.safeHtmlToNode=function(e){return goog.dom.safeHtmlToNode_(this.document_,e)},goog.dom.DomHelper.prototype.htmlToDocumentFragment=function(e){return goog.dom.htmlToDocumentFragment_(this.document_,e)},goog.dom.DomHelper.prototype.isCss1CompatMode=function(){return goog.dom.isCss1CompatMode_(this.document_)},goog.dom.DomHelper.prototype.getWindow=function(){return goog.dom.getWindow_(this.document_)},goog.dom.DomHelper.prototype.getDocumentScrollElement=function(){return goog.dom.getDocumentScrollElement_(this.document_)},goog.dom.DomHelper.prototype.getDocumentScroll=function(){return goog.dom.getDocumentScroll_(this.document_)},goog.dom.DomHelper.prototype.getActiveElement=function(e){return goog.dom.getActiveElement(e||this.document_)},goog.dom.DomHelper.prototype.appendChild=goog.dom.appendChild,goog.dom.DomHelper.prototype.append=goog.dom.append,goog.dom.DomHelper.prototype.canHaveChildren=goog.dom.canHaveChildren,goog.dom.DomHelper.prototype.removeChildren=goog.dom.removeChildren,goog.dom.DomHelper.prototype.insertSiblingBefore=goog.dom.insertSiblingBefore,goog.dom.DomHelper.prototype.insertSiblingAfter=goog.dom.insertSiblingAfter,goog.dom.DomHelper.prototype.insertChildAt=goog.dom.insertChildAt,goog.dom.DomHelper.prototype.removeNode=goog.dom.removeNode,goog.dom.DomHelper.prototype.replaceNode=goog.dom.replaceNode,goog.dom.DomHelper.prototype.flattenElement=goog.dom.flattenElement,goog.dom.DomHelper.prototype.getChildren=goog.dom.getChildren,goog.dom.DomHelper.prototype.getFirstElementChild=goog.dom.getFirstElementChild,goog.dom.DomHelper.prototype.getLastElementChild=goog.dom.getLastElementChild,goog.dom.DomHelper.prototype.getNextElementSibling=goog.dom.getNextElementSibling,goog.dom.DomHelper.prototype.getPreviousElementSibling=goog.dom.getPreviousElementSibling,goog.dom.DomHelper.prototype.getNextNode=goog.dom.getNextNode,goog.dom.DomHelper.prototype.getPreviousNode=goog.dom.getPreviousNode,goog.dom.DomHelper.prototype.isNodeLike=goog.dom.isNodeLike,goog.dom.DomHelper.prototype.isElement=goog.dom.isElement,goog.dom.DomHelper.prototype.isWindow=goog.dom.isWindow,goog.dom.DomHelper.prototype.getParentElement=goog.dom.getParentElement,goog.dom.DomHelper.prototype.contains=goog.dom.contains,goog.dom.DomHelper.prototype.compareNodeOrder=goog.dom.compareNodeOrder,goog.dom.DomHelper.prototype.findCommonAncestor=goog.dom.findCommonAncestor,goog.dom.DomHelper.prototype.getOwnerDocument=goog.dom.getOwnerDocument,goog.dom.DomHelper.prototype.getFrameContentDocument=goog.dom.getFrameContentDocument,goog.dom.DomHelper.prototype.getFrameContentWindow=goog.dom.getFrameContentWindow,goog.dom.DomHelper.prototype.setTextContent=goog.dom.setTextContent,goog.dom.DomHelper.prototype.getOuterHtml=goog.dom.getOuterHtml,goog.dom.DomHelper.prototype.findNode=goog.dom.findNode,goog.dom.DomHelper.prototype.findNodes=goog.dom.findNodes,goog.dom.DomHelper.prototype.isFocusableTabIndex=goog.dom.isFocusableTabIndex,goog.dom.DomHelper.prototype.setFocusableTabIndex=goog.dom.setFocusableTabIndex,goog.dom.DomHelper.prototype.isFocusable=goog.dom.isFocusable,goog.dom.DomHelper.prototype.getTextContent=goog.dom.getTextContent,goog.dom.DomHelper.prototype.getNodeTextLength=goog.dom.getNodeTextLength,goog.dom.DomHelper.prototype.getNodeTextOffset=goog.dom.getNodeTextOffset,goog.dom.DomHelper.prototype.getNodeAtOffset=goog.dom.getNodeAtOffset,goog.dom.DomHelper.prototype.isNodeList=goog.dom.isNodeList,goog.dom.DomHelper.prototype.getAncestorByTagNameAndClass=goog.dom.getAncestorByTagNameAndClass,goog.dom.DomHelper.prototype.getAncestorByClass=goog.dom.getAncestorByClass,goog.dom.DomHelper.prototype.getAncestor=goog.dom.getAncestor,goog.provide("goog.dom.classlist"),goog.require("goog.array"),goog.define("goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST",!1),goog.dom.classlist.get=function(e){if(goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST||e.classList)return e.classList;var o=e.className;return goog.isString(o)&&o.match(/\S+/g)||[]},goog.dom.classlist.set=function(e,o){e.className=o},goog.dom.classlist.contains=function(e,o){return goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST||e.classList?e.classList.contains(o):goog.array.contains(goog.dom.classlist.get(e),o)},goog.dom.classlist.add=function(e,o){return goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST||e.classList?void e.classList.add(o):void(goog.dom.classlist.contains(e,o)||(e.className+=e.className.length>0?" "+o:o))},goog.dom.classlist.addAll=function(e,o){if(goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST||e.classList)return void goog.array.forEach(o,function(o){goog.dom.classlist.add(e,o)});var t={};goog.array.forEach(goog.dom.classlist.get(e),function(e){t[e]=!0}),goog.array.forEach(o,function(e){t[e]=!0}),e.className="";for(var r in t)e.className+=e.className.length>0?" "+r:r},goog.dom.classlist.remove=function(e,o){return goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST||e.classList?void e.classList.remove(o):void(goog.dom.classlist.contains(e,o)&&(e.className=goog.array.filter(goog.dom.classlist.get(e),function(e){return e!=o}).join(" ")))},goog.dom.classlist.removeAll=function(e,o){return goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST||e.classList?void goog.array.forEach(o,function(o){goog.dom.classlist.remove(e,o)}):void(e.className=goog.array.filter(goog.dom.classlist.get(e),function(e){return!goog.array.contains(o,e)}).join(" "))},goog.dom.classlist.enable=function(e,o,t){t?goog.dom.classlist.add(e,o):goog.dom.classlist.remove(e,o)},goog.dom.classlist.enableAll=function(e,o,t){var r=t?goog.dom.classlist.addAll:goog.dom.classlist.removeAll;r(e,o)},goog.dom.classlist.swap=function(e,o,t){return goog.dom.classlist.contains(e,o)?(goog.dom.classlist.remove(e,o),goog.dom.classlist.add(e,t),!0):!1},goog.dom.classlist.toggle=function(e,o){var t=!goog.dom.classlist.contains(e,o);return goog.dom.classlist.enable(e,o,t),t},goog.dom.classlist.addRemove=function(e,o,t){goog.dom.classlist.remove(e,o),goog.dom.classlist.add(e,t)},goog.provide("goog.dom.vendor"),goog.require("goog.string"),goog.require("goog.userAgent"),goog.dom.vendor.getVendorJsPrefix=function(){return goog.userAgent.WEBKIT?"Webkit":goog.userAgent.GECKO?"Moz":goog.userAgent.IE?"ms":goog.userAgent.OPERA?"O":null},goog.dom.vendor.getVendorPrefix=function(){return goog.userAgent.WEBKIT?"-webkit":goog.userAgent.GECKO?"-moz":goog.userAgent.IE?"-ms":goog.userAgent.OPERA?"-o":null},goog.dom.vendor.getPrefixedPropertyName=function(e,o){if(o&&e in o)return e;var t=goog.dom.vendor.getVendorJsPrefix();if(t){t=t.toLowerCase();var r=t+goog.string.toTitleCase(e);return!goog.isDef(o)||r in o?r:null}return null},goog.dom.vendor.getPrefixedEventType=function(e){var o=goog.dom.vendor.getVendorJsPrefix()||"";return(o+e).toLowerCase()},goog.provide("goog.math.Box"),goog.require("goog.math.Coordinate"),goog.math.Box=function(e,o,t,r){this.top=e,this.right=o,this.bottom=t,this.left=r},goog.math.Box.boundingBox=function(e){for(var o=new goog.math.Box(arguments[0].y,arguments[0].x,arguments[0].y,arguments[0].x),t=1;t<arguments.length;t++){var r=arguments[t];o.top=Math.min(o.top,r.y),o.right=Math.max(o.right,r.x),o.bottom=Math.max(o.bottom,r.y),o.left=Math.min(o.left,r.x)}return o},goog.math.Box.prototype.getWidth=function(){return this.right-this.left},goog.math.Box.prototype.getHeight=function(){return this.bottom-this.top},goog.math.Box.prototype.clone=function(){return new goog.math.Box(this.top,this.right,this.bottom,this.left)},goog.DEBUG&&(goog.math.Box.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"}),goog.math.Box.prototype.contains=function(e){return goog.math.Box.contains(this,e)},goog.math.Box.prototype.expand=function(e,o,t,r){return goog.isObject(e)?(this.top-=e.top,this.right+=e.right,this.bottom+=e.bottom,this.left-=e.left):(this.top-=e,this.right+=o,this.bottom+=t,this.left-=r),this},goog.math.Box.prototype.expandToInclude=function(e){this.left=Math.min(this.left,e.left),this.top=Math.min(this.top,e.top),this.right=Math.max(this.right,e.right),this.bottom=Math.max(this.bottom,e.bottom)},goog.math.Box.equals=function(e,o){return e==o?!0:e&&o?e.top==o.top&&e.right==o.right&&e.bottom==o.bottom&&e.left==o.left:!1},goog.math.Box.contains=function(e,o){return e&&o?o instanceof goog.math.Box?o.left>=e.left&&o.right<=e.right&&o.top>=e.top&&o.bottom<=e.bottom:o.x>=e.left&&o.x<=e.right&&o.y>=e.top&&o.y<=e.bottom:!1},goog.math.Box.relativePositionX=function(e,o){return o.x<e.left?o.x-e.left:o.x>e.right?o.x-e.right:0},goog.math.Box.relativePositionY=function(e,o){return o.y<e.top?o.y-e.top:o.y>e.bottom?o.y-e.bottom:0},goog.math.Box.distance=function(e,o){var t=goog.math.Box.relativePositionX(e,o),r=goog.math.Box.relativePositionY(e,o);return Math.sqrt(t*t+r*r)},goog.math.Box.intersects=function(e,o){return e.left<=o.right&&o.left<=e.right&&e.top<=o.bottom&&o.top<=e.bottom},goog.math.Box.intersectsWithPadding=function(e,o,t){return e.left<=o.right+t&&o.left<=e.right+t&&e.top<=o.bottom+t&&o.top<=e.bottom+t},goog.math.Box.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),
this},goog.math.Box.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},goog.math.Box.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this},goog.math.Box.prototype.translate=function(e,o){return e instanceof goog.math.Coordinate?(this.left+=e.x,this.right+=e.x,this.top+=e.y,this.bottom+=e.y):(this.left+=e,this.right+=e,goog.isNumber(o)&&(this.top+=o,this.bottom+=o)),this},goog.math.Box.prototype.scale=function(e,o){var t=goog.isNumber(o)?o:e;return this.left*=e,this.right*=e,this.top*=t,this.bottom*=t,this},goog.provide("goog.math.Rect"),goog.require("goog.math.Box"),goog.require("goog.math.Coordinate"),goog.require("goog.math.Size"),goog.math.Rect=function(e,o,t,r){this.left=e,this.top=o,this.width=t,this.height=r},goog.math.Rect.prototype.clone=function(){return new goog.math.Rect(this.left,this.top,this.width,this.height)},goog.math.Rect.prototype.toBox=function(){var e=this.left+this.width,o=this.top+this.height;return new goog.math.Box(this.top,e,o,this.left)},goog.math.Rect.createFromBox=function(e){return new goog.math.Rect(e.left,e.top,e.right-e.left,e.bottom-e.top)},goog.DEBUG&&(goog.math.Rect.prototype.toString=function(){return"("+this.left+", "+this.top+" - "+this.width+"w x "+this.height+"h)"}),goog.math.Rect.equals=function(e,o){return e==o?!0:e&&o?e.left==o.left&&e.width==o.width&&e.top==o.top&&e.height==o.height:!1},goog.math.Rect.prototype.intersection=function(e){var o=Math.max(this.left,e.left),t=Math.min(this.left+this.width,e.left+e.width);if(t>=o){var r=Math.max(this.top,e.top),n=Math.min(this.top+this.height,e.top+e.height);if(n>=r)return this.left=o,this.top=r,this.width=t-o,this.height=n-r,!0}return!1},goog.math.Rect.intersection=function(e,o){var t=Math.max(e.left,o.left),r=Math.min(e.left+e.width,o.left+o.width);if(r>=t){var n=Math.max(e.top,o.top),i=Math.min(e.top+e.height,o.top+o.height);if(i>=n)return new goog.math.Rect(t,n,r-t,i-n)}return null},goog.math.Rect.intersects=function(e,o){return e.left<=o.left+o.width&&o.left<=e.left+e.width&&e.top<=o.top+o.height&&o.top<=e.top+e.height},goog.math.Rect.prototype.intersects=function(e){return goog.math.Rect.intersects(this,e)},goog.math.Rect.difference=function(e,o){var t=goog.math.Rect.intersection(e,o);if(!t||!t.height||!t.width)return[e.clone()];var r=[],n=e.top,i=e.height,a=e.left+e.width,s=e.top+e.height,g=o.left+o.width,l=o.top+o.height;return o.top>e.top&&(r.push(new goog.math.Rect(e.left,e.top,e.width,o.top-e.top)),n=o.top,i-=o.top-e.top),s>l&&(r.push(new goog.math.Rect(e.left,l,e.width,s-l)),i=l-n),o.left>e.left&&r.push(new goog.math.Rect(e.left,n,o.left-e.left,i)),a>g&&r.push(new goog.math.Rect(g,n,a-g,i)),r},goog.math.Rect.prototype.difference=function(e){return goog.math.Rect.difference(this,e)},goog.math.Rect.prototype.boundingRect=function(e){var o=Math.max(this.left+this.width,e.left+e.width),t=Math.max(this.top+this.height,e.top+e.height);this.left=Math.min(this.left,e.left),this.top=Math.min(this.top,e.top),this.width=o-this.left,this.height=t-this.top},goog.math.Rect.boundingRect=function(e,o){if(!e||!o)return null;var t=e.clone();return t.boundingRect(o),t},goog.math.Rect.prototype.contains=function(e){return e instanceof goog.math.Rect?this.left<=e.left&&this.left+this.width>=e.left+e.width&&this.top<=e.top&&this.top+this.height>=e.top+e.height:e.x>=this.left&&e.x<=this.left+this.width&&e.y>=this.top&&e.y<=this.top+this.height},goog.math.Rect.prototype.squaredDistance=function(e){var o=e.x<this.left?this.left-e.x:Math.max(e.x-(this.left+this.width),0),t=e.y<this.top?this.top-e.y:Math.max(e.y-(this.top+this.height),0);return o*o+t*t},goog.math.Rect.prototype.distance=function(e){return Math.sqrt(this.squaredDistance(e))},goog.math.Rect.prototype.getSize=function(){return new goog.math.Size(this.width,this.height)},goog.math.Rect.prototype.getTopLeft=function(){return new goog.math.Coordinate(this.left,this.top)},goog.math.Rect.prototype.getCenter=function(){return new goog.math.Coordinate(this.left+this.width/2,this.top+this.height/2)},goog.math.Rect.prototype.getBottomRight=function(){return new goog.math.Coordinate(this.left+this.width,this.top+this.height)},goog.math.Rect.prototype.ceil=function(){return this.left=Math.ceil(this.left),this.top=Math.ceil(this.top),this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},goog.math.Rect.prototype.floor=function(){return this.left=Math.floor(this.left),this.top=Math.floor(this.top),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},goog.math.Rect.prototype.round=function(){return this.left=Math.round(this.left),this.top=Math.round(this.top),this.width=Math.round(this.width),this.height=Math.round(this.height),this},goog.math.Rect.prototype.translate=function(e,o){return e instanceof goog.math.Coordinate?(this.left+=e.x,this.top+=e.y):(this.left+=e,goog.isNumber(o)&&(this.top+=o)),this},goog.math.Rect.prototype.scale=function(e,o){var t=goog.isNumber(o)?o:e;return this.left*=e,this.width*=e,this.top*=t,this.height*=t,this},goog.provide("goog.style"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.dom"),goog.require("goog.dom.NodeType"),goog.require("goog.dom.vendor"),goog.require("goog.math.Box"),goog.require("goog.math.Coordinate"),goog.require("goog.math.Rect"),goog.require("goog.math.Size"),goog.require("goog.object"),goog.require("goog.string"),goog.require("goog.userAgent"),goog.style.setStyle=function(e,o,t){if(goog.isString(o))goog.style.setStyle_(e,t,o);else for(var r in o)goog.style.setStyle_(e,o[r],r)},goog.style.setStyle_=function(e,o,t){var r=goog.style.getVendorJsStyleName_(e,t);r&&(e.style[r]=o)},goog.style.styleNameCache_={},goog.style.getVendorJsStyleName_=function(e,o){var t=goog.style.styleNameCache_[o];if(!t){var r=goog.string.toCamelCase(o);if(t=r,void 0===e.style[r]){var n=goog.dom.vendor.getVendorJsPrefix()+goog.string.toTitleCase(r);void 0!==e.style[n]&&(t=n)}goog.style.styleNameCache_[o]=t}return t},goog.style.getVendorStyleName_=function(e,o){var t=goog.string.toCamelCase(o);if(void 0===e.style[t]){var r=goog.dom.vendor.getVendorJsPrefix()+goog.string.toTitleCase(t);if(void 0!==e.style[r])return goog.dom.vendor.getVendorPrefix()+"-"+o}return o},goog.style.getStyle=function(e,o){var t=e.style[goog.string.toCamelCase(o)];return"undefined"!=typeof t?t:e.style[goog.style.getVendorJsStyleName_(e,o)]||""},goog.style.getComputedStyle=function(e,o){var t=goog.dom.getOwnerDocument(e);if(t.defaultView&&t.defaultView.getComputedStyle){var r=t.defaultView.getComputedStyle(e,null);if(r)return r[o]||r.getPropertyValue(o)||""}return""},goog.style.getCascadedStyle=function(e,o){return e.currentStyle?e.currentStyle[o]:null},goog.style.getStyle_=function(e,o){return goog.style.getComputedStyle(e,o)||goog.style.getCascadedStyle(e,o)||e.style&&e.style[o]},goog.style.getComputedBoxSizing=function(e){return goog.style.getStyle_(e,"boxSizing")||goog.style.getStyle_(e,"MozBoxSizing")||goog.style.getStyle_(e,"WebkitBoxSizing")||null},goog.style.getComputedPosition=function(e){return goog.style.getStyle_(e,"position")},goog.style.getBackgroundColor=function(e){return goog.style.getStyle_(e,"backgroundColor")},goog.style.getComputedOverflowX=function(e){return goog.style.getStyle_(e,"overflowX")},goog.style.getComputedOverflowY=function(e){return goog.style.getStyle_(e,"overflowY")},goog.style.getComputedZIndex=function(e){return goog.style.getStyle_(e,"zIndex")},goog.style.getComputedTextAlign=function(e){return goog.style.getStyle_(e,"textAlign")},goog.style.getComputedCursor=function(e){return goog.style.getStyle_(e,"cursor")},goog.style.getComputedTransform=function(e){var o=goog.style.getVendorStyleName_(e,"transform");return goog.style.getStyle_(e,o)||goog.style.getStyle_(e,"transform")},goog.style.setPosition=function(e,o,t){var r,n;o instanceof goog.math.Coordinate?(r=o.x,n=o.y):(r=o,n=t),e.style.left=goog.style.getPixelStyleValue_(r,!1),e.style.top=goog.style.getPixelStyleValue_(n,!1)},goog.style.getPosition=function(e){return new goog.math.Coordinate(e.offsetLeft,e.offsetTop)},goog.style.getClientViewportElement=function(e){var o;return o=e?goog.dom.getOwnerDocument(e):goog.dom.getDocument(),!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9)||goog.dom.getDomHelper(o).isCss1CompatMode()?o.documentElement:o.body},goog.style.getViewportPageOffset=function(e){var o=e.body,t=e.documentElement,r=o.scrollLeft||t.scrollLeft,n=o.scrollTop||t.scrollTop;return new goog.math.Coordinate(r,n)},goog.style.getBoundingClientRect_=function(e){var o;try{o=e.getBoundingClientRect()}catch(t){return{left:0,top:0,right:0,bottom:0}}if(goog.userAgent.IE&&e.ownerDocument.body){var r=e.ownerDocument;o.left-=r.documentElement.clientLeft+r.body.clientLeft,o.top-=r.documentElement.clientTop+r.body.clientTop}return o},goog.style.getOffsetParent=function(e){if(goog.userAgent.IE&&!goog.userAgent.isDocumentModeOrHigher(8))return e.offsetParent;for(var o=goog.dom.getOwnerDocument(e),t=goog.style.getStyle_(e,"position"),r="fixed"==t||"absolute"==t,n=e.parentNode;n&&n!=o;n=n.parentNode)if(t=goog.style.getStyle_(n,"position"),r=r&&"static"==t&&n!=o.documentElement&&n!=o.body,!r&&(n.scrollWidth>n.clientWidth||n.scrollHeight>n.clientHeight||"fixed"==t||"absolute"==t||"relative"==t))return n;return null},goog.style.getVisibleRectForElement=function(e){for(var o=new goog.math.Box(0,1/0,1/0,0),t=goog.dom.getDomHelper(e),r=t.getDocument().body,n=t.getDocument().documentElement,i=t.getDocumentScrollElement(),a=e;a=goog.style.getOffsetParent(a);)if(!(goog.userAgent.IE&&0==a.clientWidth||goog.userAgent.WEBKIT&&0==a.clientHeight&&a==r||a==r||a==n||"visible"==goog.style.getStyle_(a,"overflow"))){var s=goog.style.getPageOffset(a),g=goog.style.getClientLeftTop(a);s.x+=g.x,s.y+=g.y,o.top=Math.max(o.top,s.y),o.right=Math.min(o.right,s.x+a.clientWidth),o.bottom=Math.min(o.bottom,s.y+a.clientHeight),o.left=Math.max(o.left,s.x)}var l=i.scrollLeft,p=i.scrollTop;o.left=Math.max(o.left,l),o.top=Math.max(o.top,p);var u=t.getViewportSize();return o.right=Math.min(o.right,l+u.width),o.bottom=Math.min(o.bottom,p+u.height),o.top>=0&&o.left>=0&&o.bottom>o.top&&o.right>o.left?o:null},goog.style.getContainerOffsetToScrollInto=function(e,o,t){var r=goog.style.getPageOffset(e),n=goog.style.getPageOffset(o),i=goog.style.getBorderBox(o),a=r.x-n.x-i.left,s=r.y-n.y-i.top,g=o.clientWidth-e.offsetWidth,l=o.clientHeight-e.offsetHeight,p=o.scrollLeft,u=o.scrollTop;return(o==goog.dom.getDocument().body||o==goog.dom.getDocument().documentElement)&&(p=n.x+i.left,u=n.y+i.top,goog.userAgent.IE&&!goog.userAgent.isDocumentModeOrHigher(10)&&(p+=i.left,u+=i.top)),t?(p+=a-g/2,u+=s-l/2):(p+=Math.min(a,Math.max(a-g,0)),u+=Math.min(s,Math.max(s-l,0))),new goog.math.Coordinate(p,u)},goog.style.scrollIntoContainerView=function(e,o,t){var r=goog.style.getContainerOffsetToScrollInto(e,o,t);o.scrollLeft=r.x,o.scrollTop=r.y},goog.style.getClientLeftTop=function(e){return new goog.math.Coordinate(e.clientLeft,e.clientTop)},goog.style.getPageOffset=function(e){{var o=goog.dom.getOwnerDocument(e);goog.style.getStyle_(e,"position")}goog.asserts.assertObject(e,"Parameter is required");var t=new goog.math.Coordinate(0,0),r=goog.style.getClientViewportElement(o);if(e==r)return t;var n=goog.style.getBoundingClientRect_(e),i=goog.dom.getDomHelper(o).getDocumentScroll();return t.x=n.left+i.x,t.y=n.top+i.y,t},goog.style.getPageOffsetLeft=function(e){return goog.style.getPageOffset(e).x},goog.style.getPageOffsetTop=function(e){return goog.style.getPageOffset(e).y},goog.style.getFramedPageOffset=function(e,o){var t=new goog.math.Coordinate(0,0),r=goog.dom.getWindow(goog.dom.getOwnerDocument(e)),n=e;do{var i=r==o?goog.style.getPageOffset(n):goog.style.getClientPositionForElement_(goog.asserts.assert(n));t.x+=i.x,t.y+=i.y}while(r&&r!=o&&r!=r.parent&&(n=r.frameElement)&&(r=r.parent));return t},goog.style.translateRectForAnotherFrame=function(e,o,t){if(o.getDocument()!=t.getDocument()){var r=o.getDocument().body,n=goog.style.getFramedPageOffset(r,t.getWindow());n=goog.math.Coordinate.difference(n,goog.style.getPageOffset(r)),!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9)||o.isCss1CompatMode()||(n=goog.math.Coordinate.difference(n,o.getDocumentScroll())),e.left+=n.x,e.top+=n.y}},goog.style.getRelativePosition=function(e,o){var t=goog.style.getClientPosition(e),r=goog.style.getClientPosition(o);return new goog.math.Coordinate(t.x-r.x,t.y-r.y)},goog.style.getClientPositionForElement_=function(e){var o=goog.style.getBoundingClientRect_(e);return new goog.math.Coordinate(o.left,o.top)},goog.style.getClientPosition=function(e){if(goog.asserts.assert(e),e.nodeType==goog.dom.NodeType.ELEMENT)return goog.style.getClientPositionForElement_(e);var o=goog.isFunction(e.getBrowserEvent),t=e,r=e;return e.targetTouches&&e.targetTouches.length?r=e.targetTouches[0]:o&&t.getBrowserEvent().targetTouches&&t.getBrowserEvent().targetTouches.length&&(r=t.getBrowserEvent().targetTouches[0]),new goog.math.Coordinate(r.clientX,r.clientY)},goog.style.setPageOffset=function(e,o,t){var r=goog.style.getPageOffset(e);o instanceof goog.math.Coordinate&&(t=o.y,o=o.x);var n=o-r.x,i=t-r.y;goog.style.setPosition(e,e.offsetLeft+n,e.offsetTop+i)},goog.style.setSize=function(e,o,t){var r;if(o instanceof goog.math.Size)r=o.height,o=o.width;else{if(void 0==t)throw Error("missing height argument");r=t}goog.style.setWidth(e,o),goog.style.setHeight(e,r)},goog.style.getPixelStyleValue_=function(e,o){return"number"==typeof e&&(e=(o?Math.round(e):e)+"px"),e},goog.style.setHeight=function(e,o){e.style.height=goog.style.getPixelStyleValue_(o,!0)},goog.style.setWidth=function(e,o){e.style.width=goog.style.getPixelStyleValue_(o,!0)},goog.style.getSize=function(e){return goog.style.evaluateWithTemporaryDisplay_(goog.style.getSizeWithDisplay_,e)},goog.style.evaluateWithTemporaryDisplay_=function(e,o){if("none"!=goog.style.getStyle_(o,"display"))return e(o);var t=o.style,r=t.display,n=t.visibility,i=t.position;t.visibility="hidden",t.position="absolute",t.display="inline";var a=e(o);return t.display=r,t.position=i,t.visibility=n,a},goog.style.getSizeWithDisplay_=function(e){var o=e.offsetWidth,t=e.offsetHeight,r=goog.userAgent.WEBKIT&&!o&&!t;if((!goog.isDef(o)||r)&&e.getBoundingClientRect){var n=goog.style.getBoundingClientRect_(e);return new goog.math.Size(n.right-n.left,n.bottom-n.top)}return new goog.math.Size(o,t)},goog.style.getTransformedSize=function(e){if(!e.getBoundingClientRect)return null;var o=goog.style.evaluateWithTemporaryDisplay_(goog.style.getBoundingClientRect_,e);return new goog.math.Size(o.right-o.left,o.bottom-o.top)},goog.style.getBounds=function(e){var o=goog.style.getPageOffset(e),t=goog.style.getSize(e);return new goog.math.Rect(o.x,o.y,t.width,t.height)},goog.style.toCamelCase=function(e){return goog.string.toCamelCase(String(e))},goog.style.toSelectorCase=function(e){return goog.string.toSelectorCase(e)},goog.style.getOpacity=function(e){var o=e.style,t="";if("opacity"in o)t=o.opacity;else if("MozOpacity"in o)t=o.MozOpacity;else if("filter"in o){var r=o.filter.match(/alpha\(opacity=([\d.]+)\)/);r&&(t=String(r[1]/100))}return""==t?t:Number(t)},goog.style.setOpacity=function(e,o){var t=e.style;"opacity"in t?t.opacity=o:"MozOpacity"in t?t.MozOpacity=o:"filter"in t&&(t.filter=""===o?"":"alpha(opacity="+100*o+")")},goog.style.setTransparentBackgroundImage=function(e,o){var t=e.style;goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("8")?t.filter='progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+o+'", sizingMethod="crop")':(t.backgroundImage="url("+o+")",t.backgroundPosition="top left",t.backgroundRepeat="no-repeat")},goog.style.clearTransparentBackgroundImage=function(e){var o=e.style;"filter"in o?o.filter="":o.backgroundImage="none"},goog.style.showElement=function(e,o){goog.style.setElementShown(e,o)},goog.style.setElementShown=function(e,o){e.style.display=o?"":"none"},goog.style.isElementShown=function(e){return"none"!=e.style.display},goog.style.installStyles=function(e,o){var t=goog.dom.getDomHelper(o),r=null,n=t.getDocument();if(goog.userAgent.IE&&n.createStyleSheet)r=n.createStyleSheet(),goog.style.setStyles(r,e);else{var i=t.getElementsByTagNameAndClass("head")[0];if(!i){var a=t.getElementsByTagNameAndClass("body")[0];i=t.createDom("head"),a.parentNode.insertBefore(i,a)}r=t.createDom("style"),goog.style.setStyles(r,e),t.appendChild(i,r)}return r},goog.style.uninstallStyles=function(e){var o=e.ownerNode||e.owningElement||e;goog.dom.removeNode(o)},goog.style.setStyles=function(e,o){goog.userAgent.IE&&goog.isDef(e.cssText)?e.cssText=o:e.innerHTML=o},goog.style.setPreWrap=function(e){var o=e.style;goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("8")?(o.whiteSpace="pre",o.wordWrap="break-word"):o.whiteSpace=goog.userAgent.GECKO?"-moz-pre-wrap":"pre-wrap"},goog.style.setInlineBlock=function(e){var o=e.style;o.position="relative",goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("8")?(o.zoom="1",o.display="inline"):o.display="inline-block"},goog.style.isRightToLeft=function(e){return"rtl"==goog.style.getStyle_(e,"direction")},goog.style.unselectableStyle_=goog.userAgent.GECKO?"MozUserSelect":goog.userAgent.WEBKIT?"WebkitUserSelect":null,goog.style.isUnselectable=function(e){return goog.style.unselectableStyle_?"none"==e.style[goog.style.unselectableStyle_].toLowerCase():goog.userAgent.IE||goog.userAgent.OPERA?"on"==e.getAttribute("unselectable"):!1},goog.style.setUnselectable=function(e,o,t){var r=t?null:e.getElementsByTagName("*"),n=goog.style.unselectableStyle_;if(n){var i=o?"none":"";if(e.style[n]=i,r)for(var a,s=0;a=r[s];s++)a.style[n]=i}else if(goog.userAgent.IE||goog.userAgent.OPERA){var i=o?"on":"";if(e.setAttribute("unselectable",i),r)for(var a,s=0;a=r[s];s++)a.setAttribute("unselectable",i)}},goog.style.getBorderBoxSize=function(e){return new goog.math.Size(e.offsetWidth,e.offsetHeight)},goog.style.setBorderBoxSize=function(e,o){var t=goog.dom.getOwnerDocument(e),r=goog.dom.getDomHelper(t).isCss1CompatMode();if(!goog.userAgent.IE||goog.userAgent.isVersionOrHigher("10")||r&&goog.userAgent.isVersionOrHigher("8"))goog.style.setBoxSizingSize_(e,o,"border-box");else{var n=e.style;if(r){var i=goog.style.getPaddingBox(e),a=goog.style.getBorderBox(e);n.pixelWidth=o.width-a.left-i.left-i.right-a.right,n.pixelHeight=o.height-a.top-i.top-i.bottom-a.bottom}else n.pixelWidth=o.width,n.pixelHeight=o.height}},goog.style.getContentBoxSize=function(e){var o=goog.dom.getOwnerDocument(e),t=goog.userAgent.IE&&e.currentStyle;if(t&&goog.dom.getDomHelper(o).isCss1CompatMode()&&"auto"!=t.width&&"auto"!=t.height&&!t.boxSizing){var r=goog.style.getIePixelValue_(e,t.width,"width","pixelWidth"),n=goog.style.getIePixelValue_(e,t.height,"height","pixelHeight");return new goog.math.Size(r,n)}var i=goog.style.getBorderBoxSize(e),a=goog.style.getPaddingBox(e),s=goog.style.getBorderBox(e);return new goog.math.Size(i.width-s.left-a.left-a.right-s.right,i.height-s.top-a.top-a.bottom-s.bottom)},goog.style.setContentBoxSize=function(e,o){var t=goog.dom.getOwnerDocument(e),r=goog.dom.getDomHelper(t).isCss1CompatMode();if(!goog.userAgent.IE||goog.userAgent.isVersionOrHigher("10")||r&&goog.userAgent.isVersionOrHigher("8"))goog.style.setBoxSizingSize_(e,o,"content-box");else{var n=e.style;if(r)n.pixelWidth=o.width,n.pixelHeight=o.height;else{var i=goog.style.getPaddingBox(e),a=goog.style.getBorderBox(e);n.pixelWidth=o.width+a.left+i.left+i.right+a.right,n.pixelHeight=o.height+a.top+i.top+i.bottom+a.bottom}}},goog.style.setBoxSizingSize_=function(e,o,t){var r=e.style;goog.userAgent.GECKO?r.MozBoxSizing=t:goog.userAgent.WEBKIT?r.WebkitBoxSizing=t:r.boxSizing=t,r.width=Math.max(o.width,0)+"px",r.height=Math.max(o.height,0)+"px"},goog.style.getIePixelValue_=function(e,o,t,r){if(/^\d+px?$/.test(o))return parseInt(o,10);var n=e.style[t],i=e.runtimeStyle[t];e.runtimeStyle[t]=e.currentStyle[t],e.style[t]=o;var a=e.style[r];return e.style[t]=n,e.runtimeStyle[t]=i,a},goog.style.getIePixelDistance_=function(e,o){var t=goog.style.getCascadedStyle(e,o);return t?goog.style.getIePixelValue_(e,t,"left","pixelLeft"):0},goog.style.getBox_=function(e,o){if(goog.userAgent.IE){var t=goog.style.getIePixelDistance_(e,o+"Left"),r=goog.style.getIePixelDistance_(e,o+"Right"),n=goog.style.getIePixelDistance_(e,o+"Top"),i=goog.style.getIePixelDistance_(e,o+"Bottom");return new goog.math.Box(n,r,i,t)}var t=goog.style.getComputedStyle(e,o+"Left"),r=goog.style.getComputedStyle(e,o+"Right"),n=goog.style.getComputedStyle(e,o+"Top"),i=goog.style.getComputedStyle(e,o+"Bottom");return new goog.math.Box(parseFloat(n),parseFloat(r),parseFloat(i),parseFloat(t))},goog.style.getPaddingBox=function(e){return goog.style.getBox_(e,"padding")},goog.style.getMarginBox=function(e){return goog.style.getBox_(e,"margin")},goog.style.ieBorderWidthKeywords_={thin:2,medium:4,thick:6},goog.style.getIePixelBorder_=function(e,o){if("none"==goog.style.getCascadedStyle(e,o+"Style"))return 0;var t=goog.style.getCascadedStyle(e,o+"Width");return t in goog.style.ieBorderWidthKeywords_?goog.style.ieBorderWidthKeywords_[t]:goog.style.getIePixelValue_(e,t,"left","pixelLeft")},goog.style.getBorderBox=function(e){if(goog.userAgent.IE&&!goog.userAgent.isDocumentModeOrHigher(9)){var o=goog.style.getIePixelBorder_(e,"borderLeft"),t=goog.style.getIePixelBorder_(e,"borderRight"),r=goog.style.getIePixelBorder_(e,"borderTop"),n=goog.style.getIePixelBorder_(e,"borderBottom");return new goog.math.Box(r,t,n,o)}var o=goog.style.getComputedStyle(e,"borderLeftWidth"),t=goog.style.getComputedStyle(e,"borderRightWidth"),r=goog.style.getComputedStyle(e,"borderTopWidth"),n=goog.style.getComputedStyle(e,"borderBottomWidth");return new goog.math.Box(parseFloat(r),parseFloat(t),parseFloat(n),parseFloat(o))},goog.style.getFontFamily=function(e){var o=goog.dom.getOwnerDocument(e),t="";if(o.body.createTextRange&&goog.dom.contains(o,e)){var r=o.body.createTextRange();r.moveToElementText(e);try{t=r.queryCommandValue("FontName")}catch(n){t=""}}t||(t=goog.style.getStyle_(e,"fontFamily"));var i=t.split(",");return i.length>1&&(t=i[0]),goog.string.stripQuotes(t,"\"'")},goog.style.lengthUnitRegex_=/[^\d]+$/,goog.style.getLengthUnits=function(e){var o=e.match(goog.style.lengthUnitRegex_);return o&&o[0]||null},goog.style.ABSOLUTE_CSS_LENGTH_UNITS_={cm:1,"in":1,mm:1,pc:1,pt:1},goog.style.CONVERTIBLE_RELATIVE_CSS_UNITS_={em:1,ex:1},goog.style.getFontSize=function(e){var o=goog.style.getStyle_(e,"fontSize"),t=goog.style.getLengthUnits(o);if(o&&"px"==t)return parseInt(o,10);if(goog.userAgent.IE){if(t in goog.style.ABSOLUTE_CSS_LENGTH_UNITS_)return goog.style.getIePixelValue_(e,o,"left","pixelLeft");if(e.parentNode&&e.parentNode.nodeType==goog.dom.NodeType.ELEMENT&&t in goog.style.CONVERTIBLE_RELATIVE_CSS_UNITS_){var r=e.parentNode,n=goog.style.getStyle_(r,"fontSize");return goog.style.getIePixelValue_(r,o==n?"1em":o,"left","pixelLeft")}}var i=goog.dom.createDom("span",{style:"visibility:hidden;position:absolute;line-height:0;padding:0;margin:0;border:0;height:1em;"});return goog.dom.appendChild(e,i),o=i.offsetHeight,goog.dom.removeNode(i),o},goog.style.parseStyleAttribute=function(e){var o={};return goog.array.forEach(e.split(/\s*;\s*/),function(e){var t=e.split(/\s*:\s*/);2==t.length&&(o[goog.string.toCamelCase(t[0].toLowerCase())]=t[1])}),o},goog.style.toStyleAttribute=function(e){var o=[];return goog.object.forEach(e,function(e,t){o.push(goog.string.toSelectorCase(t),":",e,";")}),o.join("")},goog.style.setFloat=function(e,o){e.style[goog.userAgent.IE?"styleFloat":"cssFloat"]=o},goog.style.getFloat=function(e){return e.style[goog.userAgent.IE?"styleFloat":"cssFloat"]||""},goog.style.getScrollbarWidth=function(e){var o=goog.dom.createElement("div");e&&(o.className=e),o.style.cssText="overflow:auto;position:absolute;top:0;width:100px;height:100px";var t=goog.dom.createElement("div");goog.style.setSize(t,"200px","200px"),o.appendChild(t),goog.dom.appendChild(goog.dom.getDocument().body,o);var r=o.offsetWidth-o.clientWidth;return goog.dom.removeNode(o),r},goog.style.MATRIX_TRANSLATION_REGEX_=new RegExp("matrix\\([0-9\\.\\-]+, [0-9\\.\\-]+, [0-9\\.\\-]+, [0-9\\.\\-]+, ([0-9\\.\\-]+)p?x?, ([0-9\\.\\-]+)p?x?\\)"),goog.style.getCssTranslation=function(e){var o=goog.style.getComputedTransform(e);if(!o)return new goog.math.Coordinate(0,0);var t=o.match(goog.style.MATRIX_TRANSLATION_REGEX_);return t?new goog.math.Coordinate(parseFloat(t[1]),parseFloat(t[2])):new goog.math.Coordinate(0,0)},goog.provide("ol.MapEvent"),goog.provide("ol.MapEventType"),goog.require("goog.events.Event"),ol.MapEventType={POSTRENDER:"postrender",MOVEEND:"moveend"},ol.MapEvent=function(e,o,t){goog.base(this,e),this.map=o,this.frameState=goog.isDef(t)?t:null},goog.inherits(ol.MapEvent,goog.events.Event),goog.provide("ol.control.Control"),goog.require("goog.array"),goog.require("goog.dom"),goog.require("goog.events"),goog.require("goog.events.EventType"),goog.require("ol.MapEventType"),goog.require("ol.Object"),ol.control.Control=function(e){goog.base(this),this.element=goog.isDef(e.element)?e.element:null,this.target_=null,this.map_=null,this.listenerKeys=[],this.render=goog.isDef(e.render)?e.render:goog.nullFunction,goog.isDef(e.target)&&this.setTarget(e.target)},goog.inherits(ol.control.Control,ol.Object),ol.control.Control.bindMouseOutFocusOutBlur=function(e){goog.events.listen(e,[goog.events.EventType.MOUSEOUT,goog.events.EventType.FOCUSOUT],function(){this.blur()},!1)},ol.control.Control.prototype.disposeInternal=function(){goog.dom.removeNode(this.element),goog.base(this,"disposeInternal")},ol.control.Control.prototype.getMap=function(){return this.map_},ol.control.Control.prototype.setMap=function(e){if(goog.isNull(this.map_)||goog.dom.removeNode(this.element),goog.array.isEmpty(this.listenerKeys)||(goog.array.forEach(this.listenerKeys,goog.events.unlistenByKey),this.listenerKeys.length=0),this.map_=e,!goog.isNull(this.map_)){var o=goog.isNull(this.target_)?e.getOverlayContainerStopEvent():this.target_;goog.dom.appendChild(o,this.element),this.render!==goog.nullFunction&&this.listenerKeys.push(goog.events.listen(e,ol.MapEventType.POSTRENDER,this.render,!1,this)),e.render()}},ol.control.Control.prototype.setTarget=function(e){this.target_=goog.dom.getElement(e)},goog.provide("ol.css"),ol.css.CLASS_HIDDEN="ol-hidden",ol.css.CLASS_UNSELECTABLE="ol-unselectable",ol.css.CLASS_UNSUPPORTED="ol-unsupported",ol.css.CLASS_CONTROL="ol-control",goog.provide("ol.structs.LRUCache"),goog.require("goog.asserts"),goog.require("goog.object"),ol.structs.LRUCache=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},ol.structs.LRUCache.prototype.assertValid=function(){if(0===this.count_)goog.asserts.assert(goog.object.isEmpty(this.entries_),"entries must be an empty object (count = 0)"),goog.asserts.assert(goog.isNull(this.oldest_),"oldest must be null (count = 0)"),goog.asserts.assert(goog.isNull(this.newest_),"newest must be null (count = 0)");else{goog.asserts.assert(goog.object.getCount(this.entries_)==this.count_,"number of entries matches count"),goog.asserts.assert(!goog.isNull(this.oldest_),"we have an oldest entry"),goog.asserts.assert(goog.isNull(this.oldest_.older),"no entry is older than oldest"),goog.asserts.assert(!goog.isNull(this.newest_),"we have a newest entry"),goog.asserts.assert(goog.isNull(this.newest_.newer),"no entry is newer than newest");var e,o,t=null;for(e=0,o=this.oldest_;!goog.isNull(o);o=o.newer)goog.asserts.assert(o.older===t,"entry.older links to correct older"),t=o,++e;goog.asserts.assert(e==this.count_,"iterated correct amount of times");var r=null;for(e=0,o=this.newest_;!goog.isNull(o);o=o.older)goog.asserts.assert(o.newer===r,"entry.newer links to correct newer"),r=o,++e;goog.asserts.assert(e==this.count_,"iterated correct amount of times")}},ol.structs.LRUCache.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},ol.structs.LRUCache.prototype.containsKey=function(e){return this.entries_.hasOwnProperty(e)},ol.structs.LRUCache.prototype.forEach=function(e,o){for(var t=this.oldest_;!goog.isNull(t);)e.call(o,t.value_,t.key_,this),t=t.newer},ol.structs.LRUCache.prototype.get=function(e){var o=this.entries_[e];return goog.asserts.assert(goog.isDef(o),"an entry exists for key %s",e),o===this.newest_?o.value_:(o===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(o.newer.older=o.older,o.older.newer=o.newer),o.newer=null,o.older=this.newest_,this.newest_.newer=o,this.newest_=o,o.value_)},ol.structs.LRUCache.prototype.getCount=function(){return this.count_},ol.structs.LRUCache.prototype.getKeys=function(){var e,o=new Array(this.count_),t=0;for(e=this.newest_;!goog.isNull(e);e=e.older)o[t++]=e.key_;return goog.asserts.assert(t==this.count_,"iterated correct number of times"),o},ol.structs.LRUCache.prototype.getValues=function(){var e,o=new Array(this.count_),t=0;for(e=this.newest_;!goog.isNull(e);e=e.older)o[t++]=e.value_;return goog.asserts.assert(t==this.count_,"iterated correct number of times"),o},ol.structs.LRUCache.prototype.peekLast=function(){return goog.asserts.assert(!goog.isNull(this.oldest_),"oldest must not be null"),this.oldest_.value_},ol.structs.LRUCache.prototype.peekLastKey=function(){return goog.asserts.assert(!goog.isNull(this.oldest_),"oldest must not be null"),this.oldest_.key_},ol.structs.LRUCache.prototype.pop=function(){goog.asserts.assert(!goog.isNull(this.oldest_),"oldest must not be null"),goog.asserts.assert(!goog.isNull(this.newest_),"newest must not be null");var e=this.oldest_;return goog.asserts.assert(e.key_ in this.entries_,"oldest is indexed in entries"),delete this.entries_[e.key_],goog.isNull(e.newer)||(e.newer.older=null),this.oldest_=e.newer,goog.isNull(this.oldest_)&&(this.newest_=null),--this.count_,e.value_},ol.structs.LRUCache.prototype.set=function(e,o){goog.asserts.assert(!(e in{}),'key is not a standard property of objects (e.g. "__proto__")'),goog.asserts.assert(!(e in this.entries_),"key is not used already");var t={key_:e,newer:null,older:this.newest_,value_:o};goog.isNull(this.newest_)?this.oldest_=t:this.newest_.newer=t,this.newest_=t,this.entries_[e]=t,++this.count_},ol.structs.LRUCacheEntry,goog.provide("ol.TileCache"),goog.require("ol"),goog.require("ol.TileRange"),goog.require("ol.structs.LRUCache"),goog.require("ol.tilecoord"),ol.TileCache=function(e){goog.base(this),this.highWaterMark_=goog.isDef(e)?e:ol.DEFAULT_TILE_CACHE_HIGH_WATER_MARK},goog.inherits(ol.TileCache,ol.structs.LRUCache),ol.TileCache.prototype.canExpireCache=function(){return this.getCount()>this.highWaterMark_},ol.TileCache.prototype.expireCache=function(e){for(var o,t;this.canExpireCache()&&(o=this.peekLast(),t=o.tileCoord[0].toString(),!(t in e&&e[t].contains(o.tileCoord)));)this.pop().dispose()},ol.TileCache.prototype.pruneTileRange=function(e){for(var o,t=this.getCount();t--;)o=this.peekLastKey(),e.contains(ol.tilecoord.createFromString(o))?this.pop().dispose():this.get(o)},goog.provide("ol.Tile"),goog.provide("ol.TileState"),goog.require("goog.events"),goog.require("goog.events.EventTarget"),goog.require("goog.events.EventType"),goog.require("ol.TileCoord"),ol.TileState={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4},ol.Tile=function(e,o){goog.base(this),this.tileCoord=e,this.state=o},goog.inherits(ol.Tile,goog.events.EventTarget),ol.Tile.prototype.changed=function(){this.dispatchEvent(goog.events.EventType.CHANGE)},ol.Tile.prototype.getImage=goog.abstractMethod,ol.Tile.prototype.getKey=function(){return goog.getUid(this).toString()},ol.Tile.prototype.getTileCoord=function(){return this.tileCoord},ol.Tile.prototype.getState=function(){return this.state},ol.Tile.prototype.load=goog.abstractMethod,goog.provide("ol.source.Source"),goog.provide("ol.source.State"),goog.require("goog.events.EventType"),
goog.require("ol.Attribution"),goog.require("ol.Object"),goog.require("ol.proj"),ol.source.State={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"},ol.source.SourceOptions,ol.source.Source=function(e){goog.base(this),this.projection_=ol.proj.get(e.projection),this.attributions_=goog.isDef(e.attributions)?e.attributions:null,this.logo_=e.logo,this.state_=goog.isDef(e.state)?e.state:ol.source.State.READY,this.wrapX_=goog.isDef(e.wrapX)?e.wrapX:!1},goog.inherits(ol.source.Source,ol.Object),ol.source.Source.prototype.forEachFeatureAtCoordinate=goog.nullFunction,ol.source.Source.prototype.getAttributions=function(){return this.attributions_},ol.source.Source.prototype.getLogo=function(){return this.logo_},ol.source.Source.prototype.getProjection=function(){return this.projection_},ol.source.Source.prototype.getResolutions=goog.abstractMethod,ol.source.Source.prototype.getState=function(){return this.state_},ol.source.Source.prototype.getWrapX=function(){return this.wrapX_},ol.source.Source.prototype.setAttributions=function(e){this.attributions_=e},ol.source.Source.prototype.setLogo=function(e){this.logo_=e},ol.source.Source.prototype.setState=function(e){this.state_=e,this.changed()},ol.source.Source.prototype.setProjection=function(e){this.projection_=e},goog.provide("ol.tilegrid.TileGrid"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.math"),goog.require("goog.object"),goog.require("ol"),goog.require("ol.Coordinate"),goog.require("ol.TileCoord"),goog.require("ol.TileRange"),goog.require("ol.array"),goog.require("ol.extent"),goog.require("ol.extent.Corner"),goog.require("ol.proj"),goog.require("ol.proj.METERS_PER_UNIT"),goog.require("ol.proj.Projection"),goog.require("ol.proj.Units"),goog.require("ol.size"),goog.require("ol.tilecoord"),ol.tilegrid.TileGrid=function(e){this.minZoom=goog.isDef(e.minZoom)?e.minZoom:0,this.resolutions_=e.resolutions,goog.asserts.assert(goog.array.isSorted(this.resolutions_,function(e,o){return o-e},!0),"resolutions must be sorted in descending order"),this.maxZoom=this.resolutions_.length-1,this.origin_=goog.isDef(e.origin)?e.origin:null,this.origins_=null,goog.isDef(e.origins)&&(this.origins_=e.origins,goog.asserts.assert(this.origins_.length==this.resolutions_.length,"number of origins and resolutions must be equal"));var o=e.extent;goog.isDef(o)&&goog.isNull(this.origin_)&&goog.isNull(this.origins_)&&(this.origin_=ol.extent.getTopLeft(o)),goog.asserts.assert(goog.isNull(this.origin_)&&!goog.isNull(this.origins_)||!goog.isNull(this.origin_)&&goog.isNull(this.origins_),"either origin or origins must be configured, never both"),this.tileSizes_=null,goog.isDef(e.tileSizes)&&(this.tileSizes_=e.tileSizes,goog.asserts.assert(this.tileSizes_.length==this.resolutions_.length,"number of tileSizes and resolutions must be equal")),this.tileSize_=goog.isDef(e.tileSize)?e.tileSize:goog.isNull(this.tileSizes_)?ol.DEFAULT_TILE_SIZE:null,goog.asserts.assert(goog.isNull(this.tileSize_)&&!goog.isNull(this.tileSizes_)||!goog.isNull(this.tileSize_)&&goog.isNull(this.tileSizes_),"either tileSize or tileSizes must be configured, never both"),this.extent_=goog.isDef(o)?o:null,this.fullTileRanges_=null,goog.isDef(e.sizes)?(goog.asserts.assert(e.sizes.length==this.resolutions_.length,"number of sizes and resolutions must be equal"),this.fullTileRanges_=goog.array.map(e.sizes,function(e,t){goog.asserts.assert(0!==e[0],"width must not be 0"),goog.asserts.assert(0!==e[1],"height must not be 0");var r=new ol.TileRange(Math.min(0,e[0]),Math.max(e[0]-1,-1),Math.min(0,e[1]),Math.max(e[1]-1,-1));return this.minZoom<=t&&t<=this.maxZoom&&goog.isDef(o)&&goog.asserts.assert(r.containsTileRange(this.getTileRangeForExtentAndZ(o,t)),"extent tile range must not exceed tilegrid width and height"),r},this)):goog.isDefAndNotNull(o)&&this.calculateTileRanges_(o),this.tmpSize_=[0,0]},ol.tilegrid.TileGrid.tmpTileCoord_=[0,0,0],ol.tilegrid.TileGrid.prototype.forEachTileCoordParentTileRange=function(e,o,t,r,n){for(var i=this.getTileCoordExtent(e,n),a=e[0]-1;a>=this.minZoom;){if(o.call(t,a,this.getTileRangeForExtentAndZ(i,a,r)))return!0;--a}return!1},ol.tilegrid.TileGrid.prototype.getExtent=function(){return this.extent_},ol.tilegrid.TileGrid.prototype.getMaxZoom=function(){return this.maxZoom},ol.tilegrid.TileGrid.prototype.getMinZoom=function(){return this.minZoom},ol.tilegrid.TileGrid.prototype.getOrigin=function(e){return goog.isNull(this.origin_)?(goog.asserts.assert(!goog.isNull(this.origins_),"origins cannot be null if origin is null"),goog.asserts.assert(this.minZoom<=e&&e<=this.maxZoom,"given z is not in allowed range (%s <= %s <= %s)",this.minZoom,e,this.maxZoom),this.origins_[e]):this.origin_},ol.tilegrid.TileGrid.prototype.getResolution=function(e){return goog.asserts.assert(this.minZoom<=e&&e<=this.maxZoom,"given z is not in allowed range (%s <= %s <= %s)",this.minZoom,e,this.maxZoom),this.resolutions_[e]},ol.tilegrid.TileGrid.prototype.getResolutions=function(){return this.resolutions_},ol.tilegrid.TileGrid.prototype.getTileCoordChildTileRange=function(e,o,t){if(e[0]<this.maxZoom){var r=this.getTileCoordExtent(e,t);return this.getTileRangeForExtentAndZ(r,e[0]+1,o)}return null},ol.tilegrid.TileGrid.prototype.getTileRangeExtent=function(e,o,t){var r=this.getOrigin(e),n=this.getResolution(e),i=ol.size.toSize(this.getTileSize(e),this.tmpSize_),a=r[0]+o.minX*i[0]*n,s=r[0]+(o.maxX+1)*i[0]*n,g=r[1]+o.minY*i[1]*n,l=r[1]+(o.maxY+1)*i[1]*n;return ol.extent.createOrUpdate(a,g,s,l,t)},ol.tilegrid.TileGrid.prototype.getTileRangeForExtentAndResolution=function(e,o,t){var r=ol.tilegrid.TileGrid.tmpTileCoord_;this.getTileCoordForXYAndResolution_(e[0],e[1],o,!1,r);var n=r[1],i=r[2];return this.getTileCoordForXYAndResolution_(e[2],e[3],o,!0,r),ol.TileRange.createOrUpdate(n,r[1],i,r[2],t)},ol.tilegrid.TileGrid.prototype.getTileRangeForExtentAndZ=function(e,o,t){var r=this.getResolution(o);return this.getTileRangeForExtentAndResolution(e,r,t)},ol.tilegrid.TileGrid.prototype.getTileCoordCenter=function(e){var o=this.getOrigin(e[0]),t=this.getResolution(e[0]),r=ol.size.toSize(this.getTileSize(e[0]),this.tmpSize_);return[o[0]+(e[1]+.5)*r[0]*t,o[1]+(e[2]+.5)*r[1]*t]},ol.tilegrid.TileGrid.prototype.getTileCoordExtent=function(e,o){var t=this.getOrigin(e[0]),r=this.getResolution(e[0]),n=ol.size.toSize(this.getTileSize(e[0]),this.tmpSize_),i=t[0]+e[1]*n[0]*r,a=t[1]+e[2]*n[1]*r,s=i+n[0]*r,g=a+n[1]*r;return ol.extent.createOrUpdate(i,a,s,g,o)},ol.tilegrid.TileGrid.prototype.getTileCoordForCoordAndResolution=function(e,o,t){return this.getTileCoordForXYAndResolution_(e[0],e[1],o,!1,t)},ol.tilegrid.TileGrid.prototype.getTileCoordForXYAndResolution_=function(e,o,t,r,n){var i=this.getZForResolution(t),a=t/this.getResolution(i),s=this.getOrigin(i),g=ol.size.toSize(this.getTileSize(i),this.tmpSize_),l=r?.5:0,p=r?0:.5,u=Math.floor((e-s[0])/t+l),c=Math.floor((o-s[1])/t+p),d=a*u/g[0],h=a*c/g[1];return r?(d=Math.ceil(d)-1,h=Math.ceil(h)-1):(d=Math.floor(d),h=Math.floor(h)),ol.tilecoord.createOrUpdate(i,d,h,n)},ol.tilegrid.TileGrid.prototype.getTileCoordForCoordAndZ=function(e,o,t){var r=this.getResolution(o);return this.getTileCoordForXYAndResolution_(e[0],e[1],r,!1,t)},ol.tilegrid.TileGrid.prototype.getTileCoordResolution=function(e){return goog.asserts.assert(this.minZoom<=e[0]&&e[0]<=this.maxZoom,"z of given tilecoord is not in allowed range (%s <= %s <= %s",this.minZoom,e[0],this.maxZoom),this.resolutions_[e[0]]},ol.tilegrid.TileGrid.prototype.getTileSize=function(e){return goog.isNull(this.tileSize_)?(goog.asserts.assert(!goog.isNull(this.tileSizes_),"tileSizes cannot be null if tileSize is null"),goog.asserts.assert(this.minZoom<=e&&e<=this.maxZoom,"z is not in allowed range (%s <= %s <= %s",this.minZoom,e,this.maxZoom),this.tileSizes_[e]):this.tileSize_},ol.tilegrid.TileGrid.prototype.getFullTileRange=function(e){return goog.isNull(this.fullTileRanges_)?null:(goog.asserts.assert(this.minZoom<=e&&e<=this.maxZoom,"z is not in allowed range (%s <= %s <= %s",this.minZoom,e,this.maxZoom),this.fullTileRanges_[e])},ol.tilegrid.TileGrid.prototype.getZForResolution=function(e){var o=ol.array.linearFindNearest(this.resolutions_,e,0);return goog.math.clamp(o,this.minZoom,this.maxZoom)},ol.tilegrid.TileGrid.prototype.calculateTileRanges_=function(e){for(var o=this.resolutions_.length,t=new Array(o),r=this.minZoom;o>r;++r)t[r]=this.getTileRangeForExtentAndZ(e,r);this.fullTileRanges_=t},ol.tilegrid.getForProjection=function(e){var o=e.getDefaultTileGrid();return goog.isNull(o)&&(o=ol.tilegrid.createForProjection(e),e.setDefaultTileGrid(o)),o},ol.tilegrid.createForExtent=function(e,o,t,r){var n=goog.isDef(r)?r:ol.extent.Corner.TOP_LEFT,i=ol.tilegrid.resolutionsFromExtent(e,o,t);return new ol.tilegrid.TileGrid({extent:e,origin:ol.extent.getCorner(e,n),resolutions:i,tileSize:t})},ol.tilegrid.createXYZ=function(e){var o={};return goog.object.extend(o,goog.isDef(e)?e:{}),goog.isDef(o.extent)||(o.extent=ol.proj.get("EPSG:3857").getExtent()),o.resolutions=ol.tilegrid.resolutionsFromExtent(o.extent,o.maxZoom,o.tileSize),delete o.maxZoom,new ol.tilegrid.TileGrid(o)},ol.tilegrid.resolutionsFromExtent=function(e,o,t){for(var r=goog.isDef(o)?o:ol.DEFAULT_MAX_ZOOM,n=ol.extent.getHeight(e),i=ol.extent.getWidth(e),a=ol.size.toSize(goog.isDef(t)?t:ol.DEFAULT_TILE_SIZE),s=Math.max(i/a[0],n/a[1]),g=r+1,l=new Array(g),p=0;g>p;++p)l[p]=s/Math.pow(2,p);return l},ol.tilegrid.createForProjection=function(e,o,t,r){var n=ol.tilegrid.extentFromProjection(e);return ol.tilegrid.createForExtent(n,o,t,r)},ol.tilegrid.extentFromProjection=function(e){e=ol.proj.get(e);var o=e.getExtent();if(goog.isNull(o)){var t=180*ol.proj.METERS_PER_UNIT[ol.proj.Units.DEGREES]/e.getMetersPerUnit();o=ol.extent.createOrUpdate(-t,-t,t,t)}return o},goog.provide("ol.source.Tile"),goog.provide("ol.source.TileEvent"),goog.provide("ol.source.TileOptions"),goog.require("goog.asserts"),goog.require("goog.events.Event"),goog.require("ol.Attribution"),goog.require("ol.Extent"),goog.require("ol.TileCache"),goog.require("ol.TileRange"),goog.require("ol.TileState"),goog.require("ol.size"),goog.require("ol.source.Source"),goog.require("ol.tilecoord"),goog.require("ol.tilegrid.TileGrid"),ol.source.TileOptions,ol.source.Tile=function(e){goog.base(this,{attributions:e.attributions,extent:e.extent,logo:e.logo,projection:e.projection,state:e.state,wrapX:e.wrapX}),this.opaque_=goog.isDef(e.opaque)?e.opaque:!1,this.tilePixelRatio_=goog.isDef(e.tilePixelRatio)?e.tilePixelRatio:1,this.tileGrid=goog.isDef(e.tileGrid)?e.tileGrid:null,this.tileCache=new ol.TileCache,this.tmpSize=[0,0]},goog.inherits(ol.source.Tile,ol.source.Source),ol.source.Tile.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},ol.source.Tile.prototype.expireCache=function(e){this.tileCache.expireCache(e)},ol.source.Tile.prototype.forEachLoadedTile=function(e,o,t){for(var r,n,i,a=!0,s=o.minX;s<=o.maxX;++s)for(var g=o.minY;g<=o.maxY;++g)n=this.getKeyZXY(e,s,g),i=!1,this.tileCache.containsKey(n)&&(r=this.tileCache.get(n),i=r.getState()===ol.TileState.LOADED,i&&(i=t(r)!==!1)),i||(a=!1);return a},ol.source.Tile.prototype.getGutter=function(){return 0},ol.source.Tile.prototype.getKeyZXY=ol.tilecoord.getKeyZXY,ol.source.Tile.prototype.getOpaque=function(){return this.opaque_},ol.source.Tile.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},ol.source.Tile.prototype.getTile=goog.abstractMethod,ol.source.Tile.prototype.getTileGrid=function(){return this.tileGrid},ol.source.Tile.prototype.getTileGridForProjection=function(e){return goog.isNull(this.tileGrid)?ol.tilegrid.getForProjection(e):this.tileGrid},ol.source.Tile.prototype.getTilePixelSize=function(e,o,t){var r=this.getTileGridForProjection(t);return ol.size.scale(ol.size.toSize(r.getTileSize(e),this.tmpSize),this.tilePixelRatio_,this.tmpSize)},ol.source.Tile.prototype.getTileCoordForTileUrlFunction=function(e,o){var t=goog.isDef(o)?o:this.getProjection(),r=this.getTileGridForProjection(t);return goog.asserts.assert(!goog.isNull(r),"tile grid needed"),this.getWrapX()&&t.isGlobal()&&(e=ol.tilecoord.wrapX(e,r,t)),ol.tilecoord.withinExtentAndZ(e,r)?e:null},ol.source.Tile.prototype.useTile=goog.nullFunction,ol.source.TileEvent=function(e,o){goog.base(this,e),this.tile=o},goog.inherits(ol.source.TileEvent,goog.events.Event),ol.source.TileEventType={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"},goog.provide("ol.control.Attribution"),goog.require("goog.asserts"),goog.require("goog.dom"),goog.require("goog.dom.TagName"),goog.require("goog.dom.classlist"),goog.require("goog.events"),goog.require("goog.events.EventType"),goog.require("goog.object"),goog.require("goog.style"),goog.require("ol.Attribution"),goog.require("ol.control.Control"),goog.require("ol.css"),goog.require("ol.source.Tile"),ol.control.Attribution=function(e){var o=goog.isDef(e)?e:{};this.ulElement_=goog.dom.createElement(goog.dom.TagName.UL),this.logoLi_=goog.dom.createElement(goog.dom.TagName.LI),goog.dom.appendChild(this.ulElement_,this.logoLi_),goog.style.setElementShown(this.logoLi_,!1),this.collapsed_=goog.isDef(o.collapsed)?o.collapsed:!0,this.collapsible_=goog.isDef(o.collapsible)?o.collapsible:!0,this.collapsible_||(this.collapsed_=!1);var t=goog.isDef(o.className)?o.className:"ol-attribution",r=goog.isDef(o.tipLabel)?o.tipLabel:"Attributions",n=goog.isDef(o.collapseLabel)?o.collapseLabel:"»";this.collapseLabel_=goog.isString(n)?goog.dom.createDom(goog.dom.TagName.SPAN,{},n):n;var i=goog.isDef(o.label)?o.label:"i";this.label_=goog.isString(i)?goog.dom.createDom(goog.dom.TagName.SPAN,{},i):i;var a=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_,s=goog.dom.createDom(goog.dom.TagName.BUTTON,{type:"button",title:r},a);goog.events.listen(s,goog.events.EventType.CLICK,this.handleClick_,!1,this),goog.events.listen(s,[goog.events.EventType.MOUSEOUT,goog.events.EventType.FOCUSOUT],function(){this.blur()},!1);var g=t+" "+ol.css.CLASS_UNSELECTABLE+" "+ol.css.CLASS_CONTROL+(this.collapsed_&&this.collapsible_?" ol-collapsed":"")+(this.collapsible_?"":" ol-uncollapsible"),l=goog.dom.createDom(goog.dom.TagName.DIV,g,this.ulElement_,s),p=goog.isDef(o.render)?o.render:ol.control.Attribution.render;goog.base(this,{element:l,render:p,target:o.target}),this.renderedVisible_=!0,this.attributionElements_={},this.attributionElementRenderedVisible_={},this.logoElements_={}},goog.inherits(ol.control.Attribution,ol.control.Control),ol.control.Attribution.prototype.getSourceAttributions=function(e){var o,t,r,n,i,a,s,g,l,p,u,c=e.layerStatesArray,d=goog.object.clone(e.attributions),h={},m=e.viewState.projection;for(goog.asserts.assert(!goog.isNull(m),"projection cannot be null"),o=0,t=c.length;t>o;o++)if(a=c[o].layer.getSource(),!goog.isNull(a)&&(p=goog.getUid(a).toString(),l=a.getAttributions(),!goog.isNull(l)))for(r=0,n=l.length;n>r;r++)if(s=l[r],g=goog.getUid(s).toString(),!(g in d)){if(i=e.usedTiles[p],goog.isDef(i)){goog.asserts.assertInstanceof(a,ol.source.Tile,"source should be an ol.source.Tile");var y=a.getTileGridForProjection(m);goog.asserts.assert(!goog.isNull(y),"tileGrid cannot be null"),u=s.intersectsAnyTileRange(i,y,m)}else u=!1;u?(g in h&&delete h[g],d[g]=s):h[g]=s}return[d,h]},ol.control.Attribution.render=function(e){this.updateElement_(e.frameState)},ol.control.Attribution.prototype.updateElement_=function(e){if(goog.isNull(e))return void(this.renderedVisible_&&(goog.style.setElementShown(this.element,!1),this.renderedVisible_=!1));var o,t,r=this.getSourceAttributions(e),n=r[0],i=r[1];for(t in this.attributionElements_)t in n?(this.attributionElementRenderedVisible_[t]||(goog.style.setElementShown(this.attributionElements_[t],!0),this.attributionElementRenderedVisible_[t]=!0),delete n[t]):t in i?(this.attributionElementRenderedVisible_[t]&&(goog.style.setElementShown(this.attributionElements_[t],!1),delete this.attributionElementRenderedVisible_[t]),delete i[t]):(goog.dom.removeNode(this.attributionElements_[t]),delete this.attributionElements_[t],delete this.attributionElementRenderedVisible_[t]);for(t in n)o=goog.dom.createElement(goog.dom.TagName.LI),o.innerHTML=n[t].getHTML(),goog.dom.appendChild(this.ulElement_,o),this.attributionElements_[t]=o,this.attributionElementRenderedVisible_[t]=!0;for(t in i)o=goog.dom.createElement(goog.dom.TagName.LI),o.innerHTML=i[t].getHTML(),goog.style.setElementShown(o,!1),goog.dom.appendChild(this.ulElement_,o),this.attributionElements_[t]=o;var a=!goog.object.isEmpty(this.attributionElementRenderedVisible_)||!goog.object.isEmpty(e.logos);this.renderedVisible_!=a&&(goog.style.setElementShown(this.element,a),this.renderedVisible_=a),a&&goog.object.isEmpty(this.attributionElementRenderedVisible_)?goog.dom.classlist.add(this.element,"ol-logo-only"):goog.dom.classlist.remove(this.element,"ol-logo-only"),this.insertLogos_(e)},ol.control.Attribution.prototype.insertLogos_=function(e){var o,t=e.logos,r=this.logoElements_;for(o in r)o in t||(goog.dom.removeNode(r[o]),delete r[o]);var n,i,a;for(a in t)if(!(a in r)){n=new Image,n.src=a;var s=t[a];""===s?i=n:(i=goog.dom.createDom(goog.dom.TagName.A,{href:s}),i.appendChild(n)),goog.dom.appendChild(this.logoLi_,i),r[a]=i}goog.style.setElementShown(this.logoLi_,!goog.object.isEmpty(t))},ol.control.Attribution.prototype.handleClick_=function(e){e.preventDefault(),this.handleToggle_()},ol.control.Attribution.prototype.handleToggle_=function(){goog.dom.classlist.toggle(this.element,"ol-collapsed"),this.collapsed_?goog.dom.replaceNode(this.collapseLabel_,this.label_):goog.dom.replaceNode(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_},ol.control.Attribution.prototype.getCollapsible=function(){return this.collapsible_},ol.control.Attribution.prototype.setCollapsible=function(e){this.collapsible_!==e&&(this.collapsible_=e,goog.dom.classlist.toggle(this.element,"ol-uncollapsible"),!e&&this.collapsed_&&this.handleToggle_())},ol.control.Attribution.prototype.setCollapsed=function(e){this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()},ol.control.Attribution.prototype.getCollapsed=function(){return this.collapsed_},goog.provide("ol.control.Rotate"),goog.require("goog.dom"),goog.require("goog.dom.TagName"),goog.require("goog.dom.classlist"),goog.require("goog.events"),goog.require("goog.events.EventType"),goog.require("goog.math"),goog.require("ol.animation"),goog.require("ol.control.Control"),goog.require("ol.css"),goog.require("ol.easing"),ol.control.Rotate=function(e){var o=goog.isDef(e)?e:{},t=goog.isDef(o.className)?o.className:"ol-rotate",r=goog.isDef(o.label)?o.label:"⇧";this.label_=null,goog.isString(r)?this.label_=goog.dom.createDom(goog.dom.TagName.SPAN,"ol-compass",r):(this.label_=r,goog.dom.classlist.add(this.label_,"ol-compass"));var n=goog.isDef(o.tipLabel)?o.tipLabel:"Reset rotation",i=goog.dom.createDom(goog.dom.TagName.BUTTON,{"class":t+"-reset",type:"button",title:n},this.label_);goog.events.listen(i,goog.events.EventType.CLICK,ol.control.Rotate.prototype.handleClick_,!1,this),ol.control.Control.bindMouseOutFocusOutBlur(i);var a=t+" "+ol.css.CLASS_UNSELECTABLE+" "+ol.css.CLASS_CONTROL,s=goog.dom.createDom(goog.dom.TagName.DIV,a,i),g=goog.isDef(o.render)?o.render:ol.control.Rotate.render;goog.base(this,{element:s,render:g,target:o.target}),this.duration_=goog.isDef(o.duration)?o.duration:250,this.autoHide_=goog.isDef(o.autoHide)?o.autoHide:!0,this.rotation_=void 0,this.autoHide_&&goog.dom.classlist.add(this.element,ol.css.CLASS_HIDDEN)},goog.inherits(ol.control.Rotate,ol.control.Control),ol.control.Rotate.prototype.handleClick_=function(e){e.preventDefault(),this.resetNorth_()},ol.control.Rotate.prototype.resetNorth_=function(){var e=this.getMap(),o=e.getView();if(!goog.isNull(o)){for(var t=o.getRotation();t<-Math.PI;)t+=2*Math.PI;for(;t>Math.PI;)t-=2*Math.PI;goog.isDef(t)&&(this.duration_>0&&e.beforeRender(ol.animation.rotate({rotation:t,duration:this.duration_,easing:ol.easing.easeOut})),o.setRotation(0))}},ol.control.Rotate.render=function(e){var o=e.frameState;if(!goog.isNull(o)){var t=o.viewState.rotation;if(t!=this.rotation_){var r="rotate("+goog.math.toDegrees(t)+"deg)";this.autoHide_&&goog.dom.classlist.enable(this.element,ol.css.CLASS_HIDDEN,0===t),this.label_.style.msTransform=r,this.label_.style.webkitTransform=r,this.label_.style.transform=r}this.rotation_=t}},goog.provide("ol.control.Zoom"),goog.require("goog.dom"),goog.require("goog.dom.TagName"),goog.require("goog.events"),goog.require("goog.events.EventType"),goog.require("ol.animation"),goog.require("ol.control.Control"),goog.require("ol.css"),goog.require("ol.easing"),ol.control.Zoom=function(e){var o=goog.isDef(e)?e:{},t=goog.isDef(o.className)?o.className:"ol-zoom",r=goog.isDef(o.delta)?o.delta:1,n=goog.isDef(o.zoomInLabel)?o.zoomInLabel:"+",i=goog.isDef(o.zoomOutLabel)?o.zoomOutLabel:"−",a=goog.isDef(o.zoomInTipLabel)?o.zoomInTipLabel:"Zoom in",s=goog.isDef(o.zoomOutTipLabel)?o.zoomOutTipLabel:"Zoom out",g=goog.dom.createDom(goog.dom.TagName.BUTTON,{"class":t+"-in",type:"button",title:a},n);goog.events.listen(g,goog.events.EventType.CLICK,goog.partial(ol.control.Zoom.prototype.handleClick_,r),!1,this),ol.control.Control.bindMouseOutFocusOutBlur(g);var l=goog.dom.createDom(goog.dom.TagName.BUTTON,{"class":t+"-out",type:"button",title:s},i);goog.events.listen(l,goog.events.EventType.CLICK,goog.partial(ol.control.Zoom.prototype.handleClick_,-r),!1,this),goog.events.listen(l,[goog.events.EventType.MOUSEOUT,goog.events.EventType.FOCUSOUT],function(){this.blur()},!1);var p=t+" "+ol.css.CLASS_UNSELECTABLE+" "+ol.css.CLASS_CONTROL,u=goog.dom.createDom(goog.dom.TagName.DIV,p,g,l);goog.base(this,{element:u,target:o.target}),this.duration_=goog.isDef(o.duration)?o.duration:250},goog.inherits(ol.control.Zoom,ol.control.Control),ol.control.Zoom.prototype.handleClick_=function(e,o){o.preventDefault(),this.zoomByDelta_(e)},ol.control.Zoom.prototype.zoomByDelta_=function(e){var o=this.getMap(),t=o.getView();if(!goog.isNull(t)){var r=t.getResolution();if(goog.isDef(r)){this.duration_>0&&o.beforeRender(ol.animation.zoom({resolution:r,duration:this.duration_,easing:ol.easing.easeOut}));var n=t.constrainResolution(r,e);t.setResolution(n)}}},goog.provide("ol.control"),goog.require("ol.Collection"),goog.require("ol.control.Attribution"),goog.require("ol.control.Rotate"),goog.require("ol.control.Zoom"),ol.control.defaults=function(e){var o=goog.isDef(e)?e:{},t=new ol.Collection,r=goog.isDef(o.zoom)?o.zoom:!0;r&&t.push(new ol.control.Zoom(o.zoomOptions));var n=goog.isDef(o.rotate)?o.rotate:!0;n&&t.push(new ol.control.Rotate(o.rotateOptions));var i=goog.isDef(o.attribution)?o.attribution:!0;return i&&t.push(new ol.control.Attribution(o.attributionOptions)),t},goog.provide("goog.dom.fullscreen"),goog.provide("goog.dom.fullscreen.EventType"),goog.require("goog.dom"),goog.require("goog.userAgent"),goog.dom.fullscreen.EventType={CHANGE:function(){return goog.userAgent.WEBKIT?"webkitfullscreenchange":goog.userAgent.GECKO?"mozfullscreenchange":goog.userAgent.IE?"MSFullscreenChange":"fullscreenchange"}()},goog.dom.fullscreen.isSupported=function(e){var o=goog.dom.fullscreen.getDocument_(e),t=o.body;return!!(t.webkitRequestFullscreen||t.mozRequestFullScreen&&o.mozFullScreenEnabled||t.msRequestFullscreen&&o.msFullscreenEnabled||t.requestFullscreen&&o.fullscreenEnabled)},goog.dom.fullscreen.requestFullScreen=function(e){e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen?e.msRequestFullscreen():e.requestFullscreen&&e.requestFullscreen()},goog.dom.fullscreen.requestFullScreenWithKeys=function(e){e.mozRequestFullScreenWithKeys?e.mozRequestFullScreenWithKeys():e.webkitRequestFullscreen?e.webkitRequestFullscreen():goog.dom.fullscreen.requestFullScreen(e)},goog.dom.fullscreen.exitFullScreen=function(e){var o=goog.dom.fullscreen.getDocument_(e);o.webkitCancelFullScreen?o.webkitCancelFullScreen():o.mozCancelFullScreen?o.mozCancelFullScreen():o.msExitFullscreen?o.msExitFullscreen():o.exitFullscreen&&o.exitFullscreen()},goog.dom.fullscreen.isFullScreen=function(e){var o=goog.dom.fullscreen.getDocument_(e);return!!(o.webkitIsFullScreen||o.mozFullScreen||o.msFullscreenElement||o.fullscreenElement)},goog.dom.fullscreen.getDocument_=function(e){return e?e.getDocument():goog.dom.getDomHelper().getDocument()},goog.provide("ol.control.FullScreen"),goog.require("goog.asserts"),goog.require("goog.dom"),goog.require("goog.dom.TagName"),goog.require("goog.dom.classlist"),goog.require("goog.dom.fullscreen"),goog.require("goog.dom.fullscreen.EventType"),goog.require("goog.events"),goog.require("goog.events.EventType"),goog.require("ol.control.Control"),goog.require("ol.css"),ol.control.FullScreen=function(e){var o=goog.isDef(e)?e:{};this.cssClassName_=goog.isDef(o.className)?o.className:"ol-full-screen";var t=goog.isDef(o.label)?o.label:"↔";this.labelNode_=goog.isString(t)?goog.dom.createTextNode(t):t;var r=goog.isDef(o.labelActive)?o.labelActive:"×";this.labelActiveNode_=goog.isString(r)?goog.dom.createTextNode(r):r;var n=goog.isDef(o.tipLabel)?o.tipLabel:"Toggle full-screen",i=goog.dom.createDom(goog.dom.TagName.BUTTON,{"class":this.cssClassName_+"-"+goog.dom.fullscreen.isFullScreen(),type:"button",title:n},this.labelNode_);goog.events.listen(i,goog.events.EventType.CLICK,this.handleClick_,!1,this),ol.control.Control.bindMouseOutFocusOutBlur(i),goog.events.listen(goog.global.document,goog.dom.fullscreen.EventType.CHANGE,this.handleFullScreenChange_,!1,this);var a=this.cssClassName_+" "+ol.css.CLASS_UNSELECTABLE+" "+ol.css.CLASS_CONTROL+" "+(goog.dom.fullscreen.isSupported()?"":ol.css.CLASS_UNSUPPORTED),s=goog.dom.createDom(goog.dom.TagName.DIV,a,i);goog.base(this,{element:s,target:o.target}),this.keys_=goog.isDef(o.keys)?o.keys:!1},goog.inherits(ol.control.FullScreen,ol.control.Control),ol.control.FullScreen.prototype.handleClick_=function(e){e.preventDefault(),this.handleFullScreen_()},ol.control.FullScreen.prototype.handleFullScreen_=function(){if(goog.dom.fullscreen.isSupported()){var e=this.getMap();if(!goog.isNull(e))if(goog.dom.fullscreen.isFullScreen())goog.dom.fullscreen.exitFullScreen();else{var o=e.getTarget();goog.asserts.assert(goog.isDefAndNotNull(o),"target should be defined");var t=goog.dom.getElement(o);goog.asserts.assert(goog.isDefAndNotNull(t),"element should be defined"),this.keys_?goog.dom.fullscreen.requestFullScreenWithKeys(t):goog.dom.fullscreen.requestFullScreen(t)}}},ol.control.FullScreen.prototype.handleFullScreenChange_=function(){var e=this.cssClassName_+"-true",o=this.cssClassName_+"-false",t=goog.dom.getFirstElementChild(this.element),r=this.getMap();goog.dom.fullscreen.isFullScreen()?(goog.dom.classlist.swap(t,o,e),goog.dom.replaceNode(this.labelActiveNode_,this.labelNode_)):(goog.dom.classlist.swap(t,e,o),goog.dom.replaceNode(this.labelNode_,this.labelActiveNode_)),goog.isNull(r)||r.updateSize()},goog.provide("ol.Pixel"),ol.Pixel,goog.provide("ol.control.MousePosition"),goog.require("goog.dom"),goog.require("goog.dom.TagName"),goog.require("goog.events"),goog.require("goog.events.EventType"),goog.require("ol.CoordinateFormatType"),goog.require("ol.Object"),goog.require("ol.Pixel"),goog.require("ol.TransformFunction"),goog.require("ol.control.Control"),goog.require("ol.proj"),goog.require("ol.proj.Projection"),ol.control.MousePositionProperty={PROJECTION:"projection",COORDINATE_FORMAT:"coordinateFormat"},ol.control.MousePosition=function(e){var o=goog.isDef(e)?e:{},t=goog.isDef(o.className)?o.className:"ol-mouse-position",r=goog.dom.createDom(goog.dom.TagName.DIV,t),n=goog.isDef(o.render)?o.render:ol.control.MousePosition.render;goog.base(this,{element:r,render:n,target:o.target}),goog.events.listen(this,ol.Object.getChangeEventType(ol.control.MousePositionProperty.PROJECTION),this.handleProjectionChanged_,!1,this),goog.isDef(o.coordinateFormat)&&this.setCoordinateFormat(o.coordinateFormat),goog.isDef(o.projection)&&this.setProjection(ol.proj.get(o.projection)),this.undefinedHTML_=goog.isDef(o.undefinedHTML)?o.undefinedHTML:"",this.renderedHTML_=r.innerHTML,this.mapProjection_=null,this.transform_=null,this.lastMouseMovePixel_=null},goog.inherits(ol.control.MousePosition,ol.control.Control),ol.control.MousePosition.render=function(e){var o=e.frameState;goog.isNull(o)?this.mapProjection_=null:this.mapProjection_!=o.viewState.projection&&(this.mapProjection_=o.viewState.projection,this.transform_=null),this.updateHTML_(this.lastMouseMovePixel_)},ol.control.MousePosition.prototype.handleProjectionChanged_=function(){this.transform_=null},ol.control.MousePosition.prototype.getCoordinateFormat=function(){return this.get(ol.control.MousePositionProperty.COORDINATE_FORMAT)},ol.control.MousePosition.prototype.getProjection=function(){return this.get(ol.control.MousePositionProperty.PROJECTION)},ol.control.MousePosition.prototype.handleMouseMove=function(e){var o=this.getMap();this.lastMouseMovePixel_=o.getEventPixel(e.getBrowserEvent()),this.updateHTML_(this.lastMouseMovePixel_)},ol.control.MousePosition.prototype.handleMouseOut=function(e){this.updateHTML_(null),this.lastMouseMovePixel_=null},ol.control.MousePosition.prototype.setMap=function(e){if(goog.base(this,"setMap",e),!goog.isNull(e)){var o=e.getViewport();this.listenerKeys.push(goog.events.listen(o,goog.events.EventType.MOUSEMOVE,this.handleMouseMove,!1,this),goog.events.listen(o,goog.events.EventType.MOUSEOUT,this.handleMouseOut,!1,this))}},ol.control.MousePosition.prototype.setCoordinateFormat=function(e){this.set(ol.control.MousePositionProperty.COORDINATE_FORMAT,e)},ol.control.MousePosition.prototype.setProjection=function(e){this.set(ol.control.MousePositionProperty.PROJECTION,e)},ol.control.MousePosition.prototype.updateHTML_=function(e){var o=this.undefinedHTML_;if(!goog.isNull(e)&&!goog.isNull(this.mapProjection_)){if(goog.isNull(this.transform_)){var t=this.getProjection();this.transform_=goog.isDef(t)?ol.proj.getTransformFromProjections(this.mapProjection_,t):ol.proj.identityTransform}var r=this.getMap(),n=r.getCoordinateFromPixel(e);if(!goog.isNull(n)){this.transform_(n,n);var i=this.getCoordinateFormat();o=goog.isDef(i)?i(n):n.toString()}}goog.isDef(this.renderedHTML_)&&o==this.renderedHTML_||(this.element.innerHTML=o,this.renderedHTML_=o)},goog.provide("goog.async.AnimationDelay"),goog.require("goog.Disposable"),goog.require("goog.events"),goog.require("goog.functions"),goog.async.AnimationDelay=function(e,o,t){goog.async.AnimationDelay.base(this,"constructor"),this.listener_=e,this.handler_=t,this.win_=o||window,this.callback_=goog.bind(this.doAction_,this)},goog.inherits(goog.async.AnimationDelay,goog.Disposable),goog.async.AnimationDelay.prototype.id_=null,goog.async.AnimationDelay.prototype.usingListeners_=!1,goog.async.AnimationDelay.TIMEOUT=20,goog.async.AnimationDelay.MOZ_BEFORE_PAINT_EVENT_="MozBeforePaint",goog.async.AnimationDelay.prototype.start=function(){this.stop(),this.usingListeners_=!1;var e=this.getRaf_(),o=this.getCancelRaf_();e&&!o&&this.win_.mozRequestAnimationFrame?(this.id_=goog.events.listen(this.win_,goog.async.AnimationDelay.MOZ_BEFORE_PAINT_EVENT_,this.callback_),this.win_.mozRequestAnimationFrame(null),this.usingListeners_=!0):this.id_=e&&o?e.call(this.win_,this.callback_):this.win_.setTimeout(goog.functions.lock(this.callback_),goog.async.AnimationDelay.TIMEOUT)},goog.async.AnimationDelay.prototype.stop=function(){if(this.isActive()){var e=this.getRaf_(),o=this.getCancelRaf_();e&&!o&&this.win_.mozRequestAnimationFrame?goog.events.unlistenByKey(this.id_):e&&o?o.call(this.win_,this.id_):this.win_.clearTimeout(this.id_)}this.id_=null},goog.async.AnimationDelay.prototype.fire=function(){this.stop(),this.doAction_()},goog.async.AnimationDelay.prototype.fireIfActive=function(){this.isActive()&&this.fire()},goog.async.AnimationDelay.prototype.isActive=function(){return null!=this.id_},goog.async.AnimationDelay.prototype.doAction_=function(){this.usingListeners_&&this.id_&&goog.events.unlistenByKey(this.id_),
this.id_=null,this.listener_.call(this.handler_,goog.now())},goog.async.AnimationDelay.prototype.disposeInternal=function(){this.stop(),goog.async.AnimationDelay.base(this,"disposeInternal")},goog.async.AnimationDelay.prototype.getRaf_=function(){var e=this.win_;return e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||null},goog.async.AnimationDelay.prototype.getCancelRaf_=function(){var e=this.win_;return e.cancelAnimationFrame||e.cancelRequestAnimationFrame||e.webkitCancelRequestAnimationFrame||e.mozCancelRequestAnimationFrame||e.oCancelRequestAnimationFrame||e.msCancelRequestAnimationFrame||null},goog.provide("goog.async.nextTick"),goog.provide("goog.async.throwException"),goog.require("goog.debug.entryPointRegistry"),goog.require("goog.functions"),goog.require("goog.labs.userAgent.browser"),goog.async.throwException=function(e){goog.global.setTimeout(function(){throw e},0)},goog.async.nextTick=function(e,o,t){var r=e;return o&&(r=goog.bind(e,o)),r=goog.async.nextTick.wrapCallback_(r),!goog.isFunction(goog.global.setImmediate)||!t&&goog.global.Window&&goog.global.Window.prototype.setImmediate==goog.global.setImmediate?(goog.async.nextTick.setImmediate_||(goog.async.nextTick.setImmediate_=goog.async.nextTick.getSetImmediateEmulator_()),void goog.async.nextTick.setImmediate_(r)):void goog.global.setImmediate(r)},goog.async.nextTick.setImmediate_,goog.async.nextTick.getSetImmediateEmulator_=function(){var e=goog.global.MessageChannel;if("undefined"==typeof e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&(e=function(){var e=document.createElement("iframe");e.style.display="none",e.src="",document.documentElement.appendChild(e);var o=e.contentWindow,t=o.document;t.open(),t.write(""),t.close();var r="callImmediate"+Math.random(),n="file:"==o.location.protocol?"*":o.location.protocol+"//"+o.location.host,i=goog.bind(function(e){"*"!=n&&e.origin!=n||e.data!=r||this.port1.onmessage()},this);o.addEventListener("message",i,!1),this.port1={},this.port2={postMessage:function(){o.postMessage(r,n)}}}),"undefined"!=typeof e&&!goog.labs.userAgent.browser.isIE()){var o=new e,t={},r=t;return o.port1.onmessage=function(){if(goog.isDef(t.next)){t=t.next;var e=t.cb;t.cb=null,e()}},function(e){r.next={cb:e},r=r.next,o.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("script")?function(e){var o=document.createElement("script");o.onreadystatechange=function(){o.onreadystatechange=null,o.parentNode.removeChild(o),o=null,e(),e=null},document.documentElement.appendChild(o)}:function(e){goog.global.setTimeout(e,0)}},goog.async.nextTick.wrapCallback_=goog.functions.identity,goog.debug.entryPointRegistry.register(function(e){goog.async.nextTick.wrapCallback_=e}),goog.provide("goog.html.SafeScript"),goog.require("goog.asserts"),goog.require("goog.string.Const"),goog.require("goog.string.TypedString"),goog.html.SafeScript=function(){this.privateDoNotAccessOrElseSafeScriptWrappedValue_="",this.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeScript.prototype.implementsGoogStringTypedString=!0,goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeScript.fromConstant=function(e){var o=goog.string.Const.unwrap(e);return 0===o.length?goog.html.SafeScript.EMPTY:goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(o)},goog.html.SafeScript.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_},goog.DEBUG&&(goog.html.SafeScript.prototype.toString=function(){return"SafeScript{"+this.privateDoNotAccessOrElseSafeScriptWrappedValue_+"}"}),goog.html.SafeScript.unwrap=function(e){return e instanceof goog.html.SafeScript&&e.constructor===goog.html.SafeScript&&e.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeScriptWrappedValue_:(goog.asserts.fail("expected object of type SafeScript, got '"+e+"'"),"type_error:SafeScript")},goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse=function(e){var o=new goog.html.SafeScript;return o.privateDoNotAccessOrElseSafeScriptWrappedValue_=e,o},goog.html.SafeScript.EMPTY=goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(""),goog.provide("goog.html.uncheckedconversions"),goog.require("goog.asserts"),goog.require("goog.html.SafeHtml"),goog.require("goog.html.SafeScript"),goog.require("goog.html.SafeStyle"),goog.require("goog.html.SafeStyleSheet"),goog.require("goog.html.SafeUrl"),goog.require("goog.html.TrustedResourceUrl"),goog.require("goog.string"),goog.require("goog.string.Const"),goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract=function(e,o,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(o,t||null)},goog.html.uncheckedconversions.safeScriptFromStringKnownToSatisfyTypeContract=function(e,o){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.isEmpty(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(o)},goog.html.uncheckedconversions.safeStyleFromStringKnownToSatisfyTypeContract=function(e,o){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(o)},goog.html.uncheckedconversions.safeStyleSheetFromStringKnownToSatisfyTypeContract=function(e,o){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(o)},goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract=function(e,o){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(o)},goog.html.uncheckedconversions.trustedResourceUrlFromStringKnownToSatisfyTypeContract=function(e,o){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(o)},goog.provide("goog.structs"),goog.require("goog.array"),goog.require("goog.object"),goog.structs.getCount=function(e){return"function"==typeof e.getCount?e.getCount():goog.isArrayLike(e)||goog.isString(e)?e.length:goog.object.getCount(e)},goog.structs.getValues=function(e){if("function"==typeof e.getValues)return e.getValues();if(goog.isString(e))return e.split("");if(goog.isArrayLike(e)){for(var o=[],t=e.length,r=0;t>r;r++)o.push(e[r]);return o}return goog.object.getValues(e)},goog.structs.getKeys=function(e){if("function"==typeof e.getKeys)return e.getKeys();if("function"==typeof e.getValues)return void 0;if(goog.isArrayLike(e)||goog.isString(e)){for(var o=[],t=e.length,r=0;t>r;r++)o.push(r);return o}return goog.object.getKeys(e)},goog.structs.contains=function(e,o){return"function"==typeof e.contains?e.contains(o):"function"==typeof e.containsValue?e.containsValue(o):goog.isArrayLike(e)||goog.isString(e)?goog.array.contains(e,o):goog.object.containsValue(e,o)},goog.structs.isEmpty=function(e){return"function"==typeof e.isEmpty?e.isEmpty():goog.isArrayLike(e)||goog.isString(e)?goog.array.isEmpty(e):goog.object.isEmpty(e)},goog.structs.clear=function(e){"function"==typeof e.clear?e.clear():goog.isArrayLike(e)?goog.array.clear(e):goog.object.clear(e)},goog.structs.forEach=function(e,o,t){if("function"==typeof e.forEach)e.forEach(o,t);else if(goog.isArrayLike(e)||goog.isString(e))goog.array.forEach(e,o,t);else for(var r=goog.structs.getKeys(e),n=goog.structs.getValues(e),i=n.length,a=0;i>a;a++)o.call(t,n[a],r&&r[a],e)},goog.structs.filter=function(e,o,t){if("function"==typeof e.filter)return e.filter(o,t);if(goog.isArrayLike(e)||goog.isString(e))return goog.array.filter(e,o,t);var r,n=goog.structs.getKeys(e),i=goog.structs.getValues(e),a=i.length;if(n){r={};for(var s=0;a>s;s++)o.call(t,i[s],n[s],e)&&(r[n[s]]=i[s])}else{r=[];for(var s=0;a>s;s++)o.call(t,i[s],void 0,e)&&r.push(i[s])}return r},goog.structs.map=function(e,o,t){if("function"==typeof e.map)return e.map(o,t);if(goog.isArrayLike(e)||goog.isString(e))return goog.array.map(e,o,t);var r,n=goog.structs.getKeys(e),i=goog.structs.getValues(e),a=i.length;if(n){r={};for(var s=0;a>s;s++)r[n[s]]=o.call(t,i[s],n[s],e)}else{r=[];for(var s=0;a>s;s++)r[s]=o.call(t,i[s],void 0,e)}return r},goog.structs.some=function(e,o,t){if("function"==typeof e.some)return e.some(o,t);if(goog.isArrayLike(e)||goog.isString(e))return goog.array.some(e,o,t);for(var r=goog.structs.getKeys(e),n=goog.structs.getValues(e),i=n.length,a=0;i>a;a++)if(o.call(t,n[a],r&&r[a],e))return!0;return!1},goog.structs.every=function(e,o,t){if("function"==typeof e.every)return e.every(o,t);if(goog.isArrayLike(e)||goog.isString(e))return goog.array.every(e,o,t);for(var r=goog.structs.getKeys(e),n=goog.structs.getValues(e),i=n.length,a=0;i>a;a++)if(!o.call(t,n[a],r&&r[a],e))return!1;return!0},goog.provide("goog.structs.Collection"),goog.structs.Collection=function(){},goog.structs.Collection.prototype.add,goog.structs.Collection.prototype.remove,goog.structs.Collection.prototype.contains,goog.structs.Collection.prototype.getCount,goog.provide("goog.iter"),goog.provide("goog.iter.Iterable"),goog.provide("goog.iter.Iterator"),goog.provide("goog.iter.StopIteration"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.functions"),goog.require("goog.math"),goog.iter.Iterable,goog.iter.StopIteration="StopIteration"in goog.global?goog.global.StopIteration:Error("StopIteration"),goog.iter.Iterator=function(){},goog.iter.Iterator.prototype.next=function(){throw goog.iter.StopIteration},goog.iter.Iterator.prototype.__iterator__=function(e){return this},goog.iter.toIterator=function(e){if(e instanceof goog.iter.Iterator)return e;if("function"==typeof e.__iterator__)return e.__iterator__(!1);if(goog.isArrayLike(e)){var o=0,t=new goog.iter.Iterator;return t.next=function(){for(;;){if(o>=e.length)throw goog.iter.StopIteration;{if(o in e)return e[o++];o++}}},t}throw Error("Not implemented")},goog.iter.forEach=function(e,o,t){if(goog.isArrayLike(e))try{goog.array.forEach(e,o,t)}catch(r){if(r!==goog.iter.StopIteration)throw r}else{e=goog.iter.toIterator(e);try{for(;;)o.call(t,e.next(),void 0,e)}catch(r){if(r!==goog.iter.StopIteration)throw r}}},goog.iter.filter=function(e,o,t){var r=goog.iter.toIterator(e),n=new goog.iter.Iterator;return n.next=function(){for(;;){var e=r.next();if(o.call(t,e,void 0,r))return e}},n},goog.iter.filterFalse=function(e,o,t){return goog.iter.filter(e,goog.functions.not(o),t)},goog.iter.range=function(e,o,t){var r=0,n=e,i=t||1;if(arguments.length>1&&(r=e,n=o),0==i)throw Error("Range step argument must not be zero");var a=new goog.iter.Iterator;return a.next=function(){if(i>0&&r>=n||0>i&&n>=r)throw goog.iter.StopIteration;var e=r;return r+=i,e},a},goog.iter.join=function(e,o){return goog.iter.toArray(e).join(o)},goog.iter.map=function(e,o,t){var r=goog.iter.toIterator(e),n=new goog.iter.Iterator;return n.next=function(){var e=r.next();return o.call(t,e,void 0,r)},n},goog.iter.reduce=function(e,o,t,r){var n=t;return goog.iter.forEach(e,function(e){n=o.call(r,n,e)}),n},goog.iter.some=function(e,o,t){e=goog.iter.toIterator(e);try{for(;;)if(o.call(t,e.next(),void 0,e))return!0}catch(r){if(r!==goog.iter.StopIteration)throw r}return!1},goog.iter.every=function(e,o,t){e=goog.iter.toIterator(e);try{for(;;)if(!o.call(t,e.next(),void 0,e))return!1}catch(r){if(r!==goog.iter.StopIteration)throw r}return!0},goog.iter.chain=function(e){return goog.iter.chainFromIterable(arguments)},goog.iter.chainFromIterable=function(e){var o=goog.iter.toIterator(e),t=new goog.iter.Iterator,r=null;return t.next=function(){for(;;){if(null==r){var e=o.next();r=goog.iter.toIterator(e)}try{return r.next()}catch(t){if(t!==goog.iter.StopIteration)throw t;r=null}}},t},goog.iter.dropWhile=function(e,o,t){var r=goog.iter.toIterator(e),n=new goog.iter.Iterator,i=!0;return n.next=function(){for(;;){var e=r.next();if(!i||!o.call(t,e,void 0,r))return i=!1,e}},n},goog.iter.takeWhile=function(e,o,t){var r=goog.iter.toIterator(e),n=new goog.iter.Iterator;return n.next=function(){var e=r.next();if(o.call(t,e,void 0,r))return e;throw goog.iter.StopIteration},n},goog.iter.toArray=function(e){if(goog.isArrayLike(e))return goog.array.toArray(e);e=goog.iter.toIterator(e);var o=[];return goog.iter.forEach(e,function(e){o.push(e)}),o},goog.iter.equals=function(e,o,t){var r={},n=goog.iter.zipLongest(r,e,o),i=t||goog.array.defaultCompareEquality;return goog.iter.every(n,function(e){return i(e[0],e[1])})},goog.iter.nextOrValue=function(e,o){try{return goog.iter.toIterator(e).next()}catch(t){if(t!=goog.iter.StopIteration)throw t;return o}},goog.iter.product=function(e){var o=goog.array.some(arguments,function(e){return!e.length});if(o||!arguments.length)return new goog.iter.Iterator;var t=new goog.iter.Iterator,r=arguments,n=goog.array.repeat(0,r.length);return t.next=function(){if(n){for(var e=goog.array.map(n,function(e,o){return r[o][e]}),o=n.length-1;o>=0;o--){if(goog.asserts.assert(n),n[o]<r[o].length-1){n[o]++;break}if(0==o){n=null;break}n[o]=0}return e}throw goog.iter.StopIteration},t},goog.iter.cycle=function(e){var o=goog.iter.toIterator(e),t=[],r=0,n=new goog.iter.Iterator,i=!1;return n.next=function(){var e=null;if(!i)try{return e=o.next(),t.push(e),e}catch(n){if(n!=goog.iter.StopIteration||goog.array.isEmpty(t))throw n;i=!0}return e=t[r],r=(r+1)%t.length,e},n},goog.iter.count=function(e,o){var t=e||0,r=goog.isDef(o)?o:1,n=new goog.iter.Iterator;return n.next=function(){var e=t;return t+=r,e},n},goog.iter.repeat=function(e){var o=new goog.iter.Iterator;return o.next=goog.functions.constant(e),o},goog.iter.accumulate=function(e){var o=goog.iter.toIterator(e),t=0,r=new goog.iter.Iterator;return r.next=function(){return t+=o.next()},r},goog.iter.zip=function(e){var o=arguments,t=new goog.iter.Iterator;if(o.length>0){var r=goog.array.map(o,goog.iter.toIterator);t.next=function(){var e=goog.array.map(r,function(e){return e.next()});return e}}return t},goog.iter.zipLongest=function(e,o){var t=goog.array.slice(arguments,1),r=new goog.iter.Iterator;if(t.length>0){var n=goog.array.map(t,goog.iter.toIterator);r.next=function(){var o=!1,t=goog.array.map(n,function(t){var r;try{r=t.next(),o=!0}catch(n){if(n!==goog.iter.StopIteration)throw n;r=e}return r});if(!o)throw goog.iter.StopIteration;return t}}return r},goog.iter.compress=function(e,o){var t=goog.iter.toIterator(o);return goog.iter.filter(e,function(){return!!t.next()})},goog.iter.GroupByIterator_=function(e,o){this.iterator=goog.iter.toIterator(e),this.keyFunc=o||goog.functions.identity,this.targetKey,this.currentKey,this.currentValue},goog.inherits(goog.iter.GroupByIterator_,goog.iter.Iterator),goog.iter.GroupByIterator_.prototype.next=function(){for(;this.currentKey==this.targetKey;)this.currentValue=this.iterator.next(),this.currentKey=this.keyFunc(this.currentValue);return this.targetKey=this.currentKey,[this.currentKey,this.groupItems_(this.targetKey)]},goog.iter.GroupByIterator_.prototype.groupItems_=function(e){for(var o=[];this.currentKey==e;){o.push(this.currentValue);try{this.currentValue=this.iterator.next()}catch(t){if(t!==goog.iter.StopIteration)throw t;break}this.currentKey=this.keyFunc(this.currentValue)}return o},goog.iter.groupBy=function(e,o){return new goog.iter.GroupByIterator_(e,o)},goog.iter.starMap=function(e,o,t){var r=goog.iter.toIterator(e),n=new goog.iter.Iterator;return n.next=function(){var e=goog.iter.toArray(r.next());return o.apply(t,goog.array.concat(e,void 0,r))},n},goog.iter.tee=function(e,o){var t=goog.iter.toIterator(e),r=goog.isNumber(o)?o:2,n=goog.array.map(goog.array.range(r),function(){return[]}),i=function(){var e=t.next();goog.array.forEach(n,function(o){o.push(e)})},a=function(e){var o=new goog.iter.Iterator;return o.next=function(){return goog.array.isEmpty(e)&&i(),goog.asserts.assert(!goog.array.isEmpty(e)),e.shift()},o};return goog.array.map(n,a)},goog.iter.enumerate=function(e,o){return goog.iter.zip(goog.iter.count(o),e)},goog.iter.limit=function(e,o){goog.asserts.assert(goog.math.isInt(o)&&o>=0);var t=goog.iter.toIterator(e),r=new goog.iter.Iterator,n=o;return r.next=function(){if(n-->0)return t.next();throw goog.iter.StopIteration},r},goog.iter.consume=function(e,o){goog.asserts.assert(goog.math.isInt(o)&&o>=0);for(var t=goog.iter.toIterator(e);o-->0;)goog.iter.nextOrValue(t,null);return t},goog.iter.slice=function(e,o,t){goog.asserts.assert(goog.math.isInt(o)&&o>=0);var r=goog.iter.consume(e,o);return goog.isNumber(t)&&(goog.asserts.assert(goog.math.isInt(t)&&t>=o),r=goog.iter.limit(r,t-o)),r},goog.iter.hasDuplicates_=function(e){var o=[];return goog.array.removeDuplicates(e,o),e.length!=o.length},goog.iter.permutations=function(e,o){var t=goog.iter.toArray(e),r=goog.isNumber(o)?o:t.length,n=goog.array.repeat(t,r),i=goog.iter.product.apply(void 0,n);return goog.iter.filter(i,function(e){return!goog.iter.hasDuplicates_(e)})},goog.iter.combinations=function(e,o){function t(e){return r[e]}var r=goog.iter.toArray(e),n=goog.iter.range(r.length),i=goog.iter.permutations(n,o),a=goog.iter.filter(i,function(e){return goog.array.isSorted(e)}),s=new goog.iter.Iterator;return s.next=function(){return goog.array.map(a.next(),t)},s},goog.iter.combinationsWithReplacement=function(e,o){function t(e){return r[e]}var r=goog.iter.toArray(e),n=goog.array.range(r.length),i=goog.array.repeat(n,o),a=goog.iter.product.apply(void 0,i),s=goog.iter.filter(a,function(e){return goog.array.isSorted(e)}),g=new goog.iter.Iterator;return g.next=function(){return goog.array.map(s.next(),t)},g},goog.provide("goog.structs.Map"),goog.require("goog.iter.Iterator"),goog.require("goog.iter.StopIteration"),goog.require("goog.object"),goog.structs.Map=function(e,o){this.map_={},this.keys_=[],this.count_=0,this.version_=0;var t=arguments.length;if(t>1){if(t%2)throw Error("Uneven number of arguments");for(var r=0;t>r;r+=2)this.set(arguments[r],arguments[r+1])}else e&&this.addAll(e)},goog.structs.Map.prototype.getCount=function(){return this.count_},goog.structs.Map.prototype.getValues=function(){this.cleanupKeysArray_();for(var e=[],o=0;o<this.keys_.length;o++){var t=this.keys_[o];e.push(this.map_[t])}return e},goog.structs.Map.prototype.getKeys=function(){return this.cleanupKeysArray_(),this.keys_.concat()},goog.structs.Map.prototype.containsKey=function(e){return goog.structs.Map.hasKey_(this.map_,e)},goog.structs.Map.prototype.containsValue=function(e){for(var o=0;o<this.keys_.length;o++){var t=this.keys_[o];if(goog.structs.Map.hasKey_(this.map_,t)&&this.map_[t]==e)return!0}return!1},goog.structs.Map.prototype.equals=function(e,o){if(this===e)return!0;if(this.count_!=e.getCount())return!1;var t=o||goog.structs.Map.defaultEquals;this.cleanupKeysArray_();for(var r,n=0;r=this.keys_[n];n++)if(!t(this.get(r),e.get(r)))return!1;return!0},goog.structs.Map.defaultEquals=function(e,o){return e===o},goog.structs.Map.prototype.isEmpty=function(){return 0==this.count_},goog.structs.Map.prototype.clear=function(){this.map_={},this.keys_.length=0,this.count_=0,this.version_=0},goog.structs.Map.prototype.remove=function(e){return goog.structs.Map.hasKey_(this.map_,e)?(delete this.map_[e],this.count_--,this.version_++,this.keys_.length>2*this.count_&&this.cleanupKeysArray_(),!0):!1},goog.structs.Map.prototype.cleanupKeysArray_=function(){if(this.count_!=this.keys_.length){for(var e=0,o=0;e<this.keys_.length;){var t=this.keys_[e];goog.structs.Map.hasKey_(this.map_,t)&&(this.keys_[o++]=t),e++}this.keys_.length=o}if(this.count_!=this.keys_.length){for(var r={},e=0,o=0;e<this.keys_.length;){var t=this.keys_[e];goog.structs.Map.hasKey_(r,t)||(this.keys_[o++]=t,r[t]=1),e++}this.keys_.length=o}},goog.structs.Map.prototype.get=function(e,o){return goog.structs.Map.hasKey_(this.map_,e)?this.map_[e]:o},goog.structs.Map.prototype.set=function(e,o){goog.structs.Map.hasKey_(this.map_,e)||(this.count_++,this.keys_.push(e),this.version_++),this.map_[e]=o},goog.structs.Map.prototype.addAll=function(e){var o,t;e instanceof goog.structs.Map?(o=e.getKeys(),t=e.getValues()):(o=goog.object.getKeys(e),t=goog.object.getValues(e));for(var r=0;r<o.length;r++)this.set(o[r],t[r])},goog.structs.Map.prototype.forEach=function(e,o){for(var t=this.getKeys(),r=0;r<t.length;r++){var n=t[r],i=this.get(n);e.call(o,i,n,this)}},goog.structs.Map.prototype.clone=function(){return new goog.structs.Map(this)},goog.structs.Map.prototype.transpose=function(){for(var e=new goog.structs.Map,o=0;o<this.keys_.length;o++){var t=this.keys_[o],r=this.map_[t];e.set(r,t)}return e},goog.structs.Map.prototype.toObject=function(){this.cleanupKeysArray_();for(var e={},o=0;o<this.keys_.length;o++){var t=this.keys_[o];e[t]=this.map_[t]}return e},goog.structs.Map.prototype.getKeyIterator=function(){return this.__iterator__(!0)},goog.structs.Map.prototype.getValueIterator=function(){return this.__iterator__(!1)},goog.structs.Map.prototype.__iterator__=function(e){this.cleanupKeysArray_();var o=0,t=this.keys_,r=this.map_,n=this.version_,i=this,a=new goog.iter.Iterator;return a.next=function(){for(;;){if(n!=i.version_)throw Error("The map has changed since the iterator was created");if(o>=t.length)throw goog.iter.StopIteration;var a=t[o++];return e?a:r[a]}},a},goog.structs.Map.hasKey_=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},goog.provide("goog.structs.Set"),goog.require("goog.structs"),goog.require("goog.structs.Collection"),goog.require("goog.structs.Map"),goog.structs.Set=function(e){this.map_=new goog.structs.Map,e&&this.addAll(e)},goog.structs.Set.getKey_=function(e){var o=typeof e;return"object"==o&&e||"function"==o?"o"+goog.getUid(e):o.substr(0,1)+e},goog.structs.Set.prototype.getCount=function(){return this.map_.getCount()},goog.structs.Set.prototype.add=function(e){this.map_.set(goog.structs.Set.getKey_(e),e)},goog.structs.Set.prototype.addAll=function(e){for(var o=goog.structs.getValues(e),t=o.length,r=0;t>r;r++)this.add(o[r])},goog.structs.Set.prototype.removeAll=function(e){for(var o=goog.structs.getValues(e),t=o.length,r=0;t>r;r++)this.remove(o[r])},goog.structs.Set.prototype.remove=function(e){return this.map_.remove(goog.structs.Set.getKey_(e))},goog.structs.Set.prototype.clear=function(){this.map_.clear()},goog.structs.Set.prototype.isEmpty=function(){return this.map_.isEmpty()},goog.structs.Set.prototype.contains=function(e){return this.map_.containsKey(goog.structs.Set.getKey_(e))},goog.structs.Set.prototype.containsAll=function(e){return goog.structs.every(e,this.contains,this)},goog.structs.Set.prototype.intersection=function(e){for(var o=new goog.structs.Set,t=goog.structs.getValues(e),r=0;r<t.length;r++){var n=t[r];this.contains(n)&&o.add(n)}return o},goog.structs.Set.prototype.difference=function(e){var o=this.clone();return o.removeAll(e),o},goog.structs.Set.prototype.getValues=function(){return this.map_.getValues()},goog.structs.Set.prototype.clone=function(){return new goog.structs.Set(this)},goog.structs.Set.prototype.equals=function(e){return this.getCount()==goog.structs.getCount(e)&&this.isSubsetOf(e)},goog.structs.Set.prototype.isSubsetOf=function(e){var o=goog.structs.getCount(e);return this.getCount()>o?!1:(!(e instanceof goog.structs.Set)&&o>5&&(e=new goog.structs.Set(e)),goog.structs.every(this,function(o){return goog.structs.contains(e,o)}))},goog.structs.Set.prototype.__iterator__=function(e){return this.map_.__iterator__(!1)},goog.provide("goog.debug"),goog.require("goog.array"),goog.require("goog.html.SafeHtml"),goog.require("goog.html.SafeUrl"),goog.require("goog.html.uncheckedconversions"),goog.require("goog.string.Const"),goog.require("goog.structs.Set"),goog.require("goog.userAgent"),goog.define("goog.debug.LOGGING_ENABLED",goog.DEBUG),goog.debug.catchErrors=function(e,o,t){var r=t||goog.global,n=r.onerror,i=!!o;goog.userAgent.WEBKIT&&!goog.userAgent.isVersionOrHigher("535.3")&&(i=!i),r.onerror=function(o,t,r,a,s){return n&&n(o,t,r,a,s),e({message:o,fileName:t,line:r,col:a,error:s}),i}},goog.debug.expose=function(e,o){if("undefined"==typeof e)return"undefined";if(null==e)return"NULL";var t=[];for(var r in e)if(o||!goog.isFunction(e[r])){var n=r+" = ";try{n+=e[r]}catch(i){n+="*** "+i+" ***"}t.push(n)}return t.join("\n")},goog.debug.deepExpose=function(e,o){var t=[],r=function(e,n,i){var a=n+"  ",s=new goog.structs.Set(i),g=function(e){return e.replace(/\n/g,"\n"+n)};try{if(goog.isDef(e))if(goog.isNull(e))t.push("NULL");else if(goog.isString(e))t.push('"'+g(e)+'"');else if(goog.isFunction(e))t.push(g(String(e)));else if(goog.isObject(e))if(s.contains(e))t.push("*** reference loop detected ***");else{s.add(e),t.push("{");for(var l in e)(o||!goog.isFunction(e[l]))&&(t.push("\n"),t.push(a),t.push(l+" = "),r(e[l],a,s));t.push("\n"+n+"}")}else t.push(e);else t.push("undefined")}catch(p){t.push("*** "+p+" ***")}};return r(e,"",new goog.structs.Set),t.join("")},goog.debug.exposeArray=function(e){for(var o=[],t=0;t<e.length;t++)o.push(goog.isArray(e[t])?goog.debug.exposeArray(e[t]):e[t]);return"[ "+o.join(", ")+" ]"},goog.debug.exposeException=function(e,o){var t=goog.debug.exposeExceptionAsHtml(e,o);return goog.html.SafeHtml.unwrap(t)},goog.debug.exposeExceptionAsHtml=function(e,o){try{var t=goog.debug.normalizeErrorObject(e),r=goog.debug.createViewSourceUrl_(t.fileName),n=goog.html.SafeHtml.concat(goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces("Message: "+t.message+"\nUrl: "),goog.html.SafeHtml.create("a",{href:r,target:"_new"},t.fileName),goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces("\nLine: "+t.lineNumber+"\n\nBrowser stack:\n"+t.stack+"-> [end]\n\nJS stack traversal:\n"+goog.debug.getStacktrace(o)+"-> "));return n}catch(i){return goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces("Exception trying to expose exception! You win, we lose. "+i)}},goog.debug.createViewSourceUrl_=function(e){if(goog.isDefAndNotNull(e)||(e=""),!/^https?:\/\//i.test(e))return goog.html.SafeUrl.fromConstant(goog.string.Const.from("sanitizedviewsrc"));var o=goog.html.SafeUrl.sanitize(e);return goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("view-source scheme plus HTTP/HTTPS URL"),"view-source:"+goog.html.SafeUrl.unwrap(o))},goog.debug.normalizeErrorObject=function(e){var o=goog.getObjectByName("window.location.href");if(goog.isString(e))return{message:e,name:"Unknown error",lineNumber:"Not available",fileName:o,stack:"Not available"};var t,r,n=!1;try{t=e.lineNumber||e.line||"Not available"}catch(i){t="Not available",n=!0}try{r=e.fileName||e.filename||e.sourceURL||goog.global.$googDebugFname||o}catch(i){r="Not available",n=!0}return!n&&e.lineNumber&&e.fileName&&e.stack&&e.message&&e.name?e:{message:e.message||"Not available",name:e.name||"UnknownError",lineNumber:t,fileName:r,stack:e.stack||"Not available"}},goog.debug.enhanceError=function(e,o){var t;if("string"==typeof e?(t=Error(e),Error.captureStackTrace&&Error.captureStackTrace(t,goog.debug.enhanceError)):t=e,t.stack||(t.stack=goog.debug.getStacktrace(goog.debug.enhanceError)),o){for(var r=0;t["message"+r];)++r;t["message"+r]=String(o)}return t},goog.debug.getStacktraceSimple=function(e){if(goog.STRICT_MODE_COMPATIBLE){var o=goog.debug.getNativeStackTrace_(goog.debug.getStacktraceSimple);if(o)return o}for(var t=[],r=arguments.callee.caller,n=0;r&&(!e||e>n);){t.push(goog.debug.getFunctionName(r)),t.push("()\n");try{r=r.caller}catch(i){t.push("[exception trying to get caller]\n");break}if(n++,n>=goog.debug.MAX_STACK_DEPTH){t.push("[...long stack...]");break}}return t.push(e&&n>=e?"[...reached max depth limit...]":"[end]"),t.join("")},goog.debug.MAX_STACK_DEPTH=50,goog.debug.getNativeStackTrace_=function(e){var o=new Error;if(Error.captureStackTrace)return Error.captureStackTrace(o,e),String(o.stack);try{throw o}catch(t){o=t}var r=o.stack;return r?String(r):null},goog.debug.getStacktrace=function(e){var o;if(goog.STRICT_MODE_COMPATIBLE){var t=e||goog.debug.getStacktrace;o=goog.debug.getNativeStackTrace_(t)}return o||(o=goog.debug.getStacktraceHelper_(e||arguments.callee.caller,[])),o},goog.debug.getStacktraceHelper_=function(e,o){var t=[];if(goog.array.contains(o,e))t.push("[...circular reference...]");else if(e&&o.length<goog.debug.MAX_STACK_DEPTH){t.push(goog.debug.getFunctionName(e)+"(");for(var r=e.arguments,n=0;r&&n<r.length;n++){n>0&&t.push(", ");var i,a=r[n];switch(typeof a){case"object":i=a?"object":"null";break;case"string":i=a;break;case"number":i=String(a);break;case"boolean":i=a?"true":"false";break;case"function":i=goog.debug.getFunctionName(a),i=i?i:"[fn]";break;case"undefined":default:i=typeof a}i.length>40&&(i=i.substr(0,40)+"..."),t.push(i)}o.push(e),t.push(")\n");try{t.push(goog.debug.getStacktraceHelper_(e.caller,o))}catch(s){t.push("[exception trying to get caller]\n")}}else t.push(e?"[...long stack...]":"[end]");return t.join("")},goog.debug.setFunctionResolver=function(e){goog.debug.fnNameResolver_=e},goog.debug.getFunctionName=function(e){if(goog.debug.fnNameCache_[e])return goog.debug.fnNameCache_[e];if(goog.debug.fnNameResolver_){var o=goog.debug.fnNameResolver_(e);if(o)return goog.debug.fnNameCache_[e]=o,o}var t=String(e);if(!goog.debug.fnNameCache_[t]){var r=/function ([^\(]+)/.exec(t);if(r){var n=r[1];goog.debug.fnNameCache_[t]=n}else goog.debug.fnNameCache_[t]="[Anonymous]"}return goog.debug.fnNameCache_[t]},goog.debug.makeWhitespaceVisible=function(e){return e.replace(/ /g,"[_]").replace(/\f/g,"[f]").replace(/\n/g,"[n]\n").replace(/\r/g,"[r]").replace(/\t/g,"[t]")},goog.debug.fnNameCache_={},goog.debug.fnNameResolver_,goog.provide("goog.debug.LogRecord"),goog.debug.LogRecord=function(e,o,t,r,n){this.reset(e,o,t,r,n)},goog.debug.LogRecord.prototype.time_,goog.debug.LogRecord.prototype.level_,goog.debug.LogRecord.prototype.msg_,goog.debug.LogRecord.prototype.loggerName_,goog.debug.LogRecord.prototype.sequenceNumber_=0,goog.debug.LogRecord.prototype.exception_=null,goog.define("goog.debug.LogRecord.ENABLE_SEQUENCE_NUMBERS",!0),goog.debug.LogRecord.nextSequenceNumber_=0,goog.debug.LogRecord.prototype.reset=function(e,o,t,r,n){goog.debug.LogRecord.ENABLE_SEQUENCE_NUMBERS&&(this.sequenceNumber_="number"==typeof n?n:goog.debug.LogRecord.nextSequenceNumber_++),this.time_=r||goog.now(),this.level_=e,this.msg_=o,this.loggerName_=t,delete this.exception_},goog.debug.LogRecord.prototype.getLoggerName=function(){return this.loggerName_},goog.debug.LogRecord.prototype.getException=function(){return this.exception_},goog.debug.LogRecord.prototype.setException=function(e){this.exception_=e},goog.debug.LogRecord.prototype.setLoggerName=function(e){this.loggerName_=e},goog.debug.LogRecord.prototype.getLevel=function(){return this.level_},goog.debug.LogRecord.prototype.setLevel=function(e){this.level_=e},goog.debug.LogRecord.prototype.getMessage=function(){return this.msg_},goog.debug.LogRecord.prototype.setMessage=function(e){this.msg_=e},goog.debug.LogRecord.prototype.getMillis=function(){
return this.time_},goog.debug.LogRecord.prototype.setMillis=function(e){this.time_=e},goog.debug.LogRecord.prototype.getSequenceNumber=function(){return this.sequenceNumber_},goog.provide("goog.debug.LogBuffer"),goog.require("goog.asserts"),goog.require("goog.debug.LogRecord"),goog.debug.LogBuffer=function(){goog.asserts.assert(goog.debug.LogBuffer.isBufferingEnabled(),"Cannot use goog.debug.LogBuffer without defining goog.debug.LogBuffer.CAPACITY."),this.clear()},goog.debug.LogBuffer.getInstance=function(){return goog.debug.LogBuffer.instance_||(goog.debug.LogBuffer.instance_=new goog.debug.LogBuffer),goog.debug.LogBuffer.instance_},goog.define("goog.debug.LogBuffer.CAPACITY",0),goog.debug.LogBuffer.prototype.buffer_,goog.debug.LogBuffer.prototype.curIndex_,goog.debug.LogBuffer.prototype.isFull_,goog.debug.LogBuffer.prototype.addRecord=function(e,o,t){var r=(this.curIndex_+1)%goog.debug.LogBuffer.CAPACITY;if(this.curIndex_=r,this.isFull_){var n=this.buffer_[r];return n.reset(e,o,t),n}return this.isFull_=r==goog.debug.LogBuffer.CAPACITY-1,this.buffer_[r]=new goog.debug.LogRecord(e,o,t)},goog.debug.LogBuffer.isBufferingEnabled=function(){return goog.debug.LogBuffer.CAPACITY>0},goog.debug.LogBuffer.prototype.clear=function(){this.buffer_=new Array(goog.debug.LogBuffer.CAPACITY),this.curIndex_=-1,this.isFull_=!1},goog.debug.LogBuffer.prototype.forEachRecord=function(e){var o=this.buffer_;if(o[0]){var t=this.curIndex_,r=this.isFull_?t:-1;do r=(r+1)%goog.debug.LogBuffer.CAPACITY,e(o[r]);while(r!=t)}},goog.provide("goog.debug.LogManager"),goog.provide("goog.debug.Loggable"),goog.provide("goog.debug.Logger"),goog.provide("goog.debug.Logger.Level"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.debug"),goog.require("goog.debug.LogBuffer"),goog.require("goog.debug.LogRecord"),goog.debug.Loggable,goog.debug.Logger=function(e){this.name_=e,this.parent_=null,this.level_=null,this.children_=null,this.handlers_=null},goog.debug.Logger.ROOT_LOGGER_NAME="",goog.define("goog.debug.Logger.ENABLE_HIERARCHY",!0),goog.debug.Logger.ENABLE_HIERARCHY||(goog.debug.Logger.rootHandlers_=[],goog.debug.Logger.rootLevel_),goog.debug.Logger.Level=function(e,o){this.name=e,this.value=o},goog.debug.Logger.Level.prototype.toString=function(){return this.name},goog.debug.Logger.Level.OFF=new goog.debug.Logger.Level("OFF",1/0),goog.debug.Logger.Level.SHOUT=new goog.debug.Logger.Level("SHOUT",1200),goog.debug.Logger.Level.SEVERE=new goog.debug.Logger.Level("SEVERE",1e3),goog.debug.Logger.Level.WARNING=new goog.debug.Logger.Level("WARNING",900),goog.debug.Logger.Level.INFO=new goog.debug.Logger.Level("INFO",800),goog.debug.Logger.Level.CONFIG=new goog.debug.Logger.Level("CONFIG",700),goog.debug.Logger.Level.FINE=new goog.debug.Logger.Level("FINE",500),goog.debug.Logger.Level.FINER=new goog.debug.Logger.Level("FINER",400),goog.debug.Logger.Level.FINEST=new goog.debug.Logger.Level("FINEST",300),goog.debug.Logger.Level.ALL=new goog.debug.Logger.Level("ALL",0),goog.debug.Logger.Level.PREDEFINED_LEVELS=[goog.debug.Logger.Level.OFF,goog.debug.Logger.Level.SHOUT,goog.debug.Logger.Level.SEVERE,goog.debug.Logger.Level.WARNING,goog.debug.Logger.Level.INFO,goog.debug.Logger.Level.CONFIG,goog.debug.Logger.Level.FINE,goog.debug.Logger.Level.FINER,goog.debug.Logger.Level.FINEST,goog.debug.Logger.Level.ALL],goog.debug.Logger.Level.predefinedLevelsCache_=null,goog.debug.Logger.Level.createPredefinedLevelsCache_=function(){goog.debug.Logger.Level.predefinedLevelsCache_={};for(var e,o=0;e=goog.debug.Logger.Level.PREDEFINED_LEVELS[o];o++)goog.debug.Logger.Level.predefinedLevelsCache_[e.value]=e,goog.debug.Logger.Level.predefinedLevelsCache_[e.name]=e},goog.debug.Logger.Level.getPredefinedLevel=function(e){return goog.debug.Logger.Level.predefinedLevelsCache_||goog.debug.Logger.Level.createPredefinedLevelsCache_(),goog.debug.Logger.Level.predefinedLevelsCache_[e]||null},goog.debug.Logger.Level.getPredefinedLevelByValue=function(e){if(goog.debug.Logger.Level.predefinedLevelsCache_||goog.debug.Logger.Level.createPredefinedLevelsCache_(),e in goog.debug.Logger.Level.predefinedLevelsCache_)return goog.debug.Logger.Level.predefinedLevelsCache_[e];for(var o=0;o<goog.debug.Logger.Level.PREDEFINED_LEVELS.length;++o){var t=goog.debug.Logger.Level.PREDEFINED_LEVELS[o];if(t.value<=e)return t}return null},goog.debug.Logger.getLogger=function(e){return goog.debug.LogManager.getLogger(e)},goog.debug.Logger.logToProfilers=function(e){goog.global.console&&(goog.global.console.timeStamp?goog.global.console.timeStamp(e):goog.global.console.markTimeline&&goog.global.console.markTimeline(e)),goog.global.msWriteProfilerMark&&goog.global.msWriteProfilerMark(e)},goog.debug.Logger.prototype.getName=function(){return this.name_},goog.debug.Logger.prototype.addHandler=function(e){goog.debug.LOGGING_ENABLED&&(goog.debug.Logger.ENABLE_HIERARCHY?(this.handlers_||(this.handlers_=[]),this.handlers_.push(e)):(goog.asserts.assert(!this.name_,"Cannot call addHandler on a non-root logger when goog.debug.Logger.ENABLE_HIERARCHY is false."),goog.debug.Logger.rootHandlers_.push(e)))},goog.debug.Logger.prototype.removeHandler=function(e){if(goog.debug.LOGGING_ENABLED){var o=goog.debug.Logger.ENABLE_HIERARCHY?this.handlers_:goog.debug.Logger.rootHandlers_;return!!o&&goog.array.remove(o,e)}return!1},goog.debug.Logger.prototype.getParent=function(){return this.parent_},goog.debug.Logger.prototype.getChildren=function(){return this.children_||(this.children_={}),this.children_},goog.debug.Logger.prototype.setLevel=function(e){goog.debug.LOGGING_ENABLED&&(goog.debug.Logger.ENABLE_HIERARCHY?this.level_=e:(goog.asserts.assert(!this.name_,"Cannot call setLevel() on a non-root logger when goog.debug.Logger.ENABLE_HIERARCHY is false."),goog.debug.Logger.rootLevel_=e))},goog.debug.Logger.prototype.getLevel=function(){return goog.debug.LOGGING_ENABLED?this.level_:goog.debug.Logger.Level.OFF},goog.debug.Logger.prototype.getEffectiveLevel=function(){return goog.debug.LOGGING_ENABLED?goog.debug.Logger.ENABLE_HIERARCHY?this.level_?this.level_:this.parent_?this.parent_.getEffectiveLevel():(goog.asserts.fail("Root logger has no level set."),null):goog.debug.Logger.rootLevel_:goog.debug.Logger.Level.OFF},goog.debug.Logger.prototype.isLoggable=function(e){return goog.debug.LOGGING_ENABLED&&e.value>=this.getEffectiveLevel().value},goog.debug.Logger.prototype.log=function(e,o,t){goog.debug.LOGGING_ENABLED&&this.isLoggable(e)&&(goog.isFunction(o)&&(o=o()),this.doLogRecord_(this.getLogRecord(e,o,t)))},goog.debug.Logger.prototype.getLogRecord=function(e,o,t){if(goog.debug.LogBuffer.isBufferingEnabled())var r=goog.debug.LogBuffer.getInstance().addRecord(e,o,this.name_);else r=new goog.debug.LogRecord(e,String(o),this.name_);return t&&r.setException(t),r},goog.debug.Logger.prototype.shout=function(e,o){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.SHOUT,e,o)},goog.debug.Logger.prototype.severe=function(e,o){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.SEVERE,e,o)},goog.debug.Logger.prototype.warning=function(e,o){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.WARNING,e,o)},goog.debug.Logger.prototype.info=function(e,o){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.INFO,e,o)},goog.debug.Logger.prototype.config=function(e,o){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.CONFIG,e,o)},goog.debug.Logger.prototype.fine=function(e,o){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.FINE,e,o)},goog.debug.Logger.prototype.finer=function(e,o){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.FINER,e,o)},goog.debug.Logger.prototype.finest=function(e,o){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.FINEST,e,o)},goog.debug.Logger.prototype.logRecord=function(e){goog.debug.LOGGING_ENABLED&&this.isLoggable(e.getLevel())&&this.doLogRecord_(e)},goog.debug.Logger.prototype.doLogRecord_=function(e){if(goog.debug.Logger.logToProfilers("log:"+e.getMessage()),goog.debug.Logger.ENABLE_HIERARCHY)for(var o=this;o;)o.callPublish_(e),o=o.getParent();else for(var t,r=0;t=goog.debug.Logger.rootHandlers_[r++];)t(e)},goog.debug.Logger.prototype.callPublish_=function(e){if(this.handlers_)for(var o,t=0;o=this.handlers_[t];t++)o(e)},goog.debug.Logger.prototype.setParent_=function(e){this.parent_=e},goog.debug.Logger.prototype.addChild_=function(e,o){this.getChildren()[e]=o},goog.debug.LogManager={},goog.debug.LogManager.loggers_={},goog.debug.LogManager.rootLogger_=null,goog.debug.LogManager.initialize=function(){goog.debug.LogManager.rootLogger_||(goog.debug.LogManager.rootLogger_=new goog.debug.Logger(goog.debug.Logger.ROOT_LOGGER_NAME),goog.debug.LogManager.loggers_[goog.debug.Logger.ROOT_LOGGER_NAME]=goog.debug.LogManager.rootLogger_,goog.debug.LogManager.rootLogger_.setLevel(goog.debug.Logger.Level.CONFIG))},goog.debug.LogManager.getLoggers=function(){return goog.debug.LogManager.loggers_},goog.debug.LogManager.getRoot=function(){return goog.debug.LogManager.initialize(),goog.debug.LogManager.rootLogger_},goog.debug.LogManager.getLogger=function(e){goog.debug.LogManager.initialize();var o=goog.debug.LogManager.loggers_[e];return o||goog.debug.LogManager.createLogger_(e)},goog.debug.LogManager.createFunctionForCatchErrors=function(e){return function(o){var t=e||goog.debug.LogManager.getRoot();t.severe("Error: "+o.message+" ("+o.fileName+" @ Line: "+o.line+")")}},goog.debug.LogManager.createLogger_=function(e){var o=new goog.debug.Logger(e);if(goog.debug.Logger.ENABLE_HIERARCHY){var t=e.lastIndexOf("."),r=e.substr(0,t),n=e.substr(t+1),i=goog.debug.LogManager.getLogger(r);i.addChild_(n,o),o.setParent_(i)}return goog.debug.LogManager.loggers_[e]=o,o},goog.provide("goog.debug.RelativeTimeProvider"),goog.debug.RelativeTimeProvider=function(){this.relativeTimeStart_=goog.now()},goog.debug.RelativeTimeProvider.defaultInstance_=new goog.debug.RelativeTimeProvider,goog.debug.RelativeTimeProvider.prototype.set=function(e){this.relativeTimeStart_=e},goog.debug.RelativeTimeProvider.prototype.reset=function(){this.set(goog.now())},goog.debug.RelativeTimeProvider.prototype.get=function(){return this.relativeTimeStart_},goog.debug.RelativeTimeProvider.getDefaultInstance=function(){return goog.debug.RelativeTimeProvider.defaultInstance_},goog.provide("goog.debug.Formatter"),goog.provide("goog.debug.HtmlFormatter"),goog.provide("goog.debug.TextFormatter"),goog.require("goog.debug"),goog.require("goog.debug.Logger"),goog.require("goog.debug.RelativeTimeProvider"),goog.require("goog.html.SafeHtml"),goog.debug.Formatter=function(e){this.prefix_=e||"",this.startTimeProvider_=goog.debug.RelativeTimeProvider.getDefaultInstance()},goog.debug.Formatter.prototype.appendNewline=!0,goog.debug.Formatter.prototype.showAbsoluteTime=!0,goog.debug.Formatter.prototype.showRelativeTime=!0,goog.debug.Formatter.prototype.showLoggerName=!0,goog.debug.Formatter.prototype.showExceptionText=!1,goog.debug.Formatter.prototype.showSeverityLevel=!1,goog.debug.Formatter.prototype.formatRecord=goog.abstractMethod,goog.debug.Formatter.prototype.setStartTimeProvider=function(e){this.startTimeProvider_=e},goog.debug.Formatter.prototype.getStartTimeProvider=function(){return this.startTimeProvider_},goog.debug.Formatter.prototype.resetRelativeTimeStart=function(){this.startTimeProvider_.reset()},goog.debug.Formatter.getDateTimeStamp_=function(e){var o=new Date(e.getMillis());return goog.debug.Formatter.getTwoDigitString_(o.getFullYear()-2e3)+goog.debug.Formatter.getTwoDigitString_(o.getMonth()+1)+goog.debug.Formatter.getTwoDigitString_(o.getDate())+" "+goog.debug.Formatter.getTwoDigitString_(o.getHours())+":"+goog.debug.Formatter.getTwoDigitString_(o.getMinutes())+":"+goog.debug.Formatter.getTwoDigitString_(o.getSeconds())+"."+goog.debug.Formatter.getTwoDigitString_(Math.floor(o.getMilliseconds()/10))},goog.debug.Formatter.getTwoDigitString_=function(e){return 10>e?"0"+e:String(e)},goog.debug.Formatter.getRelativeTime_=function(e,o){var t=e.getMillis()-o,r=t/1e3,n=r.toFixed(3),i=0;if(1>r)i=2;else for(;100>r;)i++,r*=10;for(;i-->0;)n=" "+n;return n},goog.debug.HtmlFormatter=function(e){goog.debug.Formatter.call(this,e)},goog.inherits(goog.debug.HtmlFormatter,goog.debug.Formatter),goog.debug.HtmlFormatter.prototype.showExceptionText=!0,goog.debug.HtmlFormatter.prototype.formatRecord=function(e){return e?this.formatRecordAsHtml(e).getTypedStringValue():""},goog.debug.HtmlFormatter.prototype.formatRecordAsHtml=function(e){var o;switch(e.getLevel().value){case goog.debug.Logger.Level.SHOUT.value:o="dbg-sh";break;case goog.debug.Logger.Level.SEVERE.value:o="dbg-sev";break;case goog.debug.Logger.Level.WARNING.value:o="dbg-w";break;case goog.debug.Logger.Level.INFO.value:o="dbg-i";break;case goog.debug.Logger.Level.FINE.value:default:o="dbg-f"}var t=[];t.push(this.prefix_," "),this.showAbsoluteTime&&t.push("[",goog.debug.Formatter.getDateTimeStamp_(e),"] "),this.showRelativeTime&&t.push("[",goog.debug.Formatter.getRelativeTime_(e,this.startTimeProvider_.get()),"s] "),this.showLoggerName&&t.push("[",e.getLoggerName(),"] "),this.showSeverityLevel&&t.push("[",e.getLevel().name,"] ");var r=goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces(t.join("")),n=goog.html.SafeHtml.EMPTY;this.showExceptionText&&e.getException()&&(n=goog.html.SafeHtml.concat(goog.html.SafeHtml.create("br"),goog.debug.exposeExceptionAsHtml(e.getException())));var i,a=goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces(e.getMessage()),s=goog.html.SafeHtml.create("span",{"class":o},goog.html.SafeHtml.concat(a,n));return i=this.appendNewline?goog.html.SafeHtml.concat(r,s,goog.html.SafeHtml.create("br")):goog.html.SafeHtml.concat(r,s)},goog.debug.TextFormatter=function(e){goog.debug.Formatter.call(this,e)},goog.inherits(goog.debug.TextFormatter,goog.debug.Formatter),goog.debug.TextFormatter.prototype.formatRecord=function(e){var o=[];if(o.push(this.prefix_," "),this.showAbsoluteTime&&o.push("[",goog.debug.Formatter.getDateTimeStamp_(e),"] "),this.showRelativeTime&&o.push("[",goog.debug.Formatter.getRelativeTime_(e,this.startTimeProvider_.get()),"s] "),this.showLoggerName&&o.push("[",e.getLoggerName(),"] "),this.showSeverityLevel&&o.push("[",e.getLevel().name,"] "),o.push(e.getMessage()),this.showExceptionText){var t=e.getException();if(t){var r=t instanceof Error?t.message:t.toString();o.push("\n",r)}}return this.appendNewline&&o.push("\n"),o.join("")},goog.provide("goog.debug.Console"),goog.require("goog.debug.LogManager"),goog.require("goog.debug.Logger"),goog.require("goog.debug.TextFormatter"),goog.debug.Console=function(){this.publishHandler_=goog.bind(this.addLogRecord,this),this.formatter_=new goog.debug.TextFormatter,this.formatter_.showAbsoluteTime=!1,this.formatter_.showExceptionText=!1,this.formatter_.appendNewline=!1,this.isCapturing_=!1,this.logBuffer_="",this.filteredLoggers_={}},goog.debug.Console.prototype.getFormatter=function(){return this.formatter_},goog.debug.Console.prototype.setCapturing=function(e){if(e!=this.isCapturing_){var o=goog.debug.LogManager.getRoot();e?o.addHandler(this.publishHandler_):(o.removeHandler(this.publishHandler_),this.logBuffer=""),this.isCapturing_=e}},goog.debug.Console.prototype.addLogRecord=function(e){if(!this.filteredLoggers_[e.getLoggerName()]){var o=this.formatter_.formatRecord(e),t=goog.debug.Console.console_;if(t)switch(e.getLevel()){case goog.debug.Logger.Level.SHOUT:goog.debug.Console.logToConsole_(t,"info",o);break;case goog.debug.Logger.Level.SEVERE:goog.debug.Console.logToConsole_(t,"error",o);break;case goog.debug.Logger.Level.WARNING:goog.debug.Console.logToConsole_(t,"warn",o);break;default:goog.debug.Console.logToConsole_(t,"debug",o)}else this.logBuffer_+=o}},goog.debug.Console.prototype.addFilter=function(e){this.filteredLoggers_[e]=!0},goog.debug.Console.prototype.removeFilter=function(e){delete this.filteredLoggers_[e]},goog.debug.Console.instance=null,goog.debug.Console.console_=goog.global.console,goog.debug.Console.setConsole=function(e){goog.debug.Console.console_=e},goog.debug.Console.autoInstall=function(){goog.debug.Console.instance||(goog.debug.Console.instance=new goog.debug.Console),goog.global.location&&-1!=goog.global.location.href.indexOf("Debug=true")&&goog.debug.Console.instance.setCapturing(!0)},goog.debug.Console.show=function(){alert(goog.debug.Console.instance.logBuffer_)},goog.debug.Console.logToConsole_=function(e,o,t){e[o]?e[o](t):e.log(t)},goog.provide("goog.dom.ViewportSizeMonitor"),goog.require("goog.dom"),goog.require("goog.events"),goog.require("goog.events.EventTarget"),goog.require("goog.events.EventType"),goog.require("goog.math.Size"),goog.dom.ViewportSizeMonitor=function(e){goog.events.EventTarget.call(this),this.window_=e||window,this.listenerKey_=goog.events.listen(this.window_,goog.events.EventType.RESIZE,this.handleResize_,!1,this),this.size_=goog.dom.getViewportSize(this.window_)},goog.inherits(goog.dom.ViewportSizeMonitor,goog.events.EventTarget),goog.dom.ViewportSizeMonitor.getInstanceForWindow=function(e){var o=e||window,t=goog.getUid(o);return goog.dom.ViewportSizeMonitor.windowInstanceMap_[t]=goog.dom.ViewportSizeMonitor.windowInstanceMap_[t]||new goog.dom.ViewportSizeMonitor(o)},goog.dom.ViewportSizeMonitor.removeInstanceForWindow=function(e){var o=goog.getUid(e||window);goog.dispose(goog.dom.ViewportSizeMonitor.windowInstanceMap_[o]),delete goog.dom.ViewportSizeMonitor.windowInstanceMap_[o]},goog.dom.ViewportSizeMonitor.windowInstanceMap_={},goog.dom.ViewportSizeMonitor.prototype.listenerKey_=null,goog.dom.ViewportSizeMonitor.prototype.window_=null,goog.dom.ViewportSizeMonitor.prototype.size_=null,goog.dom.ViewportSizeMonitor.prototype.getSize=function(){return this.size_?this.size_.clone():null},goog.dom.ViewportSizeMonitor.prototype.disposeInternal=function(){goog.dom.ViewportSizeMonitor.superClass_.disposeInternal.call(this),this.listenerKey_&&(goog.events.unlistenByKey(this.listenerKey_),this.listenerKey_=null),this.window_=null,this.size_=null},goog.dom.ViewportSizeMonitor.prototype.handleResize_=function(e){var o=goog.dom.getViewportSize(this.window_);goog.math.Size.equals(o,this.size_)||(this.size_=o,this.dispatchEvent(goog.events.EventType.RESIZE))},goog.provide("goog.events.KeyCodes"),goog.require("goog.userAgent"),goog.events.KeyCodes={WIN_KEY_FF_LINUX:0,MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,FF_SEMICOLON:59,FF_EQUALS:61,FF_DASH:173,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SCROLL_LOCK:145,FIRST_MEDIA_KEY:166,LAST_MEDIA_KEY:183,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,TILDE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,MAC_WK_CMD_LEFT:91,MAC_WK_CMD_RIGHT:93,WIN_IME:229,PHANTOM:255},goog.events.KeyCodes.isTextModifyingKeyEvent=function(e){if(e.altKey&&!e.ctrlKey||e.metaKey||e.keyCode>=goog.events.KeyCodes.F1&&e.keyCode<=goog.events.KeyCodes.F12)return!1;switch(e.keyCode){case goog.events.KeyCodes.ALT:case goog.events.KeyCodes.CAPS_LOCK:case goog.events.KeyCodes.CONTEXT_MENU:case goog.events.KeyCodes.CTRL:case goog.events.KeyCodes.DOWN:case goog.events.KeyCodes.END:case goog.events.KeyCodes.ESC:case goog.events.KeyCodes.HOME:case goog.events.KeyCodes.INSERT:case goog.events.KeyCodes.LEFT:case goog.events.KeyCodes.MAC_FF_META:case goog.events.KeyCodes.META:case goog.events.KeyCodes.NUMLOCK:case goog.events.KeyCodes.NUM_CENTER:case goog.events.KeyCodes.PAGE_DOWN:case goog.events.KeyCodes.PAGE_UP:case goog.events.KeyCodes.PAUSE:case goog.events.KeyCodes.PHANTOM:case goog.events.KeyCodes.PRINT_SCREEN:case goog.events.KeyCodes.RIGHT:case goog.events.KeyCodes.SCROLL_LOCK:case goog.events.KeyCodes.SHIFT:case goog.events.KeyCodes.UP:case goog.events.KeyCodes.WIN_KEY:case goog.events.KeyCodes.WIN_KEY_RIGHT:return!1;case goog.events.KeyCodes.WIN_KEY_FF_LINUX:return!goog.userAgent.GECKO;default:return e.keyCode<goog.events.KeyCodes.FIRST_MEDIA_KEY||e.keyCode>goog.events.KeyCodes.LAST_MEDIA_KEY}},goog.events.KeyCodes.firesKeyPressEvent=function(e,o,t,r,n){if(!(goog.userAgent.IE||goog.userAgent.WEBKIT&&goog.userAgent.isVersionOrHigher("525")))return!0;if(goog.userAgent.MAC&&n)return goog.events.KeyCodes.isCharacterKey(e);if(n&&!r)return!1;if(goog.isNumber(o)&&(o=goog.events.KeyCodes.normalizeKeyCode(o)),!t&&(o==goog.events.KeyCodes.CTRL||o==goog.events.KeyCodes.ALT||goog.userAgent.MAC&&o==goog.events.KeyCodes.META))return!1;if(goog.userAgent.WEBKIT&&r&&t)switch(e){case goog.events.KeyCodes.BACKSLASH:case goog.events.KeyCodes.OPEN_SQUARE_BRACKET:case goog.events.KeyCodes.CLOSE_SQUARE_BRACKET:case goog.events.KeyCodes.TILDE:case goog.events.KeyCodes.SEMICOLON:case goog.events.KeyCodes.DASH:case goog.events.KeyCodes.EQUALS:case goog.events.KeyCodes.COMMA:case goog.events.KeyCodes.PERIOD:case goog.events.KeyCodes.SLASH:case goog.events.KeyCodes.APOSTROPHE:case goog.events.KeyCodes.SINGLE_QUOTE:return!1}if(goog.userAgent.IE&&r&&o==e)return!1;switch(e){case goog.events.KeyCodes.ENTER:return!0;case goog.events.KeyCodes.ESC:return!goog.userAgent.WEBKIT}return goog.events.KeyCodes.isCharacterKey(e)},goog.events.KeyCodes.isCharacterKey=function(e){if(e>=goog.events.KeyCodes.ZERO&&e<=goog.events.KeyCodes.NINE)return!0;if(e>=goog.events.KeyCodes.NUM_ZERO&&e<=goog.events.KeyCodes.NUM_MULTIPLY)return!0;if(e>=goog.events.KeyCodes.A&&e<=goog.events.KeyCodes.Z)return!0;if(goog.userAgent.WEBKIT&&0==e)return!0;switch(e){case goog.events.KeyCodes.SPACE:case goog.events.KeyCodes.QUESTION_MARK:case goog.events.KeyCodes.NUM_PLUS:case goog.events.KeyCodes.NUM_MINUS:case goog.events.KeyCodes.NUM_PERIOD:case goog.events.KeyCodes.NUM_DIVISION:case goog.events.KeyCodes.SEMICOLON:case goog.events.KeyCodes.FF_SEMICOLON:case goog.events.KeyCodes.DASH:case goog.events.KeyCodes.EQUALS:case goog.events.KeyCodes.FF_EQUALS:case goog.events.KeyCodes.COMMA:case goog.events.KeyCodes.PERIOD:case goog.events.KeyCodes.SLASH:case goog.events.KeyCodes.APOSTROPHE:case goog.events.KeyCodes.SINGLE_QUOTE:case goog.events.KeyCodes.OPEN_SQUARE_BRACKET:case goog.events.KeyCodes.BACKSLASH:case goog.events.KeyCodes.CLOSE_SQUARE_BRACKET:return!0;default:return!1}},goog.events.KeyCodes.normalizeKeyCode=function(e){return goog.userAgent.GECKO?goog.events.KeyCodes.normalizeGeckoKeyCode(e):goog.userAgent.MAC&&goog.userAgent.WEBKIT?goog.events.KeyCodes.normalizeMacWebKitKeyCode(e):e},goog.events.KeyCodes.normalizeGeckoKeyCode=function(e){switch(e){case goog.events.KeyCodes.FF_EQUALS:return goog.events.KeyCodes.EQUALS;case goog.events.KeyCodes.FF_SEMICOLON:return goog.events.KeyCodes.SEMICOLON;case goog.events.KeyCodes.FF_DASH:return goog.events.KeyCodes.DASH;case goog.events.KeyCodes.MAC_FF_META:return goog.events.KeyCodes.META;case goog.events.KeyCodes.WIN_KEY_FF_LINUX:return goog.events.KeyCodes.WIN_KEY;default:return e}},goog.events.KeyCodes.normalizeMacWebKitKeyCode=function(e){switch(e){case goog.events.KeyCodes.MAC_WK_CMD_RIGHT:return goog.events.KeyCodes.META;default:return e}},goog.provide("goog.events.KeyEvent"),goog.provide("goog.events.KeyHandler"),goog.provide("goog.events.KeyHandler.EventType"),goog.require("goog.events"),goog.require("goog.events.BrowserEvent"),goog.require("goog.events.EventTarget"),goog.require("goog.events.EventType"),goog.require("goog.events.KeyCodes"),goog.require("goog.userAgent"),goog.events.KeyHandler=function(e,o){goog.events.EventTarget.call(this),e&&this.attach(e,o)},goog.inherits(goog.events.KeyHandler,goog.events.EventTarget),goog.events.KeyHandler.prototype.element_=null,goog.events.KeyHandler.prototype.keyPressKey_=null,goog.events.KeyHandler.prototype.keyDownKey_=null,goog.events.KeyHandler.prototype.keyUpKey_=null,goog.events.KeyHandler.prototype.lastKey_=-1,goog.events.KeyHandler.prototype.keyCode_=-1,goog.events.KeyHandler.prototype.altKey_=!1,goog.events.KeyHandler.EventType={KEY:"key"},goog.events.KeyHandler.safariKey_={3:goog.events.KeyCodes.ENTER,12:goog.events.KeyCodes.NUMLOCK,63232:goog.events.KeyCodes.UP,63233:goog.events.KeyCodes.DOWN,63234:goog.events.KeyCodes.LEFT,63235:goog.events.KeyCodes.RIGHT,63236:goog.events.KeyCodes.F1,63237:goog.events.KeyCodes.F2,63238:goog.events.KeyCodes.F3,63239:goog.events.KeyCodes.F4,63240:goog.events.KeyCodes.F5,63241:goog.events.KeyCodes.F6,63242:goog.events.KeyCodes.F7,63243:goog.events.KeyCodes.F8,63244:goog.events.KeyCodes.F9,63245:goog.events.KeyCodes.F10,63246:goog.events.KeyCodes.F11,63247:goog.events.KeyCodes.F12,63248:goog.events.KeyCodes.PRINT_SCREEN,63272:goog.events.KeyCodes.DELETE,63273:goog.events.KeyCodes.HOME,63275:goog.events.KeyCodes.END,63276:goog.events.KeyCodes.PAGE_UP,63277:goog.events.KeyCodes.PAGE_DOWN,63289:goog.events.KeyCodes.NUMLOCK,63302:goog.events.KeyCodes.INSERT},goog.events.KeyHandler.keyIdentifier_={Up:goog.events.KeyCodes.UP,Down:goog.events.KeyCodes.DOWN,Left:goog.events.KeyCodes.LEFT,Right:goog.events.KeyCodes.RIGHT,Enter:goog.events.KeyCodes.ENTER,F1:goog.events.KeyCodes.F1,F2:goog.events.KeyCodes.F2,F3:goog.events.KeyCodes.F3,F4:goog.events.KeyCodes.F4,F5:goog.events.KeyCodes.F5,F6:goog.events.KeyCodes.F6,F7:goog.events.KeyCodes.F7,F8:goog.events.KeyCodes.F8,F9:goog.events.KeyCodes.F9,F10:goog.events.KeyCodes.F10,F11:goog.events.KeyCodes.F11,F12:goog.events.KeyCodes.F12,"U+007F":goog.events.KeyCodes.DELETE,Home:goog.events.KeyCodes.HOME,End:goog.events.KeyCodes.END,PageUp:goog.events.KeyCodes.PAGE_UP,PageDown:goog.events.KeyCodes.PAGE_DOWN,Insert:goog.events.KeyCodes.INSERT},goog.events.KeyHandler.USES_KEYDOWN_=goog.userAgent.IE||goog.userAgent.WEBKIT&&goog.userAgent.isVersionOrHigher("525"),goog.events.KeyHandler.SAVE_ALT_FOR_KEYPRESS_=goog.userAgent.MAC&&goog.userAgent.GECKO,goog.events.KeyHandler.prototype.handleKeyDown_=function(e){goog.userAgent.WEBKIT&&(this.lastKey_==goog.events.KeyCodes.CTRL&&!e.ctrlKey||this.lastKey_==goog.events.KeyCodes.ALT&&!e.altKey||goog.userAgent.MAC&&this.lastKey_==goog.events.KeyCodes.META&&!e.metaKey)&&(this.lastKey_=-1,this.keyCode_=-1),-1==this.lastKey_&&(e.ctrlKey&&e.keyCode!=goog.events.KeyCodes.CTRL?this.lastKey_=goog.events.KeyCodes.CTRL:e.altKey&&e.keyCode!=goog.events.KeyCodes.ALT?this.lastKey_=goog.events.KeyCodes.ALT:e.metaKey&&e.keyCode!=goog.events.KeyCodes.META&&(this.lastKey_=goog.events.KeyCodes.META)),goog.events.KeyHandler.USES_KEYDOWN_&&!goog.events.KeyCodes.firesKeyPressEvent(e.keyCode,this.lastKey_,e.shiftKey,e.ctrlKey,e.altKey)?this.handleEvent(e):(this.keyCode_=goog.events.KeyCodes.normalizeKeyCode(e.keyCode),goog.events.KeyHandler.SAVE_ALT_FOR_KEYPRESS_&&(this.altKey_=e.altKey))},goog.events.KeyHandler.prototype.resetState=function(){this.lastKey_=-1,this.keyCode_=-1},goog.events.KeyHandler.prototype.handleKeyup_=function(e){this.resetState(),this.altKey_=e.altKey},goog.events.KeyHandler.prototype.handleEvent=function(e){var o,t,r=e.getBrowserEvent(),n=r.altKey;goog.userAgent.IE&&e.type==goog.events.EventType.KEYPRESS?(o=this.keyCode_,t=o!=goog.events.KeyCodes.ENTER&&o!=goog.events.KeyCodes.ESC?r.keyCode:0):goog.userAgent.WEBKIT&&e.type==goog.events.EventType.KEYPRESS?(o=this.keyCode_,t=r.charCode>=0&&r.charCode<63232&&goog.events.KeyCodes.isCharacterKey(o)?r.charCode:0):goog.userAgent.OPERA?(o=this.keyCode_,t=goog.events.KeyCodes.isCharacterKey(o)?r.keyCode:0):(o=r.keyCode||this.keyCode_,t=r.charCode||0,goog.events.KeyHandler.SAVE_ALT_FOR_KEYPRESS_&&(n=this.altKey_),goog.userAgent.MAC&&t==goog.events.KeyCodes.QUESTION_MARK&&o==goog.events.KeyCodes.WIN_KEY&&(o=goog.events.KeyCodes.SLASH)),o=goog.events.KeyCodes.normalizeKeyCode(o);var i=o,a=r.keyIdentifier;o?o>=63232&&o in goog.events.KeyHandler.safariKey_?i=goog.events.KeyHandler.safariKey_[o]:25==o&&e.shiftKey&&(i=9):a&&a in goog.events.KeyHandler.keyIdentifier_&&(i=goog.events.KeyHandler.keyIdentifier_[a]);var s=i==this.lastKey_;this.lastKey_=i;var g=new goog.events.KeyEvent(i,t,s,r);g.altKey=n,this.dispatchEvent(g)},goog.events.KeyHandler.prototype.getElement=function(){return this.element_},goog.events.KeyHandler.prototype.attach=function(e,o){this.keyUpKey_&&this.detach(),this.element_=e,this.keyPressKey_=goog.events.listen(this.element_,goog.events.EventType.KEYPRESS,this,o),this.keyDownKey_=goog.events.listen(this.element_,goog.events.EventType.KEYDOWN,this.handleKeyDown_,o,this),this.keyUpKey_=goog.events.listen(this.element_,goog.events.EventType.KEYUP,this.handleKeyup_,o,this)},goog.events.KeyHandler.prototype.detach=function(){this.keyPressKey_&&(goog.events.unlistenByKey(this.keyPressKey_),goog.events.unlistenByKey(this.keyDownKey_),goog.events.unlistenByKey(this.keyUpKey_),this.keyPressKey_=null,this.keyDownKey_=null,this.keyUpKey_=null),this.element_=null,this.lastKey_=-1,this.keyCode_=-1},goog.events.KeyHandler.prototype.disposeInternal=function(){goog.events.KeyHandler.superClass_.disposeInternal.call(this),this.detach()},goog.events.KeyEvent=function(e,o,t,r){goog.events.BrowserEvent.call(this,r),this.type=goog.events.KeyHandler.EventType.KEY,this.keyCode=e,this.charCode=o,this.repeat=t},goog.inherits(goog.events.KeyEvent,goog.events.BrowserEvent),goog.provide("goog.events.MouseWheelEvent"),goog.provide("goog.events.MouseWheelHandler"),goog.provide("goog.events.MouseWheelHandler.EventType"),goog.require("goog.dom"),goog.require("goog.events"),goog.require("goog.events.BrowserEvent"),goog.require("goog.events.EventTarget"),goog.require("goog.math"),goog.require("goog.style"),goog.require("goog.userAgent"),goog.events.MouseWheelHandler=function(e,o){goog.events.EventTarget.call(this),this.element_=e;var t=goog.dom.isElement(this.element_)?this.element_:this.element_?this.element_.body:null;this.isRtl_=!!t&&goog.style.isRightToLeft(t);var r=goog.userAgent.GECKO?"DOMMouseScroll":"mousewheel";this.listenKey_=goog.events.listen(this.element_,r,this,o)},goog.inherits(goog.events.MouseWheelHandler,goog.events.EventTarget),goog.events.MouseWheelHandler.EventType={MOUSEWHEEL:"mousewheel"},goog.events.MouseWheelHandler.prototype.maxDeltaX_,goog.events.MouseWheelHandler.prototype.maxDeltaY_,goog.events.MouseWheelHandler.prototype.setMaxDeltaX=function(e){this.maxDeltaX_=e},goog.events.MouseWheelHandler.prototype.setMaxDeltaY=function(e){this.maxDeltaY_=e},goog.events.MouseWheelHandler.prototype.handleEvent=function(e){var o=0,t=0,r=0,n=e.getBrowserEvent();if("mousewheel"==n.type){var i=1;(goog.userAgent.IE||goog.userAgent.WEBKIT&&(goog.userAgent.WINDOWS||goog.userAgent.isVersionOrHigher("532.0")))&&(i=40),r=goog.events.MouseWheelHandler.smartScale_(-n.wheelDelta,i),goog.isDef(n.wheelDeltaX)?(o=goog.events.MouseWheelHandler.smartScale_(-n.wheelDeltaX,i),t=goog.events.MouseWheelHandler.smartScale_(-n.wheelDeltaY,i)):t=r}else r=n.detail,r>100?r=3:-100>r&&(r=-3),goog.isDef(n.axis)&&n.axis===n.HORIZONTAL_AXIS?o=r:t=r;goog.isNumber(this.maxDeltaX_)&&(o=goog.math.clamp(o,-this.maxDeltaX_,this.maxDeltaX_)),goog.isNumber(this.maxDeltaY_)&&(t=goog.math.clamp(t,-this.maxDeltaY_,this.maxDeltaY_)),this.isRtl_&&(o=-o);var a=new goog.events.MouseWheelEvent(r,n,o,t);this.dispatchEvent(a)},goog.events.MouseWheelHandler.smartScale_=function(e,o){return goog.userAgent.WEBKIT&&(goog.userAgent.MAC||goog.userAgent.LINUX)&&e%o!=0?e:e/o},goog.events.MouseWheelHandler.prototype.disposeInternal=function(){goog.events.MouseWheelHandler.superClass_.disposeInternal.call(this),goog.events.unlistenByKey(this.listenKey_),
this.listenKey_=null},goog.events.MouseWheelEvent=function(e,o,t,r){goog.events.BrowserEvent.call(this,o),this.type=goog.events.MouseWheelHandler.EventType.MOUSEWHEEL,this.detail=e,this.deltaX=t,this.deltaY=r},goog.inherits(goog.events.MouseWheelEvent,goog.events.BrowserEvent),goog.provide("goog.log"),goog.provide("goog.log.Level"),goog.provide("goog.log.LogRecord"),goog.provide("goog.log.Logger"),goog.require("goog.debug"),goog.require("goog.debug.LogManager"),goog.require("goog.debug.LogRecord"),goog.require("goog.debug.Logger"),goog.define("goog.log.ENABLED",goog.debug.LOGGING_ENABLED),goog.log.ROOT_LOGGER_NAME=goog.debug.Logger.ROOT_LOGGER_NAME,goog.log.Logger=goog.debug.Logger,goog.log.Level=goog.debug.Logger.Level,goog.log.LogRecord=goog.debug.LogRecord,goog.log.getLogger=function(e,o){if(goog.log.ENABLED){var t=goog.debug.LogManager.getLogger(e);return o&&t&&t.setLevel(o),t}return null},goog.log.addHandler=function(e,o){goog.log.ENABLED&&e&&e.addHandler(o)},goog.log.removeHandler=function(e,o){return goog.log.ENABLED&&e?e.removeHandler(o):!1},goog.log.log=function(e,o,t,r){goog.log.ENABLED&&e&&e.log(o,t,r)},goog.log.error=function(e,o,t){goog.log.ENABLED&&e&&e.severe(o,t)},goog.log.warning=function(e,o,t){goog.log.ENABLED&&e&&e.warning(o,t)},goog.log.info=function(e,o,t){goog.log.ENABLED&&e&&e.info(o,t)},goog.log.fine=function(e,o,t){goog.log.ENABLED&&e&&e.fine(o,t)},goog.provide("ol.pointer.PointerEvent"),goog.require("goog.events"),goog.require("goog.events.Event"),goog.require("goog.object"),ol.pointer.PointerEvent=function(e,o,t){goog.base(this,e),this.browserEvent=o;var r=goog.isDef(t)?t:{};this.buttons=this.getButtons_(r),this.pressure=this.getPressure_(r,this.buttons),this.bubbles=goog.object.get(r,"bubbles",!1),this.cancelable=goog.object.get(r,"cancelable",!1),this.view=goog.object.get(r,"view",null),this.detail=goog.object.get(r,"detail",null),this.screenX=goog.object.get(r,"screenX",0),this.screenY=goog.object.get(r,"screenY",0),this.clientX=goog.object.get(r,"clientX",0),this.clientY=goog.object.get(r,"clientY",0),this.ctrlKey=goog.object.get(r,"ctrlKey",!1),this.altKey=goog.object.get(r,"altKey",!1),this.shiftKey=goog.object.get(r,"shiftKey",!1),this.metaKey=goog.object.get(r,"metaKey",!1),this.button=goog.object.get(r,"button",0),this.relatedTarget=goog.object.get(r,"relatedTarget",null),this.pointerId=goog.object.get(r,"pointerId",0),this.width=goog.object.get(r,"width",0),this.height=goog.object.get(r,"height",0),this.tiltX=goog.object.get(r,"tiltX",0),this.tiltY=goog.object.get(r,"tiltY",0),this.pointerType=goog.object.get(r,"pointerType",""),this.hwTimestamp=goog.object.get(r,"hwTimestamp",0),this.isPrimary=goog.object.get(r,"isPrimary",!1),o.preventDefault&&(this.preventDefault=function(){o.preventDefault()})},goog.inherits(ol.pointer.PointerEvent,goog.events.Event),ol.pointer.PointerEvent.prototype.getButtons_=function(e){var o;if(e.buttons||ol.pointer.PointerEvent.HAS_BUTTONS)o=e.buttons;else switch(e.which){case 1:o=1;break;case 2:o=4;break;case 3:o=2;break;default:o=0}return o},ol.pointer.PointerEvent.prototype.getPressure_=function(e,o){var t=0;return t=e.pressure?e.pressure:o?.5:0},ol.pointer.PointerEvent.HAS_BUTTONS=!1,function(){try{var e=new MouseEvent("click",{buttons:1});ol.pointer.PointerEvent.HAS_BUTTONS=1===e.buttons}catch(o){}}(),goog.provide("ol.dom"),goog.provide("ol.dom.BrowserFeature"),goog.require("goog.asserts"),goog.require("goog.dom"),goog.require("goog.dom.TagName"),goog.require("goog.userAgent"),goog.require("goog.vec.Mat4"),goog.require("ol"),ol.dom.createCanvasContext2D=function(e,o){var t=goog.dom.createElement(goog.dom.TagName.CANVAS);return goog.isDef(e)&&(t.width=e),goog.isDef(o)&&(t.height=o),t.getContext("2d")},ol.dom.BrowserFeature={USE_MS_MATRIX_TRANSFORM:ol.LEGACY_IE_SUPPORT&&ol.IS_LEGACY_IE,USE_MS_ALPHA_FILTER:ol.LEGACY_IE_SUPPORT&&ol.IS_LEGACY_IE},ol.dom.canUseCssTransform=function(){var e;return function(){if(!goog.isDef(e))if(goog.asserts.assert(!goog.isNull(document.body),"document.body should not be null"),goog.global.getComputedStyle){var o,t=goog.dom.createElement(goog.dom.TagName.P),r={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};goog.dom.appendChild(document.body,t);for(var n in r)n in t.style&&(t.style[n]="translate(1px,1px)",o=goog.global.getComputedStyle(t).getPropertyValue(r[n]));goog.dom.removeNode(t),e=o&&"none"!==o}else e=!1;return e}}(),ol.dom.canUseCssTransform3D=function(){var e;return function(){if(!goog.isDef(e))if(goog.asserts.assert(!goog.isNull(document.body),"document.body should not be null"),goog.global.getComputedStyle){var o,t=goog.dom.createElement(goog.dom.TagName.P),r={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};goog.dom.appendChild(document.body,t);for(var n in r)n in t.style&&(t.style[n]="translate3d(1px,1px,1px)",o=goog.global.getComputedStyle(t).getPropertyValue(r[n]));goog.dom.removeNode(t),e=o&&"none"!==o}else e=!1;return e}}(),ol.dom.setTransform=function(e,o){var t=e.style;t.WebkitTransform=o,t.MozTransform=o,t.OTransform=o,t.msTransform=o,t.transform=o,goog.userAgent.IE&&!ol.IS_LEGACY_IE&&(e.style.transformOrigin="0 0")},ol.dom.setOpacity=function(e,o){if(ol.dom.BrowserFeature.USE_MS_ALPHA_FILTER){var t,r,n=e.currentStyle.filter;"8.0"==goog.userAgent.VERSION?(t=/progid:DXImageTransform\.Microsoft\.Alpha\(.*?\)/i,r="progid:DXImageTransform.Microsoft.Alpha(Opacity="+100*o+")"):(t=/alpha\(.*?\)/i,r="alpha(opacity="+100*o+")");var i=n.replace(t,r);i===n&&(i+=" "+r),e.style.filter=i,"auto"===e.currentStyle.zIndex&&(e.style.zIndex=0)}else e.style.opacity=o},ol.dom.setIEMatrix_=function(e,o){var t=e.currentStyle.filter,r=t.replace(/progid:DXImageTransform.Microsoft.Matrix\(.*?\)/i,o);r===t&&(r=" "+o),e.style.filter=r,"auto"===e.currentStyle.zIndex&&(e.style.zIndex=0)},ol.dom.transformElement2D=function(e,o,t,r){var n;if(ol.dom.canUseCssTransform3D()){var i;if(goog.isDef(t)){var a=new Array(16);for(n=0;16>n;++n)a[n]=o[n].toFixed(t);i=a.join(",")}else i=o.join(",");ol.dom.setTransform(e,"matrix3d("+i+")")}else if(ol.dom.canUseCssTransform()){var s,g=[goog.vec.Mat4.getElement(o,0,0),goog.vec.Mat4.getElement(o,1,0),goog.vec.Mat4.getElement(o,0,1),goog.vec.Mat4.getElement(o,1,1),goog.vec.Mat4.getElement(o,0,3),goog.vec.Mat4.getElement(o,1,3)];if(goog.isDef(t)){var l=new Array(6);for(n=0;6>n;++n)l[n]=g[n].toFixed(t);s=l.join(",")}else s=g.join(",");ol.dom.setTransform(e,"matrix("+s+")")}else if(ol.dom.BrowserFeature.USE_MS_MATRIX_TRANSFORM){var p=goog.vec.Mat4.getElement(o,0,0),u=goog.vec.Mat4.getElement(o,0,1),c=goog.vec.Mat4.getElement(o,1,0),d=goog.vec.Mat4.getElement(o,1,1),h=goog.vec.Mat4.getElement(o,0,3),m=goog.vec.Mat4.getElement(o,1,3),y="progid:DXImageTransform.Microsoft.Matrix(";y+='sizingMethod="auto expand"',y+=",M11="+p.toFixed(t||20),y+=",M12="+u.toFixed(t||20),y+=",M21="+c.toFixed(t||20),y+=",M22="+d.toFixed(t||20),y+=")",ol.dom.setIEMatrix_(e,y),h/=p,m/=d,r.style.left=Math.round(h)+"px",r.style.top=Math.round(m)+"px"}else e.style.left=Math.round(goog.vec.Mat4.getElement(o,0,3))+"px",e.style.top=Math.round(goog.vec.Mat4.getElement(o,1,3))+"px"},ol.dom.outerWidth=function(e){var o=e.offsetWidth,t=e.currentStyle||window.getComputedStyle(e);return o+=parseInt(t.marginLeft,10)+parseInt(t.marginRight,10)},ol.dom.outerHeight=function(e){var o=e.offsetHeight,t=e.currentStyle||window.getComputedStyle(e);return o+=parseInt(t.marginTop,10)+parseInt(t.marginBottom,10)},goog.provide("ol.webgl"),goog.provide("ol.webgl.WebGLContextEventType"),ol.webgl.CONTEXT_IDS_=["experimental-webgl","webgl","webkit-3d","moz-webgl"],ol.webgl.WebGLContextEventType={LOST:"webglcontextlost",RESTORED:"webglcontextrestored"},ol.webgl.getContext=function(e,o){var t,r,n=ol.webgl.CONTEXT_IDS_.length;for(r=0;n>r;++r)try{if(t=e.getContext(ol.webgl.CONTEXT_IDS_[r],o),!goog.isNull(t))return t}catch(i){}return null},goog.provide("ol.has"),goog.require("goog.dom"),goog.require("goog.dom.TagName"),goog.require("ol"),goog.require("ol.dom"),goog.require("ol.webgl"),ol.has.DEVICE_PIXEL_RATIO=goog.global.devicePixelRatio||1,ol.has.CANVAS_LINE_DASH=!1,ol.has.CANVAS=ol.ENABLE_CANVAS&&function(){if(!("HTMLCanvasElement"in goog.global))return!1;try{var e=ol.dom.createCanvasContext2D();return goog.isNull(e)?!1:(goog.isDef(e.setLineDash)&&(ol.has.CANVAS_LINE_DASH=!0),!0)}catch(o){return!1}}(),ol.has.DEVICE_ORIENTATION="DeviceOrientationEvent"in goog.global,ol.has.DOM=ol.ENABLE_DOM,ol.has.GEOLOCATION="geolocation"in goog.global.navigator,ol.has.TOUCH=ol.ASSUME_TOUCH||"ontouchstart"in goog.global,ol.has.POINTER="PointerEvent"in goog.global,ol.has.MSPOINTER=!!goog.global.navigator.msPointerEnabled,ol.has.WEBGL,function(){if(ol.ENABLE_WEBGL){var e,o=!1,t=[];if("WebGLRenderingContext"in goog.global)try{var r=goog.dom.createElement(goog.dom.TagName.CANVAS),n=ol.webgl.getContext(r,{failIfMajorPerformanceCaveat:!0});goog.isNull(n)||(o=!0,e=n.getParameter(n.MAX_TEXTURE_SIZE),t=n.getSupportedExtensions())}catch(i){}ol.has.WEBGL=o,ol.WEBGL_EXTENSIONS=t,ol.WEBGL_MAX_TEXTURE_SIZE=e}}(),goog.provide("ol.pointer.EventSource"),goog.require("goog.events.BrowserEvent"),goog.require("goog.object"),ol.pointer.EventSource=function(e,o){this.dispatcher=e,this.mapping_=o},ol.pointer.EventSource.prototype.getEvents=function(){return goog.object.getKeys(this.mapping_)},ol.pointer.EventSource.prototype.getMapping=function(){return this.mapping_},ol.pointer.EventSource.prototype.getHandlerForEvent=function(e){return this.mapping_[e]},goog.provide("ol.pointer.MouseSource"),goog.require("goog.object"),goog.require("ol.pointer.EventSource"),ol.pointer.MouseSource=function(e){var o={mousedown:this.mousedown,mousemove:this.mousemove,mouseup:this.mouseup,mouseover:this.mouseover,mouseout:this.mouseout};goog.base(this,e,o),this.pointerMap=e.pointerMap,this.lastTouches=[]},goog.inherits(ol.pointer.MouseSource,ol.pointer.EventSource),ol.pointer.MouseSource.POINTER_ID=1,ol.pointer.MouseSource.POINTER_TYPE="mouse",ol.pointer.MouseSource.DEDUP_DIST=25,ol.pointer.MouseSource.prototype.isEventSimulatedFromTouch_=function(e){for(var o,t=this.lastTouches,r=e.clientX,n=e.clientY,i=0,a=t.length;a>i&&(o=t[i]);i++){var s=Math.abs(r-o[0]),g=Math.abs(n-o[1]);if(s<=ol.pointer.MouseSource.DEDUP_DIST&&g<=ol.pointer.MouseSource.DEDUP_DIST)return!0}return!1},ol.pointer.MouseSource.prepareEvent=function(e,o){var t=o.cloneEvent(e,e.getBrowserEvent()),r=t.preventDefault;return t.preventDefault=function(){e.preventDefault(),r()},t.pointerId=ol.pointer.MouseSource.POINTER_ID,t.isPrimary=!0,t.pointerType=ol.pointer.MouseSource.POINTER_TYPE,t},ol.pointer.MouseSource.prototype.mousedown=function(e){if(!this.isEventSimulatedFromTouch_(e)){var o=goog.object.containsKey(this.pointerMap,ol.pointer.MouseSource.POINTER_ID.toString());o&&this.cancel(e);var t=ol.pointer.MouseSource.prepareEvent(e,this.dispatcher);this.pointerMap[ol.pointer.MouseSource.POINTER_ID.toString()]=e,this.dispatcher.down(t,e)}},ol.pointer.MouseSource.prototype.mousemove=function(e){if(!this.isEventSimulatedFromTouch_(e)){var o=ol.pointer.MouseSource.prepareEvent(e,this.dispatcher);this.dispatcher.move(o,e)}},ol.pointer.MouseSource.prototype.mouseup=function(e){if(!this.isEventSimulatedFromTouch_(e)){var o=this.pointerMap[ol.pointer.MouseSource.POINTER_ID.toString()];if(o&&o.button===e.button){var t=ol.pointer.MouseSource.prepareEvent(e,this.dispatcher);this.dispatcher.up(t,e),this.cleanupMouse()}}},ol.pointer.MouseSource.prototype.mouseover=function(e){if(!this.isEventSimulatedFromTouch_(e)){var o=ol.pointer.MouseSource.prepareEvent(e,this.dispatcher);this.dispatcher.enterOver(o,e)}},ol.pointer.MouseSource.prototype.mouseout=function(e){if(!this.isEventSimulatedFromTouch_(e)){var o=ol.pointer.MouseSource.prepareEvent(e,this.dispatcher);this.dispatcher.leaveOut(o,e)}},ol.pointer.MouseSource.prototype.cancel=function(e){var o=ol.pointer.MouseSource.prepareEvent(e,this.dispatcher);this.dispatcher.cancel(o,e),this.cleanupMouse()},ol.pointer.MouseSource.prototype.cleanupMouse=function(){goog.object.remove(this.pointerMap,ol.pointer.MouseSource.POINTER_ID.toString())},goog.provide("ol.pointer.MsSource"),goog.require("goog.object"),goog.require("ol.pointer.EventSource"),ol.pointer.MsSource=function(e){var o={MSPointerDown:this.msPointerDown,MSPointerMove:this.msPointerMove,MSPointerUp:this.msPointerUp,MSPointerOut:this.msPointerOut,MSPointerOver:this.msPointerOver,MSPointerCancel:this.msPointerCancel,MSGotPointerCapture:this.msGotPointerCapture,MSLostPointerCapture:this.msLostPointerCapture};goog.base(this,e,o),this.pointerMap=e.pointerMap,this.POINTER_TYPES=["","unavailable","touch","pen","mouse"]},goog.inherits(ol.pointer.MsSource,ol.pointer.EventSource),ol.pointer.MsSource.prototype.prepareEvent_=function(e){var o=e;return goog.isNumber(e.getBrowserEvent().pointerType)&&(o=this.dispatcher.cloneEvent(e,e.getBrowserEvent()),o.pointerType=this.POINTER_TYPES[e.getBrowserEvent().pointerType]),o},ol.pointer.MsSource.prototype.cleanup=function(e){goog.object.remove(this.pointerMap,e)},ol.pointer.MsSource.prototype.msPointerDown=function(e){this.pointerMap[e.getBrowserEvent().pointerId]=e;var o=this.prepareEvent_(e);this.dispatcher.down(o,e)},ol.pointer.MsSource.prototype.msPointerMove=function(e){var o=this.prepareEvent_(e);this.dispatcher.move(o,e)},ol.pointer.MsSource.prototype.msPointerUp=function(e){var o=this.prepareEvent_(e);this.dispatcher.up(o,e),this.cleanup(e.getBrowserEvent().pointerId)},ol.pointer.MsSource.prototype.msPointerOut=function(e){var o=this.prepareEvent_(e);this.dispatcher.leaveOut(o,e)},ol.pointer.MsSource.prototype.msPointerOver=function(e){var o=this.prepareEvent_(e);this.dispatcher.enterOver(o,e)},ol.pointer.MsSource.prototype.msPointerCancel=function(e){var o=this.prepareEvent_(e);this.dispatcher.cancel(o,e),this.cleanup(e.getBrowserEvent().pointerId)},ol.pointer.MsSource.prototype.msLostPointerCapture=function(e){var o=this.dispatcher.makeEvent("lostpointercapture",e.getBrowserEvent(),e);this.dispatcher.dispatchEvent(o)},ol.pointer.MsSource.prototype.msGotPointerCapture=function(e){var o=this.dispatcher.makeEvent("gotpointercapture",e.getBrowserEvent(),e);this.dispatcher.dispatchEvent(o)},goog.provide("ol.pointer.NativeSource"),goog.require("goog.object"),goog.require("ol.pointer.EventSource"),ol.pointer.NativeSource=function(e){var o={pointerdown:this.pointerDown,pointermove:this.pointerMove,pointerup:this.pointerUp,pointerout:this.pointerOut,pointerover:this.pointerOver,pointercancel:this.pointerCancel,gotpointercapture:this.gotPointerCapture,lostpointercapture:this.lostPointerCapture};goog.base(this,e,o)},goog.inherits(ol.pointer.NativeSource,ol.pointer.EventSource),ol.pointer.NativeSource.prototype.pointerDown=function(e){this.dispatcher.fireNativeEvent(e)},ol.pointer.NativeSource.prototype.pointerMove=function(e){this.dispatcher.fireNativeEvent(e)},ol.pointer.NativeSource.prototype.pointerUp=function(e){this.dispatcher.fireNativeEvent(e)},ol.pointer.NativeSource.prototype.pointerOut=function(e){this.dispatcher.fireNativeEvent(e)},ol.pointer.NativeSource.prototype.pointerOver=function(e){this.dispatcher.fireNativeEvent(e)},ol.pointer.NativeSource.prototype.pointerCancel=function(e){this.dispatcher.fireNativeEvent(e)},ol.pointer.NativeSource.prototype.lostPointerCapture=function(e){this.dispatcher.fireNativeEvent(e)},ol.pointer.NativeSource.prototype.gotPointerCapture=function(e){this.dispatcher.fireNativeEvent(e)},goog.provide("ol.pointer.TouchSource"),goog.require("goog.array"),goog.require("goog.object"),goog.require("ol.pointer.EventSource"),goog.require("ol.pointer.MouseSource"),ol.pointer.TouchSource=function(e,o){var t={touchstart:this.touchstart,touchmove:this.touchmove,touchend:this.touchend,touchcancel:this.touchcancel};goog.base(this,e,t),this.pointerMap=e.pointerMap,this.mouseSource=o,this.firstTouchId_=void 0,this.clickCount_=0,this.resetId_=void 0},goog.inherits(ol.pointer.TouchSource,ol.pointer.EventSource),ol.pointer.TouchSource.DEDUP_TIMEOUT=2500,ol.pointer.TouchSource.CLICK_COUNT_TIMEOUT=200,ol.pointer.TouchSource.POINTER_TYPE="touch",ol.pointer.TouchSource.prototype.isPrimaryTouch_=function(e){return this.firstTouchId_===e.identifier},ol.pointer.TouchSource.prototype.setPrimaryTouch_=function(e){var o=goog.object.getCount(this.pointerMap);(0===o||1===o&&goog.object.containsKey(this.pointerMap,ol.pointer.MouseSource.POINTER_ID.toString()))&&(this.firstTouchId_=e.identifier,this.cancelResetClickCount_())},ol.pointer.TouchSource.prototype.removePrimaryPointer_=function(e){e.isPrimary&&(this.firstTouchId_=void 0,this.resetClickCount_())},ol.pointer.TouchSource.prototype.resetClickCount_=function(){this.resetId_=goog.global.setTimeout(goog.bind(this.resetClickCountHandler_,this),ol.pointer.TouchSource.CLICK_COUNT_TIMEOUT)},ol.pointer.TouchSource.prototype.resetClickCountHandler_=function(){this.clickCount_=0,this.resetId_=void 0},ol.pointer.TouchSource.prototype.cancelResetClickCount_=function(){goog.isDef(this.resetId_)&&goog.global.clearTimeout(this.resetId_)},ol.pointer.TouchSource.prototype.touchToPointer_=function(e,o){var t=this.dispatcher.cloneEvent(e,o);return t.pointerId=o.identifier+2,t.bubbles=!0,t.cancelable=!0,t.detail=this.clickCount_,t.button=0,t.buttons=1,t.width=o.webkitRadiusX||o.radiusX||0,t.height=o.webkitRadiusY||o.radiusY||0,t.pressure=o.webkitForce||o.force||.5,t.isPrimary=this.isPrimaryTouch_(o),t.pointerType=ol.pointer.TouchSource.POINTER_TYPE,t.clientX=o.clientX,t.clientY=o.clientY,t.screenX=o.screenX,t.screenY=o.screenY,t},ol.pointer.TouchSource.prototype.processTouches_=function(e,o){function t(){e.preventDefault()}var r,n,i=Array.prototype.slice.call(e.getBrowserEvent().changedTouches),a=i.length;for(r=0;a>r;++r)n=this.touchToPointer_(e,i[r]),n.preventDefault=t,o.call(this,e,n)},ol.pointer.TouchSource.prototype.findTouch_=function(e,o){for(var t,r=e.length,n=0;r>n;n++)if(t=e[n],t.identifier===o)return!0;return!1},ol.pointer.TouchSource.prototype.vacuumTouches_=function(e){var o=e.getBrowserEvent().touches,t=goog.object.getKeys(this.pointerMap),r=t.length;if(r>=o.length){var n,i,a,s=[];for(n=0;r>n;++n)i=t[n],a=this.pointerMap[i],i==ol.pointer.MouseSource.POINTER_ID||this.findTouch_(o,i-2)||s.push(a.out);for(n=0;n<s.length;++n)this.cancelOut_(e,s[n])}},ol.pointer.TouchSource.prototype.touchstart=function(e){this.vacuumTouches_(e),this.setPrimaryTouch_(e.getBrowserEvent().changedTouches[0]),this.dedupSynthMouse_(e),this.clickCount_++,this.processTouches_(e,this.overDown_)},ol.pointer.TouchSource.prototype.overDown_=function(e,o){this.pointerMap[o.pointerId]={target:o.target,out:o,outTarget:o.target},this.dispatcher.over(o,e),this.dispatcher.enter(o,e),this.dispatcher.down(o,e)},ol.pointer.TouchSource.prototype.touchmove=function(e){e.preventDefault(),this.processTouches_(e,this.moveOverOut_)},ol.pointer.TouchSource.prototype.moveOverOut_=function(e,o){var t=o,r=this.pointerMap[t.pointerId];if(r){var n=r.out,i=r.outTarget;this.dispatcher.move(t,e),n&&i!==t.target&&(n.relatedTarget=t.target,t.relatedTarget=i,n.target=i,t.target?(this.dispatcher.leaveOut(n,e),this.dispatcher.enterOver(t,e)):(t.target=i,t.relatedTarget=null,this.cancelOut_(e,t))),r.out=t,r.outTarget=t.target}},ol.pointer.TouchSource.prototype.touchend=function(e){this.dedupSynthMouse_(e),this.processTouches_(e,this.upOut_)},ol.pointer.TouchSource.prototype.upOut_=function(e,o){this.dispatcher.up(o,e),this.dispatcher.out(o,e),this.dispatcher.leave(o,e),this.cleanUpPointer_(o)},ol.pointer.TouchSource.prototype.touchcancel=function(e){this.processTouches_(e,this.cancelOut_)},ol.pointer.TouchSource.prototype.cancelOut_=function(e,o){this.dispatcher.cancel(o,e),this.dispatcher.out(o,e),this.dispatcher.leave(o,e),this.cleanUpPointer_(o)},ol.pointer.TouchSource.prototype.cleanUpPointer_=function(e){goog.object.remove(this.pointerMap,e.pointerId),this.removePrimaryPointer_(e)},ol.pointer.TouchSource.prototype.dedupSynthMouse_=function(e){var o=this.mouseSource.lastTouches,t=e.getBrowserEvent().changedTouches[0];if(this.isPrimaryTouch_(t)){var r=[t.clientX,t.clientY];o.push(r),goog.global.setTimeout(function(){goog.array.remove(o,r)},ol.pointer.TouchSource.DEDUP_TIMEOUT)}},goog.provide("ol.pointer.PointerEventHandler"),goog.require("goog.array"),goog.require("goog.dom"),goog.require("goog.events"),goog.require("goog.events.BrowserEvent"),goog.require("goog.events.Event"),goog.require("goog.events.EventTarget"),goog.require("ol.has"),goog.require("ol.pointer.MouseSource"),goog.require("ol.pointer.MsSource"),goog.require("ol.pointer.NativeSource"),goog.require("ol.pointer.PointerEvent"),goog.require("ol.pointer.TouchSource"),ol.pointer.PointerEventHandler=function(e){goog.base(this),this.element_=e,this.pointerMap={},this.eventMap_={},this.eventSourceList_=[],this.registerSources()},goog.inherits(ol.pointer.PointerEventHandler,goog.events.EventTarget),ol.pointer.PointerEventHandler.prototype.registerSources=function(){if(ol.has.POINTER)this.registerSource("native",new ol.pointer.NativeSource(this));else if(ol.has.MSPOINTER)this.registerSource("ms",new ol.pointer.MsSource(this));else{var e=new ol.pointer.MouseSource(this);this.registerSource("mouse",e),ol.has.TOUCH&&this.registerSource("touch",new ol.pointer.TouchSource(this,e))}this.register_()},ol.pointer.PointerEventHandler.prototype.registerSource=function(e,o){var t=o,r=t.getEvents();r&&(goog.array.forEach(r,function(e){var o=t.getHandlerForEvent(e);o&&(this.eventMap_[e]=goog.bind(o,t))},this),this.eventSourceList_.push(t))},ol.pointer.PointerEventHandler.prototype.register_=function(){for(var e,o=this.eventSourceList_.length,t=0;o>t;t++)e=this.eventSourceList_[t],this.addEvents_(e.getEvents())},ol.pointer.PointerEventHandler.prototype.unregister_=function(){for(var e,o=this.eventSourceList_.length,t=0;o>t;t++)e=this.eventSourceList_[t],this.removeEvents_(e.getEvents())},ol.pointer.PointerEventHandler.prototype.eventHandler_=function(e){var o=e.type,t=this.eventMap_[o];t&&t(e)},ol.pointer.PointerEventHandler.prototype.addEvents_=function(e){goog.array.forEach(e,function(e){goog.events.listen(this.element_,e,this.eventHandler_,!1,this)},this)},ol.pointer.PointerEventHandler.prototype.removeEvents_=function(e){goog.array.forEach(e,function(e){goog.events.unlisten(this.element_,e,this.eventHandler_,!1,this)},this)},ol.pointer.PointerEventHandler.prototype.cloneEvent=function(e,o){for(var t,r={},n=0,i=ol.pointer.CLONE_PROPS.length;i>n;n++)t=ol.pointer.CLONE_PROPS[n][0],r[t]=e[t]||o[t]||ol.pointer.CLONE_PROPS[n][1];return r},ol.pointer.PointerEventHandler.prototype.down=function(e,o){this.fireEvent(ol.pointer.EventType.POINTERDOWN,e,o)},ol.pointer.PointerEventHandler.prototype.move=function(e,o){this.fireEvent(ol.pointer.EventType.POINTERMOVE,e,o)},ol.pointer.PointerEventHandler.prototype.up=function(e,o){this.fireEvent(ol.pointer.EventType.POINTERUP,e,o)},ol.pointer.PointerEventHandler.prototype.enter=function(e,o){e.bubbles=!1,this.fireEvent(ol.pointer.EventType.POINTERENTER,e,o)},ol.pointer.PointerEventHandler.prototype.leave=function(e,o){e.bubbles=!1,this.fireEvent(ol.pointer.EventType.POINTERLEAVE,e,o)},ol.pointer.PointerEventHandler.prototype.over=function(e,o){e.bubbles=!0,this.fireEvent(ol.pointer.EventType.POINTEROVER,e,o)},ol.pointer.PointerEventHandler.prototype.out=function(e,o){e.bubbles=!0,this.fireEvent(ol.pointer.EventType.POINTEROUT,e,o)},ol.pointer.PointerEventHandler.prototype.cancel=function(e,o){this.fireEvent(ol.pointer.EventType.POINTERCANCEL,e,o)},ol.pointer.PointerEventHandler.prototype.leaveOut=function(e,o){this.out(e,o),this.contains_(e.target,e.relatedTarget)||this.leave(e,o)},ol.pointer.PointerEventHandler.prototype.enterOver=function(e,o){this.over(e,o),this.contains_(e.target,e.relatedTarget)||this.enter(e,o)},ol.pointer.PointerEventHandler.prototype.contains_=function(e,o){return goog.isNull(o)?!1:goog.dom.contains(e,o)},ol.pointer.PointerEventHandler.prototype.makeEvent=function(e,o,t){return new ol.pointer.PointerEvent(e,t,o)},ol.pointer.PointerEventHandler.prototype.fireEvent=function(e,o,t){var r=this.makeEvent(e,o,t);this.dispatchEvent(r)},ol.pointer.PointerEventHandler.prototype.fireNativeEvent=function(e){var o=this.makeEvent(e.type,e.getBrowserEvent(),e);this.dispatchEvent(o)},ol.pointer.PointerEventHandler.prototype.wrapMouseEvent=function(e,o){var t=this.makeEvent(e,ol.pointer.MouseSource.prepareEvent(o,this),o);return t},ol.pointer.PointerEventHandler.prototype.disposeInternal=function(){this.unregister_(),goog.base(this,"disposeInternal")},ol.pointer.EventType={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},ol.pointer.CLONE_PROPS=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]],goog.provide("ol.MapBrowserEvent"),goog.provide("ol.MapBrowserEvent.EventType"),goog.provide("ol.MapBrowserEventHandler"),goog.provide("ol.MapBrowserPointerEvent"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.events"),goog.require("goog.events.BrowserEvent"),goog.require("goog.events.EventTarget"),goog.require("goog.events.EventType"),goog.require("goog.object"),goog.require("ol"),goog.require("ol.Coordinate"),goog.require("ol.MapEvent"),goog.require("ol.Pixel"),goog.require("ol.pointer.PointerEvent"),goog.require("ol.pointer.PointerEventHandler"),ol.MapBrowserEvent=function(e,o,t,r,n){goog.base(this,e,o,n),this.browserEvent=t,this.originalEvent=t.getBrowserEvent(),this.pixel=o.getEventPixel(this.originalEvent),this.coordinate=o.getCoordinateFromPixel(this.pixel),this.dragging=goog.isDef(r)?r:!1},goog.inherits(ol.MapBrowserEvent,ol.MapEvent),ol.MapBrowserEvent.prototype.preventDefault=function(){goog.base(this,"preventDefault"),this.browserEvent.preventDefault()},ol.MapBrowserEvent.prototype.stopPropagation=function(){goog.base(this,"stopPropagation"),this.browserEvent.stopPropagation()},ol.MapBrowserPointerEvent=function(e,o,t,r,n){goog.base(this,e,o,t.browserEvent,r,n),this.pointerEvent=t},goog.inherits(ol.MapBrowserPointerEvent,ol.MapBrowserEvent),ol.MapBrowserEventHandler=function(e){goog.base(this),this.map_=e,this.clickTimeoutId_=0,this.dragging_=!1,this.dragListenerKeys_=null,this.pointerdownListenerKey_=null,ol.LEGACY_IE_SUPPORT&&ol.IS_LEGACY_IE&&(this.ieDblclickListenerKey_=null),this.down_=null;var o=this.map_.getViewport();this.activePointers_=0,this.trackedTouches_={},this.pointerEventHandler_=new ol.pointer.PointerEventHandler(o),this.documentPointerEventHandler_=null,this.pointerdownListenerKey_=goog.events.listen(this.pointerEventHandler_,ol.pointer.EventType.POINTERDOWN,this.handlePointerDown_,!1,this),this.relayedListenerKey_=goog.events.listen(this.pointerEventHandler_,ol.pointer.EventType.POINTERMOVE,this.relayEvent_,!1,this),ol.LEGACY_IE_SUPPORT&&ol.IS_LEGACY_IE&&(this.ieDblclickListenerKey_=goog.events.listen(o,goog.events.EventType.DBLCLICK,this.emulateClickLegacyIE_,!1,this))},goog.inherits(ol.MapBrowserEventHandler,goog.events.EventTarget),ol.MapBrowserEventHandler.prototype.emulateClickLegacyIE_=function(e){var o=this.pointerEventHandler_.wrapMouseEvent(ol.MapBrowserEvent.EventType.POINTERUP,e);this.emulateClick_(o)},ol.MapBrowserEventHandler.prototype.emulateClick_=function(e){var o;o=new ol.MapBrowserPointerEvent(ol.MapBrowserEvent.EventType.CLICK,this.map_,e),this.dispatchEvent(o),0!==this.clickTimeoutId_?(goog.global.clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=0,o=new ol.MapBrowserPointerEvent(ol.MapBrowserEvent.EventType.DBLCLICK,this.map_,e),this.dispatchEvent(o)):this.clickTimeoutId_=goog.global.setTimeout(goog.bind(function(){this.clickTimeoutId_=0;var o=new ol.MapBrowserPointerEvent(ol.MapBrowserEvent.EventType.SINGLECLICK,this.map_,e);this.dispatchEvent(o)},this),250)},ol.MapBrowserEventHandler.prototype.updateActivePointers_=function(e){var o=e;o.type==ol.MapBrowserEvent.EventType.POINTERUP||o.type==ol.MapBrowserEvent.EventType.POINTERCANCEL?delete this.trackedTouches_[o.pointerId]:o.type==ol.MapBrowserEvent.EventType.POINTERDOWN&&(this.trackedTouches_[o.pointerId]=!0),this.activePointers_=goog.object.getCount(this.trackedTouches_)},ol.MapBrowserEventHandler.prototype.handlePointerUp_=function(e){this.updateActivePointers_(e);var o=new ol.MapBrowserPointerEvent(ol.MapBrowserEvent.EventType.POINTERUP,this.map_,e);this.dispatchEvent(o),!this.dragging_&&this.isMouseActionButton_(e)&&(goog.asserts.assert(!goog.isNull(this.down_),"this.down_ should not be null"),this.emulateClick_(this.down_)),goog.asserts.assert(this.activePointers_>=0,"this.activePointers_ should be equal to or larger than 0"),0===this.activePointers_&&(goog.array.forEach(this.dragListenerKeys_,goog.events.unlistenByKey),this.dragListenerKeys_=null,this.dragging_=!1,this.down_=null,goog.dispose(this.documentPointerEventHandler_),this.documentPointerEventHandler_=null)},ol.MapBrowserEventHandler.prototype.isMouseActionButton_=function(e){return ol.LEGACY_IE_SUPPORT&&ol.IS_LEGACY_IE?1==e.button:0===e.button},ol.MapBrowserEventHandler.prototype.handlePointerDown_=function(e){this.updateActivePointers_(e);var o=new ol.MapBrowserPointerEvent(ol.MapBrowserEvent.EventType.POINTERDOWN,this.map_,e);this.dispatchEvent(o),this.down_=e,goog.isNull(this.dragListenerKeys_)&&(this.documentPointerEventHandler_=new ol.pointer.PointerEventHandler(document),this.dragListenerKeys_=[goog.events.listen(this.documentPointerEventHandler_,ol.MapBrowserEvent.EventType.POINTERMOVE,this.handlePointerMove_,!1,this),goog.events.listen(this.documentPointerEventHandler_,ol.MapBrowserEvent.EventType.POINTERUP,this.handlePointerUp_,!1,this),goog.events.listen(this.pointerEventHandler_,ol.MapBrowserEvent.EventType.POINTERCANCEL,this.handlePointerUp_,!1,this)])},ol.MapBrowserEventHandler.prototype.handlePointerMove_=function(e){if(this.isMoving_(e)){this.dragging_=!0;var o=new ol.MapBrowserPointerEvent(ol.MapBrowserEvent.EventType.POINTERDRAG,this.map_,e,this.dragging_);this.dispatchEvent(o)}e.preventDefault()},ol.MapBrowserEventHandler.prototype.relayEvent_=function(e){var o=!goog.isNull(this.down_)&&this.isMoving_(e);this.dispatchEvent(new ol.MapBrowserPointerEvent(e.type,this.map_,e,o))},ol.MapBrowserEventHandler.prototype.isMoving_=function(e){return e.clientX!=this.down_.clientX||e.clientY!=this.down_.clientY},ol.MapBrowserEventHandler.prototype.disposeInternal=function(){goog.isNull(this.relayedListenerKey_)||(goog.events.unlistenByKey(this.relayedListenerKey_),this.relayedListenerKey_=null),goog.isNull(this.pointerdownListenerKey_)||(goog.events.unlistenByKey(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),goog.isNull(this.dragListenerKeys_)||(goog.array.forEach(this.dragListenerKeys_,goog.events.unlistenByKey),this.dragListenerKeys_=null),goog.isNull(this.documentPointerEventHandler_)||(goog.dispose(this.documentPointerEventHandler_),this.documentPointerEventHandler_=null),goog.isNull(this.pointerEventHandler_)||(goog.dispose(this.pointerEventHandler_),this.pointerEventHandler_=null),ol.LEGACY_IE_SUPPORT&&ol.IS_LEGACY_IE&&!goog.isNull(this.ieDblclickListenerKey_)&&(goog.events.unlistenByKey(this.ieDblclickListenerKey_),this.ieDblclickListenerKey_=null),goog.base(this,"disposeInternal")},ol.MapBrowserEvent.EventType={SINGLECLICK:"singleclick",CLICK:goog.events.EventType.CLICK,DBLCLICK:goog.events.EventType.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",
POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},goog.provide("ol.layer.Base"),goog.provide("ol.layer.LayerProperty"),goog.provide("ol.layer.LayerState"),goog.require("goog.events"),goog.require("goog.math"),goog.require("goog.object"),goog.require("ol.Object"),goog.require("ol.source.State"),ol.layer.LayerProperty={BRIGHTNESS:"brightness",CONTRAST:"contrast",HUE:"hue",OPACITY:"opacity",SATURATION:"saturation",VISIBLE:"visible",EXTENT:"extent",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",SOURCE:"source"},ol.layer.LayerState,ol.layer.Base=function(e){goog.base(this);var o=goog.object.clone(e);o[ol.layer.LayerProperty.BRIGHTNESS]=goog.isDef(e.brightness)?e.brightness:0,o[ol.layer.LayerProperty.CONTRAST]=goog.isDef(e.contrast)?e.contrast:1,o[ol.layer.LayerProperty.HUE]=goog.isDef(e.hue)?e.hue:0,o[ol.layer.LayerProperty.OPACITY]=goog.isDef(e.opacity)?e.opacity:1,o[ol.layer.LayerProperty.SATURATION]=goog.isDef(e.saturation)?e.saturation:1,o[ol.layer.LayerProperty.VISIBLE]=goog.isDef(e.visible)?e.visible:!0,o[ol.layer.LayerProperty.MAX_RESOLUTION]=goog.isDef(e.maxResolution)?e.maxResolution:1/0,o[ol.layer.LayerProperty.MIN_RESOLUTION]=goog.isDef(e.minResolution)?e.minResolution:0,this.setProperties(o)},goog.inherits(ol.layer.Base,ol.Object),ol.layer.Base.prototype.getBrightness=function(){return this.get(ol.layer.LayerProperty.BRIGHTNESS)},ol.layer.Base.prototype.getContrast=function(){return this.get(ol.layer.LayerProperty.CONTRAST)},ol.layer.Base.prototype.getHue=function(){return this.get(ol.layer.LayerProperty.HUE)},ol.layer.Base.prototype.getLayerState=function(){var e=this.getBrightness(),o=this.getContrast(),t=this.getHue(),r=this.getOpacity(),n=this.getSaturation(),i=this.getSourceState(),a=this.getVisible(),s=this.getExtent(),g=this.getMaxResolution(),l=this.getMinResolution();return{layer:this,brightness:goog.math.clamp(e,-1,1),contrast:Math.max(o,0),hue:t,opacity:goog.math.clamp(r,0,1),saturation:Math.max(n,0),sourceState:i,visible:a,managed:!0,extent:s,maxResolution:g,minResolution:Math.max(l,0)}},ol.layer.Base.prototype.getLayersArray=goog.abstractMethod,ol.layer.Base.prototype.getLayerStatesArray=goog.abstractMethod,ol.layer.Base.prototype.getExtent=function(){return this.get(ol.layer.LayerProperty.EXTENT)},ol.layer.Base.prototype.getMaxResolution=function(){return this.get(ol.layer.LayerProperty.MAX_RESOLUTION)},ol.layer.Base.prototype.getMinResolution=function(){return this.get(ol.layer.LayerProperty.MIN_RESOLUTION)},ol.layer.Base.prototype.getOpacity=function(){return this.get(ol.layer.LayerProperty.OPACITY)},ol.layer.Base.prototype.getSaturation=function(){return this.get(ol.layer.LayerProperty.SATURATION)},ol.layer.Base.prototype.getSourceState=goog.abstractMethod,ol.layer.Base.prototype.getVisible=function(){return this.get(ol.layer.LayerProperty.VISIBLE)},ol.layer.Base.prototype.setBrightness=function(e){this.set(ol.layer.LayerProperty.BRIGHTNESS,e)},ol.layer.Base.prototype.setContrast=function(e){this.set(ol.layer.LayerProperty.CONTRAST,e)},ol.layer.Base.prototype.setHue=function(e){this.set(ol.layer.LayerProperty.HUE,e)},ol.layer.Base.prototype.setExtent=function(e){this.set(ol.layer.LayerProperty.EXTENT,e)},ol.layer.Base.prototype.setMaxResolution=function(e){this.set(ol.layer.LayerProperty.MAX_RESOLUTION,e)},ol.layer.Base.prototype.setMinResolution=function(e){this.set(ol.layer.LayerProperty.MIN_RESOLUTION,e)},ol.layer.Base.prototype.setOpacity=function(e){this.set(ol.layer.LayerProperty.OPACITY,e)},ol.layer.Base.prototype.setSaturation=function(e){this.set(ol.layer.LayerProperty.SATURATION,e)},ol.layer.Base.prototype.setVisible=function(e){this.set(ol.layer.LayerProperty.VISIBLE,e)},goog.provide("ol.render.VectorContext"),ol.render.VectorContext=function(){},ol.render.VectorContext.prototype.drawAsync=goog.abstractMethod,ol.render.VectorContext.prototype.drawCircleGeometry=goog.abstractMethod,ol.render.VectorContext.prototype.drawFeature=goog.abstractMethod,ol.render.VectorContext.prototype.drawGeometryCollectionGeometry=goog.abstractMethod,ol.render.VectorContext.prototype.drawLineStringGeometry=goog.abstractMethod,ol.render.VectorContext.prototype.drawMultiLineStringGeometry=goog.abstractMethod,ol.render.VectorContext.prototype.drawMultiPointGeometry=goog.abstractMethod,ol.render.VectorContext.prototype.drawMultiPolygonGeometry=goog.abstractMethod,ol.render.VectorContext.prototype.drawPointGeometry=goog.abstractMethod,ol.render.VectorContext.prototype.drawPolygonGeometry=goog.abstractMethod,ol.render.VectorContext.prototype.drawText=goog.abstractMethod,ol.render.VectorContext.prototype.setFillStrokeStyle=goog.abstractMethod,ol.render.VectorContext.prototype.setImageStyle=goog.abstractMethod,ol.render.VectorContext.prototype.setTextStyle=goog.abstractMethod,goog.provide("ol.render.Event"),goog.provide("ol.render.EventType"),goog.require("goog.events.Event"),goog.require("ol.render.VectorContext"),ol.render.EventType={POSTCOMPOSE:"postcompose",PRECOMPOSE:"precompose",RENDER:"render"},ol.render.Event=function(e,o,t,r,n,i){goog.base(this,e,o),this.vectorContext=t,this.frameState=r,this.context=n,this.glContext=i},goog.inherits(ol.render.Event,goog.events.Event),goog.provide("ol.layer.Layer"),goog.require("goog.events"),goog.require("goog.events.EventType"),goog.require("goog.object"),goog.require("ol.Object"),goog.require("ol.layer.Base"),goog.require("ol.layer.LayerProperty"),goog.require("ol.render.EventType"),goog.require("ol.source.State"),ol.layer.Layer=function(e){var o=goog.object.clone(e);delete o.source,goog.base(this,o),this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,goog.isDef(e.map)&&this.setMap(e.map),goog.events.listen(this,ol.Object.getChangeEventType(ol.layer.LayerProperty.SOURCE),this.handleSourcePropertyChange_,!1,this);var t=goog.isDef(e.source)?e.source:null;this.setSource(t)},goog.inherits(ol.layer.Layer,ol.layer.Base),ol.layer.Layer.visibleAtResolution=function(e,o){return e.visible&&o>=e.minResolution&&o<e.maxResolution},ol.layer.Layer.prototype.getLayersArray=function(e){var o=goog.isDef(e)?e:[];return o.push(this),o},ol.layer.Layer.prototype.getLayerStatesArray=function(e){var o=goog.isDef(e)?e:[];return o.push(this.getLayerState()),o},ol.layer.Layer.prototype.getSource=function(){var e=this.get(ol.layer.LayerProperty.SOURCE);return goog.isDef(e)?e:null},ol.layer.Layer.prototype.getSourceState=function(){var e=this.getSource();return goog.isNull(e)?ol.source.State.UNDEFINED:e.getState()},ol.layer.Layer.prototype.handleSourceChange_=function(){this.changed()},ol.layer.Layer.prototype.handleSourcePropertyChange_=function(){goog.isNull(this.sourceChangeKey_)||(goog.events.unlistenByKey(this.sourceChangeKey_),this.sourceChangeKey_=null);var e=this.getSource();goog.isNull(e)||(this.sourceChangeKey_=goog.events.listen(e,goog.events.EventType.CHANGE,this.handleSourceChange_,!1,this)),this.changed()},ol.layer.Layer.prototype.setMap=function(e){goog.events.unlistenByKey(this.mapPrecomposeKey_),this.changed(),goog.events.unlistenByKey(this.mapRenderKey_),goog.isNull(e)||(this.mapPrecomposeKey_=goog.events.listen(e,ol.render.EventType.PRECOMPOSE,function(e){var o=this.getLayerState();o.managed=!1,e.frameState.layerStatesArray.push(o),e.frameState.layerStates[goog.getUid(this)]=o},!1,this),this.mapRenderKey_=goog.events.listen(this,goog.events.EventType.CHANGE,e.render,!1,e))},ol.layer.Layer.prototype.setSource=function(e){this.set(ol.layer.LayerProperty.SOURCE,e)},goog.provide("ol.ImageBase"),goog.provide("ol.ImageState"),goog.require("goog.asserts"),goog.require("goog.events.EventTarget"),goog.require("goog.events.EventType"),goog.require("ol.Attribution"),goog.require("ol.Extent"),ol.ImageState={IDLE:0,LOADING:1,LOADED:2,ERROR:3},ol.ImageBase=function(e,o,t,r,n){goog.base(this),this.attributions_=n,this.extent=e,this.pixelRatio_=t,this.resolution=o,this.state=r},goog.inherits(ol.ImageBase,goog.events.EventTarget),ol.ImageBase.prototype.changed=function(){this.dispatchEvent(goog.events.EventType.CHANGE)},ol.ImageBase.prototype.getAttributions=function(){return this.attributions_},ol.ImageBase.prototype.getExtent=function(){return this.extent},ol.ImageBase.prototype.getImage=goog.abstractMethod,ol.ImageBase.prototype.getPixelRatio=function(){return this.pixelRatio_},ol.ImageBase.prototype.getResolution=function(){return goog.asserts.assert(goog.isDef(this.resolution),"resolution not yet set"),this.resolution},ol.ImageBase.prototype.getState=function(){return this.state},ol.ImageBase.prototype.load=goog.abstractMethod,goog.provide("ol.vec.Mat4"),goog.provide("ol.vec.Mat4.Number"),goog.require("goog.vec.Mat4"),ol.vec.Mat4.Number,ol.vec.Mat4.makeTransform2D=function(e,o,t,r,n,i,a,s){return goog.vec.Mat4.makeIdentity(e),(0!==o||0!==t)&&goog.vec.Mat4.translate(e,o,t,0),(1!=r||1!=n)&&goog.vec.Mat4.scale(e,r,n,1),0!==i&&goog.vec.Mat4.rotateZ(e,i),(0!==a||0!==s)&&goog.vec.Mat4.translate(e,a,s,0),e},ol.vec.Mat4.equals2D=function(e,o){return goog.vec.Mat4.getElement(e,0,0)==goog.vec.Mat4.getElement(o,0,0)&&goog.vec.Mat4.getElement(e,1,0)==goog.vec.Mat4.getElement(o,1,0)&&goog.vec.Mat4.getElement(e,0,1)==goog.vec.Mat4.getElement(o,0,1)&&goog.vec.Mat4.getElement(e,1,1)==goog.vec.Mat4.getElement(o,1,1)&&goog.vec.Mat4.getElement(e,0,3)==goog.vec.Mat4.getElement(o,0,3)&&goog.vec.Mat4.getElement(e,1,3)==goog.vec.Mat4.getElement(o,1,3)},ol.vec.Mat4.multVec2=function(e,o,t){var r=goog.vec.Mat4.getElement(e,0,0),n=goog.vec.Mat4.getElement(e,1,0),i=goog.vec.Mat4.getElement(e,0,1),a=goog.vec.Mat4.getElement(e,1,1),s=goog.vec.Mat4.getElement(e,0,3),g=goog.vec.Mat4.getElement(e,1,3),l=o[0],p=o[1];return t[0]=r*l+i*p+s,t[1]=n*l+a*p+g,t},goog.provide("ol.renderer.Layer"),goog.require("goog.asserts"),goog.require("goog.events"),goog.require("goog.events.EventType"),goog.require("goog.functions"),goog.require("ol.ImageState"),goog.require("ol.Observable"),goog.require("ol.TileRange"),goog.require("ol.TileState"),goog.require("ol.layer.Layer"),goog.require("ol.source.Source"),goog.require("ol.source.State"),goog.require("ol.source.Tile"),goog.require("ol.tilecoord"),goog.require("ol.vec.Mat4"),ol.renderer.Layer=function(e){goog.base(this),this.layer_=e},goog.inherits(ol.renderer.Layer,ol.Observable),ol.renderer.Layer.prototype.forEachFeatureAtCoordinate=goog.nullFunction,ol.renderer.Layer.prototype.forEachLayerAtPixel=function(e,o,t,r){var n=e.slice();ol.vec.Mat4.multVec2(o.pixelToCoordinateMatrix,n,n);var i=this.forEachFeatureAtCoordinate(n,o,goog.functions.TRUE,this);return i?t.call(r,this.layer_):void 0},ol.renderer.Layer.prototype.hasFeatureAtCoordinate=goog.functions.FALSE,ol.renderer.Layer.prototype.createLoadedTileFinder=function(e,o){return function(t,r){return e.forEachLoadedTile(t,r,function(e){o[t]||(o[t]={}),o[t][e.tileCoord.toString()]=e})}},ol.renderer.Layer.prototype.getLayer=function(){return this.layer_},ol.renderer.Layer.prototype.handleImageChange_=function(e){var o=e.target;o.getState()===ol.ImageState.LOADED&&this.renderIfReadyAndVisible()},ol.renderer.Layer.prototype.loadImage=function(e){var o=e.getState();return o!=ol.ImageState.LOADED&&o!=ol.ImageState.ERROR&&(goog.asserts.assert(o==ol.ImageState.IDLE||o==ol.ImageState.LOADING,'imageState is "idle" or "loading"'),goog.events.listen(e,goog.events.EventType.CHANGE,this.handleImageChange_,!1,this)),o==ol.ImageState.IDLE&&(e.load(),o=e.getState(),goog.asserts.assert(o==ol.ImageState.LOADING,'imageState is "loading"')),o==ol.ImageState.LOADED},ol.renderer.Layer.prototype.renderIfReadyAndVisible=function(){var e=this.getLayer();e.getVisible()&&e.getSourceState()==ol.source.State.READY&&this.changed()},ol.renderer.Layer.prototype.scheduleExpireCache=function(e,o){o.canExpireCache()&&e.postRenderFunctions.push(goog.partial(function(e,o,t){var r=goog.getUid(e).toString();e.expireCache(t.usedTiles[r])},o))},ol.renderer.Layer.prototype.updateAttributions=function(e,o){if(goog.isDefAndNotNull(o)){var t,r,n;for(r=0,n=o.length;n>r;++r)t=o[r],e[goog.getUid(t).toString()]=t}},ol.renderer.Layer.prototype.updateLogos=function(e,o){var t=o.getLogo();goog.isDef(t)&&(goog.isString(t)?e.logos[t]="":goog.isObject(t)&&(goog.asserts.assertString(t.href,"logo.href is a string"),goog.asserts.assertString(t.src,"logo.src is a string"),e.logos[t.src]=t.href))},ol.renderer.Layer.prototype.updateUsedTiles=function(e,o,t,r){var n=goog.getUid(o).toString(),i=t.toString();n in e?i in e[n]?e[n][i].extend(r):e[n][i]=r:(e[n]={},e[n][i]=r)},ol.renderer.Layer.prototype.snapCenterToPixel=function(e,o,t){return[o*(Math.round(e[0]/o)+t[0]%2/2),o*(Math.round(e[1]/o)+t[1]%2/2)]},ol.renderer.Layer.prototype.manageTilePyramid=function(e,o,t,r,n,i,a,s,g,l){var p=goog.getUid(o).toString();p in e.wantedTiles||(e.wantedTiles[p]={});var u,c,d,h,m,y,f=e.wantedTiles[p],v=e.tileQueue,_=t.getMinZoom();for(y=a;y>=_;--y)for(c=t.getTileRangeForExtentAndZ(i,y,c),d=t.getResolution(y),h=c.minX;h<=c.maxX;++h)for(m=c.minY;m<=c.maxY;++m)s>=a-y?(u=o.getTile(y,h,m,r,n),u.getState()==ol.TileState.IDLE&&(f[ol.tilecoord.toString(u.tileCoord)]=!0,v.isKeyQueued(u.getKey())||v.enqueue([u,p,t.getTileCoordCenter(u.tileCoord),d])),goog.isDef(g)&&g.call(l,u)):o.useTile(y,h,m)},goog.provide("ol.style.Image"),goog.provide("ol.style.ImageState"),ol.style.ImageState={IDLE:0,LOADING:1,LOADED:2,ERROR:3},ol.style.ImageOptions,ol.style.Image=function(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.snapToPixel_=e.snapToPixel},ol.style.Image.prototype.getOpacity=function(){return this.opacity_},ol.style.Image.prototype.getRotateWithView=function(){return this.rotateWithView_},ol.style.Image.prototype.getRotation=function(){return this.rotation_},ol.style.Image.prototype.getScale=function(){return this.scale_},ol.style.Image.prototype.getSnapToPixel=function(){return this.snapToPixel_},ol.style.Image.prototype.getAnchor=goog.abstractMethod,ol.style.Image.prototype.getImage=goog.abstractMethod,ol.style.Image.prototype.getHitDetectionImage=goog.abstractMethod,ol.style.Image.prototype.getImageState=goog.abstractMethod,ol.style.Image.prototype.getImageSize=goog.abstractMethod,ol.style.Image.prototype.getHitDetectionImageSize=goog.abstractMethod,ol.style.Image.prototype.getOrigin=goog.abstractMethod,ol.style.Image.prototype.getSize=goog.abstractMethod,ol.style.Image.prototype.setOpacity=function(e){this.opacity_=e},ol.style.Image.prototype.setRotateWithView=function(e){this.rotateWithView_=e},ol.style.Image.prototype.setRotation=function(e){this.rotation_=e},ol.style.Image.prototype.setScale=function(e){this.scale_=e},ol.style.Image.prototype.setSnapToPixel=function(e){this.snapToPixel_=e},ol.style.Image.prototype.listenImageChange=goog.abstractMethod,ol.style.Image.prototype.load=goog.abstractMethod,ol.style.Image.prototype.unlistenImageChange=goog.abstractMethod,goog.provide("ol.style.Icon"),goog.provide("ol.style.IconAnchorUnits"),goog.provide("ol.style.IconImageCache"),goog.provide("ol.style.IconOrigin"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.events"),goog.require("goog.events.EventTarget"),goog.require("goog.events.EventType"),goog.require("ol.dom"),goog.require("ol.style.Image"),goog.require("ol.style.ImageState"),ol.style.IconAnchorUnits={FRACTION:"fraction",PIXELS:"pixels"},ol.style.IconOrigin={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},ol.style.Icon=function(e){var o=goog.isDef(e)?e:{};this.anchor_=goog.isDef(o.anchor)?o.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=goog.isDef(o.anchorOrigin)?o.anchorOrigin:ol.style.IconOrigin.TOP_LEFT,this.anchorXUnits_=goog.isDef(o.anchorXUnits)?o.anchorXUnits:ol.style.IconAnchorUnits.FRACTION,this.anchorYUnits_=goog.isDef(o.anchorYUnits)?o.anchorYUnits:ol.style.IconAnchorUnits.FRACTION;var t=goog.isDef(o.crossOrigin)?o.crossOrigin:null,r=goog.isDef(o.img)?o.img:null,n=goog.isDef(o.imgSize)?o.imgSize:null,i=o.src;goog.asserts.assert(!(goog.isDef(i)&&!goog.isNull(r)),"image and src can not provided at the same time"),goog.asserts.assert(!goog.isDef(i)||goog.isDef(i)&&goog.isNull(n),"imgSize should not be set when src is provided"),goog.asserts.assert(goog.isNull(r)||!goog.isNull(r)&&!goog.isNull(n),"imgSize must be set when image is provided"),goog.isDef(i)&&0!==i.length||goog.isNull(r)||(i=r.src),goog.asserts.assert(goog.isDef(i)&&i.length>0,"must provide a defined and non-empty src or image");var a=goog.isDef(o.src)?ol.style.ImageState.IDLE:ol.style.ImageState.LOADED;this.iconImage_=ol.style.IconImage_.get(r,i,n,t,a),this.offset_=goog.isDef(o.offset)?o.offset:[0,0],this.offsetOrigin_=goog.isDef(o.offsetOrigin)?o.offsetOrigin:ol.style.IconOrigin.TOP_LEFT,this.origin_=null,this.size_=goog.isDef(o.size)?o.size:null;var s=goog.isDef(o.opacity)?o.opacity:1,g=goog.isDef(o.rotateWithView)?o.rotateWithView:!1,l=goog.isDef(o.rotation)?o.rotation:0,p=goog.isDef(o.scale)?o.scale:1,u=goog.isDef(o.snapToPixel)?o.snapToPixel:!0;goog.base(this,{opacity:s,rotation:l,scale:p,snapToPixel:u,rotateWithView:g})},goog.inherits(ol.style.Icon,ol.style.Image),ol.style.Icon.prototype.getAnchor=function(){if(!goog.isNull(this.normalizedAnchor_))return this.normalizedAnchor_;var e=this.anchor_,o=this.getSize();if(this.anchorXUnits_==ol.style.IconAnchorUnits.FRACTION||this.anchorYUnits_==ol.style.IconAnchorUnits.FRACTION){if(goog.isNull(o))return null;e=this.anchor_.slice(),this.anchorXUnits_==ol.style.IconAnchorUnits.FRACTION&&(e[0]*=o[0]),this.anchorYUnits_==ol.style.IconAnchorUnits.FRACTION&&(e[1]*=o[1])}if(this.anchorOrigin_!=ol.style.IconOrigin.TOP_LEFT){if(goog.isNull(o))return null;e===this.anchor_&&(e=this.anchor_.slice()),(this.anchorOrigin_==ol.style.IconOrigin.TOP_RIGHT||this.anchorOrigin_==ol.style.IconOrigin.BOTTOM_RIGHT)&&(e[0]=-e[0]+o[0]),(this.anchorOrigin_==ol.style.IconOrigin.BOTTOM_LEFT||this.anchorOrigin_==ol.style.IconOrigin.BOTTOM_RIGHT)&&(e[1]=-e[1]+o[1])}return this.normalizedAnchor_=e,this.normalizedAnchor_},ol.style.Icon.prototype.getImage=function(e){return this.iconImage_.getImage(e)},ol.style.Icon.prototype.getImageSize=function(){return this.iconImage_.getSize()},ol.style.Icon.prototype.getHitDetectionImageSize=function(){return this.getImageSize()},ol.style.Icon.prototype.getImageState=function(){return this.iconImage_.getImageState()},ol.style.Icon.prototype.getHitDetectionImage=function(e){return this.iconImage_.getHitDetectionImage(e)},ol.style.Icon.prototype.getOrigin=function(){if(!goog.isNull(this.origin_))return this.origin_;var e=this.offset_;if(this.offsetOrigin_!=ol.style.IconOrigin.TOP_LEFT){var o=this.getSize(),t=this.iconImage_.getSize();if(goog.isNull(o)||goog.isNull(t))return null;e=e.slice(),(this.offsetOrigin_==ol.style.IconOrigin.TOP_RIGHT||this.offsetOrigin_==ol.style.IconOrigin.BOTTOM_RIGHT)&&(e[0]=t[0]-o[0]-e[0]),(this.offsetOrigin_==ol.style.IconOrigin.BOTTOM_LEFT||this.offsetOrigin_==ol.style.IconOrigin.BOTTOM_RIGHT)&&(e[1]=t[1]-o[1]-e[1])}return this.origin_=e,this.origin_},ol.style.Icon.prototype.getSrc=function(){return this.iconImage_.getSrc()},ol.style.Icon.prototype.getSize=function(){return goog.isNull(this.size_)?this.iconImage_.getSize():this.size_},ol.style.Icon.prototype.listenImageChange=function(e,o){return goog.events.listen(this.iconImage_,goog.events.EventType.CHANGE,e,!1,o)},ol.style.Icon.prototype.load=function(){this.iconImage_.load()},ol.style.Icon.prototype.unlistenImageChange=function(e,o){goog.events.unlisten(this.iconImage_,goog.events.EventType.CHANGE,e,!1,o)},ol.style.IconImage_=function(e,o,t,r,n){goog.base(this),this.hitDetectionImage_=null,this.image_=goog.isNull(e)?new Image:e,goog.isNull(r)||(this.image_.crossOrigin=r),this.imageListenerKeys_=null,this.imageState_=n,this.size_=t,this.src_=o,this.tainting_=!1},goog.inherits(ol.style.IconImage_,goog.events.EventTarget),ol.style.IconImage_.get=function(e,o,t,r,n){var i=ol.style.IconImageCache.getInstance(),a=i.get(o,r);return goog.isNull(a)&&(a=new ol.style.IconImage_(e,o,t,r,n),i.set(o,r,a)),a},ol.style.IconImage_.prototype.determineTainting_=function(){var e=ol.dom.createCanvasContext2D(1,1);e.drawImage(this.image_,0,0);try{e.getImageData(0,0,1,1)}catch(o){this.tainting_=!0}},ol.style.IconImage_.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(goog.events.EventType.CHANGE)},ol.style.IconImage_.prototype.handleImageError_=function(){this.imageState_=ol.style.ImageState.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},ol.style.IconImage_.prototype.handleImageLoad_=function(){this.imageState_=ol.style.ImageState.LOADED,this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.determineTainting_(),this.dispatchChangeEvent_()},ol.style.IconImage_.prototype.getImage=function(e){return this.image_},ol.style.IconImage_.prototype.getImageState=function(){return this.imageState_},ol.style.IconImage_.prototype.getHitDetectionImage=function(e){if(goog.isNull(this.hitDetectionImage_))if(this.tainting_){var o=this.size_[0],t=this.size_[1],r=ol.dom.createCanvasContext2D(o,t);r.fillRect(0,0,o,t),this.hitDetectionImage_=r.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},ol.style.IconImage_.prototype.getSize=function(){return this.size_},ol.style.IconImage_.prototype.getSrc=function(){return this.src_},ol.style.IconImage_.prototype.load=function(){if(this.imageState_==ol.style.ImageState.IDLE){goog.asserts.assert(goog.isDef(this.src_),"this.src_ must not be undefined"),goog.asserts.assert(goog.isNull(this.imageListenerKeys_),"no listener keys existing"),this.imageState_=ol.style.ImageState.LOADING,this.imageListenerKeys_=[goog.events.listenOnce(this.image_,goog.events.EventType.ERROR,this.handleImageError_,!1,this),goog.events.listenOnce(this.image_,goog.events.EventType.LOAD,this.handleImageLoad_,!1,this)];try{this.image_.src=this.src_}catch(e){this.handleImageError_()}}},ol.style.IconImage_.prototype.unlistenImage_=function(){goog.asserts.assert(!goog.isNull(this.imageListenerKeys_),"we must have listeners registered"),goog.array.forEach(this.imageListenerKeys_,goog.events.unlistenByKey),this.imageListenerKeys_=null},ol.style.IconImageCache=function(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32},goog.addSingletonGetter(ol.style.IconImageCache),ol.style.IconImageCache.getKey=function(e,o){return goog.asserts.assert(goog.isDef(o),"argument crossOrigin must be defined"),o+":"+e},ol.style.IconImageCache.prototype.clear=function(){this.cache_={},this.cacheSize_=0},ol.style.IconImageCache.prototype.expire=function(){if(this.cacheSize_>this.maxCacheSize_){var e,o,t=0;for(e in this.cache_)o=this.cache_[e],0!==(3&t++)||goog.events.hasListener(o)||(delete this.cache_[e],--this.cacheSize_)}},ol.style.IconImageCache.prototype.get=function(e,o){var t=ol.style.IconImageCache.getKey(e,o);return t in this.cache_?this.cache_[t]:null},ol.style.IconImageCache.prototype.set=function(e,o,t){var r=ol.style.IconImageCache.getKey(e,o);this.cache_[r]=t,++this.cacheSize_},goog.provide("ol.RendererType"),goog.provide("ol.renderer.Map"),goog.require("goog.Disposable"),goog.require("goog.asserts"),goog.require("goog.dispose"),goog.require("goog.events"),goog.require("goog.events.EventType"),goog.require("goog.functions"),goog.require("goog.object"),goog.require("goog.vec.Mat4"),goog.require("ol.extent"),goog.require("ol.layer.Layer"),goog.require("ol.renderer.Layer"),goog.require("ol.style.IconImageCache"),goog.require("ol.vec.Mat4"),ol.RendererType={CANVAS:"canvas",DOM:"dom",WEBGL:"webgl"},ol.renderer.Map=function(e,o){goog.base(this),this.map_=o,this.layerRenderers_={},this.layerRendererListeners_={}},goog.inherits(ol.renderer.Map,goog.Disposable),ol.renderer.Map.prototype.calculateMatrices2D=function(e){var o=e.viewState,t=e.coordinateToPixelMatrix;goog.asserts.assert(!goog.isNull(t),"frameState has non-null coordinateToPixelMatrix"),ol.vec.Mat4.makeTransform2D(t,e.size[0]/2,e.size[1]/2,1/o.resolution,-1/o.resolution,-o.rotation,-o.center[0],-o.center[1]);var r=goog.vec.Mat4.invert(t,e.pixelToCoordinateMatrix);goog.asserts.assert(r,"matrix could be inverted")},ol.renderer.Map.prototype.createLayerRenderer=goog.abstractMethod,ol.renderer.Map.prototype.disposeInternal=function(){goog.object.forEach(this.layerRenderers_,goog.dispose),goog.base(this,"disposeInternal")},ol.renderer.Map.expireIconCache_=function(e,o){ol.style.IconImageCache.getInstance().expire()},ol.renderer.Map.prototype.forEachFeatureAtCoordinate=function(e,o,t,r,n,i){var a,s=o.viewState,g=s.resolution,l=s.projection,p=e;if(l.canWrapX()){var u=l.getExtent(),c=ol.extent.getWidth(u),d=e[0];if(d<u[0]||d>u[2]){var h=Math.ceil((u[0]-d)/c);p=[d+c*h,e[1]]}}var m,y=o.layerStatesArray,f=y.length;for(m=f-1;m>=0;--m){var v=y[m],_=v.layer;if(ol.layer.Layer.visibleAtResolution(v,g)&&n.call(i,_)){var E=this.getLayerRenderer(_);if(a=E.forEachFeatureAtCoordinate(_.getSource().getWrapX()?p:e,o,t,r))return a}}return void 0},ol.renderer.Map.prototype.forEachLayerAtPixel=function(e,o,t,r,n,i){var a,s,g=o.viewState,l=g.resolution,p=o.layerStatesArray,u=p.length;for(s=u-1;s>=0;--s){var c=p[s],d=c.layer;if(ol.layer.Layer.visibleAtResolution(c,l)&&n.call(i,d)){var h=this.getLayerRenderer(d);if(a=h.forEachLayerAtPixel(e,o,t,r))return a}}return void 0},ol.renderer.Map.prototype.hasFeatureAtCoordinate=function(e,o,t,r){var n=this.forEachFeatureAtCoordinate(e,o,goog.functions.TRUE,this,t,r);return goog.isDef(n)},ol.renderer.Map.prototype.getLayerRenderer=function(e){var o=goog.getUid(e).toString();if(o in this.layerRenderers_)return this.layerRenderers_[o];var t=this.createLayerRenderer(e);return this.layerRenderers_[o]=t,this.layerRendererListeners_[o]=goog.events.listen(t,goog.events.EventType.CHANGE,this.handleLayerRendererChange_,!1,this),t},ol.renderer.Map.prototype.getLayerRendererByKey=function(e){return goog.asserts.assert(e in this.layerRenderers_,"given layerKey (%s) exists in layerRenderers",e),this.layerRenderers_[e]},ol.renderer.Map.prototype.getLayerRenderers=function(){return this.layerRenderers_},ol.renderer.Map.prototype.getMap=function(){return this.map_},ol.renderer.Map.prototype.getType=goog.abstractMethod,ol.renderer.Map.prototype.handleLayerRendererChange_=function(){this.map_.render()},ol.renderer.Map.prototype.removeLayerRendererByKey_=function(e){goog.asserts.assert(e in this.layerRenderers_,"given layerKey (%s) exists in layerRenderers",e);var o=this.layerRenderers_[e];return delete this.layerRenderers_[e],goog.asserts.assert(e in this.layerRendererListeners_,"given layerKey (%s) exists in layerRendererListeners",e),goog.events.unlistenByKey(this.layerRendererListeners_[e]),delete this.layerRendererListeners_[e],o},ol.renderer.Map.prototype.renderFrame=goog.nullFunction,ol.renderer.Map.prototype.removeUnusedLayerRenderers_=function(e,o){var t;for(t in this.layerRenderers_)!goog.isNull(o)&&t in o.layerStates||goog.dispose(this.removeLayerRendererByKey_(t))},ol.renderer.Map.prototype.scheduleExpireIconCache=function(e){e.postRenderFunctions.push(ol.renderer.Map.expireIconCache_)},ol.renderer.Map.prototype.scheduleRemoveUnusedLayerRenderers=function(e){var o;for(o in this.layerRenderers_)if(!(o in e.layerStates))return void e.postRenderFunctions.push(goog.bind(this.removeUnusedLayerRenderers_,this))},goog.provide("ol.structs.PriorityQueue"),goog.require("goog.asserts"),goog.require("goog.object"),ol.structs.PriorityQueue=function(e,o){this.priorityFunction_=e,this.keyFunction_=o,this.elements_=[],this.priorities_=[],this.queuedElements_={}},ol.structs.PriorityQueue.DROP=1/0,ol.structs.PriorityQueue.prototype.assertValid=function(){var e=this.elements_,o=this.priorities_,t=e.length;goog.asserts.assert(o.length==t);var r,n;for(r=0;(t>>1)-1>r;++r)n=o[r],goog.asserts.assert(n<=o[this.getLeftChildIndex_(r)],"priority smaller than or equal to priority of left child (%s <= %s)",n,o[this.getLeftChildIndex_(r)]),goog.asserts.assert(n<=o[this.getRightChildIndex_(r)],"priority smaller than or equal to priority of right child (%s <= %s)",n,o[this.getRightChildIndex_(r)])},ol.structs.PriorityQueue.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,goog.object.clear(this.queuedElements_)},ol.structs.PriorityQueue.prototype.dequeue=function(){var e=this.elements_;goog.asserts.assert(e.length>0,"must have elements in order to be able to dequeue");var o=this.priorities_,t=e[0];1==e.length?(e.length=0,o.length=0):(e[0]=e.pop(),o[0]=o.pop(),this.siftUp_(0));var r=this.keyFunction_(t);return goog.asserts.assert(r in this.queuedElements_,"key %s is not listed as queued",r),delete this.queuedElements_[r],t},ol.structs.PriorityQueue.prototype.enqueue=function(e){goog.asserts.assert(!(this.keyFunction_(e)in this.queuedElements_),"key %s is already listed as queued",this.keyFunction_(e));var o=this.priorityFunction_(e);o!=ol.structs.PriorityQueue.DROP&&(this.elements_.push(e),this.priorities_.push(o),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1))},ol.structs.PriorityQueue.prototype.getCount=function(){return this.elements_.length},ol.structs.PriorityQueue.prototype.getLeftChildIndex_=function(e){return 2*e+1},ol.structs.PriorityQueue.prototype.getRightChildIndex_=function(e){return 2*e+2},ol.structs.PriorityQueue.prototype.getParentIndex_=function(e){return e-1>>1},ol.structs.PriorityQueue.prototype.heapify_=function(){var e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)},ol.structs.PriorityQueue.prototype.isEmpty=function(){return 0===this.elements_.length},ol.structs.PriorityQueue.prototype.isKeyQueued=function(e){return e in this.queuedElements_},ol.structs.PriorityQueue.prototype.isQueued=function(e){return this.isKeyQueued(this.keyFunction_(e))},ol.structs.PriorityQueue.prototype.siftUp_=function(e){for(var o=this.elements_,t=this.priorities_,r=o.length,n=o[e],i=t[e],a=e;r>>1>e;){var s=this.getLeftChildIndex_(e),g=this.getRightChildIndex_(e),l=r>g&&t[g]<t[s]?g:s;o[e]=o[l],t[e]=t[l],e=l}o[e]=n,t[e]=i,this.siftDown_(a,e)},ol.structs.PriorityQueue.prototype.siftDown_=function(e,o){for(var t=this.elements_,r=this.priorities_,n=t[o],i=r[o];o>e;){var a=this.getParentIndex_(o);if(!(r[a]>i))break;t[o]=t[a],r[o]=r[a],o=a}t[o]=n,r[o]=i},ol.structs.PriorityQueue.prototype.reprioritize=function(){var e,o,t,r=this.priorityFunction_,n=this.elements_,i=this.priorities_,a=0,s=n.length;for(o=0;s>o;++o)e=n[o],t=r(e),t==ol.structs.PriorityQueue.DROP?delete this.queuedElements_[this.keyFunction_(e)]:(i[a]=t,n[a++]=e);n.length=a,i.length=a,this.heapify_()},goog.provide("ol.TilePriorityFunction"),goog.provide("ol.TileQueue"),goog.require("goog.events"),goog.require("goog.events.EventType"),goog.require("ol.Coordinate"),goog.require("ol.TileState"),goog.require("ol.structs.PriorityQueue"),ol.TilePriorityFunction,ol.TileQueue=function(e,o){goog.base(this,function(o){return e.apply(null,o)},function(e){return e[0].getKey()}),this.tileChangeCallback_=o,this.tilesLoading_=0},goog.inherits(ol.TileQueue,ol.structs.PriorityQueue),ol.TileQueue.prototype.getTilesLoading=function(){return this.tilesLoading_},ol.TileQueue.prototype.handleTileChange=function(e){var o=e.target,t=o.getState();(t===ol.TileState.LOADED||t===ol.TileState.ERROR||t===ol.TileState.EMPTY)&&(goog.events.unlisten(o,goog.events.EventType.CHANGE,this.handleTileChange,!1,this),--this.tilesLoading_,this.tileChangeCallback_())},ol.TileQueue.prototype.loadMoreTiles=function(e,o){var t,r,n=Math.min(e-this.getTilesLoading(),o,this.getCount());for(t=0;n>t;++t)r=this.dequeue()[0],goog.events.listen(r,goog.events.EventType.CHANGE,this.handleTileChange,!1,this),r.load();this.tilesLoading_+=n},goog.provide("ol.Kinetic"),goog.require("ol.Coordinate"),goog.require("ol.PreRenderFunction"),goog.require("ol.animation"),ol.Kinetic=function(e,o,t){this.decay_=e,this.minVelocity_=o,this.delay_=t,this.points_=[],this.angle_=0,this.initialVelocity_=0;

},ol.Kinetic.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},ol.Kinetic.prototype.update=function(e,o){this.points_.push(e,o,goog.now())},ol.Kinetic.prototype.end=function(){if(this.points_.length<6)return!1;var e=goog.now()-this.delay_,o=this.points_.length-3;if(this.points_[o+2]<e)return!1;for(var t=o-3;t>0&&this.points_[t+2]>e;)t-=3;var r=this.points_[o+2]-this.points_[t+2],n=this.points_[o]-this.points_[t],i=this.points_[o+1]-this.points_[t+1];return this.angle_=Math.atan2(i,n),this.initialVelocity_=Math.sqrt(n*n+i*i)/r,this.initialVelocity_>this.minVelocity_},ol.Kinetic.prototype.pan=function(e){var o=this.decay_,t=this.initialVelocity_,r=this.minVelocity_-t,n=this.getDuration_(),i=function(e){return t*(Math.exp(o*e*n)-1)/r};return ol.animation.pan({source:e,duration:n,easing:i})},ol.Kinetic.prototype.getDuration_=function(){return Math.log(this.minVelocity_/this.initialVelocity_)/this.decay_},ol.Kinetic.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},ol.Kinetic.prototype.getAngle=function(){return this.angle_},goog.provide("ol.interaction.Interaction"),goog.provide("ol.interaction.InteractionProperty"),goog.require("ol.MapBrowserEvent"),goog.require("ol.Object"),goog.require("ol.animation"),goog.require("ol.easing"),ol.interaction.InteractionProperty={ACTIVE:"active"},ol.interaction.Interaction=function(e){goog.base(this),this.map_=null,this.setActive(!0),this.handleEvent=e.handleEvent},goog.inherits(ol.interaction.Interaction,ol.Object),ol.interaction.Interaction.prototype.getActive=function(){return this.get(ol.interaction.InteractionProperty.ACTIVE)},ol.interaction.Interaction.prototype.getMap=function(){return this.map_},ol.interaction.Interaction.prototype.setActive=function(e){this.set(ol.interaction.InteractionProperty.ACTIVE,e)},ol.interaction.Interaction.prototype.setMap=function(e){this.map_=e},ol.interaction.Interaction.pan=function(e,o,t,r){var n=o.getCenter();if(goog.isDef(n)){goog.isDef(r)&&r>0&&e.beforeRender(ol.animation.pan({source:n,duration:r,easing:ol.easing.linear}));var i=o.constrainCenter([n[0]+t[0],n[1]+t[1]]);o.setCenter(i)}},ol.interaction.Interaction.rotate=function(e,o,t,r,n){t=o.constrainRotation(t,0),ol.interaction.Interaction.rotateWithoutConstraints(e,o,t,r,n)},ol.interaction.Interaction.rotateWithoutConstraints=function(e,o,t,r,n){if(goog.isDefAndNotNull(t)){var i=o.getRotation(),a=o.getCenter();goog.isDef(i)&&goog.isDef(a)&&goog.isDef(n)&&n>0&&(e.beforeRender(ol.animation.rotate({rotation:i,duration:n,easing:ol.easing.easeOut})),goog.isDef(r)&&e.beforeRender(ol.animation.pan({source:a,duration:n,easing:ol.easing.easeOut}))),o.rotate(t,r)}},ol.interaction.Interaction.zoom=function(e,o,t,r,n,i){t=o.constrainResolution(t,0,i),ol.interaction.Interaction.zoomWithoutConstraints(e,o,t,r,n)},ol.interaction.Interaction.zoomByDelta=function(e,o,t,r,n){var i=o.getResolution(),a=o.constrainResolution(i,t,0);ol.interaction.Interaction.zoomWithoutConstraints(e,o,a,r,n)},ol.interaction.Interaction.zoomWithoutConstraints=function(e,o,t,r,n){if(goog.isDefAndNotNull(t)){var i=o.getResolution(),a=o.getCenter();if(goog.isDef(i)&&goog.isDef(a)&&goog.isDef(n)&&n>0&&(e.beforeRender(ol.animation.zoom({resolution:i,duration:n,easing:ol.easing.easeOut})),goog.isDef(r)&&e.beforeRender(ol.animation.pan({source:a,duration:n,easing:ol.easing.easeOut}))),goog.isDefAndNotNull(r)){var s=o.calculateCenterZoom(t,r);o.setCenter(s)}o.setResolution(t)}},goog.provide("ol.interaction.DoubleClickZoom"),goog.require("goog.asserts"),goog.require("ol.MapBrowserEvent"),goog.require("ol.MapBrowserEvent.EventType"),goog.require("ol.interaction.Interaction"),ol.interaction.DoubleClickZoom=function(e){var o=goog.isDef(e)?e:{};this.delta_=goog.isDef(o.delta)?o.delta:1,goog.base(this,{handleEvent:ol.interaction.DoubleClickZoom.handleEvent}),this.duration_=goog.isDef(o.duration)?o.duration:250},goog.inherits(ol.interaction.DoubleClickZoom,ol.interaction.Interaction),ol.interaction.DoubleClickZoom.handleEvent=function(e){var o=!1,t=e.browserEvent;if(e.type==ol.MapBrowserEvent.EventType.DBLCLICK){var r=e.map,n=e.coordinate,i=t.shiftKey?-this.delta_:this.delta_,a=r.getView();goog.asserts.assert(!goog.isNull(a),"view should not be null"),ol.interaction.Interaction.zoomByDelta(r,a,i,n,this.duration_),e.preventDefault(),o=!0}return!o},goog.provide("ol.events.ConditionType"),goog.provide("ol.events.condition"),goog.require("goog.asserts"),goog.require("goog.dom.TagName"),goog.require("goog.functions"),goog.require("ol.MapBrowserEvent.EventType"),goog.require("ol.MapBrowserPointerEvent"),ol.events.ConditionType,ol.events.condition.altKeyOnly=function(e){var o=e.browserEvent;return o.altKey&&!o.platformModifierKey&&!o.shiftKey},ol.events.condition.altShiftKeysOnly=function(e){var o=e.browserEvent;return o.altKey&&!o.platformModifierKey&&o.shiftKey},ol.events.condition.always=goog.functions.TRUE,ol.events.condition.click=function(e){return e.type==ol.MapBrowserEvent.EventType.CLICK},ol.events.condition.never=goog.functions.FALSE,ol.events.condition.pointerMove=function(e){return"pointermove"==e.type},ol.events.condition.singleClick=function(e){return e.type==ol.MapBrowserEvent.EventType.SINGLECLICK},ol.events.condition.noModifierKeys=function(e){var o=e.browserEvent;return!o.altKey&&!o.platformModifierKey&&!o.shiftKey},ol.events.condition.platformModifierKeyOnly=function(e){var o=e.browserEvent;return!o.altKey&&o.platformModifierKey&&!o.shiftKey},ol.events.condition.shiftKeyOnly=function(e){var o=e.browserEvent;return!o.altKey&&!o.platformModifierKey&&o.shiftKey},ol.events.condition.targetNotEditable=function(e){var o=e.browserEvent.target;goog.asserts.assertInstanceof(o,Element,"target should be an Element");var t=o.tagName;return t!==goog.dom.TagName.INPUT&&t!==goog.dom.TagName.SELECT&&t!==goog.dom.TagName.TEXTAREA},ol.events.condition.mouseOnly=function(e){return goog.asserts.assertInstanceof(e,ol.MapBrowserPointerEvent,"mapBrowserEvent should be an instance of ol.MapBrowserPointerEvent"),1==e.pointerEvent.pointerId},goog.provide("ol.interaction.Pointer"),goog.require("goog.functions"),goog.require("goog.object"),goog.require("ol.MapBrowserEvent.EventType"),goog.require("ol.MapBrowserPointerEvent"),goog.require("ol.Pixel"),goog.require("ol.interaction.Interaction"),ol.interaction.Pointer=function(e){var o=goog.isDef(e)?e:{},t=goog.isDef(o.handleEvent)?o.handleEvent:ol.interaction.Pointer.handleEvent;goog.base(this,{handleEvent:t}),this.handleDownEvent_=goog.isDef(o.handleDownEvent)?o.handleDownEvent:ol.interaction.Pointer.handleDownEvent,this.handleDragEvent_=goog.isDef(o.handleDragEvent)?o.handleDragEvent:ol.interaction.Pointer.handleDragEvent,this.handleMoveEvent_=goog.isDef(o.handleMoveEvent)?o.handleMoveEvent:ol.interaction.Pointer.handleMoveEvent,this.handleUpEvent_=goog.isDef(o.handleUpEvent)?o.handleUpEvent:ol.interaction.Pointer.handleUpEvent,this.handlingDownUpSequence=!1,this.trackedPointers_={},this.targetPointers=[]},goog.inherits(ol.interaction.Pointer,ol.interaction.Interaction),ol.interaction.Pointer.centroid=function(e){for(var o=e.length,t=0,r=0,n=0;o>n;n++)t+=e[n].clientX,r+=e[n].clientY;return[t/o,r/o]},ol.interaction.Pointer.prototype.isPointerDraggingEvent_=function(e){var o=e.type;return o===ol.MapBrowserEvent.EventType.POINTERDOWN||o===ol.MapBrowserEvent.EventType.POINTERDRAG||o===ol.MapBrowserEvent.EventType.POINTERUP},ol.interaction.Pointer.prototype.updateTrackedPointers_=function(e){if(this.isPointerDraggingEvent_(e)){var o=e.pointerEvent;e.type==ol.MapBrowserEvent.EventType.POINTERUP?delete this.trackedPointers_[o.pointerId]:e.type==ol.MapBrowserEvent.EventType.POINTERDOWN?this.trackedPointers_[o.pointerId]=o:o.pointerId in this.trackedPointers_&&(this.trackedPointers_[o.pointerId]=o),this.targetPointers=goog.object.getValues(this.trackedPointers_)}},ol.interaction.Pointer.handleDragEvent=goog.nullFunction,ol.interaction.Pointer.handleUpEvent=goog.functions.FALSE,ol.interaction.Pointer.handleDownEvent=goog.functions.FALSE,ol.interaction.Pointer.handleMoveEvent=goog.nullFunction,ol.interaction.Pointer.handleEvent=function(e){if(!(e instanceof ol.MapBrowserPointerEvent))return!0;var o=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence&&(e.type==ol.MapBrowserEvent.EventType.POINTERDRAG?this.handleDragEvent_(e):e.type==ol.MapBrowserEvent.EventType.POINTERUP&&(this.handlingDownUpSequence=this.handleUpEvent_(e))),e.type==ol.MapBrowserEvent.EventType.POINTERDOWN){var t=this.handleDownEvent_(e);this.handlingDownUpSequence=t,o=this.shouldStopEvent(t)}else e.type==ol.MapBrowserEvent.EventType.POINTERMOVE&&this.handleMoveEvent_(e);return!o},ol.interaction.Pointer.prototype.shouldStopEvent=goog.functions.identity,goog.provide("ol.interaction.DragPan"),goog.require("goog.asserts"),goog.require("ol.Kinetic"),goog.require("ol.Pixel"),goog.require("ol.PreRenderFunction"),goog.require("ol.ViewHint"),goog.require("ol.coordinate"),goog.require("ol.events.condition"),goog.require("ol.interaction.Pointer"),ol.interaction.DragPan=function(e){goog.base(this,{handleDownEvent:ol.interaction.DragPan.handleDownEvent_,handleDragEvent:ol.interaction.DragPan.handleDragEvent_,handleUpEvent:ol.interaction.DragPan.handleUpEvent_});var o=goog.isDef(e)?e:{};this.kinetic_=o.kinetic,this.kineticPreRenderFn_=null,this.lastCentroid=null,this.condition_=goog.isDef(o.condition)?o.condition:ol.events.condition.noModifierKeys,this.noKinetic_=!1},goog.inherits(ol.interaction.DragPan,ol.interaction.Pointer),ol.interaction.DragPan.handleDragEvent_=function(e){goog.asserts.assert(this.targetPointers.length>=1,"the length of this.targetPointers should be more than 1");var o=ol.interaction.Pointer.centroid(this.targetPointers);if(this.kinetic_&&this.kinetic_.update(o[0],o[1]),!goog.isNull(this.lastCentroid)){var t=this.lastCentroid[0]-o[0],r=o[1]-this.lastCentroid[1],n=e.map,i=n.getView(),a=i.getState(),s=[t,r];ol.coordinate.scale(s,a.resolution),ol.coordinate.rotate(s,a.rotation),ol.coordinate.add(s,a.center),s=i.constrainCenter(s),n.render(),i.setCenter(s)}this.lastCentroid=o},ol.interaction.DragPan.handleUpEvent_=function(e){var o=e.map,t=o.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var r=this.kinetic_.getDistance(),n=this.kinetic_.getAngle(),i=t.getCenter();goog.asserts.assert(goog.isDef(i),"center should be defined"),this.kineticPreRenderFn_=this.kinetic_.pan(i),o.beforeRender(this.kineticPreRenderFn_);var a=o.getPixelFromCoordinate(i),s=o.getCoordinateFromPixel([a[0]-r*Math.cos(n),a[1]-r*Math.sin(n)]);s=t.constrainCenter(s),t.setCenter(s)}return t.setHint(ol.ViewHint.INTERACTING,-1),o.render(),!1}return this.lastCentroid=null,!0},ol.interaction.DragPan.handleDownEvent_=function(e){if(this.targetPointers.length>0&&this.condition_(e)){var o=e.map,t=o.getView();return this.lastCentroid=null,this.handlingDownUpSequence||t.setHint(ol.ViewHint.INTERACTING,1),o.render(),!goog.isNull(this.kineticPreRenderFn_)&&o.removePreRenderFunction(this.kineticPreRenderFn_)&&(t.setCenter(e.frameState.viewState.center),this.kineticPreRenderFn_=null),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},ol.interaction.DragPan.prototype.shouldStopEvent=goog.functions.FALSE,goog.provide("ol.interaction.DragRotate"),goog.require("ol.ViewHint"),goog.require("ol.events.ConditionType"),goog.require("ol.events.condition"),goog.require("ol.interaction.Interaction"),goog.require("ol.interaction.Pointer"),ol.interaction.DragRotate=function(e){var o=goog.isDef(e)?e:{};goog.base(this,{handleDownEvent:ol.interaction.DragRotate.handleDownEvent_,handleDragEvent:ol.interaction.DragRotate.handleDragEvent_,handleUpEvent:ol.interaction.DragRotate.handleUpEvent_}),this.condition_=goog.isDef(o.condition)?o.condition:ol.events.condition.altShiftKeysOnly,this.lastAngle_=void 0,this.duration_=goog.isDef(o.duration)?o.duration:250},goog.inherits(ol.interaction.DragRotate,ol.interaction.Pointer),ol.interaction.DragRotate.handleDragEvent_=function(e){if(ol.events.condition.mouseOnly(e)){var o=e.map,t=o.getSize(),r=e.pixel,n=Math.atan2(t[1]/2-r[1],r[0]-t[0]/2);if(goog.isDef(this.lastAngle_)){var i=n-this.lastAngle_,a=o.getView(),s=a.getRotation();o.render(),ol.interaction.Interaction.rotateWithoutConstraints(o,a,s-i)}this.lastAngle_=n}},ol.interaction.DragRotate.handleUpEvent_=function(e){if(!ol.events.condition.mouseOnly(e))return!0;var o=e.map,t=o.getView();t.setHint(ol.ViewHint.INTERACTING,-1);var r=t.getRotation();return ol.interaction.Interaction.rotate(o,t,r,void 0,this.duration_),!1},ol.interaction.DragRotate.handleDownEvent_=function(e){if(!ol.events.condition.mouseOnly(e))return!1;var o=e.browserEvent;if(o.isMouseActionButton()&&this.condition_(e)){var t=e.map;return t.getView().setHint(ol.ViewHint.INTERACTING,1),t.render(),this.lastAngle_=void 0,!0}return!1},ol.interaction.DragRotate.prototype.shouldStopEvent=goog.functions.FALSE,goog.provide("ol.render.Box"),goog.require("goog.Disposable"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.events"),goog.require("ol.geom.Polygon"),goog.require("ol.render.EventType"),ol.render.Box=function(e){this.map_=null,this.postComposeListenerKey_=null,this.startPixel_=null,this.endPixel_=null,this.geometry_=null,this.style_=e},goog.inherits(ol.render.Box,goog.Disposable),ol.render.Box.prototype.createGeometry_=function(){goog.asserts.assert(!goog.isNull(this.startPixel_),"this.startPixel_ should not be null"),goog.asserts.assert(!goog.isNull(this.endPixel_),"this.endPixel_ should not be null"),goog.asserts.assert(!goog.isNull(this.map_),"this.map_ should not be null");var e=this.startPixel_,o=this.endPixel_,t=[e,[e[0],o[1]],o,[o[0],e[1]]],r=goog.array.map(t,this.map_.getCoordinateFromPixel,this.map_);return r[4]=r[0].slice(),new ol.geom.Polygon([r])},ol.render.Box.prototype.disposeInternal=function(){this.setMap(null)},ol.render.Box.prototype.handleMapPostCompose_=function(e){var o=this.geometry_;goog.asserts.assert(goog.isDefAndNotNull(o),"geometry should be defined");var t=this.style_;goog.asserts.assert(!goog.isNull(t),"style should not be null"),e.vectorContext.drawAsync(1/0,function(e){e.setFillStrokeStyle(t.getFill(),t.getStroke()),e.setTextStyle(t.getText()),e.drawPolygonGeometry(o,null)})},ol.render.Box.prototype.getGeometry=function(){return this.geometry_},ol.render.Box.prototype.requestMapRenderFrame_=function(){goog.isNull(this.map_)||goog.isNull(this.startPixel_)||goog.isNull(this.endPixel_)||this.map_.render()},ol.render.Box.prototype.setMap=function(e){goog.isNull(this.postComposeListenerKey_)||(goog.events.unlistenByKey(this.postComposeListenerKey_),this.postComposeListenerKey_=null,this.map_.render(),this.map_=null),this.map_=e,goog.isNull(this.map_)||(this.postComposeListenerKey_=goog.events.listen(e,ol.render.EventType.POSTCOMPOSE,this.handleMapPostCompose_,!1,this),this.requestMapRenderFrame_())},ol.render.Box.prototype.setPixels=function(e,o){this.startPixel_=e,this.endPixel_=o,this.geometry_=this.createGeometry_(),this.requestMapRenderFrame_()},goog.provide("ol.DragBoxEvent"),goog.provide("ol.interaction.DragBox"),goog.require("goog.events.Event"),goog.require("ol"),goog.require("ol.events.ConditionType"),goog.require("ol.events.condition"),goog.require("ol.interaction.Pointer"),goog.require("ol.render.Box"),ol.DRAG_BOX_HYSTERESIS_PIXELS_SQUARED=ol.DRAG_BOX_HYSTERESIS_PIXELS*ol.DRAG_BOX_HYSTERESIS_PIXELS,ol.DragBoxEventType={BOXSTART:"boxstart",BOXEND:"boxend"},ol.DragBoxEvent=function(e,o){goog.base(this,e),this.coordinate=o},goog.inherits(ol.DragBoxEvent,goog.events.Event),ol.interaction.DragBox=function(e){goog.base(this,{handleDownEvent:ol.interaction.DragBox.handleDownEvent_,handleDragEvent:ol.interaction.DragBox.handleDragEvent_,handleUpEvent:ol.interaction.DragBox.handleUpEvent_});var o=goog.isDef(e)?e:{},t=goog.isDef(o.style)?o.style:null;this.box_=new ol.render.Box(t),this.startPixel_=null,this.condition_=goog.isDef(o.condition)?o.condition:ol.events.condition.always},goog.inherits(ol.interaction.DragBox,ol.interaction.Pointer),ol.interaction.DragBox.handleDragEvent_=function(e){ol.events.condition.mouseOnly(e)&&this.box_.setPixels(this.startPixel_,e.pixel)},ol.interaction.DragBox.prototype.getGeometry=function(){return this.box_.getGeometry()},ol.interaction.DragBox.prototype.onBoxEnd=goog.nullFunction,ol.interaction.DragBox.handleUpEvent_=function(e){if(!ol.events.condition.mouseOnly(e))return!0;this.box_.setMap(null);var o=e.pixel[0]-this.startPixel_[0],t=e.pixel[1]-this.startPixel_[1];return o*o+t*t>=ol.DRAG_BOX_HYSTERESIS_PIXELS_SQUARED&&(this.onBoxEnd(e),this.dispatchEvent(new ol.DragBoxEvent(ol.DragBoxEventType.BOXEND,e.coordinate))),!1},ol.interaction.DragBox.handleDownEvent_=function(e){if(!ol.events.condition.mouseOnly(e))return!1;var o=e.browserEvent;return o.isMouseActionButton()&&this.condition_(e)?(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new ol.DragBoxEvent(ol.DragBoxEventType.BOXSTART,e.coordinate)),!0):!1},goog.provide("goog.crypt"),goog.require("goog.array"),goog.require("goog.asserts"),goog.crypt.stringToByteArray=function(e){for(var o=[],t=0,r=0;r<e.length;r++){for(var n=e.charCodeAt(r);n>255;)o[t++]=255&n,n>>=8;o[t++]=n}return o},goog.crypt.byteArrayToString=function(e){var o=8192;if(e.length<o)return String.fromCharCode.apply(null,e);for(var t="",r=0;r<e.length;r+=o){var n=goog.array.slice(e,r,r+o);t+=String.fromCharCode.apply(null,n)}return t},goog.crypt.byteArrayToHex=function(e){return goog.array.map(e,function(e){var o=e.toString(16);return o.length>1?o:"0"+o}).join("")},goog.crypt.hexToByteArray=function(e){goog.asserts.assert(e.length%2==0,"Key string length must be multiple of 2");for(var o=[],t=0;t<e.length;t+=2)o.push(parseInt(e.substring(t,t+2),16));return o},goog.crypt.stringToUtf8ByteArray=function(e){e=e.replace(/\r\n/g,"\n");for(var o=[],t=0,r=0;r<e.length;r++){var n=e.charCodeAt(r);128>n?o[t++]=n:2048>n?(o[t++]=n>>6|192,o[t++]=63&n|128):(o[t++]=n>>12|224,o[t++]=n>>6&63|128,o[t++]=63&n|128)}return o},goog.crypt.utf8ByteArrayToString=function(e){for(var o=[],t=0,r=0;t<e.length;){var n=e[t++];if(128>n)o[r++]=String.fromCharCode(n);else if(n>191&&224>n){var i=e[t++];o[r++]=String.fromCharCode((31&n)<<6|63&i)}else{var i=e[t++],a=e[t++];o[r++]=String.fromCharCode((15&n)<<12|(63&i)<<6|63&a)}}return o.join("")},goog.crypt.xorByteArray=function(e,o){goog.asserts.assert(e.length==o.length,"XOR array lengths must match");for(var t=[],r=0;r<e.length;r++)t.push(e[r]^o[r]);return t},goog.provide("goog.crypt.Hash"),goog.crypt.Hash=function(){this.blockSize=-1},goog.crypt.Hash.prototype.reset=goog.abstractMethod,goog.crypt.Hash.prototype.update=goog.abstractMethod,goog.crypt.Hash.prototype.digest=goog.abstractMethod,goog.provide("goog.crypt.Md5"),goog.require("goog.crypt.Hash"),goog.crypt.Md5=function(){goog.crypt.Md5.base(this,"constructor"),this.blockSize=64,this.chain_=new Array(4),this.block_=new Array(this.blockSize),this.blockLength_=0,this.totalLength_=0,this.reset()},goog.inherits(goog.crypt.Md5,goog.crypt.Hash),goog.crypt.Md5.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.blockLength_=0,this.totalLength_=0},goog.crypt.Md5.prototype.compress_=function(e,o){o||(o=0);var t=new Array(16);if(goog.isString(e))for(var r=0;16>r;++r)t[r]=e.charCodeAt(o++)|e.charCodeAt(o++)<<8|e.charCodeAt(o++)<<16|e.charCodeAt(o++)<<24;else for(var r=0;16>r;++r)t[r]=e[o++]|e[o++]<<8|e[o++]<<16|e[o++]<<24;var n=this.chain_[0],i=this.chain_[1],a=this.chain_[2],s=this.chain_[3],g=0;g=n+(s^i&(a^s))+t[0]+3614090360&4294967295,n=i+(g<<7&4294967295|g>>>25),g=s+(a^n&(i^a))+t[1]+3905402710&4294967295,s=n+(g<<12&4294967295|g>>>20),g=a+(i^s&(n^i))+t[2]+606105819&4294967295,a=s+(g<<17&4294967295|g>>>15),g=i+(n^a&(s^n))+t[3]+3250441966&4294967295,i=a+(g<<22&4294967295|g>>>10),g=n+(s^i&(a^s))+t[4]+4118548399&4294967295,n=i+(g<<7&4294967295|g>>>25),g=s+(a^n&(i^a))+t[5]+1200080426&4294967295,s=n+(g<<12&4294967295|g>>>20),g=a+(i^s&(n^i))+t[6]+2821735955&4294967295,a=s+(g<<17&4294967295|g>>>15),g=i+(n^a&(s^n))+t[7]+4249261313&4294967295,i=a+(g<<22&4294967295|g>>>10),g=n+(s^i&(a^s))+t[8]+1770035416&4294967295,n=i+(g<<7&4294967295|g>>>25),g=s+(a^n&(i^a))+t[9]+2336552879&4294967295,s=n+(g<<12&4294967295|g>>>20),g=a+(i^s&(n^i))+t[10]+4294925233&4294967295,a=s+(g<<17&4294967295|g>>>15),g=i+(n^a&(s^n))+t[11]+2304563134&4294967295,i=a+(g<<22&4294967295|g>>>10),g=n+(s^i&(a^s))+t[12]+1804603682&4294967295,n=i+(g<<7&4294967295|g>>>25),g=s+(a^n&(i^a))+t[13]+4254626195&4294967295,s=n+(g<<12&4294967295|g>>>20),g=a+(i^s&(n^i))+t[14]+2792965006&4294967295,a=s+(g<<17&4294967295|g>>>15),g=i+(n^a&(s^n))+t[15]+1236535329&4294967295,i=a+(g<<22&4294967295|g>>>10),g=n+(a^s&(i^a))+t[1]+4129170786&4294967295,n=i+(g<<5&4294967295|g>>>27),g=s+(i^a&(n^i))+t[6]+3225465664&4294967295,s=n+(g<<9&4294967295|g>>>23),g=a+(n^i&(s^n))+t[11]+643717713&4294967295,a=s+(g<<14&4294967295|g>>>18),g=i+(s^n&(a^s))+t[0]+3921069994&4294967295,i=a+(g<<20&4294967295|g>>>12),g=n+(a^s&(i^a))+t[5]+3593408605&4294967295,n=i+(g<<5&4294967295|g>>>27),g=s+(i^a&(n^i))+t[10]+38016083&4294967295,s=n+(g<<9&4294967295|g>>>23),g=a+(n^i&(s^n))+t[15]+3634488961&4294967295,a=s+(g<<14&4294967295|g>>>18),g=i+(s^n&(a^s))+t[4]+3889429448&4294967295,i=a+(g<<20&4294967295|g>>>12),g=n+(a^s&(i^a))+t[9]+568446438&4294967295,n=i+(g<<5&4294967295|g>>>27),g=s+(i^a&(n^i))+t[14]+3275163606&4294967295,s=n+(g<<9&4294967295|g>>>23),g=a+(n^i&(s^n))+t[3]+4107603335&4294967295,a=s+(g<<14&4294967295|g>>>18),g=i+(s^n&(a^s))+t[8]+1163531501&4294967295,i=a+(g<<20&4294967295|g>>>12),g=n+(a^s&(i^a))+t[13]+2850285829&4294967295,n=i+(g<<5&4294967295|g>>>27),g=s+(i^a&(n^i))+t[2]+4243563512&4294967295,s=n+(g<<9&4294967295|g>>>23),g=a+(n^i&(s^n))+t[7]+1735328473&4294967295,a=s+(g<<14&4294967295|g>>>18),g=i+(s^n&(a^s))+t[12]+2368359562&4294967295,i=a+(g<<20&4294967295|g>>>12),g=n+(i^a^s)+t[5]+4294588738&4294967295,n=i+(g<<4&4294967295|g>>>28),g=s+(n^i^a)+t[8]+2272392833&4294967295,s=n+(g<<11&4294967295|g>>>21),g=a+(s^n^i)+t[11]+1839030562&4294967295,a=s+(g<<16&4294967295|g>>>16),g=i+(a^s^n)+t[14]+4259657740&4294967295,i=a+(g<<23&4294967295|g>>>9),g=n+(i^a^s)+t[1]+2763975236&4294967295,n=i+(g<<4&4294967295|g>>>28),g=s+(n^i^a)+t[4]+1272893353&4294967295,s=n+(g<<11&4294967295|g>>>21),g=a+(s^n^i)+t[7]+4139469664&4294967295,a=s+(g<<16&4294967295|g>>>16),g=i+(a^s^n)+t[10]+3200236656&4294967295,i=a+(g<<23&4294967295|g>>>9),g=n+(i^a^s)+t[13]+681279174&4294967295,n=i+(g<<4&4294967295|g>>>28),g=s+(n^i^a)+t[0]+3936430074&4294967295,s=n+(g<<11&4294967295|g>>>21),g=a+(s^n^i)+t[3]+3572445317&4294967295,a=s+(g<<16&4294967295|g>>>16),g=i+(a^s^n)+t[6]+76029189&4294967295,i=a+(g<<23&4294967295|g>>>9),g=n+(i^a^s)+t[9]+3654602809&4294967295,n=i+(g<<4&4294967295|g>>>28),g=s+(n^i^a)+t[12]+3873151461&4294967295,s=n+(g<<11&4294967295|g>>>21),g=a+(s^n^i)+t[15]+530742520&4294967295,a=s+(g<<16&4294967295|g>>>16),g=i+(a^s^n)+t[2]+3299628645&4294967295,i=a+(g<<23&4294967295|g>>>9),g=n+(a^(i|~s))+t[0]+4096336452&4294967295,n=i+(g<<6&4294967295|g>>>26),g=s+(i^(n|~a))+t[7]+1126891415&4294967295,s=n+(g<<10&4294967295|g>>>22),g=a+(n^(s|~i))+t[14]+2878612391&4294967295,a=s+(g<<15&4294967295|g>>>17),g=i+(s^(a|~n))+t[5]+4237533241&4294967295,i=a+(g<<21&4294967295|g>>>11),g=n+(a^(i|~s))+t[12]+1700485571&4294967295,n=i+(g<<6&4294967295|g>>>26),g=s+(i^(n|~a))+t[3]+2399980690&4294967295,s=n+(g<<10&4294967295|g>>>22),g=a+(n^(s|~i))+t[10]+4293915773&4294967295,a=s+(g<<15&4294967295|g>>>17),g=i+(s^(a|~n))+t[1]+2240044497&4294967295,i=a+(g<<21&4294967295|g>>>11),g=n+(a^(i|~s))+t[8]+1873313359&4294967295,n=i+(g<<6&4294967295|g>>>26),g=s+(i^(n|~a))+t[15]+4264355552&4294967295,s=n+(g<<10&4294967295|g>>>22),g=a+(n^(s|~i))+t[6]+2734768916&4294967295,a=s+(g<<15&4294967295|g>>>17),g=i+(s^(a|~n))+t[13]+1309151649&4294967295,i=a+(g<<21&4294967295|g>>>11),g=n+(a^(i|~s))+t[4]+4149444226&4294967295,n=i+(g<<6&4294967295|g>>>26),g=s+(i^(n|~a))+t[11]+3174756917&4294967295,s=n+(g<<10&4294967295|g>>>22),g=a+(n^(s|~i))+t[2]+718787259&4294967295,a=s+(g<<15&4294967295|g>>>17),g=i+(s^(a|~n))+t[9]+3951481745&4294967295,i=a+(g<<21&4294967295|g>>>11),this.chain_[0]=this.chain_[0]+n&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+s&4294967295},goog.crypt.Md5.prototype.update=function(e,o){goog.isDef(o)||(o=e.length);for(var t=o-this.blockSize,r=this.block_,n=this.blockLength_,i=0;o>i;){if(0==n)for(;t>=i;)this.compress_(e,i),i+=this.blockSize;if(goog.isString(e)){for(;o>i;)if(r[n++]=e.charCodeAt(i++),n==this.blockSize){this.compress_(r),n=0;break}}else for(;o>i;)if(r[n++]=e[i++],n==this.blockSize){this.compress_(r),n=0;break}}this.blockLength_=n,this.totalLength_+=o},goog.crypt.Md5.prototype.digest=function(){var e=new Array((this.blockLength_<56?this.blockSize:2*this.blockSize)-this.blockLength_);e[0]=128;for(var o=1;o<e.length-8;++o)e[o]=0;for(var t=8*this.totalLength_,o=e.length-8;o<e.length;++o)e[o]=255&t,t/=256;this.update(e);for(var r=new Array(16),n=0,o=0;4>o;++o)for(var i=0;32>i;i+=8)r[n++]=this.chain_[o]>>>i&255;return r},goog.provide("ol.structs.IHasChecksum"),ol.structs.IHasChecksum=function(){},ol.structs.IHasChecksum.prototype.getChecksum=function(){},goog.provide("ol.style.Stroke"),goog.require("goog.crypt"),goog.require("goog.crypt.Md5"),goog.require("ol.color"),goog.require("ol.structs.IHasChecksum"),ol.style.Stroke=function(e){var o=goog.isDef(e)?e:{};this.color_=goog.isDef(o.color)?o.color:null,this.lineCap_=o.lineCap,this.lineDash_=goog.isDef(o.lineDash)?o.lineDash:null,this.lineJoin_=o.lineJoin,this.miterLimit_=o.miterLimit,this.width_=o.width,this.checksum_=void 0},ol.style.Stroke.prototype.getColor=function(){return this.color_},ol.style.Stroke.prototype.getLineCap=function(){return this.lineCap_},ol.style.Stroke.prototype.getLineDash=function(){return this.lineDash_},ol.style.Stroke.prototype.getLineJoin=function(){return this.lineJoin_},ol.style.Stroke.prototype.getMiterLimit=function(){return this.miterLimit_},ol.style.Stroke.prototype.getWidth=function(){return this.width_},ol.style.Stroke.prototype.setColor=function(e){this.color_=e,this.checksum_=void 0},ol.style.Stroke.prototype.setLineCap=function(e){this.lineCap_=e,this.checksum_=void 0},ol.style.Stroke.prototype.setLineDash=function(e){this.lineDash_=e,this.checksum_=void 0},ol.style.Stroke.prototype.setLineJoin=function(e){this.lineJoin_=e,this.checksum_=void 0},ol.style.Stroke.prototype.setMiterLimit=function(e){this.miterLimit_=e,this.checksum_=void 0},ol.style.Stroke.prototype.setWidth=function(e){this.width_=e,this.checksum_=void 0},ol.style.Stroke.prototype.getChecksum=function(){if(!goog.isDef(this.checksum_)){var e="s"+(goog.isNull(this.color_)?"-":ol.color.asString(this.color_))+","+(goog.isDef(this.lineCap_)?this.lineCap_.toString():"-")+","+(goog.isNull(this.lineDash_)?"-":this.lineDash_.toString())+","+(goog.isDef(this.lineJoin_)?this.lineJoin_:"-")+","+(goog.isDef(this.miterLimit_)?this.miterLimit_.toString():"-")+","+(goog.isDef(this.width_)?this.width_.toString():"-"),o=new goog.crypt.Md5;o.update(e),this.checksum_=goog.crypt.byteArrayToString(o.digest())}return this.checksum_},goog.provide("ol.render.canvas"),ol.render.canvas.FillState,ol.render.canvas.StrokeState,ol.render.canvas.TextState,ol.render.canvas.defaultFont="10px sans-serif",ol.render.canvas.defaultFillStyle=[0,0,0,1],ol.render.canvas.defaultLineCap="round",ol.render.canvas.defaultLineDash=[],ol.render.canvas.defaultLineJoin="round",ol.render.canvas.defaultMiterLimit=10,ol.render.canvas.defaultStrokeStyle=[0,0,0,1],ol.render.canvas.defaultTextAlign="center",ol.render.canvas.defaultTextBaseline="middle",ol.render.canvas.defaultLineWidth=1,goog.provide("ol.style.Fill"),goog.require("ol.color"),goog.require("ol.structs.IHasChecksum"),ol.style.Fill=function(e){var o=goog.isDef(e)?e:{};this.color_=goog.isDef(o.color)?o.color:null,this.checksum_=void 0},ol.style.Fill.prototype.getColor=function(){return this.color_},ol.style.Fill.prototype.setColor=function(e){this.color_=e,this.checksum_=void 0},ol.style.Fill.prototype.getChecksum=function(){return goog.isDef(this.checksum_)||(this.checksum_="f"+(goog.isNull(this.color_)?"-":ol.color.asString(this.color_))),this.checksum_},goog.provide("ol.style.Circle"),goog.require("goog.asserts"),goog.require("goog.dom"),goog.require("goog.dom.TagName"),goog.require("ol.color"),goog.require("ol.has"),goog.require("ol.render.canvas"),goog.require("ol.structs.IHasChecksum"),goog.require("ol.style.Fill"),goog.require("ol.style.Image"),goog.require("ol.style.ImageState"),goog.require("ol.style.Stroke"),ol.style.Circle=function(e){var o=goog.isDef(e)?e:{};this.checksums_=null,this.canvas_=null,this.hitDetectionCanvas_=null,this.fill_=goog.isDef(o.fill)?o.fill:null,this.stroke_=goog.isDef(o.stroke)?o.stroke:null,this.radius_=o.radius,this.origin_=[0,0],this.anchor_=null,this.size_=null,this.imageSize_=null,this.hitDetectionImageSize_=null,this.render_(o.atlasManager);var t=goog.isDef(o.snapToPixel)?o.snapToPixel:!0;goog.base(this,{opacity:1,rotateWithView:!1,rotation:0,scale:1,snapToPixel:t})},goog.inherits(ol.style.Circle,ol.style.Image),ol.style.Circle.prototype.getAnchor=function(){return this.anchor_},ol.style.Circle.prototype.getFill=function(){return this.fill_},ol.style.Circle.prototype.getHitDetectionImage=function(e){return this.hitDetectionCanvas_},ol.style.Circle.prototype.getImage=function(e){return this.canvas_},ol.style.Circle.prototype.getImageState=function(){return ol.style.ImageState.LOADED},ol.style.Circle.prototype.getImageSize=function(){return this.imageSize_},ol.style.Circle.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},ol.style.Circle.prototype.getOrigin=function(){return this.origin_},ol.style.Circle.prototype.getRadius=function(){return this.radius_},ol.style.Circle.prototype.getSize=function(){return this.size_},ol.style.Circle.prototype.getStroke=function(){return this.stroke_},ol.style.Circle.prototype.listenImageChange=goog.nullFunction,ol.style.Circle.prototype.load=goog.nullFunction,ol.style.Circle.prototype.unlistenImageChange=goog.nullFunction,ol.style.Circle.RenderOptions,ol.style.Circle.prototype.render_=function(e){var o,t,r=null,n=0;goog.isNull(this.stroke_)||(t=ol.color.asString(this.stroke_.getColor()),n=this.stroke_.getWidth(),goog.isDef(n)||(n=ol.render.canvas.defaultLineWidth),r=this.stroke_.getLineDash(),ol.has.CANVAS_LINE_DASH||(r=null));var i=2*(this.radius_+n)+1,a={strokeStyle:t,strokeWidth:n,size:i,lineDash:r};if(goog.isDef(e)){i=Math.round(i);var s,g=goog.isNull(this.fill_);g&&(s=goog.bind(this.drawHitDetectionCanvas_,this,a));var l=this.getChecksum(),p=e.add(l,i,i,goog.bind(this.draw_,this,a),s);goog.asserts.assert(null!==p,"circle radius is too large"),this.canvas_=p.image,this.origin_=[p.offsetX,p.offsetY],o=p.image.width,g?(this.hitDetectionCanvas_=p.hitImage,this.hitDetectionImageSize_=[p.hitImage.width,p.hitImage.height]):(this.hitDetectionCanvas_=this.canvas_,this.hitDetectionImageSize_=[o,o])}else{this.canvas_=goog.dom.createElement(goog.dom.TagName.CANVAS),this.canvas_.height=i,this.canvas_.width=i,i=this.canvas_.width,o=i;var u=this.canvas_.getContext("2d");this.draw_(a,u,0,0),this.createHitDetectionCanvas_(a)}this.anchor_=[i/2,i/2],this.size_=[i,i],this.imageSize_=[o,o]},ol.style.Circle.prototype.draw_=function(e,o,t,r){o.setTransform(1,0,0,1,0,0),o.translate(t,r),o.beginPath(),o.arc(e.size/2,e.size/2,this.radius_,0,2*Math.PI,!0),goog.isNull(this.fill_)||(o.fillStyle=ol.color.asString(this.fill_.getColor()),o.fill()),goog.isNull(this.stroke_)||(o.strokeStyle=e.strokeStyle,o.lineWidth=e.strokeWidth,goog.isNull(e.lineDash)||o.setLineDash(e.lineDash),o.stroke()),o.closePath()},ol.style.Circle.prototype.createHitDetectionCanvas_=function(e){
if(this.hitDetectionImageSize_=[e.size,e.size],!goog.isNull(this.fill_))return void(this.hitDetectionCanvas_=this.canvas_);this.hitDetectionCanvas_=goog.dom.createElement(goog.dom.TagName.CANVAS);var o=this.hitDetectionCanvas_;o.height=e.size,o.width=e.size;var t=o.getContext("2d");this.drawHitDetectionCanvas_(e,t,0,0)},ol.style.Circle.prototype.drawHitDetectionCanvas_=function(e,o,t,r){o.setTransform(1,0,0,1,0,0),o.translate(t,r),o.beginPath(),o.arc(e.size/2,e.size/2,this.radius_,0,2*Math.PI,!0),o.fillStyle=ol.render.canvas.defaultFillStyle,o.fill(),goog.isNull(this.stroke_)||(o.strokeStyle=e.strokeStyle,o.lineWidth=e.strokeWidth,goog.isNull(e.lineDash)||o.setLineDash(e.lineDash),o.stroke()),o.closePath()},ol.style.Circle.prototype.getChecksum=function(){var e=goog.isNull(this.stroke_)?"-":this.stroke_.getChecksum(),o=goog.isNull(this.fill_)?"-":this.fill_.getChecksum(),t=goog.isNull(this.checksums_)||e!=this.checksums_[1]||o!=this.checksums_[2]||this.radius_!=this.checksums_[3];if(t){var r="c"+e+o+(goog.isDef(this.radius_)?this.radius_.toString():"-");this.checksums_=[r,e,o,this.radius_]}return this.checksums_[0]},goog.provide("ol.style.GeometryFunction"),goog.provide("ol.style.Style"),goog.provide("ol.style.StyleFunction"),goog.provide("ol.style.defaultGeometryFunction"),goog.require("goog.asserts"),goog.require("goog.functions"),goog.require("ol.geom.Geometry"),goog.require("ol.geom.GeometryType"),goog.require("ol.style.Circle"),goog.require("ol.style.Fill"),goog.require("ol.style.Image"),goog.require("ol.style.Stroke"),ol.style.Style=function(e){var o=goog.isDef(e)?e:{};this.geometry_=null,this.geometryFunction_=ol.style.defaultGeometryFunction,goog.isDef(o.geometry)&&this.setGeometry(o.geometry),this.fill_=goog.isDef(o.fill)?o.fill:null,this.image_=goog.isDef(o.image)?o.image:null,this.stroke_=goog.isDef(o.stroke)?o.stroke:null,this.text_=goog.isDef(o.text)?o.text:null,this.zIndex_=o.zIndex},ol.style.Style.prototype.getGeometry=function(){return this.geometry_},ol.style.Style.prototype.getGeometryFunction=function(){return this.geometryFunction_},ol.style.Style.prototype.getFill=function(){return this.fill_},ol.style.Style.prototype.getImage=function(){return this.image_},ol.style.Style.prototype.getStroke=function(){return this.stroke_},ol.style.Style.prototype.getText=function(){return this.text_},ol.style.Style.prototype.getZIndex=function(){return this.zIndex_},ol.style.Style.prototype.setGeometry=function(e){goog.isFunction(e)?this.geometryFunction_=e:goog.isString(e)?this.geometryFunction_=function(o){var t=o.get(e);return goog.isDefAndNotNull(t)&&goog.asserts.assertInstanceof(t,ol.geom.Geometry,"feature geometry must be an ol.geom.Geometry instance"),t}:goog.isNull(e)?this.geometryFunction_=ol.style.defaultGeometryFunction:goog.isDef(e)&&(goog.asserts.assertInstanceof(e,ol.geom.Geometry,"geometry must be an ol.geom.Geometry instance"),this.geometryFunction_=function(){return e}),this.geometry_=e},ol.style.Style.prototype.setZIndex=function(e){this.zIndex_=e},ol.style.StyleFunction,ol.style.createStyleFunction=function(e){var o;if(goog.isFunction(e))o=e;else{var t;goog.isArray(e)?t=e:(goog.asserts.assertInstanceof(e,ol.style.Style,"obj geometry must be an ol.style.Style instance"),t=[e]),o=goog.functions.constant(t)}return o},ol.style.defaultStyleFunction=function(e,o){var t=new ol.style.Fill({color:"rgba(255,255,255,0.4)"}),r=new ol.style.Stroke({color:"#3399CC",width:1.25}),n=[new ol.style.Style({image:new ol.style.Circle({fill:t,stroke:r,radius:5}),fill:t,stroke:r})];return ol.style.defaultStyleFunction=function(e,o){return n},n},ol.style.createDefaultEditingStyles=function(){var e={},o=[255,255,255,1],t=[0,153,255,1],r=3;return e[ol.geom.GeometryType.POLYGON]=[new ol.style.Style({fill:new ol.style.Fill({color:[255,255,255,.5]})})],e[ol.geom.GeometryType.MULTI_POLYGON]=e[ol.geom.GeometryType.POLYGON],e[ol.geom.GeometryType.LINE_STRING]=[new ol.style.Style({stroke:new ol.style.Stroke({color:o,width:r+2})}),new ol.style.Style({stroke:new ol.style.Stroke({color:t,width:r})})],e[ol.geom.GeometryType.MULTI_LINE_STRING]=e[ol.geom.GeometryType.LINE_STRING],e[ol.geom.GeometryType.CIRCLE]=e[ol.geom.GeometryType.POLYGON].concat(e[ol.geom.GeometryType.LINE_STRING]),e[ol.geom.GeometryType.POINT]=[new ol.style.Style({image:new ol.style.Circle({radius:2*r,fill:new ol.style.Fill({color:t}),stroke:new ol.style.Stroke({color:o,width:r/2})}),zIndex:1/0})],e[ol.geom.GeometryType.MULTI_POINT]=e[ol.geom.GeometryType.POINT],e[ol.geom.GeometryType.GEOMETRY_COLLECTION]=e[ol.geom.GeometryType.POLYGON].concat(e[ol.geom.GeometryType.POINT]),e},ol.style.GeometryFunction,ol.style.defaultGeometryFunction=function(e){return goog.asserts.assert(!goog.isNull(e),"feature must not be null"),e.getGeometry()},goog.provide("ol.interaction.DragZoom"),goog.require("goog.asserts"),goog.require("ol.events.condition"),goog.require("ol.extent"),goog.require("ol.interaction.DragBox"),goog.require("ol.interaction.Interaction"),goog.require("ol.style.Stroke"),goog.require("ol.style.Style"),ol.interaction.DragZoom=function(e){var o=goog.isDef(e)?e:{},t=goog.isDef(o.condition)?o.condition:ol.events.condition.shiftKeyOnly;this.duration_=goog.isDef(o.duration)?o.duration:200;var r=goog.isDef(o.style)?o.style:new ol.style.Style({stroke:new ol.style.Stroke({color:[0,0,255,1]})});goog.base(this,{condition:t,style:r})},goog.inherits(ol.interaction.DragZoom,ol.interaction.DragBox),ol.interaction.DragZoom.prototype.onBoxEnd=function(){var e=this.getMap(),o=e.getView();goog.asserts.assert(!goog.isNull(o),"view should not be null");var t=this.getGeometry().getExtent(),r=ol.extent.getCenter(t),n=e.getSize();goog.asserts.assert(goog.isDef(n),"size should be defined"),ol.interaction.Interaction.zoom(e,o,o.getResolutionForExtent(t,n),r,this.duration_)},goog.provide("ol.interaction.KeyboardPan"),goog.require("goog.asserts"),goog.require("goog.events.KeyCodes"),goog.require("goog.events.KeyHandler.EventType"),goog.require("goog.functions"),goog.require("ol.coordinate"),goog.require("ol.events.ConditionType"),goog.require("ol.events.condition"),goog.require("ol.interaction.Interaction"),ol.interaction.KeyboardPan=function(e){goog.base(this,{handleEvent:ol.interaction.KeyboardPan.handleEvent});var o=goog.isDef(e)?e:{};this.condition_=goog.isDef(o.condition)?o.condition:goog.functions.and(ol.events.condition.noModifierKeys,ol.events.condition.targetNotEditable),this.duration_=goog.isDef(o.duration)?o.duration:100,this.pixelDelta_=goog.isDef(o.pixelDelta)?o.pixelDelta:128},goog.inherits(ol.interaction.KeyboardPan,ol.interaction.Interaction),ol.interaction.KeyboardPan.handleEvent=function(e){var o=!1;if(e.type==goog.events.KeyHandler.EventType.KEY){var t=e.browserEvent,r=t.keyCode;if(this.condition_(e)&&(r==goog.events.KeyCodes.DOWN||r==goog.events.KeyCodes.LEFT||r==goog.events.KeyCodes.RIGHT||r==goog.events.KeyCodes.UP)){var n=e.map,i=n.getView();goog.asserts.assert(!goog.isNull(i),"view should not be null");var a=i.getState(),s=a.resolution*this.pixelDelta_,g=0,l=0;r==goog.events.KeyCodes.DOWN?l=-s:r==goog.events.KeyCodes.LEFT?g=-s:r==goog.events.KeyCodes.RIGHT?g=s:l=s;var p=[g,l];ol.coordinate.rotate(p,a.rotation),ol.interaction.Interaction.pan(n,i,p,this.duration_),e.preventDefault(),o=!0}}return!o},goog.provide("ol.interaction.KeyboardZoom"),goog.require("goog.asserts"),goog.require("goog.events.KeyHandler.EventType"),goog.require("ol.events.ConditionType"),goog.require("ol.events.condition"),goog.require("ol.interaction.Interaction"),ol.interaction.KeyboardZoom=function(e){goog.base(this,{handleEvent:ol.interaction.KeyboardZoom.handleEvent});var o=goog.isDef(e)?e:{};this.condition_=goog.isDef(o.condition)?o.condition:ol.events.condition.targetNotEditable,this.delta_=goog.isDef(o.delta)?o.delta:1,this.duration_=goog.isDef(o.duration)?o.duration:100},goog.inherits(ol.interaction.KeyboardZoom,ol.interaction.Interaction),ol.interaction.KeyboardZoom.handleEvent=function(e){var o=!1;if(e.type==goog.events.KeyHandler.EventType.KEY){var t=e.browserEvent,r=t.charCode;if(this.condition_(e)&&(r=="+".charCodeAt(0)||r=="-".charCodeAt(0))){var n=e.map,i=r=="+".charCodeAt(0)?this.delta_:-this.delta_;n.render();var a=n.getView();goog.asserts.assert(!goog.isNull(a),"view should not be null"),ol.interaction.Interaction.zoomByDelta(n,a,i,void 0,this.duration_),e.preventDefault(),o=!0}}return!o},goog.provide("ol.interaction.MouseWheelZoom"),goog.require("goog.asserts"),goog.require("goog.events.MouseWheelEvent"),goog.require("goog.events.MouseWheelHandler.EventType"),goog.require("goog.math"),goog.require("ol"),goog.require("ol.Coordinate"),goog.require("ol.interaction.Interaction"),ol.interaction.MouseWheelZoom=function(e){goog.base(this,{handleEvent:ol.interaction.MouseWheelZoom.handleEvent});var o=goog.isDef(e)?e:{};this.delta_=0,this.duration_=goog.isDef(o.duration)?o.duration:250,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},goog.inherits(ol.interaction.MouseWheelZoom,ol.interaction.Interaction),ol.interaction.MouseWheelZoom.handleEvent=function(e){var o=!1;if(e.type==goog.events.MouseWheelHandler.EventType.MOUSEWHEEL){var t=e.map,r=e.browserEvent;goog.asserts.assertInstanceof(r,goog.events.MouseWheelEvent,"mouseWheelEvent should be of type MouseWheelEvent"),this.lastAnchor_=e.coordinate,this.delta_+=r.deltaY,goog.isDef(this.startTime_)||(this.startTime_=goog.now());var n=ol.MOUSEWHEELZOOM_TIMEOUT_DURATION,i=Math.max(n-(goog.now()-this.startTime_),0);goog.global.clearTimeout(this.timeoutId_),this.timeoutId_=goog.global.setTimeout(goog.bind(this.doZoom_,this,t),i),e.preventDefault(),o=!0}return!o},ol.interaction.MouseWheelZoom.prototype.doZoom_=function(e){var o=ol.MOUSEWHEELZOOM_MAXDELTA,t=goog.math.clamp(this.delta_,-o,o),r=e.getView();goog.asserts.assert(!goog.isNull(r),"view should not be null"),e.render(),ol.interaction.Interaction.zoomByDelta(e,r,-t,this.lastAnchor_,this.duration_),this.delta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},goog.provide("ol.interaction.PinchRotate"),goog.require("goog.asserts"),goog.require("goog.functions"),goog.require("goog.style"),goog.require("ol.Coordinate"),goog.require("ol.ViewHint"),goog.require("ol.interaction.Interaction"),goog.require("ol.interaction.Pointer"),ol.interaction.PinchRotate=function(e){goog.base(this,{handleDownEvent:ol.interaction.PinchRotate.handleDownEvent_,handleDragEvent:ol.interaction.PinchRotate.handleDragEvent_,handleUpEvent:ol.interaction.PinchRotate.handleUpEvent_});var o=goog.isDef(e)?e:{};this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=goog.isDef(o.threshold)?o.threshold:.3,this.duration_=goog.isDef(o.duration)?o.duration:250},goog.inherits(ol.interaction.PinchRotate,ol.interaction.Pointer),ol.interaction.PinchRotate.handleDragEvent_=function(e){goog.asserts.assert(this.targetPointers.length>=2,"length of this.targetPointers should be greater than or equal to 2");var o=0,t=this.targetPointers[0],r=this.targetPointers[1],n=Math.atan2(r.clientY-t.clientY,r.clientX-t.clientX);if(goog.isDef(this.lastAngle_)){var i=n-this.lastAngle_;this.rotationDelta_+=i,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),o=i}this.lastAngle_=n;var a=e.map,s=goog.style.getClientPosition(a.getViewport()),g=ol.interaction.Pointer.centroid(this.targetPointers);if(g[0]-=s.x,g[1]-=s.y,this.anchor_=a.getCoordinateFromPixel(g),this.rotating_){var l=a.getView(),p=l.getRotation();a.render(),ol.interaction.Interaction.rotateWithoutConstraints(a,l,p+o,this.anchor_)}},ol.interaction.PinchRotate.handleUpEvent_=function(e){if(this.targetPointers.length<2){var o=e.map,t=o.getView();if(t.setHint(ol.ViewHint.INTERACTING,-1),this.rotating_){var r=t.getRotation();ol.interaction.Interaction.rotate(o,t,r,this.anchor_,this.duration_)}return!1}return!0},ol.interaction.PinchRotate.handleDownEvent_=function(e){if(this.targetPointers.length>=2){var o=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||o.getView().setHint(ol.ViewHint.INTERACTING,1),o.render(),!0}return!1},ol.interaction.PinchRotate.prototype.shouldStopEvent=goog.functions.FALSE,goog.provide("ol.interaction.PinchZoom"),goog.require("goog.asserts"),goog.require("goog.functions"),goog.require("goog.style"),goog.require("ol.Coordinate"),goog.require("ol.ViewHint"),goog.require("ol.interaction.Interaction"),goog.require("ol.interaction.Pointer"),ol.interaction.PinchZoom=function(e){goog.base(this,{handleDownEvent:ol.interaction.PinchZoom.handleDownEvent_,handleDragEvent:ol.interaction.PinchZoom.handleDragEvent_,handleUpEvent:ol.interaction.PinchZoom.handleUpEvent_});var o=goog.isDef(e)?e:{};this.anchor_=null,this.duration_=goog.isDef(o.duration)?o.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1},goog.inherits(ol.interaction.PinchZoom,ol.interaction.Pointer),ol.interaction.PinchZoom.handleDragEvent_=function(e){goog.asserts.assert(this.targetPointers.length>=2,"length of this.targetPointers should be 2 or more");var o=1,t=this.targetPointers[0],r=this.targetPointers[1],n=t.clientX-r.clientX,i=t.clientY-r.clientY,a=Math.sqrt(n*n+i*i);goog.isDef(this.lastDistance_)&&(o=this.lastDistance_/a),this.lastDistance_=a,1!=o&&(this.lastScaleDelta_=o);var s=e.map,g=s.getView(),l=g.getResolution(),p=goog.style.getClientPosition(s.getViewport()),u=ol.interaction.Pointer.centroid(this.targetPointers);u[0]-=p.x,u[1]-=p.y,this.anchor_=s.getCoordinateFromPixel(u),s.render(),ol.interaction.Interaction.zoomWithoutConstraints(s,g,l*o,this.anchor_)},ol.interaction.PinchZoom.handleUpEvent_=function(e){if(this.targetPointers.length<2){var o=e.map,t=o.getView();t.setHint(ol.ViewHint.INTERACTING,-1);var r=t.getResolution(),n=this.lastScaleDelta_-1;return ol.interaction.Interaction.zoom(o,t,r,this.anchor_,this.duration_,n),!1}return!0},ol.interaction.PinchZoom.handleDownEvent_=function(e){if(this.targetPointers.length>=2){var o=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||o.getView().setHint(ol.ViewHint.INTERACTING,1),o.render(),!0}return!1},ol.interaction.PinchZoom.prototype.shouldStopEvent=goog.functions.FALSE,goog.provide("ol.interaction"),goog.require("ol.Collection"),goog.require("ol.Kinetic"),goog.require("ol.interaction.DoubleClickZoom"),goog.require("ol.interaction.DragPan"),goog.require("ol.interaction.DragRotate"),goog.require("ol.interaction.DragZoom"),goog.require("ol.interaction.KeyboardPan"),goog.require("ol.interaction.KeyboardZoom"),goog.require("ol.interaction.MouseWheelZoom"),goog.require("ol.interaction.PinchRotate"),goog.require("ol.interaction.PinchZoom"),ol.interaction.defaults=function(e){var o=goog.isDef(e)?e:{},t=new ol.Collection,r=new ol.Kinetic(-.005,.05,100),n=goog.isDef(o.altShiftDragRotate)?o.altShiftDragRotate:!0;n&&t.push(new ol.interaction.DragRotate);var i=goog.isDef(o.doubleClickZoom)?o.doubleClickZoom:!0;i&&t.push(new ol.interaction.DoubleClickZoom({delta:o.zoomDelta,duration:o.zoomDuration}));var a=goog.isDef(o.dragPan)?o.dragPan:!0;a&&t.push(new ol.interaction.DragPan({kinetic:r}));var s=goog.isDef(o.pinchRotate)?o.pinchRotate:!0;s&&t.push(new ol.interaction.PinchRotate);var g=goog.isDef(o.pinchZoom)?o.pinchZoom:!0;g&&t.push(new ol.interaction.PinchZoom({duration:o.zoomDuration}));var l=goog.isDef(o.keyboard)?o.keyboard:!0;l&&(t.push(new ol.interaction.KeyboardPan),t.push(new ol.interaction.KeyboardZoom({delta:o.zoomDelta,duration:o.zoomDuration})));var p=goog.isDef(o.mouseWheelZoom)?o.mouseWheelZoom:!0;p&&t.push(new ol.interaction.MouseWheelZoom({duration:o.zoomDuration}));var u=goog.isDef(o.shiftDragZoom)?o.shiftDragZoom:!0;return u&&t.push(new ol.interaction.DragZoom),t},goog.provide("ol.layer.Group"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.events"),goog.require("goog.events.EventType"),goog.require("goog.math"),goog.require("goog.object"),goog.require("ol.Collection"),goog.require("ol.CollectionEvent"),goog.require("ol.CollectionEventType"),goog.require("ol.Object"),goog.require("ol.ObjectEventType"),goog.require("ol.extent"),goog.require("ol.layer.Base"),goog.require("ol.source.State"),ol.layer.GroupProperty={LAYERS:"layers"},ol.layer.Group=function(e){var o=goog.isDef(e)?e:{},t=goog.object.clone(o);delete t.layers;var r=o.layers;goog.base(this,t),this.layersListenerKeys_=[],this.listenerKeys_={},goog.events.listen(this,ol.Object.getChangeEventType(ol.layer.GroupProperty.LAYERS),this.handleLayersChanged_,!1,this),goog.isDefAndNotNull(r)?goog.isArray(r)?r=new ol.Collection(r.slice()):(goog.asserts.assertInstanceof(r,ol.Collection,"layers should be an ol.Collection"),r=r):r=new ol.Collection,this.setLayers(r)},goog.inherits(ol.layer.Group,ol.layer.Base),ol.layer.Group.prototype.handleLayerChange_=function(){this.getVisible()&&this.changed()},ol.layer.Group.prototype.handleLayersChanged_=function(e){goog.array.forEach(this.layersListenerKeys_,goog.events.unlistenByKey),this.layersListenerKeys_.length=0;var o=this.getLayers();this.layersListenerKeys_.push(goog.events.listen(o,ol.CollectionEventType.ADD,this.handleLayersAdd_,!1,this),goog.events.listen(o,ol.CollectionEventType.REMOVE,this.handleLayersRemove_,!1,this)),goog.object.forEach(this.listenerKeys_,function(e){goog.array.forEach(e,goog.events.unlistenByKey)}),goog.object.clear(this.listenerKeys_);var t,r,n,i=o.getArray();for(t=0,r=i.length;r>t;t++)n=i[t],this.listenerKeys_[goog.getUid(n).toString()]=[goog.events.listen(n,ol.ObjectEventType.PROPERTYCHANGE,this.handleLayerChange_,!1,this),goog.events.listen(n,goog.events.EventType.CHANGE,this.handleLayerChange_,!1,this)];this.changed()},ol.layer.Group.prototype.handleLayersAdd_=function(e){var o=e.element,t=goog.getUid(o).toString();goog.asserts.assert(!(t in this.listenerKeys_),"listeners already registered"),this.listenerKeys_[t]=[goog.events.listen(o,ol.ObjectEventType.PROPERTYCHANGE,this.handleLayerChange_,!1,this),goog.events.listen(o,goog.events.EventType.CHANGE,this.handleLayerChange_,!1,this)],this.changed()},ol.layer.Group.prototype.handleLayersRemove_=function(e){var o=e.element,t=goog.getUid(o).toString();goog.asserts.assert(t in this.listenerKeys_,"no listeners to unregister"),goog.array.forEach(this.listenerKeys_[t],goog.events.unlistenByKey),delete this.listenerKeys_[t],this.changed()},ol.layer.Group.prototype.getLayers=function(){return this.get(ol.layer.GroupProperty.LAYERS)},ol.layer.Group.prototype.setLayers=function(e){this.set(ol.layer.GroupProperty.LAYERS,e)},ol.layer.Group.prototype.getLayersArray=function(e){var o=goog.isDef(e)?e:[];return this.getLayers().forEach(function(e){e.getLayersArray(o)}),o},ol.layer.Group.prototype.getLayerStatesArray=function(e){var o=goog.isDef(e)?e:[],t=o.length;this.getLayers().forEach(function(e){e.getLayerStatesArray(o)});var r,n,i,a=this.getLayerState();for(r=t,n=o.length;n>r;r++)i=o[r],i.brightness=goog.math.clamp(i.brightness+a.brightness,-1,1),i.contrast*=a.contrast,i.hue+=a.hue,i.opacity*=a.opacity,i.saturation*=a.saturation,i.visible=i.visible&&a.visible,i.maxResolution=Math.min(i.maxResolution,a.maxResolution),i.minResolution=Math.max(i.minResolution,a.minResolution),goog.isDef(a.extent)&&(i.extent=goog.isDef(i.extent)?ol.extent.getIntersection(i.extent,a.extent):a.extent);return o},ol.layer.Group.prototype.getSourceState=function(){return ol.source.State.READY},goog.provide("ol.proj.EPSG3857"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("ol.math"),goog.require("ol.proj"),goog.require("ol.proj.Projection"),goog.require("ol.proj.Units"),ol.proj.EPSG3857_=function(e){goog.base(this,{code:e,units:ol.proj.Units.METERS,extent:ol.proj.EPSG3857.EXTENT,global:!0,worldExtent:ol.proj.EPSG3857.WORLD_EXTENT})},goog.inherits(ol.proj.EPSG3857_,ol.proj.Projection),ol.proj.EPSG3857_.prototype.getPointResolution=function(e,o){return e/ol.math.cosh(o[1]/ol.proj.EPSG3857.RADIUS)},ol.proj.EPSG3857.RADIUS=6378137,ol.proj.EPSG3857.HALF_SIZE=Math.PI*ol.proj.EPSG3857.RADIUS,ol.proj.EPSG3857.EXTENT=[-ol.proj.EPSG3857.HALF_SIZE,-ol.proj.EPSG3857.HALF_SIZE,ol.proj.EPSG3857.HALF_SIZE,ol.proj.EPSG3857.HALF_SIZE],ol.proj.EPSG3857.WORLD_EXTENT=[-180,-85,180,85],ol.proj.EPSG3857.CODES=["EPSG:3857","EPSG:102100","EPSG:102113","EPSG:900913","urn:ogc:def:crs:EPSG:6.18:3:3857","urn:ogc:def:crs:EPSG::3857","http://www.opengis.net/gml/srs/epsg.xml#3857"],ol.proj.EPSG3857.PROJECTIONS=goog.array.map(ol.proj.EPSG3857.CODES,function(e){return new ol.proj.EPSG3857_(e)}),ol.proj.EPSG3857.fromEPSG4326=function(e,o,t){var r=e.length,n=t>1?t:2,i=o;goog.isDef(i)||(i=n>2?e.slice():new Array(r)),goog.asserts.assert(i.length%n===0,"modulus of output.length with dimension should be 0");for(var a=0;r>a;a+=n)i[a]=ol.proj.EPSG3857.RADIUS*Math.PI*e[a]/180,i[a+1]=ol.proj.EPSG3857.RADIUS*Math.log(Math.tan(Math.PI*(e[a+1]+90)/360));return i},ol.proj.EPSG3857.toEPSG4326=function(e,o,t){var r=e.length,n=t>1?t:2,i=o;goog.isDef(i)||(i=n>2?e.slice():new Array(r)),goog.asserts.assert(i.length%n===0,"modulus of output.length with dimension should be 0");for(var a=0;r>a;a+=n)i[a]=180*e[a]/(ol.proj.EPSG3857.RADIUS*Math.PI),i[a+1]=360*Math.atan(Math.exp(e[a+1]/ol.proj.EPSG3857.RADIUS))/Math.PI-90;return i},goog.provide("ol.proj.EPSG4326"),goog.require("ol.proj"),goog.require("ol.proj.Projection"),goog.require("ol.proj.Units"),ol.proj.EPSG4326_=function(e,o){goog.base(this,{code:e,units:ol.proj.Units.DEGREES,extent:ol.proj.EPSG4326.EXTENT,axisOrientation:o,global:!0,worldExtent:ol.proj.EPSG4326.EXTENT})},goog.inherits(ol.proj.EPSG4326_,ol.proj.Projection),ol.proj.EPSG4326_.prototype.getPointResolution=function(e,o){return e},ol.proj.EPSG4326.EXTENT=[-180,-90,180,90],ol.proj.EPSG4326.PROJECTIONS=[new ol.proj.EPSG4326_("CRS:84"),new ol.proj.EPSG4326_("EPSG:4326","neu"),new ol.proj.EPSG4326_("urn:ogc:def:crs:EPSG::4326","neu"),new ol.proj.EPSG4326_("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new ol.proj.EPSG4326_("urn:ogc:def:crs:OGC:1.3:CRS84"),new ol.proj.EPSG4326_("urn:ogc:def:crs:OGC:2:84"),new ol.proj.EPSG4326_("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new ol.proj.EPSG4326_("urn:x-ogc:def:crs:EPSG:4326","neu")],goog.provide("ol.proj.common"),goog.require("ol.proj"),goog.require("ol.proj.EPSG3857"),goog.require("ol.proj.EPSG4326"),ol.proj.common.add=function(){ol.proj.addEquivalentProjections(ol.proj.EPSG3857.PROJECTIONS),ol.proj.addEquivalentProjections(ol.proj.EPSG4326.PROJECTIONS),ol.proj.addEquivalentTransforms(ol.proj.EPSG4326.PROJECTIONS,ol.proj.EPSG3857.PROJECTIONS,ol.proj.EPSG3857.fromEPSG4326,ol.proj.EPSG3857.toEPSG4326)},goog.provide("ol.layer.Image"),goog.require("ol.layer.Layer"),ol.layer.Image=function(e){var o=goog.isDef(e)?e:{};goog.base(this,o)},goog.inherits(ol.layer.Image,ol.layer.Layer),ol.layer.Image.prototype.getSource,goog.provide("ol.layer.Tile"),goog.require("goog.object"),goog.require("ol.layer.Layer"),ol.layer.TileProperty={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"},ol.layer.Tile=function(e){var o=goog.isDef(e)?e:{},t=goog.object.clone(o);delete t.preload,delete t.useInterimTilesOnError,goog.base(this,t),this.setPreload(goog.isDef(o.preload)?o.preload:0),this.setUseInterimTilesOnError(goog.isDef(o.useInterimTilesOnError)?o.useInterimTilesOnError:!0)},goog.inherits(ol.layer.Tile,ol.layer.Layer),ol.layer.Tile.prototype.getPreload=function(){return this.get(ol.layer.TileProperty.PRELOAD)},ol.layer.Tile.prototype.getSource,ol.layer.Tile.prototype.setPreload=function(e){this.set(ol.layer.TileProperty.PRELOAD,e)},ol.layer.Tile.prototype.getUseInterimTilesOnError=function(){return this.get(ol.layer.TileProperty.USE_INTERIM_TILES_ON_ERROR)},ol.layer.Tile.prototype.setUseInterimTilesOnError=function(e){this.set(ol.layer.TileProperty.USE_INTERIM_TILES_ON_ERROR,e)},goog.provide("ol.layer.Vector"),goog.require("goog.asserts"),goog.require("goog.object"),goog.require("ol.layer.Layer"),goog.require("ol.style.Style"),ol.layer.VectorProperty={RENDER_ORDER:"renderOrder"},ol.layer.Vector=function(e){var o=goog.isDef(e)?e:{};goog.asserts.assert(!goog.isDef(o.renderOrder)||goog.isNull(o.renderOrder)||goog.isFunction(o.renderOrder),"renderOrder must be a comparator function");var t=goog.object.clone(o);delete t.style,delete t.renderBuffer,delete t.updateWhileAnimating,delete t.updateWhileInteracting,goog.base(this,t),this.renderBuffer_=goog.isDef(o.renderBuffer)?o.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(o.style),this.updateWhileAnimating_=goog.isDef(o.updateWhileAnimating)?o.updateWhileAnimating:!1,this.updateWhileInteracting_=goog.isDef(o.updateWhileInteracting)?o.updateWhileInteracting:!1},goog.inherits(ol.layer.Vector,ol.layer.Layer),ol.layer.Vector.prototype.getRenderBuffer=function(){return this.renderBuffer_},ol.layer.Vector.prototype.getRenderOrder=function(){return this.get(ol.layer.VectorProperty.RENDER_ORDER)},ol.layer.Vector.prototype.getSource,ol.layer.Vector.prototype.getStyle=function(){return this.style_},ol.layer.Vector.prototype.getStyleFunction=function(){return this.styleFunction_},ol.layer.Vector.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},ol.layer.Vector.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},ol.layer.Vector.prototype.setRenderOrder=function(e){goog.asserts.assert(!goog.isDef(e)||goog.isNull(e)||goog.isFunction(e),"renderOrder must be a comparator function"),this.set(ol.layer.VectorProperty.RENDER_ORDER,e)},ol.layer.Vector.prototype.setStyle=function(e){this.style_=goog.isDef(e)?e:ol.style.defaultStyleFunction,this.styleFunction_=goog.isNull(e)?void 0:ol.style.createStyleFunction(this.style_),this.changed()},goog.provide("ol.render.canvas.Immediate"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.object"),goog.require("goog.vec.Mat4"),goog.require("ol.color"),goog.require("ol.extent"),goog.require("ol.geom.flat.transform"),goog.require("ol.has"),goog.require("ol.render.VectorContext"),goog.require("ol.render.canvas"),goog.require("ol.vec.Mat4"),ol.render.canvas.Immediate=function(e,o,t,r,n){this.callbacksByZIndex_={},this.context_=e,this.pixelRatio_=o,this.extent_=t,this.transform_=r,this.viewRotation_=n,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=0,this.imageSnapToPixel_=!1,this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotation_=0,this.textScale_=0,this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=goog.vec.Mat4.createNumber()},ol.render.canvas.Immediate.prototype.drawImages_=function(e,o,t,r){if(!goog.isNull(this.image_)){goog.asserts.assert(0===o,"offset should be 0"),goog.asserts.assert(t==e.length,"end should be equal to the length of flatCoordinates");var n=ol.geom.flat.transform.transform2D(e,o,t,2,this.transform_,this.pixelCoordinates_),i=this.context_,a=this.tmpLocalTransform_,s=i.globalAlpha;1!=this.imageOpacity_&&(i.globalAlpha=s*this.imageOpacity_);var g=this.imageRotation_;this.imageRotateWithView_&&(g+=this.viewRotation_);var l,p;for(l=0,p=n.length;p>l;l+=2){var u=n[l]-this.imageAnchorX_,c=n[l+1]-this.imageAnchorY_;if(this.imageSnapToPixel_&&(u=u+.5|0,c=c+.5|0),0!==g||1!=this.imageScale_){var d=u+this.imageAnchorX_,h=c+this.imageAnchorY_;ol.vec.Mat4.makeTransform2D(a,d,h,this.imageScale_,this.imageScale_,g,-d,-h),i.setTransform(goog.vec.Mat4.getElement(a,0,0),goog.vec.Mat4.getElement(a,1,0),goog.vec.Mat4.getElement(a,0,1),goog.vec.Mat4.getElement(a,1,1),goog.vec.Mat4.getElement(a,0,3),goog.vec.Mat4.getElement(a,1,3))}i.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,u,c,this.imageWidth_,this.imageHeight_)}(0!==g||1!=this.imageScale_)&&i.setTransform(1,0,0,1,0,0),1!=this.imageOpacity_&&(i.globalAlpha=s)}},ol.render.canvas.Immediate.prototype.drawText_=function(e,o,t,r){if(!goog.isNull(this.textState_)&&""!==this.text_){goog.isNull(this.textFillState_)||this.setContextFillState_(this.textFillState_),goog.isNull(this.textStrokeState_)||this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_),goog.asserts.assert(0===o,"offset should be 0"),goog.asserts.assert(t==e.length,"end should be equal to the length of flatCoordinates");for(var n=ol.geom.flat.transform.transform2D(e,o,t,r,this.transform_,this.pixelCoordinates_),i=this.context_;t>o;o+=r){var a=n[o]+this.textOffsetX_,s=n[o+1]+this.textOffsetY_;if(0!==this.textRotation_||1!=this.textScale_){var g=ol.vec.Mat4.makeTransform2D(this.tmpLocalTransform_,a,s,this.textScale_,this.textScale_,this.textRotation_,-a,-s);i.setTransform(goog.vec.Mat4.getElement(g,0,0),goog.vec.Mat4.getElement(g,1,0),goog.vec.Mat4.getElement(g,0,1),goog.vec.Mat4.getElement(g,1,1),goog.vec.Mat4.getElement(g,0,3),goog.vec.Mat4.getElement(g,1,3))}goog.isNull(this.textStrokeState_)||i.strokeText(this.text_,a,s),goog.isNull(this.textFillState_)||i.fillText(this.text_,a,s)}(0!==this.textRotation_||1!=this.textScale_)&&i.setTransform(1,0,0,1,0,0)}},ol.render.canvas.Immediate.prototype.moveToLineTo_=function(e,o,t,r,n){var i=this.context_,a=ol.geom.flat.transform.transform2D(e,o,t,r,this.transform_,this.pixelCoordinates_);i.moveTo(a[0],a[1]);var s;for(s=2;s<a.length;s+=2)i.lineTo(a[s],a[s+1]);return n&&i.lineTo(a[0],a[1]),t},ol.render.canvas.Immediate.prototype.drawRings_=function(e,o,t,r){var n,i,a=this.context_;for(n=0,i=t.length;i>n;++n)o=this.moveToLineTo_(e,o,t[n],r,!0),a.closePath();return o},ol.render.canvas.Immediate.prototype.drawAsync=function(e,o){var t=e.toString(),r=this.callbacksByZIndex_[t];goog.isDef(r)?r.push(o):this.callbacksByZIndex_[t]=[o]},ol.render.canvas.Immediate.prototype.drawCircleGeometry=function(e,o){if(ol.extent.intersects(this.extent_,e.getExtent())){if(!goog.isNull(this.fillState_)||!goog.isNull(this.strokeState_)){goog.isNull(this.fillState_)||this.setContextFillState_(this.fillState_),goog.isNull(this.strokeState_)||this.setContextStrokeState_(this.strokeState_);var t=ol.geom.transformSimpleGeometry2D(e,this.transform_,this.pixelCoordinates_),r=t[2]-t[0],n=t[3]-t[1],i=Math.sqrt(r*r+n*n),a=this.context_;a.beginPath(),a.arc(t[0],t[1],i,0,2*Math.PI),goog.isNull(this.fillState_)||a.fill(),goog.isNull(this.strokeState_)||a.stroke()}""!==this.text_&&this.drawText_(e.getCenter(),0,2,2)}},ol.render.canvas.Immediate.prototype.drawFeature=function(e,o){var t=o.getGeometryFunction()(e);if(goog.isDefAndNotNull(t)&&ol.extent.intersects(this.extent_,t.getExtent())){var r=o.getZIndex();goog.isDef(r)||(r=0),this.drawAsync(r,function(e){e.setFillStrokeStyle(o.getFill(),o.getStroke()),e.setImageStyle(o.getImage()),e.setTextStyle(o.getText());var r=ol.render.canvas.Immediate.GEOMETRY_RENDERERS_[t.getType()];goog.asserts.assert(goog.isDef(r),"renderGeometry should be defined"),r.call(e,t,null)})}},ol.render.canvas.Immediate.prototype.drawGeometryCollectionGeometry=function(e,o){var t,r,n=e.getGeometriesArray();for(t=0,r=n.length;r>t;++t){var i=n[t],a=ol.render.canvas.Immediate.GEOMETRY_RENDERERS_[i.getType()];goog.asserts.assert(goog.isDef(a),"geometryRenderer should be defined"),a.call(this,i,o)}},ol.render.canvas.Immediate.prototype.drawPointGeometry=function(e,o){var t=e.getFlatCoordinates(),r=e.getStride();goog.isNull(this.image_)||this.drawImages_(t,0,t.length,r),""!==this.text_&&this.drawText_(t,0,t.length,r)},ol.render.canvas.Immediate.prototype.drawMultiPointGeometry=function(e,o){var t=e.getFlatCoordinates(),r=e.getStride();goog.isNull(this.image_)||this.drawImages_(t,0,t.length,r),""!==this.text_&&this.drawText_(t,0,t.length,r)},ol.render.canvas.Immediate.prototype.drawLineStringGeometry=function(e,o){
if(ol.extent.intersects(this.extent_,e.getExtent())){if(!goog.isNull(this.strokeState_)){this.setContextStrokeState_(this.strokeState_);var t=this.context_,r=e.getFlatCoordinates();t.beginPath(),this.moveToLineTo_(r,0,r.length,e.getStride(),!1),t.stroke()}if(""!==this.text_){var n=e.getFlatMidpoint();this.drawText_(n,0,2,2)}}},ol.render.canvas.Immediate.prototype.drawMultiLineStringGeometry=function(e,o){var t=e.getExtent();if(ol.extent.intersects(this.extent_,t)){if(!goog.isNull(this.strokeState_)){this.setContextStrokeState_(this.strokeState_);var r=this.context_,n=e.getFlatCoordinates(),i=0,a=e.getEnds(),s=e.getStride();r.beginPath();var g,l;for(g=0,l=a.length;l>g;++g)i=this.moveToLineTo_(n,i,a[g],s,!1);r.stroke()}if(""!==this.text_){var p=e.getFlatMidpoints();this.drawText_(p,0,p.length,2)}}},ol.render.canvas.Immediate.prototype.drawPolygonGeometry=function(e,o){if(ol.extent.intersects(this.extent_,e.getExtent())){if(!goog.isNull(this.strokeState_)||!goog.isNull(this.fillState_)){goog.isNull(this.fillState_)||this.setContextFillState_(this.fillState_),goog.isNull(this.strokeState_)||this.setContextStrokeState_(this.strokeState_);var t=this.context_;t.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),goog.isNull(this.fillState_)||t.fill(),goog.isNull(this.strokeState_)||t.stroke()}if(""!==this.text_){var r=e.getFlatInteriorPoint();this.drawText_(r,0,2,2)}}},ol.render.canvas.Immediate.prototype.drawMultiPolygonGeometry=function(e,o){if(ol.extent.intersects(this.extent_,e.getExtent())){if(!goog.isNull(this.strokeState_)||!goog.isNull(this.fillState_)){goog.isNull(this.fillState_)||this.setContextFillState_(this.fillState_),goog.isNull(this.strokeState_)||this.setContextStrokeState_(this.strokeState_);var t,r,n=this.context_,i=e.getOrientedFlatCoordinates(),a=0,s=e.getEndss(),g=e.getStride();for(t=0,r=s.length;r>t;++t){var l=s[t];n.beginPath(),a=this.drawRings_(i,a,l,g),goog.isNull(this.fillState_)||n.fill(),goog.isNull(this.strokeState_)||n.stroke()}}if(""!==this.text_){var p=e.getFlatInteriorPoints();this.drawText_(p,0,p.length,2)}}},ol.render.canvas.Immediate.prototype.drawText=goog.abstractMethod,ol.render.canvas.Immediate.prototype.flush=function(){var e=goog.array.map(goog.object.getKeys(this.callbacksByZIndex_),Number);goog.array.sort(e);var o,t,r,n,i;for(o=0,t=e.length;t>o;++o)for(r=this.callbacksByZIndex_[e[o].toString()],n=0,i=r.length;i>n;++n)r[n](this)},ol.render.canvas.Immediate.prototype.setContextFillState_=function(e){var o=this.context_,t=this.contextFillState_;goog.isNull(t)?(o.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle}):t.fillStyle!=e.fillStyle&&(t.fillStyle=o.fillStyle=e.fillStyle)},ol.render.canvas.Immediate.prototype.setContextStrokeState_=function(e){var o=this.context_,t=this.contextStrokeState_;goog.isNull(t)?(o.lineCap=e.lineCap,ol.has.CANVAS_LINE_DASH&&o.setLineDash(e.lineDash),o.lineJoin=e.lineJoin,o.lineWidth=e.lineWidth,o.miterLimit=e.miterLimit,o.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle}):(t.lineCap!=e.lineCap&&(t.lineCap=o.lineCap=e.lineCap),ol.has.CANVAS_LINE_DASH&&(goog.array.equals(t.lineDash,e.lineDash)||o.setLineDash(t.lineDash=e.lineDash)),t.lineJoin!=e.lineJoin&&(t.lineJoin=o.lineJoin=e.lineJoin),t.lineWidth!=e.lineWidth&&(t.lineWidth=o.lineWidth=e.lineWidth),t.miterLimit!=e.miterLimit&&(t.miterLimit=o.miterLimit=e.miterLimit),t.strokeStyle!=e.strokeStyle&&(t.strokeStyle=o.strokeStyle=e.strokeStyle))},ol.render.canvas.Immediate.prototype.setContextTextState_=function(e){var o=this.context_,t=this.contextTextState_;goog.isNull(t)?(o.font=e.font,o.textAlign=e.textAlign,o.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:e.textAlign,textBaseline:e.textBaseline}):(t.font!=e.font&&(t.font=o.font=e.font),t.textAlign!=e.textAlign&&(t.textAlign=o.textAlign=e.textAlign),t.textBaseline!=e.textBaseline&&(t.textBaseline=o.textBaseline=e.textBaseline))},ol.render.canvas.Immediate.prototype.setFillStrokeStyle=function(e,o){if(goog.isNull(e))this.fillState_=null;else{var t=e.getColor();this.fillState_={fillStyle:ol.color.asString(goog.isNull(t)?ol.render.canvas.defaultFillStyle:t)}}if(goog.isNull(o))this.strokeState_=null;else{var r=o.getColor(),n=o.getLineCap(),i=o.getLineDash(),a=o.getLineJoin(),s=o.getWidth(),g=o.getMiterLimit();this.strokeState_={lineCap:goog.isDef(n)?n:ol.render.canvas.defaultLineCap,lineDash:goog.isDefAndNotNull(i)?i:ol.render.canvas.defaultLineDash,lineJoin:goog.isDef(a)?a:ol.render.canvas.defaultLineJoin,lineWidth:this.pixelRatio_*(goog.isDef(s)?s:ol.render.canvas.defaultLineWidth),miterLimit:goog.isDef(g)?g:ol.render.canvas.defaultMiterLimit,strokeStyle:ol.color.asString(goog.isNull(r)?ol.render.canvas.defaultStrokeStyle:r)}}},ol.render.canvas.Immediate.prototype.setImageStyle=function(e){if(goog.isNull(e))this.image_=null;else{var o=e.getAnchor(),t=e.getImage(1),r=e.getOrigin(),n=e.getSize();goog.asserts.assert(!goog.isNull(o),"imageAnchor should not be null"),goog.asserts.assert(!goog.isNull(t),"imageImage should not be null"),goog.asserts.assert(!goog.isNull(r),"imageOrigin should not be null"),goog.asserts.assert(!goog.isNull(n),"imageSize should not be null"),this.imageAnchorX_=o[0],this.imageAnchorY_=o[1],this.imageHeight_=n[1],this.image_=t,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=r[0],this.imageOriginY_=r[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation(),this.imageScale_=e.getScale(),this.imageSnapToPixel_=e.getSnapToPixel(),this.imageWidth_=n[0]}},ol.render.canvas.Immediate.prototype.setTextStyle=function(e){if(goog.isNull(e))this.text_="";else{var o=e.getFill();if(goog.isNull(o))this.textFillState_=null;else{var t=o.getColor();this.textFillState_={fillStyle:ol.color.asString(goog.isNull(t)?ol.render.canvas.defaultFillStyle:t)}}var r=e.getStroke();if(goog.isNull(r))this.textStrokeState_=null;else{var n=r.getColor(),i=r.getLineCap(),a=r.getLineDash(),s=r.getLineJoin(),g=r.getWidth(),l=r.getMiterLimit();this.textStrokeState_={lineCap:goog.isDef(i)?i:ol.render.canvas.defaultLineCap,lineDash:goog.isDefAndNotNull(a)?a:ol.render.canvas.defaultLineDash,lineJoin:goog.isDef(s)?s:ol.render.canvas.defaultLineJoin,lineWidth:goog.isDef(g)?g:ol.render.canvas.defaultLineWidth,miterLimit:goog.isDef(l)?l:ol.render.canvas.defaultMiterLimit,strokeStyle:ol.color.asString(goog.isNull(n)?ol.render.canvas.defaultStrokeStyle:n)}}var p=e.getFont(),u=e.getOffsetX(),c=e.getOffsetY(),d=e.getRotation(),h=e.getScale(),m=e.getText(),y=e.getTextAlign(),f=e.getTextBaseline();this.textState_={font:goog.isDef(p)?p:ol.render.canvas.defaultFont,textAlign:goog.isDef(y)?y:ol.render.canvas.defaultTextAlign,textBaseline:goog.isDef(f)?f:ol.render.canvas.defaultTextBaseline},this.text_=goog.isDef(m)?m:"",this.textOffsetX_=goog.isDef(u)?this.pixelRatio_*u:0,this.textOffsetY_=goog.isDef(c)?this.pixelRatio_*c:0,this.textRotation_=goog.isDef(d)?d:0,this.textScale_=this.pixelRatio_*(goog.isDef(h)?h:1)}},ol.render.canvas.Immediate.GEOMETRY_RENDERERS_={Point:ol.render.canvas.Immediate.prototype.drawPointGeometry,LineString:ol.render.canvas.Immediate.prototype.drawLineStringGeometry,Polygon:ol.render.canvas.Immediate.prototype.drawPolygonGeometry,MultiPoint:ol.render.canvas.Immediate.prototype.drawMultiPointGeometry,MultiLineString:ol.render.canvas.Immediate.prototype.drawMultiLineStringGeometry,MultiPolygon:ol.render.canvas.Immediate.prototype.drawMultiPolygonGeometry,GeometryCollection:ol.render.canvas.Immediate.prototype.drawGeometryCollectionGeometry,Circle:ol.render.canvas.Immediate.prototype.drawCircleGeometry},goog.provide("ol.renderer.canvas.Layer"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.vec.Mat4"),goog.require("ol.dom"),goog.require("ol.extent"),goog.require("ol.layer.Layer"),goog.require("ol.render.Event"),goog.require("ol.render.EventType"),goog.require("ol.render.canvas.Immediate"),goog.require("ol.renderer.Layer"),goog.require("ol.vec.Mat4"),ol.renderer.canvas.Layer=function(e){goog.base(this,e),this.transform_=goog.vec.Mat4.createNumber()},goog.inherits(ol.renderer.canvas.Layer,ol.renderer.Layer),ol.renderer.canvas.Layer.prototype.composeFrame=function(e,o,t){this.dispatchPreComposeEvent(t,e);var r=this.getImage();if(!goog.isNull(r)){var n=o.extent,i=goog.isDef(n);if(i){goog.asserts.assert(goog.isDef(n),"layerState extent is defined");var a=e.pixelRatio,s=ol.extent.getTopLeft(n),g=ol.extent.getTopRight(n),l=ol.extent.getBottomRight(n),p=ol.extent.getBottomLeft(n);ol.vec.Mat4.multVec2(e.coordinateToPixelMatrix,s,s),ol.vec.Mat4.multVec2(e.coordinateToPixelMatrix,g,g),ol.vec.Mat4.multVec2(e.coordinateToPixelMatrix,l,l),ol.vec.Mat4.multVec2(e.coordinateToPixelMatrix,p,p),t.save(),t.beginPath(),t.moveTo(s[0]*a,s[1]*a),t.lineTo(g[0]*a,g[1]*a),t.lineTo(l[0]*a,l[1]*a),t.lineTo(p[0]*a,p[1]*a),t.clip()}var u=this.getImageTransform(),c=t.globalAlpha;if(t.globalAlpha=o.opacity,0===e.viewState.rotation){var d=goog.vec.Mat4.getElement(u,0,3),h=goog.vec.Mat4.getElement(u,1,3),m=r.width*goog.vec.Mat4.getElement(u,0,0),y=r.height*goog.vec.Mat4.getElement(u,1,1);t.drawImage(r,0,0,+r.width,+r.height,Math.round(d),Math.round(h),Math.round(m),Math.round(y))}else t.setTransform(goog.vec.Mat4.getElement(u,0,0),goog.vec.Mat4.getElement(u,1,0),goog.vec.Mat4.getElement(u,0,1),goog.vec.Mat4.getElement(u,1,1),goog.vec.Mat4.getElement(u,0,3),goog.vec.Mat4.getElement(u,1,3)),t.drawImage(r,0,0),t.setTransform(1,0,0,1,0,0);t.globalAlpha=c,i&&t.restore()}this.dispatchPostComposeEvent(t,e)},ol.renderer.canvas.Layer.prototype.dispatchComposeEvent_=function(e,o,t,r){var n=this.getLayer();if(n.hasListener(e)){var i=goog.isDef(r)?r:this.getTransform(t,0),a=new ol.render.canvas.Immediate(o,t.pixelRatio,t.extent,i,t.viewState.rotation),s=new ol.render.Event(e,n,a,t,o,null);n.dispatchEvent(s),a.flush()}},ol.renderer.canvas.Layer.prototype.dispatchPostComposeEvent=function(e,o,t){this.dispatchComposeEvent_(ol.render.EventType.POSTCOMPOSE,e,o,t)},ol.renderer.canvas.Layer.prototype.dispatchPreComposeEvent=function(e,o,t){this.dispatchComposeEvent_(ol.render.EventType.PRECOMPOSE,e,o,t)},ol.renderer.canvas.Layer.prototype.dispatchRenderEvent=function(e,o,t){this.dispatchComposeEvent_(ol.render.EventType.RENDER,e,o,t)},ol.renderer.canvas.Layer.prototype.getImage=goog.abstractMethod,ol.renderer.canvas.Layer.prototype.getImageTransform=goog.abstractMethod,ol.renderer.canvas.Layer.prototype.getTransform=function(e,o){var t=e.viewState,r=e.pixelRatio;return ol.vec.Mat4.makeTransform2D(this.transform_,r*e.size[0]/2,r*e.size[1]/2,r/t.resolution,-r/t.resolution,-t.rotation,-t.center[0]+o,-t.center[1])},ol.renderer.canvas.Layer.prototype.prepareFrame=goog.abstractMethod,ol.renderer.canvas.Layer.prototype.getPixelOnCanvas=function(e,o){var t=[0,0];return ol.vec.Mat4.multVec2(o,e,t),t},ol.renderer.canvas.Layer.testCanvasSize=function(){var e=null,o=null;return function(t){if(goog.isNull(e)){e=ol.dom.createCanvasContext2D(1,1),o=e.createImageData(1,1);var r=o.data;r[0]=42,r[1]=84,r[2]=126,r[3]=255}var n=e.canvas,i=t[0]<=n.width&&t[1]<=n.height;if(!i){n.width=t[0],n.height=t[1];var a=t[0]-1,s=t[1]-1;e.putImageData(o,a,s);var g=e.getImageData(a,s,1,1);i=goog.array.equals(o.data,g.data)}return i}}(),goog.provide("ol.render.IReplayGroup"),goog.require("ol.render.VectorContext"),ol.render.ReplayType={IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"},ol.render.REPLAY_ORDER=[ol.render.ReplayType.POLYGON,ol.render.ReplayType.LINE_STRING,ol.render.ReplayType.IMAGE,ol.render.ReplayType.TEXT],ol.render.IReplayGroup=function(){},ol.render.IReplayGroup.prototype.getReplay=function(e,o){},ol.render.IReplayGroup.prototype.isEmpty=function(){},goog.provide("ol.render.canvas.Replay"),goog.provide("ol.render.canvas.ReplayGroup"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.object"),goog.require("goog.vec.Mat4"),goog.require("ol.array"),goog.require("ol.color"),goog.require("ol.dom"),goog.require("ol.extent"),goog.require("ol.extent.Relationship"),goog.require("ol.geom.flat.simplify"),goog.require("ol.geom.flat.transform"),goog.require("ol.has"),goog.require("ol.render.IReplayGroup"),goog.require("ol.render.VectorContext"),goog.require("ol.render.canvas"),goog.require("ol.vec.Mat4"),ol.render.canvas.Instruction={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,DRAW_IMAGE:4,DRAW_TEXT:5,END_GEOMETRY:6,FILL:7,MOVE_TO_LINE_TO:8,SET_FILL_STYLE:9,SET_STROKE_STYLE:10,SET_TEXT_STYLE:11,STROKE:12},ol.render.canvas.Replay=function(e,o,t){goog.base(this),this.tolerance=e,this.maxExtent=o,this.bufferedMaxExtent_=null,this.maxLineWidth=0,this.resolution=t,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.instructions=[],this.coordinates=[],this.renderedTransform_=goog.vec.Mat4.createNumber(),this.hitDetectionInstructions=[],this.pixelCoordinates_=[],this.tmpLocalTransform_=goog.vec.Mat4.createNumber()},goog.inherits(ol.render.canvas.Replay,ol.render.VectorContext),ol.render.canvas.Replay.prototype.appendFlatCoordinates=function(e,o,t,r,n){var i,a,s,g=this.coordinates.length,l=this.getBufferedMaxExtent(),p=[e[o],e[o+1]],u=[0/0,0/0],c=!0;for(i=o+r;t>i;i+=r)u[0]=e[i],u[1]=e[i+1],s=ol.extent.coordinateRelationship(l,u),s!==a?(c&&(this.coordinates[g++]=p[0],this.coordinates[g++]=p[1]),this.coordinates[g++]=u[0],this.coordinates[g++]=u[1],c=!1):s===ol.extent.Relationship.INTERSECTING?(this.coordinates[g++]=u[0],this.coordinates[g++]=u[1],c=!1):c=!0,p[0]=u[0],p[1]=u[1],a=s;return i===o+r&&(this.coordinates[g++]=p[0],this.coordinates[g++]=p[1]),n&&(this.coordinates[g++]=e[o],this.coordinates[g++]=e[o+1]),g},ol.render.canvas.Replay.prototype.beginGeometry=function(e,o){this.beginGeometryInstruction1_=[ol.render.canvas.Instruction.BEGIN_GEOMETRY,o,0],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[ol.render.canvas.Instruction.BEGIN_GEOMETRY,o,0],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},ol.render.canvas.Replay.prototype.replay_=function(e,o,t,r,n,i,a,s){var g;ol.vec.Mat4.equals2D(t,this.renderedTransform_)?g=this.pixelCoordinates_:(g=ol.geom.flat.transform.transform2D(this.coordinates,0,this.coordinates.length,2,t,this.pixelCoordinates_),goog.vec.Mat4.setFromArray(this.renderedTransform_,t),goog.asserts.assert(g===this.pixelCoordinates_,"pixelCoordinates should be the same as this.pixelCoordinates_"));for(var l,p=0,u=i.length,c=0,d=this.tmpLocalTransform_;u>p;){var h,m,y,f,v,_,E=i[p],S=E[0];switch(S){case ol.render.canvas.Instruction.BEGIN_GEOMETRY:h=E[1];var T=goog.getUid(h).toString();goog.isDef(n[T])?p=E[2]:goog.isDef(s)&&!ol.extent.intersects(s,h.getGeometry().getExtent())?p=E[2]:++p;break;case ol.render.canvas.Instruction.BEGIN_PATH:e.beginPath(),++p;break;case ol.render.canvas.Instruction.CIRCLE:goog.asserts.assert(goog.isNumber(E[1]),"second instruction should be a number"),c=E[1];var x=g[c],b=g[c+1],P=g[c+2],M=g[c+3],C=P-x,R=M-b,A=Math.sqrt(C*C+R*R);e.arc(x,b,A,0,2*Math.PI,!0),++p;break;case ol.render.canvas.Instruction.CLOSE_PATH:e.closePath(),++p;break;case ol.render.canvas.Instruction.DRAW_IMAGE:goog.asserts.assert(goog.isNumber(E[1]),"second instruction should be a number"),c=E[1],goog.asserts.assert(goog.isNumber(E[2]),"third instruction should be a number"),l=E[2];var D=E[3],L=E[4]*o,N=E[5]*o,w=E[6],I=E[7],O=E[8],F=E[9],G=E[10],k=E[11],U=E[12],q=E[13],$=E[14];for(G&&(k+=r);l>c;c+=2){if(v=g[c]-L,_=g[c+1]-N,q&&(v=v+.5|0,_=_+.5|0),1!=U||0!==k){var B=v+L,j=_+N;ol.vec.Mat4.makeTransform2D(d,B,j,U,U,k,-B,-j),e.setTransform(goog.vec.Mat4.getElement(d,0,0),goog.vec.Mat4.getElement(d,1,0),goog.vec.Mat4.getElement(d,0,1),goog.vec.Mat4.getElement(d,1,1),goog.vec.Mat4.getElement(d,0,3),goog.vec.Mat4.getElement(d,1,3))}var V=e.globalAlpha;1!=I&&(e.globalAlpha=V*I),e.drawImage(D,O,F,$,w,v,_,$*o,w*o),1!=I&&(e.globalAlpha=V),(1!=U||0!==k)&&e.setTransform(1,0,0,1,0,0)}++p;break;case ol.render.canvas.Instruction.DRAW_TEXT:goog.asserts.assert(goog.isNumber(E[1]),"2nd instruction should be a number"),c=E[1],goog.asserts.assert(goog.isNumber(E[2]),"3rd instruction should be a number"),l=E[2],goog.asserts.assert(goog.isString(E[3]),"4th instruction should be a string"),f=E[3],goog.asserts.assert(goog.isNumber(E[4]),"5th instruction should be a number");var H=E[4]*o;goog.asserts.assert(goog.isNumber(E[5]),"6th instruction should be a number");var K=E[5]*o;for(goog.asserts.assert(goog.isNumber(E[6]),"7th instruction should be a number"),k=E[6],goog.asserts.assert(goog.isNumber(E[7]),"8th instruction should be a number"),U=E[7]*o,goog.asserts.assert(goog.isBoolean(E[8]),"9th instruction should be a boolean"),m=E[8],goog.asserts.assert(goog.isBoolean(E[9]),"10th instruction should be a boolean"),y=E[9];l>c;c+=2)v=g[c]+H,_=g[c+1]+K,(1!=U||0!==k)&&(ol.vec.Mat4.makeTransform2D(d,v,_,U,U,k,-v,-_),e.setTransform(goog.vec.Mat4.getElement(d,0,0),goog.vec.Mat4.getElement(d,1,0),goog.vec.Mat4.getElement(d,0,1),goog.vec.Mat4.getElement(d,1,1),goog.vec.Mat4.getElement(d,0,3),goog.vec.Mat4.getElement(d,1,3))),y&&e.strokeText(f,v,_),m&&e.fillText(f,v,_),(1!=U||0!==k)&&e.setTransform(1,0,0,1,0,0);++p;break;case ol.render.canvas.Instruction.END_GEOMETRY:if(goog.isDef(a)){h=E[1];var W=a(h);if(W)return W}++p;break;case ol.render.canvas.Instruction.FILL:e.fill(),++p;break;case ol.render.canvas.Instruction.MOVE_TO_LINE_TO:for(goog.asserts.assert(goog.isNumber(E[1]),"2nd instruction should be a number"),c=E[1],goog.asserts.assert(goog.isNumber(E[2]),"3rd instruction should be a number"),l=E[2],e.moveTo(g[c],g[c+1]),c+=2;l>c;c+=2)e.lineTo(g[c],g[c+1]);++p;break;case ol.render.canvas.Instruction.SET_FILL_STYLE:goog.asserts.assert(goog.isString(E[1]),"2nd instruction should be a string"),e.fillStyle=E[1],++p;break;case ol.render.canvas.Instruction.SET_STROKE_STYLE:goog.asserts.assert(goog.isString(E[1]),"2nd instruction should be a string"),goog.asserts.assert(goog.isNumber(E[2]),"3rd instruction should be a number"),goog.asserts.assert(goog.isString(E[3]),"4rd instruction should be a string"),goog.asserts.assert(goog.isString(E[4]),"5th instruction should be a string"),goog.asserts.assert(goog.isNumber(E[5]),"6th instruction should be a number"),goog.asserts.assert(!goog.isNull(E[6]),"7th instruction should not be null");var Y=goog.isDef(E[7])?E[7]:!0,X=E[2];e.strokeStyle=E[1],e.lineWidth=Y?X*o:X,e.lineCap=E[3],e.lineJoin=E[4],e.miterLimit=E[5],ol.has.CANVAS_LINE_DASH&&e.setLineDash(E[6]),++p;break;case ol.render.canvas.Instruction.SET_TEXT_STYLE:goog.asserts.assert(goog.isString(E[1]),"2nd instruction should be a string"),goog.asserts.assert(goog.isString(E[2]),"3rd instruction should be a string"),goog.asserts.assert(goog.isString(E[3]),"4th instruction should be a string"),e.font=E[1],e.textAlign=E[2],e.textBaseline=E[3],++p;break;case ol.render.canvas.Instruction.STROKE:e.stroke(),++p;break;default:goog.asserts.fail("Unknown canvas render instruction"),++p}}return void goog.asserts.assert(p==i.length,"all instructions should be consumed")},ol.render.canvas.Replay.prototype.replay=function(e,o,t,r,n){var i=this.instructions;this.replay_(e,o,t,r,n,i,void 0)},ol.render.canvas.Replay.prototype.replayHitDetection=function(e,o,t,r,n,i){var a=this.hitDetectionInstructions;return this.replay_(e,1,o,t,r,a,n,i)},ol.render.canvas.Replay.prototype.reverseHitDetectionInstructions_=function(){var e=this.hitDetectionInstructions;e.reverse();var o,t,r,n=e.length,i=-1;for(o=0;n>o;++o)t=e[o],r=t[0],r==ol.render.canvas.Instruction.END_GEOMETRY?(goog.asserts.assert(-1==i,"begin should be -1"),i=o):r==ol.render.canvas.Instruction.BEGIN_GEOMETRY&&(t[2]=o,goog.asserts.assert(i>=0,"begin should be larger than or equal to 0"),ol.array.reverseSubArray(this.hitDetectionInstructions,i,o),i=-1)},ol.render.canvas.Replay.prototype.endGeometry=function(e,o){goog.asserts.assert(!goog.isNull(this.beginGeometryInstruction1_),"this.beginGeometryInstruction1_ should not be null"),this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,goog.asserts.assert(!goog.isNull(this.beginGeometryInstruction2_),"this.beginGeometryInstruction2_ should not be null"),this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var t=[ol.render.canvas.Instruction.END_GEOMETRY,o];this.instructions.push(t),this.hitDetectionInstructions.push(t)},ol.render.canvas.Replay.prototype.finish=goog.nullFunction,ol.render.canvas.Replay.prototype.getBufferedMaxExtent=function(){return this.maxExtent},ol.render.canvas.ImageReplay=function(e,o,t){goog.base(this,e,o,t),this.hitDetectionImage_=null,this.image_=null,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.snapToPixel_=void 0,this.width_=void 0},goog.inherits(ol.render.canvas.ImageReplay,ol.render.canvas.Replay),ol.render.canvas.ImageReplay.prototype.drawCoordinates_=function(e,o,t,r){return this.appendFlatCoordinates(e,o,t,r,!1)},ol.render.canvas.ImageReplay.prototype.drawPointGeometry=function(e,o){if(!goog.isNull(this.image_)){goog.asserts.assert(goog.isDef(this.anchorX_),"this.anchorX_ should be defined"),goog.asserts.assert(goog.isDef(this.anchorY_),"this.anchorY_ should be defined"),goog.asserts.assert(goog.isDef(this.height_),"this.height_ should be defined"),goog.asserts.assert(goog.isDef(this.opacity_),"this.opacity_ should be defined"),goog.asserts.assert(goog.isDef(this.originX_),"this.originX_ should be defined"),goog.asserts.assert(goog.isDef(this.originY_),"this.originY_ should be defined"),goog.asserts.assert(goog.isDef(this.rotateWithView_),"this.rotateWithView_ should be defined"),goog.asserts.assert(goog.isDef(this.rotation_),"this.rotation_ should be defined"),goog.asserts.assert(goog.isDef(this.scale_),"this.scale_ should be defined"),goog.asserts.assert(goog.isDef(this.width_),"this.width_ should be defined"),this.beginGeometry(e,o);var t=e.getFlatCoordinates(),r=e.getStride(),n=this.coordinates.length,i=this.drawCoordinates_(t,0,t.length,r);this.instructions.push([ol.render.canvas.Instruction.DRAW_IMAGE,n,i,this.image_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.snapToPixel_,this.width_]),this.hitDetectionInstructions.push([ol.render.canvas.Instruction.DRAW_IMAGE,n,i,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.snapToPixel_,this.width_]),this.endGeometry(e,o)}},ol.render.canvas.ImageReplay.prototype.drawMultiPointGeometry=function(e,o){if(!goog.isNull(this.image_)){goog.asserts.assert(goog.isDef(this.anchorX_),"this.anchorX_ should be defined"),goog.asserts.assert(goog.isDef(this.anchorY_),"this.anchorY_ should be defined"),goog.asserts.assert(goog.isDef(this.height_),"this.height_ should be defined"),goog.asserts.assert(goog.isDef(this.opacity_),"this.opacity_ should be defined"),goog.asserts.assert(goog.isDef(this.originX_),"this.originX_ should be defined"),goog.asserts.assert(goog.isDef(this.originY_),"this.originY_ should be defined"),goog.asserts.assert(goog.isDef(this.rotateWithView_),"this.rotateWithView_ should be defined"),goog.asserts.assert(goog.isDef(this.rotation_),"this.rotation_ should be defined"),goog.asserts.assert(goog.isDef(this.scale_),"this.scale_ should be defined"),goog.asserts.assert(goog.isDef(this.width_),"this.width_ should be defined"),this.beginGeometry(e,o);var t=e.getFlatCoordinates(),r=e.getStride(),n=this.coordinates.length,i=this.drawCoordinates_(t,0,t.length,r);this.instructions.push([ol.render.canvas.Instruction.DRAW_IMAGE,n,i,this.image_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.snapToPixel_,this.width_]),this.hitDetectionInstructions.push([ol.render.canvas.Instruction.DRAW_IMAGE,n,i,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.snapToPixel_,this.width_]),this.endGeometry(e,o)}},ol.render.canvas.ImageReplay.prototype.finish=function(){this.reverseHitDetectionInstructions_(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.snapToPixel_=void 0,this.width_=void 0},ol.render.canvas.ImageReplay.prototype.setImageStyle=function(e){goog.asserts.assert(!goog.isNull(e),"imageStyle should not be null");var o=e.getAnchor();goog.asserts.assert(!goog.isNull(o),"anchor should not be null");var t=e.getSize();goog.asserts.assert(!goog.isNull(t),"size should not be null");var r=e.getHitDetectionImage(1);goog.asserts.assert(!goog.isNull(r),"hitDetectionImage should not be null");var n=e.getImage(1);goog.asserts.assert(!goog.isNull(n),"image should not be null");var i=e.getOrigin();goog.asserts.assert(!goog.isNull(i),"origin should not be null"),this.anchorX_=o[0],this.anchorY_=o[1],this.hitDetectionImage_=r,this.image_=n,this.height_=t[1],this.opacity_=e.getOpacity(),this.originX_=i[0],this.originY_=i[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScale(),this.snapToPixel_=e.getSnapToPixel(),this.width_=t[0]},ol.render.canvas.LineStringReplay=function(e,o,t){goog.base(this,e,o,t),this.state_={currentStrokeStyle:void 0,currentLineCap:void 0,currentLineDash:null,currentLineJoin:void 0,currentLineWidth:void 0,currentMiterLimit:void 0,lastStroke:0,strokeStyle:void 0,lineCap:void 0,lineDash:null,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0}},goog.inherits(ol.render.canvas.LineStringReplay,ol.render.canvas.Replay),ol.render.canvas.LineStringReplay.prototype.drawFlatCoordinates_=function(e,o,t,r){var n=this.coordinates.length,i=this.appendFlatCoordinates(e,o,t,r,!1),a=[ol.render.canvas.Instruction.MOVE_TO_LINE_TO,n,i];return this.instructions.push(a),this.hitDetectionInstructions.push(a),t},ol.render.canvas.LineStringReplay.prototype.getBufferedMaxExtent=function(){if(goog.isNull(this.bufferedMaxExtent_)&&(this.bufferedMaxExtent_=ol.extent.clone(this.maxExtent),this.maxLineWidth>0)){var e=this.resolution*(this.maxLineWidth+1)/2;ol.extent.buffer(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},ol.render.canvas.LineStringReplay.prototype.setStrokeStyle_=function(){var e=this.state_,o=e.strokeStyle,t=e.lineCap,r=e.lineDash,n=e.lineJoin,i=e.lineWidth,a=e.miterLimit;goog.asserts.assert(goog.isDef(o),"strokeStyle should be defined"),goog.asserts.assert(goog.isDef(t),"lineCap should be defined"),goog.asserts.assert(!goog.isNull(r),"lineDash should not be null"),goog.asserts.assert(goog.isDef(n),"lineJoin should be defined"),goog.asserts.assert(goog.isDef(i),"lineWidth should be defined"),goog.asserts.assert(goog.isDef(a),"miterLimit should be defined"),e.currentStrokeStyle==o&&e.currentLineCap==t&&goog.array.equals(e.currentLineDash,r)&&e.currentLineJoin==n&&e.currentLineWidth==i&&e.currentMiterLimit==a||(e.lastStroke!=this.coordinates.length&&(this.instructions.push([ol.render.canvas.Instruction.STROKE]),e.lastStroke=this.coordinates.length),this.instructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,o,i,t,n,a,r],[ol.render.canvas.Instruction.BEGIN_PATH]),e.currentStrokeStyle=o,e.currentLineCap=t,e.currentLineDash=r,e.currentLineJoin=n,e.currentLineWidth=i,e.currentMiterLimit=a)},ol.render.canvas.LineStringReplay.prototype.drawLineStringGeometry=function(e,o){var t=this.state_;goog.asserts.assert(!goog.isNull(t),"state should not be null");var r=t.strokeStyle,n=t.lineWidth;if(goog.isDef(r)&&goog.isDef(n)){this.setStrokeStyle_(),this.beginGeometry(e,o),this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth,t.lineCap,t.lineJoin,t.miterLimit,t.lineDash],[ol.render.canvas.Instruction.BEGIN_PATH]);var i=e.getFlatCoordinates(),a=e.getStride();this.drawFlatCoordinates_(i,0,i.length,a),this.hitDetectionInstructions.push([ol.render.canvas.Instruction.STROKE]),this.endGeometry(e,o)}},ol.render.canvas.LineStringReplay.prototype.drawMultiLineStringGeometry=function(e,o){var t=this.state_;goog.asserts.assert(!goog.isNull(t),"state should not be null");var r=t.strokeStyle,n=t.lineWidth;if(goog.isDef(r)&&goog.isDef(n)){this.setStrokeStyle_(),this.beginGeometry(e,o),this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth,t.lineCap,t.lineJoin,t.miterLimit,t.lineDash],[ol.render.canvas.Instruction.BEGIN_PATH]);var i,a,s=e.getEnds(),g=e.getFlatCoordinates(),l=e.getStride(),p=0;for(i=0,a=s.length;a>i;++i)p=this.drawFlatCoordinates_(g,p,s[i],l);this.hitDetectionInstructions.push([ol.render.canvas.Instruction.STROKE]),this.endGeometry(e,o)}},ol.render.canvas.LineStringReplay.prototype.finish=function(){var e=this.state_;goog.asserts.assert(!goog.isNull(e),"state should not be null"),e.lastStroke!=this.coordinates.length&&this.instructions.push([ol.render.canvas.Instruction.STROKE]),this.reverseHitDetectionInstructions_(),this.state_=null},ol.render.canvas.LineStringReplay.prototype.setFillStrokeStyle=function(e,o){goog.asserts.assert(!goog.isNull(this.state_),"this.state_ should not be null"),goog.asserts.assert(goog.isNull(e),"fillStyle should be null"),goog.asserts.assert(!goog.isNull(o),"strokeStyle should not be null");var t=o.getColor();this.state_.strokeStyle=ol.color.asString(goog.isNull(t)?ol.render.canvas.defaultStrokeStyle:t);var r=o.getLineCap();this.state_.lineCap=goog.isDef(r)?r:ol.render.canvas.defaultLineCap;var n=o.getLineDash();this.state_.lineDash=goog.isNull(n)?ol.render.canvas.defaultLineDash:n;var i=o.getLineJoin();this.state_.lineJoin=goog.isDef(i)?i:ol.render.canvas.defaultLineJoin;var a=o.getWidth();this.state_.lineWidth=goog.isDef(a)?a:ol.render.canvas.defaultLineWidth;var s=o.getMiterLimit();this.state_.miterLimit=goog.isDef(s)?s:ol.render.canvas.defaultMiterLimit,this.state_.lineWidth>this.maxLineWidth&&(this.maxLineWidth=this.state_.lineWidth,this.bufferedMaxExtent_=null)},ol.render.canvas.PolygonReplay=function(e,o,t){goog.base(this,e,o,t),this.state_={currentFillStyle:void 0,currentStrokeStyle:void 0,currentLineCap:void 0,currentLineDash:null,currentLineJoin:void 0,currentLineWidth:void 0,currentMiterLimit:void 0,fillStyle:void 0,strokeStyle:void 0,lineCap:void 0,lineDash:null,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0}},goog.inherits(ol.render.canvas.PolygonReplay,ol.render.canvas.Replay),ol.render.canvas.PolygonReplay.prototype.drawFlatCoordinatess_=function(e,o,t,r){var n=this.state_,i=[ol.render.canvas.Instruction.BEGIN_PATH];this.instructions.push(i),this.hitDetectionInstructions.push(i);var a,s;for(a=0,s=t.length;s>a;++a){var g=t[a],l=this.coordinates.length,p=this.appendFlatCoordinates(e,o,g,r,!0),u=[ol.render.canvas.Instruction.MOVE_TO_LINE_TO,l,p],c=[ol.render.canvas.Instruction.CLOSE_PATH];this.instructions.push(u,c),this.hitDetectionInstructions.push(u,c),o=g}var d=[ol.render.canvas.Instruction.FILL];if(this.hitDetectionInstructions.push(d),goog.isDef(n.fillStyle)&&this.instructions.push(d),goog.isDef(n.strokeStyle)){goog.asserts.assert(goog.isDef(n.lineWidth),"state.lineWidth should be defined");var h=[ol.render.canvas.Instruction.STROKE];this.instructions.push(h),this.hitDetectionInstructions.push(h)}return o},ol.render.canvas.PolygonReplay.prototype.drawCircleGeometry=function(e,o){var t=this.state_;goog.asserts.assert(!goog.isNull(t),"state should not be null");var r=t.fillStyle,n=t.strokeStyle;if(goog.isDef(r)||goog.isDef(n)){goog.isDef(n)&&goog.asserts.assert(goog.isDef(t.lineWidth),"state.lineWidth should be defined"),
this.setFillStrokeStyles_(),this.beginGeometry(e,o),this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_FILL_STYLE,ol.color.asString(ol.render.canvas.defaultFillStyle)]),goog.isDef(t.strokeStyle)&&this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth,t.lineCap,t.lineJoin,t.miterLimit,t.lineDash]);var i=e.getFlatCoordinates(),a=e.getStride(),s=this.coordinates.length;this.appendFlatCoordinates(i,0,i.length,a,!1);var g=[ol.render.canvas.Instruction.BEGIN_PATH],l=[ol.render.canvas.Instruction.CIRCLE,s];this.instructions.push(g,l),this.hitDetectionInstructions.push(g,l);var p=[ol.render.canvas.Instruction.FILL];if(this.hitDetectionInstructions.push(p),goog.isDef(t.fillStyle)&&this.instructions.push(p),goog.isDef(t.strokeStyle)){goog.asserts.assert(goog.isDef(t.lineWidth),"state.lineWidth should be defined");var u=[ol.render.canvas.Instruction.STROKE];this.instructions.push(u),this.hitDetectionInstructions.push(u)}this.endGeometry(e,o)}},ol.render.canvas.PolygonReplay.prototype.drawPolygonGeometry=function(e,o){var t=this.state_;goog.asserts.assert(!goog.isNull(t),"state should not be null");var r=t.fillStyle,n=t.strokeStyle;if(goog.isDef(r)||goog.isDef(n)){goog.isDef(n)&&goog.asserts.assert(goog.isDef(t.lineWidth),"state.lineWidth should be defined"),this.setFillStrokeStyles_(),this.beginGeometry(e,o),this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_FILL_STYLE,ol.color.asString(ol.render.canvas.defaultFillStyle)]),goog.isDef(t.strokeStyle)&&this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth,t.lineCap,t.lineJoin,t.miterLimit,t.lineDash]);var i=e.getEnds(),a=e.getOrientedFlatCoordinates(),s=e.getStride();this.drawFlatCoordinatess_(a,0,i,s),this.endGeometry(e,o)}},ol.render.canvas.PolygonReplay.prototype.drawMultiPolygonGeometry=function(e,o){var t=this.state_;goog.asserts.assert(!goog.isNull(t),"state should not be null");var r=t.fillStyle,n=t.strokeStyle;if(goog.isDef(r)||goog.isDef(n)){goog.isDef(n)&&goog.asserts.assert(goog.isDef(t.lineWidth),"state.lineWidth should be defined"),this.setFillStrokeStyles_(),this.beginGeometry(e,o),this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_FILL_STYLE,ol.color.asString(ol.render.canvas.defaultFillStyle)]),goog.isDef(t.strokeStyle)&&this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth,t.lineCap,t.lineJoin,t.miterLimit,t.lineDash]);var i,a,s=e.getEndss(),g=e.getOrientedFlatCoordinates(),l=e.getStride(),p=0;for(i=0,a=s.length;a>i;++i)p=this.drawFlatCoordinatess_(g,p,s[i],l);this.endGeometry(e,o)}},ol.render.canvas.PolygonReplay.prototype.finish=function(){goog.asserts.assert(!goog.isNull(this.state_),"this.state_ should not be null"),this.reverseHitDetectionInstructions_(),this.state_=null;var e=this.tolerance;if(0!==e){var o,t,r=this.coordinates;for(o=0,t=r.length;t>o;++o)r[o]=ol.geom.flat.simplify.snap(r[o],e)}},ol.render.canvas.PolygonReplay.prototype.getBufferedMaxExtent=function(){if(goog.isNull(this.bufferedMaxExtent_)&&(this.bufferedMaxExtent_=ol.extent.clone(this.maxExtent),this.maxLineWidth>0)){var e=this.resolution*(this.maxLineWidth+1)/2;ol.extent.buffer(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},ol.render.canvas.PolygonReplay.prototype.setFillStrokeStyle=function(e,o){goog.asserts.assert(!goog.isNull(this.state_),"this.state_ should not be null"),goog.asserts.assert(!goog.isNull(e)||!goog.isNull(o),"fillStyle or strokeStyle should not be null");var t=this.state_;if(goog.isNull(e))t.fillStyle=void 0;else{var r=e.getColor();t.fillStyle=ol.color.asString(goog.isNull(r)?ol.render.canvas.defaultFillStyle:r)}if(goog.isNull(o))t.strokeStyle=void 0,t.lineCap=void 0,t.lineDash=null,t.lineJoin=void 0,t.lineWidth=void 0,t.miterLimit=void 0;else{var n=o.getColor();t.strokeStyle=ol.color.asString(goog.isNull(n)?ol.render.canvas.defaultStrokeStyle:n);var i=o.getLineCap();t.lineCap=goog.isDef(i)?i:ol.render.canvas.defaultLineCap;var a=o.getLineDash();t.lineDash=goog.isNull(a)?ol.render.canvas.defaultLineDash:a.slice();var s=o.getLineJoin();t.lineJoin=goog.isDef(s)?s:ol.render.canvas.defaultLineJoin;var g=o.getWidth();t.lineWidth=goog.isDef(g)?g:ol.render.canvas.defaultLineWidth;var l=o.getMiterLimit();t.miterLimit=goog.isDef(l)?l:ol.render.canvas.defaultMiterLimit,t.lineWidth>this.maxLineWidth&&(this.maxLineWidth=t.lineWidth,this.bufferedMaxExtent_=null)}},ol.render.canvas.PolygonReplay.prototype.setFillStrokeStyles_=function(){var e=this.state_,o=e.fillStyle,t=e.strokeStyle,r=e.lineCap,n=e.lineDash,i=e.lineJoin,a=e.lineWidth,s=e.miterLimit;goog.isDef(o)&&e.currentFillStyle!=o&&(this.instructions.push([ol.render.canvas.Instruction.SET_FILL_STYLE,o]),e.currentFillStyle=e.fillStyle),goog.isDef(t)&&(goog.asserts.assert(goog.isDef(r),"lineCap should be defined"),goog.asserts.assert(!goog.isNull(n),"lineDash should not be null"),goog.asserts.assert(goog.isDef(i),"lineJoin should be defined"),goog.asserts.assert(goog.isDef(a),"lineWidth should be defined"),goog.asserts.assert(goog.isDef(s),"miterLimit should be defined"),(e.currentStrokeStyle!=t||e.currentLineCap!=r||e.currentLineDash!=n||e.currentLineJoin!=i||e.currentLineWidth!=a||e.currentMiterLimit!=s)&&(this.instructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,t,a,r,i,s,n]),e.currentStrokeStyle=t,e.currentLineCap=r,e.currentLineDash=n,e.currentLineJoin=i,e.currentLineWidth=a,e.currentMiterLimit=s))},ol.render.canvas.TextReplay=function(e,o,t){goog.base(this,e,o,t),this.replayFillState_=null,this.replayStrokeState_=null,this.replayTextState_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotation_=0,this.textScale_=0,this.textFillState_=null,this.textStrokeState_=null,this.textState_=null},goog.inherits(ol.render.canvas.TextReplay,ol.render.canvas.Replay),ol.render.canvas.TextReplay.prototype.drawText=function(e,o,t,r,n,i){if(!(""===this.text_||goog.isNull(this.textState_)||goog.isNull(this.textFillState_)&&goog.isNull(this.textStrokeState_))){goog.isNull(this.textFillState_)||this.setReplayFillState_(this.textFillState_),goog.isNull(this.textStrokeState_)||this.setReplayStrokeState_(this.textStrokeState_),this.setReplayTextState_(this.textState_),this.beginGeometry(n,i);var a=this.coordinates.length,s=this.appendFlatCoordinates(e,o,t,r,!1),g=!goog.isNull(this.textFillState_),l=!goog.isNull(this.textStrokeState_),p=[ol.render.canvas.Instruction.DRAW_TEXT,a,s,this.text_,this.textOffsetX_,this.textOffsetY_,this.textRotation_,this.textScale_,g,l];this.instructions.push(p),this.hitDetectionInstructions.push(p),this.endGeometry(n,i)}},ol.render.canvas.TextReplay.prototype.setReplayFillState_=function(e){var o=this.replayFillState_;if(goog.isNull(o)||o.fillStyle!=e.fillStyle){var t=[ol.render.canvas.Instruction.SET_FILL_STYLE,e.fillStyle];this.instructions.push(t),this.hitDetectionInstructions.push(t),goog.isNull(o)?this.replayFillState_={fillStyle:e.fillStyle}:o.fillStyle=e.fillStyle}},ol.render.canvas.TextReplay.prototype.setReplayStrokeState_=function(e){var o=this.replayStrokeState_;if(goog.isNull(o)||o.lineCap!=e.lineCap||o.lineDash!=e.lineDash||o.lineJoin!=e.lineJoin||o.lineWidth!=e.lineWidth||o.miterLimit!=e.miterLimit||o.strokeStyle!=e.strokeStyle){var t=[ol.render.canvas.Instruction.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth,e.lineCap,e.lineJoin,e.miterLimit,e.lineDash,!1];this.instructions.push(t),this.hitDetectionInstructions.push(t),goog.isNull(o)?this.replayStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle}:(o.lineCap=e.lineCap,o.lineDash=e.lineDash,o.lineJoin=e.lineJoin,o.lineWidth=e.lineWidth,o.miterLimit=e.miterLimit,o.strokeStyle=e.strokeStyle)}},ol.render.canvas.TextReplay.prototype.setReplayTextState_=function(e){var o=this.replayTextState_;if(goog.isNull(o)||o.font!=e.font||o.textAlign!=e.textAlign||o.textBaseline!=e.textBaseline){var t=[ol.render.canvas.Instruction.SET_TEXT_STYLE,e.font,e.textAlign,e.textBaseline];this.instructions.push(t),this.hitDetectionInstructions.push(t),goog.isNull(o)?this.replayTextState_={font:e.font,textAlign:e.textAlign,textBaseline:e.textBaseline}:(o.font=e.font,o.textAlign=e.textAlign,o.textBaseline=e.textBaseline)}},ol.render.canvas.TextReplay.prototype.setTextStyle=function(e){if(goog.isNull(e))this.text_="";else{var o=e.getFill();if(goog.isNull(o))this.textFillState_=null;else{var t=o.getColor(),r=ol.color.asString(goog.isNull(t)?ol.render.canvas.defaultFillStyle:t);if(goog.isNull(this.textFillState_))this.textFillState_={fillStyle:r};else{var n=this.textFillState_;n.fillStyle=r}}var i=e.getStroke();if(goog.isNull(i))this.textStrokeState_=null;else{var a=i.getColor(),s=i.getLineCap(),g=i.getLineDash(),l=i.getLineJoin(),p=i.getWidth(),u=i.getMiterLimit(),c=goog.isDef(s)?s:ol.render.canvas.defaultLineCap,d=goog.isDefAndNotNull(g)?g.slice():ol.render.canvas.defaultLineDash,h=goog.isDef(l)?l:ol.render.canvas.defaultLineJoin,m=goog.isDef(p)?p:ol.render.canvas.defaultLineWidth,y=goog.isDef(u)?u:ol.render.canvas.defaultMiterLimit,f=ol.color.asString(goog.isNull(a)?ol.render.canvas.defaultStrokeStyle:a);if(goog.isNull(this.textStrokeState_))this.textStrokeState_={lineCap:c,lineDash:d,lineJoin:h,lineWidth:m,miterLimit:y,strokeStyle:f};else{var v=this.textStrokeState_;v.lineCap=c,v.lineDash=d,v.lineJoin=h,v.lineWidth=m,v.miterLimit=y,v.strokeStyle=f}}var _=e.getFont(),E=e.getOffsetX(),S=e.getOffsetY(),T=e.getRotation(),x=e.getScale(),b=e.getText(),P=e.getTextAlign(),M=e.getTextBaseline(),C=goog.isDef(_)?_:ol.render.canvas.defaultFont,R=goog.isDef(P)?P:ol.render.canvas.defaultTextAlign,A=goog.isDef(M)?M:ol.render.canvas.defaultTextBaseline;if(goog.isNull(this.textState_))this.textState_={font:C,textAlign:R,textBaseline:A};else{var D=this.textState_;D.font=C,D.textAlign=R,D.textBaseline=A}this.text_=goog.isDef(b)?b:"",this.textOffsetX_=goog.isDef(E)?E:0,this.textOffsetY_=goog.isDef(S)?S:0,this.textRotation_=goog.isDef(T)?T:0,this.textScale_=goog.isDef(x)?x:1}},ol.render.canvas.ReplayGroup=function(e,o,t,r){this.tolerance_=e,this.maxExtent_=o,this.resolution_=t,this.renderBuffer_=r,this.replaysByZIndex_={},this.hitDetectionContext_=ol.dom.createCanvasContext2D(1,1),this.hitDetectionTransform_=goog.vec.Mat4.createNumber()},ol.render.canvas.ReplayGroup.prototype.finish=function(){var e;for(e in this.replaysByZIndex_){var o,t=this.replaysByZIndex_[e];for(o in t)t[o].finish()}},ol.render.canvas.ReplayGroup.prototype.forEachFeatureAtCoordinate=function(e,o,t,r,n){var i=this.hitDetectionTransform_;ol.vec.Mat4.makeTransform2D(i,.5,.5,1/o,-1/o,-t,-e[0],-e[1]);var a=this.hitDetectionContext_;a.clearRect(0,0,1,1);var s;return goog.isDef(this.renderBuffer_)&&(s=ol.extent.createEmpty(),ol.extent.extendCoordinate(s,e),ol.extent.buffer(s,o*this.renderBuffer_,s)),this.replayHitDetection_(a,i,t,r,function(e){var o=a.getImageData(0,0,1,1).data;if(o[3]>0){var t=n(e);if(t)return t;a.clearRect(0,0,1,1)}},s)},ol.render.canvas.ReplayGroup.prototype.getReplay=function(e,o){var t=goog.isDef(e)?e.toString():"0",r=this.replaysByZIndex_[t];goog.isDef(r)||(r={},this.replaysByZIndex_[t]=r);var n=r[o];if(!goog.isDef(n)){var i=ol.render.canvas.BATCH_CONSTRUCTORS_[o];goog.asserts.assert(goog.isDef(i),o+" constructor missing from ol.render.canvas.BATCH_CONSTRUCTORS_"),n=new i(this.tolerance_,this.maxExtent_,this.resolution_),r[o]=n}return n},ol.render.canvas.ReplayGroup.prototype.isEmpty=function(){return goog.object.isEmpty(this.replaysByZIndex_)},ol.render.canvas.ReplayGroup.prototype.replay=function(e,o,t,r,n){var i=goog.array.map(goog.object.getKeys(this.replaysByZIndex_),Number);goog.array.sort(i);var a=this.maxExtent_,s=a[0],g=a[1],l=a[2],p=a[3],u=[s,g,s,p,l,p,l,g];ol.geom.flat.transform.transform2D(u,0,8,2,t,u),e.save(),e.beginPath(),e.moveTo(u[0],u[1]),e.lineTo(u[2],u[3]),e.lineTo(u[4],u[5]),e.lineTo(u[6],u[7]),e.closePath(),e.clip();var c,d,h,m,y,f;for(c=0,d=i.length;d>c;++c)for(y=this.replaysByZIndex_[i[c].toString()],h=0,m=ol.render.REPLAY_ORDER.length;m>h;++h)f=y[ol.render.REPLAY_ORDER[h]],goog.isDef(f)&&f.replay(e,o,t,r,n);e.restore()},ol.render.canvas.ReplayGroup.prototype.replayHitDetection_=function(e,o,t,r,n,i){var a=goog.array.map(goog.object.getKeys(this.replaysByZIndex_),Number);goog.array.sort(a,function(e,o){return o-e});var s,g,l,p,u,c;for(s=0,g=a.length;g>s;++s)for(p=this.replaysByZIndex_[a[s].toString()],l=ol.render.REPLAY_ORDER.length-1;l>=0;--l)if(u=p[ol.render.REPLAY_ORDER[l]],goog.isDef(u)&&(c=u.replayHitDetection(e,o,t,r,n,i)))return c;return void 0},ol.render.canvas.BATCH_CONSTRUCTORS_={Image:ol.render.canvas.ImageReplay,LineString:ol.render.canvas.LineStringReplay,Polygon:ol.render.canvas.PolygonReplay,Text:ol.render.canvas.TextReplay},goog.provide("ol.geom.Circle"),goog.require("goog.asserts"),goog.require("ol.extent"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.SimpleGeometry"),goog.require("ol.geom.flat.deflate"),goog.require("ol.proj"),ol.geom.Circle=function(e,o,t){goog.base(this);var r=goog.isDef(o)?o:0;this.setCenterAndRadius(e,r,t)},goog.inherits(ol.geom.Circle,ol.geom.SimpleGeometry),ol.geom.Circle.prototype.clone=function(){var e=new ol.geom.Circle(null);return e.setFlatCoordinates(this.layout,this.flatCoordinates.slice()),e},ol.geom.Circle.prototype.closestPointXY=function(e,o,t,r){var n=this.flatCoordinates,i=e-n[0],a=o-n[1],s=i*i+a*a;if(r>s){var g;if(0===s)for(g=0;g<this.stride;++g)t[g]=n[g];else{var l=this.getRadius()/Math.sqrt(s);for(t[0]=n[0]+l*i,t[1]=n[1]+l*a,g=2;g<this.stride;++g)t[g]=n[g]}return t.length=this.stride,s}return r},ol.geom.Circle.prototype.containsXY=function(e,o){var t=this.flatCoordinates,r=e-t[0],n=o-t[1];return r*r+n*n<=this.getRadiusSquared_()},ol.geom.Circle.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)},ol.geom.Circle.prototype.computeExtent=function(e){var o=this.flatCoordinates,t=o[this.stride]-o[0];return ol.extent.createOrUpdate(o[0]-t,o[1]-t,o[0]+t,o[1]+t,e)},ol.geom.Circle.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())},ol.geom.Circle.prototype.getRadiusSquared_=function(){var e=this.flatCoordinates[this.stride]-this.flatCoordinates[0],o=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return e*e+o*o},ol.geom.Circle.prototype.getType=function(){return ol.geom.GeometryType.CIRCLE},ol.geom.Circle.prototype.intersectsExtent=function(e){var o=this.getExtent();if(ol.extent.intersects(e,o)){var t=this.getCenter();return e[0]<=t[0]&&e[2]>=t[0]?!0:e[1]<=t[1]&&e[3]>=t[1]?!0:ol.extent.forEachCorner(e,this.containsCoordinate,this)}return!1},ol.geom.Circle.prototype.setCenter=function(e){var o=this.stride;goog.asserts.assert(e.length==o,"center array length should match stride");var t=this.flatCoordinates[o]-this.flatCoordinates[0],r=e.slice();r[o]=r[0]+t;var n;for(n=1;o>n;++n)r[o+n]=e[n];this.setFlatCoordinates(this.layout,r)},ol.geom.Circle.prototype.setCenterAndRadius=function(e,o,t){if(goog.isNull(e))this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null);else{this.setLayout(t,e,0),goog.isNull(this.flatCoordinates)&&(this.flatCoordinates=[]);var r=this.flatCoordinates,n=ol.geom.flat.deflate.coordinate(r,0,e,this.stride);r[n++]=r[0]+o;var i,a;for(i=1,a=this.stride;a>i;++i)r[n++]=r[i];r.length=n,this.changed()}},ol.geom.Circle.prototype.setFlatCoordinates=function(e,o){this.setFlatCoordinatesInternal(e,o),this.changed()},ol.geom.Circle.prototype.setRadius=function(e){goog.asserts.assert(!goog.isNull(this.flatCoordinates),"this.flatCoordinates cannot be null"),this.flatCoordinates[this.stride]=this.flatCoordinates[0]+e,this.changed()},ol.geom.Circle.prototype.transform,goog.provide("ol.geom.GeometryCollection"),goog.require("goog.array"),goog.require("goog.events"),goog.require("goog.events.EventType"),goog.require("goog.object"),goog.require("ol.extent"),goog.require("ol.geom.Geometry"),goog.require("ol.geom.GeometryType"),ol.geom.GeometryCollection=function(e){goog.base(this),this.geometries_=goog.isDef(e)?e:null,this.listenGeometriesChange_()},goog.inherits(ol.geom.GeometryCollection,ol.geom.Geometry),ol.geom.GeometryCollection.cloneGeometries_=function(e){var o,t,r=[];for(o=0,t=e.length;t>o;++o)r.push(e[o].clone());return r},ol.geom.GeometryCollection.prototype.unlistenGeometriesChange_=function(){var e,o;if(!goog.isNull(this.geometries_))for(e=0,o=this.geometries_.length;o>e;++e)goog.events.unlisten(this.geometries_[e],goog.events.EventType.CHANGE,this.changed,!1,this)},ol.geom.GeometryCollection.prototype.listenGeometriesChange_=function(){var e,o;if(!goog.isNull(this.geometries_))for(e=0,o=this.geometries_.length;o>e;++e)goog.events.listen(this.geometries_[e],goog.events.EventType.CHANGE,this.changed,!1,this)},ol.geom.GeometryCollection.prototype.clone=function(){var e=new ol.geom.GeometryCollection(null);return e.setGeometries(this.geometries_),e},ol.geom.GeometryCollection.prototype.closestPointXY=function(e,o,t,r){if(r<ol.extent.closestSquaredDistanceXY(this.getExtent(),e,o))return r;var n,i,a=this.geometries_;for(n=0,i=a.length;i>n;++n)r=a[n].closestPointXY(e,o,t,r);return r},ol.geom.GeometryCollection.prototype.containsXY=function(e,o){var t,r,n=this.geometries_;for(t=0,r=n.length;r>t;++t)if(n[t].containsXY(e,o))return!0;return!1},ol.geom.GeometryCollection.prototype.computeExtent=function(e){ol.extent.createOrUpdateEmpty(e);for(var o=this.geometries_,t=0,r=o.length;r>t;++t)ol.extent.extend(e,o[t].getExtent());return e},ol.geom.GeometryCollection.prototype.getGeometries=function(){return ol.geom.GeometryCollection.cloneGeometries_(this.geometries_)},ol.geom.GeometryCollection.prototype.getGeometriesArray=function(){return this.geometries_},ol.geom.GeometryCollection.prototype.getSimplifiedGeometry=function(e){if(this.simplifiedGeometryRevision!=this.getRevision()&&(goog.object.clear(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),0>e||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;var o=e.toString();if(this.simplifiedGeometryCache.hasOwnProperty(o))return this.simplifiedGeometryCache[o];var t,r,n=[],i=this.geometries_,a=!1;for(t=0,r=i.length;r>t;++t){var s=i[t],g=s.getSimplifiedGeometry(e);n.push(g),g!==s&&(a=!0)}if(a){var l=new ol.geom.GeometryCollection(null);return l.setGeometriesArray(n),this.simplifiedGeometryCache[o]=l,l}return this.simplifiedGeometryMaxMinSquaredTolerance=e,this},ol.geom.GeometryCollection.prototype.getType=function(){return ol.geom.GeometryType.GEOMETRY_COLLECTION},ol.geom.GeometryCollection.prototype.intersectsExtent=function(e){var o,t,r=this.geometries_;for(o=0,t=r.length;t>o;++o)if(r[o].intersectsExtent(e))return!0;return!1},ol.geom.GeometryCollection.prototype.isEmpty=function(){return goog.array.isEmpty(this.geometries_)},ol.geom.GeometryCollection.prototype.setGeometries=function(e){this.setGeometriesArray(ol.geom.GeometryCollection.cloneGeometries_(e))},ol.geom.GeometryCollection.prototype.setGeometriesArray=function(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()},ol.geom.GeometryCollection.prototype.applyTransform=function(e){var o,t,r=this.geometries_;for(o=0,t=r.length;t>o;++o)r[o].applyTransform(e);this.changed()},ol.geom.GeometryCollection.prototype.translate=function(e,o){var t,r,n=this.geometries_;for(t=0,r=n.length;r>t;++t)n[t].translate(e,o);this.changed()},ol.geom.GeometryCollection.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),goog.base(this,"disposeInternal")},goog.provide("ol.geom.flat.interpolate"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.math"),ol.geom.flat.interpolate.lineString=function(e,o,t,r,n,i){goog.asserts.assert(n>=0&&1>=n,"fraction should be in between 0 and 1");var a=0/0,s=0/0,g=(t-o)/r;if(0===g)goog.asserts.fail("n cannot be 0");else if(1==g)a=e[o],s=e[o+1];else if(2==g)a=(1-n)*e[o]+n*e[o+r],s=(1-n)*e[o+1]+n*e[o+r+1];else{var l,p=e[o],u=e[o+1],c=0,d=[0];for(l=o+r;t>l;l+=r){var h=e[l],m=e[l+1];c+=Math.sqrt((h-p)*(h-p)+(m-u)*(m-u)),d.push(c),p=h,u=m}var y=n*c,f=goog.array.binarySearch(d,y);if(0>f){var v=(y-d[-f-2])/(d[-f-1]-d[-f-2]),_=o+(-f-2)*r;a=goog.math.lerp(e[_],e[_+r],v),s=goog.math.lerp(e[_+1],e[_+r+1],v)}else a=e[o+f*r],s=e[o+f*r+1]}return goog.isDefAndNotNull(i)?(i[0]=a,i[1]=s,i):[a,s]},ol.geom.flat.lineStringCoordinateAtM=function(e,o,t,r,n,i){if(t==o)return null;var a;if(n<e[o+r-1])return i?(a=e.slice(o,o+r),a[r-1]=n,a):null;if(e[t-1]<n)return i?(a=e.slice(t-r,t),a[r-1]=n,a):null;if(n==e[o+r-1])return e.slice(o,o+r);for(var s=o/r,g=t/r;g>s;){var l=s+g>>1;n<e[(l+1)*r-1]?g=l:s=l+1}var p=e[s*r-1];if(n==p)return e.slice((s-1)*r,(s-1)*r+r);var u=e[(s+1)*r-1];goog.asserts.assert(n>p,"m0 should be less than m"),goog.asserts.assert(u>=n,"m should be less than or equal to m1");var c=(n-p)/(u-p);a=[];var d;for(d=0;r-1>d;++d)a.push(goog.math.lerp(e[(s-1)*r+d],e[s*r+d],c));return a.push(n),goog.asserts.assert(a.length==r,"length of coordinate array should match stride"),a},ol.geom.flat.lineStringsCoordinateAtM=function(e,o,t,r,n,i,a){if(a)return ol.geom.flat.lineStringCoordinateAtM(e,o,t[t.length-1],r,n,i);var s;if(n<e[r-1])return i?(s=e.slice(0,r),s[r-1]=n,s):null;if(e[e.length-1]<n)return i?(s=e.slice(e.length-r),s[r-1]=n,s):null;var g,l;for(g=0,l=t.length;l>g;++g){var p=t[g];if(o!=p){if(n<e[o+r-1])return null;if(n<=e[p-1])return ol.geom.flat.lineStringCoordinateAtM(e,o,p,r,n,!1);o=p}}return goog.asserts.fail("ol.geom.flat.lineStringsCoordinateAtM should have returned"),null},goog.provide("ol.geom.flat.length"),ol.geom.flat.length.lineString=function(e,o,t,r){var n,i=e[o],a=e[o+1],s=0;for(n=o+r;t>n;n+=r){var g=e[n],l=e[n+1];s+=Math.sqrt((g-i)*(g-i)+(l-a)*(l-a)),i=g,a=l}return s},ol.geom.flat.length.linearRing=function(e,o,t,r){var n=ol.geom.flat.length.lineString(e,o,t,r),i=e[t-r]-e[o],a=e[t-r+1]-e[o+1];return n+=Math.sqrt(i*i+a*a)},goog.provide("ol.geom.LineString"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("ol.extent"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.SimpleGeometry"),goog.require("ol.geom.flat.closest"),goog.require("ol.geom.flat.deflate"),goog.require("ol.geom.flat.inflate"),goog.require("ol.geom.flat.interpolate"),goog.require("ol.geom.flat.intersectsextent"),goog.require("ol.geom.flat.length"),goog.require("ol.geom.flat.segments"),goog.require("ol.geom.flat.simplify"),ol.geom.LineString=function(e,o){goog.base(this),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.setCoordinates(e,o)},goog.inherits(ol.geom.LineString,ol.geom.SimpleGeometry),ol.geom.LineString.prototype.appendCoordinate=function(e){goog.asserts.assert(e.length==this.stride,"length of coordinate array should match stride"),goog.isNull(this.flatCoordinates)?this.flatCoordinates=e.slice():goog.array.extend(this.flatCoordinates,e),this.changed()},ol.geom.LineString.prototype.clone=function(){var e=new ol.geom.LineString(null);return e.setFlatCoordinates(this.layout,this.flatCoordinates.slice()),e},ol.geom.LineString.prototype.closestPointXY=function(e,o,t,r){return r<ol.extent.closestSquaredDistanceXY(this.getExtent(),e,o)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ol.geom.flat.closest.getMaxSquaredDelta(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),ol.geom.flat.closest.getClosestPoint(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,o,t,r))},ol.geom.LineString.prototype.forEachSegment=function(e,o){return ol.geom.flat.segments.forEach(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,o)},ol.geom.LineString.prototype.getCoordinateAtM=function(e,o){if(this.layout!=ol.geom.GeometryLayout.XYM&&this.layout!=ol.geom.GeometryLayout.XYZM)return null;var t=goog.isDef(o)?o:!1;return ol.geom.flat.lineStringCoordinateAtM(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t)},ol.geom.LineString.prototype.getCoordinates=function(){return ol.geom.flat.inflate.coordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},ol.geom.LineString.prototype.getLength=function(){return ol.geom.flat.length.lineString(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},ol.geom.LineString.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=ol.geom.flat.interpolate.lineString(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},ol.geom.LineString.prototype.getSimplifiedGeometryInternal=function(e){var o=[];o.length=ol.geom.flat.simplify.douglasPeucker(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,o,0);var t=new ol.geom.LineString(null);return t.setFlatCoordinates(ol.geom.GeometryLayout.XY,o),t},ol.geom.LineString.prototype.getType=function(){return ol.geom.GeometryType.LINE_STRING},ol.geom.LineString.prototype.intersectsExtent=function(e){return ol.geom.flat.intersectsextent.lineString(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)},ol.geom.LineString.prototype.setCoordinates=function(e,o){goog.isNull(e)?this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null):(this.setLayout(o,e,1),goog.isNull(this.flatCoordinates)&&(this.flatCoordinates=[]),this.flatCoordinates.length=ol.geom.flat.deflate.coordinates(this.flatCoordinates,0,e,this.stride),this.changed())},ol.geom.LineString.prototype.setFlatCoordinates=function(e,o){this.setFlatCoordinatesInternal(e,o),this.changed()},goog.provide("ol.geom.MultiLineString"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("ol.extent"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.LineString"),goog.require("ol.geom.SimpleGeometry"),goog.require("ol.geom.flat.closest"),goog.require("ol.geom.flat.deflate"),goog.require("ol.geom.flat.inflate"),goog.require("ol.geom.flat.interpolate"),goog.require("ol.geom.flat.intersectsextent"),goog.require("ol.geom.flat.simplify"),ol.geom.MultiLineString=function(e,o){goog.base(this),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.setCoordinates(e,o)},goog.inherits(ol.geom.MultiLineString,ol.geom.SimpleGeometry),ol.geom.MultiLineString.prototype.appendLineString=function(e){goog.asserts.assert(e.getLayout()==this.layout,"layout of lineString should match the layout"),goog.isNull(this.flatCoordinates)?this.flatCoordinates=e.getFlatCoordinates().slice():goog.array.extend(this.flatCoordinates,e.getFlatCoordinates().slice()),this.ends_.push(this.flatCoordinates.length),this.changed()},ol.geom.MultiLineString.prototype.clone=function(){var e=new ol.geom.MultiLineString(null);return e.setFlatCoordinates(this.layout,this.flatCoordinates.slice(),this.ends_.slice()),e},ol.geom.MultiLineString.prototype.closestPointXY=function(e,o,t,r){return r<ol.extent.closestSquaredDistanceXY(this.getExtent(),e,o)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ol.geom.flat.closest.getsMaxSquaredDelta(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),ol.geom.flat.closest.getsClosestPoint(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,o,t,r))},ol.geom.MultiLineString.prototype.getCoordinateAtM=function(e,o,t){if(this.layout!=ol.geom.GeometryLayout.XYM&&this.layout!=ol.geom.GeometryLayout.XYZM||0===this.flatCoordinates.length)return null;var r=goog.isDef(o)?o:!1,n=goog.isDef(t)?t:!1;return ol.geom.flat.lineStringsCoordinateAtM(this.flatCoordinates,0,this.ends_,this.stride,e,r,n)},ol.geom.MultiLineString.prototype.getCoordinates=function(){return ol.geom.flat.inflate.coordinatess(this.flatCoordinates,0,this.ends_,this.stride)},ol.geom.MultiLineString.prototype.getEnds=function(){return this.ends_},ol.geom.MultiLineString.prototype.getLineString=function(e){if(goog.asserts.assert(e>=0&&e<this.ends_.length,"index should be in between 0 and length of the this.ends_ array"),0>e||this.ends_.length<=e)return null;var o=new ol.geom.LineString(null);return o.setFlatCoordinates(this.layout,this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e])),o},ol.geom.MultiLineString.prototype.getLineStrings=function(){var e,o,t=this.flatCoordinates,r=this.ends_,n=this.layout,i=[],a=0;for(e=0,o=r.length;o>e;++e){var s=r[e],g=new ol.geom.LineString(null);g.setFlatCoordinates(n,t.slice(a,s)),i.push(g),a=s}return i},ol.geom.MultiLineString.prototype.getFlatMidpoints=function(){var e,o,t=[],r=this.flatCoordinates,n=0,i=this.ends_,a=this.stride;for(e=0,o=i.length;o>e;++e){var s=i[e],g=ol.geom.flat.interpolate.lineString(r,n,s,a,.5);goog.array.extend(t,g),n=s}return t},ol.geom.MultiLineString.prototype.getSimplifiedGeometryInternal=function(e){var o=[],t=[];o.length=ol.geom.flat.simplify.douglasPeuckers(this.flatCoordinates,0,this.ends_,this.stride,e,o,0,t);var r=new ol.geom.MultiLineString(null);return r.setFlatCoordinates(ol.geom.GeometryLayout.XY,o,t),r},ol.geom.MultiLineString.prototype.getType=function(){return ol.geom.GeometryType.MULTI_LINE_STRING},ol.geom.MultiLineString.prototype.intersectsExtent=function(e){return ol.geom.flat.intersectsextent.lineStrings(this.flatCoordinates,0,this.ends_,this.stride,e)},ol.geom.MultiLineString.prototype.setCoordinates=function(e,o){if(goog.isNull(e))this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null,this.ends_);else{this.setLayout(o,e,2),goog.isNull(this.flatCoordinates)&&(this.flatCoordinates=[]);var t=ol.geom.flat.deflate.coordinatess(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===t.length?0:t[t.length-1],this.changed()}},ol.geom.MultiLineString.prototype.setFlatCoordinates=function(e,o,t){goog.isNull(o)?goog.asserts.assert(!goog.isNull(t)&&0===t.length,"ends cannot be null and ends.length should be 0"):0===t.length?goog.asserts.assert(0===o.length,"flatCoordinates should be an empty array"):goog.asserts.assert(o.length==t[t.length-1],"length of flatCoordinates array should match the last value of ends"),this.setFlatCoordinatesInternal(e,o),this.ends_=t,this.changed()},ol.geom.MultiLineString.prototype.setLineStrings=function(e){var o,t,r=ol.geom.GeometryLayout.XY,n=[],i=[];for(o=0,t=e.length;t>o;++o){var a=e[o];0===o?r=a.getLayout():goog.asserts.assert(a.getLayout()==r,"layout of lineString should match layout"),goog.array.extend(n,a.getFlatCoordinates()),i.push(n.length)}this.setFlatCoordinates(r,n,i)},goog.provide("ol.geom.MultiPoint"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("ol.extent"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.Point"),goog.require("ol.geom.SimpleGeometry"),goog.require("ol.geom.flat.deflate"),goog.require("ol.geom.flat.inflate"),goog.require("ol.math"),ol.geom.MultiPoint=function(e,o){goog.base(this),this.setCoordinates(e,o)},goog.inherits(ol.geom.MultiPoint,ol.geom.SimpleGeometry),ol.geom.MultiPoint.prototype.appendPoint=function(e){goog.asserts.assert(e.getLayout()==this.layout,"the layout of point should match layout"),goog.isNull(this.flatCoordinates)?this.flatCoordinates=e.getFlatCoordinates().slice():goog.array.extend(this.flatCoordinates,e.getFlatCoordinates()),this.changed()},ol.geom.MultiPoint.prototype.clone=function(){var e=new ol.geom.MultiPoint(null);return e.setFlatCoordinates(this.layout,this.flatCoordinates.slice()),e},ol.geom.MultiPoint.prototype.closestPointXY=function(e,o,t,r){if(r<ol.extent.closestSquaredDistanceXY(this.getExtent(),e,o))return r;var n,i,a,s=this.flatCoordinates,g=this.stride;for(n=0,i=s.length;i>n;n+=g){var l=ol.math.squaredDistance(e,o,s[n],s[n+1]);

if(r>l){for(r=l,a=0;g>a;++a)t[a]=s[n+a];t.length=g}}return r},ol.geom.MultiPoint.prototype.getCoordinates=function(){return ol.geom.flat.inflate.coordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},ol.geom.MultiPoint.prototype.getPoint=function(e){var o=goog.isNull(this.flatCoordinates)?0:this.flatCoordinates.length/this.stride;if(goog.asserts.assert(e>=0&&o>e,"index should be in between 0 and n"),0>e||e>=o)return null;var t=new ol.geom.Point(null);return t.setFlatCoordinates(this.layout,this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride)),t},ol.geom.MultiPoint.prototype.getPoints=function(){var e,o,t=this.flatCoordinates,r=this.layout,n=this.stride,i=[];for(e=0,o=t.length;o>e;e+=n){var a=new ol.geom.Point(null);a.setFlatCoordinates(r,t.slice(e,e+n)),i.push(a)}return i},ol.geom.MultiPoint.prototype.getType=function(){return ol.geom.GeometryType.MULTI_POINT},ol.geom.MultiPoint.prototype.intersectsExtent=function(e){var o,t,r,n,i=this.flatCoordinates,a=this.stride;for(o=0,t=i.length;t>o;o+=a)if(r=i[o],n=i[o+1],ol.extent.containsXY(e,r,n))return!0;return!1},ol.geom.MultiPoint.prototype.setCoordinates=function(e,o){goog.isNull(e)?this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null):(this.setLayout(o,e,1),goog.isNull(this.flatCoordinates)&&(this.flatCoordinates=[]),this.flatCoordinates.length=ol.geom.flat.deflate.coordinates(this.flatCoordinates,0,e,this.stride),this.changed())},ol.geom.MultiPoint.prototype.setFlatCoordinates=function(e,o){this.setFlatCoordinatesInternal(e,o),this.changed()},goog.provide("ol.geom.flat.center"),goog.require("ol.extent"),ol.geom.flat.center.linearRingss=function(e,o,t,r){var n,i,a=[],s=ol.extent.createEmpty();for(n=0,i=t.length;i>n;++n){var g=t[n];s=ol.extent.createOrUpdateFromFlatCoordinates(e,o,g[0],r),a.push((s[0]+s[2])/2,(s[1]+s[3])/2),o=g[g.length-1]}return a},goog.provide("ol.geom.MultiPolygon"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("ol.extent"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.MultiPoint"),goog.require("ol.geom.Polygon"),goog.require("ol.geom.SimpleGeometry"),goog.require("ol.geom.flat.area"),goog.require("ol.geom.flat.center"),goog.require("ol.geom.flat.closest"),goog.require("ol.geom.flat.contains"),goog.require("ol.geom.flat.deflate"),goog.require("ol.geom.flat.inflate"),goog.require("ol.geom.flat.interiorpoint"),goog.require("ol.geom.flat.intersectsextent"),goog.require("ol.geom.flat.orient"),goog.require("ol.geom.flat.simplify"),ol.geom.MultiPolygon=function(e,o){goog.base(this),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,this.setCoordinates(e,o)},goog.inherits(ol.geom.MultiPolygon,ol.geom.SimpleGeometry),ol.geom.MultiPolygon.prototype.appendPolygon=function(e){goog.asserts.assert(e.getLayout()==this.layout,"layout of polygon should match layout");var o;if(goog.isNull(this.flatCoordinates))this.flatCoordinates=e.getFlatCoordinates().slice(),o=e.getEnds().slice(),this.endss_.push();else{var t=this.flatCoordinates.length;goog.array.extend(this.flatCoordinates,e.getFlatCoordinates()),o=e.getEnds().slice();var r,n;for(r=0,n=o.length;n>r;++r)o[r]+=t}this.endss_.push(o),this.changed()},ol.geom.MultiPolygon.prototype.clone=function(){var e=new ol.geom.MultiPolygon(null);return e.setFlatCoordinates(this.layout,this.flatCoordinates.slice(),this.endss_.slice()),e},ol.geom.MultiPolygon.prototype.closestPointXY=function(e,o,t,r){return r<ol.extent.closestSquaredDistanceXY(this.getExtent(),e,o)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ol.geom.flat.closest.getssMaxSquaredDelta(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),ol.geom.flat.closest.getssClosestPoint(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,o,t,r))},ol.geom.MultiPolygon.prototype.containsXY=function(e,o){return ol.geom.flat.contains.linearRingssContainsXY(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,o)},ol.geom.MultiPolygon.prototype.getArea=function(){return ol.geom.flat.area.linearRingss(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},ol.geom.MultiPolygon.prototype.getCoordinates=function(e){var o;return goog.isDef(e)?(o=this.getOrientedFlatCoordinates().slice(),ol.geom.flat.orient.orientLinearRingss(o,0,this.endss_,this.stride,e)):o=this.flatCoordinates,ol.geom.flat.inflate.coordinatesss(o,0,this.endss_,this.stride)},ol.geom.MultiPolygon.prototype.getEndss=function(){return this.endss_},ol.geom.MultiPolygon.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var e=ol.geom.flat.center.linearRingss(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=ol.geom.flat.interiorpoint.linearRingss(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},ol.geom.MultiPolygon.prototype.getInteriorPoints=function(){var e=new ol.geom.MultiPoint(null);return e.setFlatCoordinates(ol.geom.GeometryLayout.XY,this.getFlatInteriorPoints().slice()),e},ol.geom.MultiPolygon.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var e=this.flatCoordinates;ol.geom.flat.orient.linearRingssAreOriented(e,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=ol.geom.flat.orient.orientLinearRingss(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},ol.geom.MultiPolygon.prototype.getSimplifiedGeometryInternal=function(e){var o=[],t=[];o.length=ol.geom.flat.simplify.quantizess(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),o,0,t);var r=new ol.geom.MultiPolygon(null);return r.setFlatCoordinates(ol.geom.GeometryLayout.XY,o,t),r},ol.geom.MultiPolygon.prototype.getPolygon=function(e){if(goog.asserts.assert(e>=0&&e<this.endss_.length,"index should be in between 0 and the length of this.endss_"),0>e||this.endss_.length<=e)return null;var o;if(0===e)o=0;else{var t=this.endss_[e-1];o=t[t.length-1]}var r=this.endss_[e].slice(),n=r[r.length-1];if(0!==o){var i,a;for(i=0,a=r.length;a>i;++i)r[i]-=o}var s=new ol.geom.Polygon(null);return s.setFlatCoordinates(this.layout,this.flatCoordinates.slice(o,n),r),s},ol.geom.MultiPolygon.prototype.getPolygons=function(){var e,o,t,r,n=this.layout,i=this.flatCoordinates,a=this.endss_,s=[],g=0;for(e=0,o=a.length;o>e;++e){var l=a[e].slice(),p=l[l.length-1];if(0!==g)for(t=0,r=l.length;r>t;++t)l[t]-=g;var u=new ol.geom.Polygon(null);u.setFlatCoordinates(n,i.slice(g,p),l),s.push(u),g=p}return s},ol.geom.MultiPolygon.prototype.getType=function(){return ol.geom.GeometryType.MULTI_POLYGON},ol.geom.MultiPolygon.prototype.intersectsExtent=function(e){return ol.geom.flat.intersectsextent.linearRingss(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)},ol.geom.MultiPolygon.prototype.setCoordinates=function(e,o){if(goog.isNull(e))this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null,this.endss_);else{this.setLayout(o,e,3),goog.isNull(this.flatCoordinates)&&(this.flatCoordinates=[]);var t=ol.geom.flat.deflate.coordinatesss(this.flatCoordinates,0,e,this.stride,this.endss_);if(0===t.length)this.flatCoordinates.length=0;else{var r=t[t.length-1];this.flatCoordinates.length=0===r.length?0:r[r.length-1]}this.changed()}},ol.geom.MultiPolygon.prototype.setFlatCoordinates=function(e,o,t){if(goog.asserts.assert(!goog.isNull(t),"endss cannot be null"),goog.isNull(o)||0===o.length)goog.asserts.assert(0===t.length,"the length of endss should be 0");else{goog.asserts.assert(t.length>0,"endss cannot be an empty array");var r=t[t.length-1];goog.asserts.assert(o.length==r[r.length-1],"the length of flatCoordinates should be the last value of ends")}this.setFlatCoordinatesInternal(e,o),this.endss_=t,this.changed()},ol.geom.MultiPolygon.prototype.setPolygons=function(e){var o,t,r,n=ol.geom.GeometryLayout.XY,i=[],a=[];for(o=0,t=e.length;t>o;++o){var s=e[o];0===o?n=s.getLayout():goog.asserts.assert(s.getLayout()==n,"layout of polygon should be layout");var g=i.length;r=s.getEnds();var l,p;for(l=0,p=r.length;p>l;++l)r[l]+=g;goog.array.extend(i,s.getFlatCoordinates()),a.push(r)}this.setFlatCoordinates(n,i,a)},goog.provide("ol.renderer.vector"),goog.require("goog.asserts"),goog.require("ol.geom.Circle"),goog.require("ol.geom.GeometryCollection"),goog.require("ol.geom.LineString"),goog.require("ol.geom.MultiLineString"),goog.require("ol.geom.MultiPoint"),goog.require("ol.geom.MultiPolygon"),goog.require("ol.geom.Point"),goog.require("ol.geom.Polygon"),goog.require("ol.render.IReplayGroup"),goog.require("ol.style.ImageState"),goog.require("ol.style.Style"),ol.renderer.vector.defaultOrder=function(e,o){return goog.getUid(e)-goog.getUid(o)},ol.renderer.vector.getSquaredTolerance=function(e,o){var t=ol.renderer.vector.getTolerance(e,o);return t*t},ol.renderer.vector.getTolerance=function(e,o){return ol.SIMPLIFY_TOLERANCE*e/o},ol.renderer.vector.renderCircleGeometry_=function(e,o,t,r){goog.asserts.assertInstanceof(o,ol.geom.Circle,"geometry should be an ol.geom.Circle");var n=t.getFill(),i=t.getStroke();if(!goog.isNull(n)||!goog.isNull(i)){var a=e.getReplay(t.getZIndex(),ol.render.ReplayType.POLYGON);a.setFillStrokeStyle(n,i),a.drawCircleGeometry(o,r)}var s=t.getText();if(!goog.isNull(s)){var g=e.getReplay(t.getZIndex(),ol.render.ReplayType.TEXT);g.setTextStyle(s),g.drawText(o.getCenter(),0,2,2,o,r)}},ol.renderer.vector.renderFeature=function(e,o,t,r,n,i){var a,s,g=!1;return a=t.getImage(),goog.isNull(a)||(s=a.getImageState(),s==ol.style.ImageState.LOADED||s==ol.style.ImageState.ERROR?a.unlistenImageChange(n,i):(s==ol.style.ImageState.IDLE&&a.load(),s=a.getImageState(),goog.asserts.assert(s==ol.style.ImageState.LOADING,"imageState should be LOADING"),a.listenImageChange(n,i),g=!0)),ol.renderer.vector.renderFeature_(e,o,t,r),g},ol.renderer.vector.renderFeature_=function(e,o,t,r){var n=t.getGeometryFunction()(o);if(goog.isDefAndNotNull(n)){var i=n.getSimplifiedGeometry(r),a=ol.renderer.vector.GEOMETRY_RENDERERS_[i.getType()];goog.asserts.assert(goog.isDef(a),"geometryRenderer should be defined"),a(e,i,t,o)}},ol.renderer.vector.renderGeometryCollectionGeometry_=function(e,o,t,r){goog.asserts.assertInstanceof(o,ol.geom.GeometryCollection,"geometry should be an ol.geom.GeometryCollection");var n,i,a=o.getGeometriesArray();for(n=0,i=a.length;i>n;++n){var s=ol.renderer.vector.GEOMETRY_RENDERERS_[a[n].getType()];goog.asserts.assert(goog.isDef(s),"geometryRenderer should be defined"),s(e,a[n],t,r)}},ol.renderer.vector.renderLineStringGeometry_=function(e,o,t,r){goog.asserts.assertInstanceof(o,ol.geom.LineString,"geometry should be an ol.geom.LineString");var n=t.getStroke();if(!goog.isNull(n)){var i=e.getReplay(t.getZIndex(),ol.render.ReplayType.LINE_STRING);i.setFillStrokeStyle(null,n),i.drawLineStringGeometry(o,r)}var a=t.getText();if(!goog.isNull(a)){var s=e.getReplay(t.getZIndex(),ol.render.ReplayType.TEXT);s.setTextStyle(a),s.drawText(o.getFlatMidpoint(),0,2,2,o,r)}},ol.renderer.vector.renderMultiLineStringGeometry_=function(e,o,t,r){goog.asserts.assertInstanceof(o,ol.geom.MultiLineString,"geometry should be an ol.geom.MultiLineString");var n=t.getStroke();if(!goog.isNull(n)){var i=e.getReplay(t.getZIndex(),ol.render.ReplayType.LINE_STRING);i.setFillStrokeStyle(null,n),i.drawMultiLineStringGeometry(o,r)}var a=t.getText();if(!goog.isNull(a)){var s=e.getReplay(t.getZIndex(),ol.render.ReplayType.TEXT);s.setTextStyle(a);var g=o.getFlatMidpoints();s.drawText(g,0,g.length,2,o,r)}},ol.renderer.vector.renderMultiPolygonGeometry_=function(e,o,t,r){goog.asserts.assertInstanceof(o,ol.geom.MultiPolygon,"geometry should be an ol.geom.MultiPolygon");var n=t.getFill(),i=t.getStroke();if(!goog.isNull(i)||!goog.isNull(n)){var a=e.getReplay(t.getZIndex(),ol.render.ReplayType.POLYGON);a.setFillStrokeStyle(n,i),a.drawMultiPolygonGeometry(o,r)}var s=t.getText();if(!goog.isNull(s)){var g=e.getReplay(t.getZIndex(),ol.render.ReplayType.TEXT);g.setTextStyle(s);var l=o.getFlatInteriorPoints();g.drawText(l,0,l.length,2,o,r)}},ol.renderer.vector.renderPointGeometry_=function(e,o,t,r){goog.asserts.assertInstanceof(o,ol.geom.Point,"geometry should be an ol.geom.Point");var n=t.getImage();if(!goog.isNull(n)){if(n.getImageState()!=ol.style.ImageState.LOADED)return;var i=e.getReplay(t.getZIndex(),ol.render.ReplayType.IMAGE);i.setImageStyle(n),i.drawPointGeometry(o,r)}var a=t.getText();if(!goog.isNull(a)){var s=e.getReplay(t.getZIndex(),ol.render.ReplayType.TEXT);s.setTextStyle(a),s.drawText(o.getCoordinates(),0,2,2,o,r)}},ol.renderer.vector.renderMultiPointGeometry_=function(e,o,t,r){goog.asserts.assertInstanceof(o,ol.geom.MultiPoint,"geometry should be an ol.goem.MultiPoint");var n=t.getImage();if(!goog.isNull(n)){if(n.getImageState()!=ol.style.ImageState.LOADED)return;var i=e.getReplay(t.getZIndex(),ol.render.ReplayType.IMAGE);i.setImageStyle(n),i.drawMultiPointGeometry(o,r)}var a=t.getText();if(!goog.isNull(a)){var s=e.getReplay(t.getZIndex(),ol.render.ReplayType.TEXT);s.setTextStyle(a);var g=o.getFlatCoordinates();s.drawText(g,0,g.length,o.getStride(),o,r)}},ol.renderer.vector.renderPolygonGeometry_=function(e,o,t,r){goog.asserts.assertInstanceof(o,ol.geom.Polygon,"geometry should be an ol.geom.Polygon");var n=t.getFill(),i=t.getStroke();if(!goog.isNull(n)||!goog.isNull(i)){var a=e.getReplay(t.getZIndex(),ol.render.ReplayType.POLYGON);a.setFillStrokeStyle(n,i),a.drawPolygonGeometry(o,r)}var s=t.getText();if(!goog.isNull(s)){var g=e.getReplay(t.getZIndex(),ol.render.ReplayType.TEXT);g.setTextStyle(s),g.drawText(o.getFlatInteriorPoint(),0,2,2,o,r)}},ol.renderer.vector.GEOMETRY_RENDERERS_={Point:ol.renderer.vector.renderPointGeometry_,LineString:ol.renderer.vector.renderLineStringGeometry_,Polygon:ol.renderer.vector.renderPolygonGeometry_,MultiPoint:ol.renderer.vector.renderMultiPointGeometry_,MultiLineString:ol.renderer.vector.renderMultiLineStringGeometry_,MultiPolygon:ol.renderer.vector.renderMultiPolygonGeometry_,GeometryCollection:ol.renderer.vector.renderGeometryCollectionGeometry_,Circle:ol.renderer.vector.renderCircleGeometry_},goog.provide("ol.ImageCanvas"),goog.require("ol.ImageBase"),goog.require("ol.ImageState"),ol.ImageCanvas=function(e,o,t,r,n){goog.base(this,e,o,t,ol.ImageState.LOADED,r),this.canvas_=n},goog.inherits(ol.ImageCanvas,ol.ImageBase),ol.ImageCanvas.prototype.getImage=function(e){return this.canvas_},goog.provide("ol.source.Image"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.events.Event"),goog.require("ol.Attribution"),goog.require("ol.Extent"),goog.require("ol.ImageState"),goog.require("ol.array"),goog.require("ol.source.Source"),ol.source.ImageOptions,ol.source.Image=function(e){goog.base(this,{attributions:e.attributions,extent:e.extent,logo:e.logo,projection:e.projection,state:e.state}),this.resolutions_=goog.isDef(e.resolutions)?e.resolutions:null,goog.asserts.assert(goog.isNull(this.resolutions_)||goog.array.isSorted(this.resolutions_,function(e,o){return o-e},!0),"resolutions must be null or sorted in descending order")},goog.inherits(ol.source.Image,ol.source.Source),ol.source.Image.prototype.getResolutions=function(){return this.resolutions_},ol.source.Image.prototype.findNearestResolution=function(e){if(!goog.isNull(this.resolutions_)){var o=ol.array.linearFindNearest(this.resolutions_,e,0);e=this.resolutions_[o]}return e},ol.source.Image.prototype.getImage=goog.abstractMethod,ol.source.Image.prototype.handleImageChange=function(e){var o=e.target;switch(o.getState()){case ol.ImageState.LOADING:this.dispatchEvent(new ol.source.ImageEvent(ol.source.ImageEventType.IMAGELOADSTART,o));break;case ol.ImageState.LOADED:this.dispatchEvent(new ol.source.ImageEvent(ol.source.ImageEventType.IMAGELOADEND,o));break;case ol.ImageState.ERROR:this.dispatchEvent(new ol.source.ImageEvent(ol.source.ImageEventType.IMAGELOADERROR,o))}},ol.source.Image.defaultImageLoadFunction=function(e,o){e.getImage().src=o},ol.source.ImageEvent=function(e,o){goog.base(this,e),this.image=o},goog.inherits(ol.source.ImageEvent,goog.events.Event),ol.source.ImageEventType={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"},goog.provide("ol.source.ImageCanvas"),goog.require("ol.CanvasFunctionType"),goog.require("ol.ImageCanvas"),goog.require("ol.extent"),goog.require("ol.source.Image"),ol.source.ImageCanvas=function(e){goog.base(this,{attributions:e.attributions,logo:e.logo,projection:e.projection,resolutions:e.resolutions,state:goog.isDef(e.state)?e.state:void 0}),this.canvasFunction_=e.canvasFunction,this.canvas_=null,this.renderedRevision_=0,this.ratio_=goog.isDef(e.ratio)?e.ratio:1.5},goog.inherits(ol.source.ImageCanvas,ol.source.Image),ol.source.ImageCanvas.prototype.getImage=function(e,o,t,r){o=this.findNearestResolution(o);var n=this.canvas_;if(!goog.isNull(n)&&this.renderedRevision_==this.getRevision()&&n.getResolution()==o&&n.getPixelRatio()==t&&ol.extent.containsExtent(n.getExtent(),e))return n;e=e.slice(),ol.extent.scaleFromCenter(e,this.ratio_);var i=ol.extent.getWidth(e)/o,a=ol.extent.getHeight(e)/o,s=[i*t,a*t],g=this.canvasFunction_(e,o,t,s,r);return goog.isNull(g)||(n=new ol.ImageCanvas(e,o,t,this.getAttributions(),g)),this.canvas_=n,this.renderedRevision_=this.getRevision(),n},goog.provide("ol.Feature"),goog.provide("ol.FeatureStyleFunction"),goog.require("goog.asserts"),goog.require("goog.events"),goog.require("goog.events.EventType"),goog.require("goog.functions"),goog.require("ol.Object"),goog.require("ol.geom.Geometry"),goog.require("ol.style.Style"),ol.Feature=function(e){if(goog.base(this),this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,goog.events.listen(this,ol.Object.getChangeEventType(this.geometryName_),this.handleGeometryChanged_,!1,this),goog.isDef(e))if(e instanceof ol.geom.Geometry||goog.isNull(e)){var o=e;this.setGeometry(o)}else{goog.asserts.assert(goog.isObject(e),"opt_geometryOrProperties should be an Object");var t=e;this.setProperties(t)}},goog.inherits(ol.Feature,ol.Object),ol.Feature.prototype.clone=function(){var e=new ol.Feature(this.getProperties());e.setGeometryName(this.getGeometryName());var o=this.getGeometry();goog.isDefAndNotNull(o)&&e.setGeometry(o.clone());var t=this.getStyle();return goog.isNull(t)||e.setStyle(t),e},ol.Feature.prototype.getGeometry=function(){return this.get(this.geometryName_)},ol.Feature.prototype.getId=function(){return this.id_},ol.Feature.prototype.getGeometryName=function(){return this.geometryName_},ol.Feature.prototype.getStyle=function(){return this.style_},ol.Feature.prototype.getStyleFunction=function(){return this.styleFunction_},ol.Feature.prototype.handleGeometryChange_=function(){this.changed()},ol.Feature.prototype.handleGeometryChanged_=function(){goog.isNull(this.geometryChangeKey_)||(goog.events.unlistenByKey(this.geometryChangeKey_),this.geometryChangeKey_=null);var e=this.getGeometry();goog.isDefAndNotNull(e)&&(this.geometryChangeKey_=goog.events.listen(e,goog.events.EventType.CHANGE,this.handleGeometryChange_,!1,this)),this.changed()},ol.Feature.prototype.setGeometry=function(e){this.set(this.geometryName_,e)},ol.Feature.prototype.setStyle=function(e){this.style_=e,this.styleFunction_=goog.isNull(e)?void 0:ol.Feature.createStyleFunction(e),this.changed()},ol.Feature.prototype.setId=function(e){this.id_=e,this.changed()},ol.Feature.prototype.setGeometryName=function(e){goog.events.unlisten(this,ol.Object.getChangeEventType(this.geometryName_),this.handleGeometryChanged_,!1,this),this.geometryName_=e,goog.events.listen(this,ol.Object.getChangeEventType(this.geometryName_),this.handleGeometryChanged_,!1,this),this.handleGeometryChanged_()},ol.FeatureStyleFunction,ol.Feature.createStyleFunction=function(e){var o;if(goog.isFunction(e))o=e;else{var t;goog.isArray(e)?t=e:(goog.asserts.assertInstanceof(e,ol.style.Style,"obj should be an ol.style.Style"),t=[e]),o=goog.functions.constant(t)}return o},goog.provide("goog.net.EventType"),goog.net.EventType={COMPLETE:"complete",SUCCESS:"success",ERROR:"error",ABORT:"abort",READY:"ready",READY_STATE_CHANGE:"readystatechange",TIMEOUT:"timeout",INCREMENTAL_DATA:"incrementaldata",PROGRESS:"progress"},goog.provide("goog.Thenable"),goog.Thenable=function(){},goog.Thenable.prototype.then=function(e,o,t){},goog.Thenable.IMPLEMENTED_BY_PROP="$goog_Thenable",goog.Thenable.addImplementation=function(e){goog.exportProperty(e.prototype,"then",e.prototype.then),COMPILED?e.prototype[goog.Thenable.IMPLEMENTED_BY_PROP]=!0:e.prototype.$goog_Thenable=!0},goog.Thenable.isImplementedBy=function(e){if(!e)return!1;try{return COMPILED?!!e[goog.Thenable.IMPLEMENTED_BY_PROP]:!!e.$goog_Thenable}catch(o){return!1}},goog.provide("goog.testing.watchers"),goog.testing.watchers.resetWatchers_=[],goog.testing.watchers.signalClockReset=function(){for(var e=goog.testing.watchers.resetWatchers_,o=0;o<e.length;o++)goog.testing.watchers.resetWatchers_[o]()},goog.testing.watchers.watchClockReset=function(e){goog.testing.watchers.resetWatchers_.push(e)},goog.provide("goog.async.run"),goog.require("goog.async.nextTick"),goog.require("goog.async.throwException"),goog.require("goog.testing.watchers"),goog.async.run=function(e,o){goog.async.run.schedule_||goog.async.run.initializeRunner_(),goog.async.run.workQueueScheduled_||(goog.async.run.schedule_(),goog.async.run.workQueueScheduled_=!0),goog.async.run.workQueue_.push(new goog.async.run.WorkItem_(e,o))},goog.async.run.initializeRunner_=function(){if(goog.global.Promise&&goog.global.Promise.resolve){var e=goog.global.Promise.resolve();goog.async.run.schedule_=function(){e.then(goog.async.run.processWorkQueue)}}else goog.async.run.schedule_=function(){goog.async.nextTick(goog.async.run.processWorkQueue)}},goog.async.run.forceNextTick=function(){goog.async.run.schedule_=function(){goog.async.nextTick(goog.async.run.processWorkQueue)}},goog.async.run.schedule_,goog.async.run.workQueueScheduled_=!1,goog.async.run.workQueue_=[],goog.DEBUG&&(goog.async.run.resetQueue_=function(){goog.async.run.workQueueScheduled_=!1,goog.async.run.workQueue_=[]},goog.testing.watchers.watchClockReset(goog.async.run.resetQueue_)),goog.async.run.processWorkQueue=function(){for(;goog.async.run.workQueue_.length;){var e=goog.async.run.workQueue_;goog.async.run.workQueue_=[];for(var o=0;o<e.length;o++){var t=e[o];try{t.fn.call(t.scope)}catch(r){goog.async.throwException(r)}}}goog.async.run.workQueueScheduled_=!1},goog.async.run.WorkItem_=function(e,o){this.fn=e,this.scope=o},goog.provide("goog.promise.Resolver"),goog.promise.Resolver=function(){},goog.promise.Resolver.prototype.promise,goog.promise.Resolver.prototype.resolve,goog.promise.Resolver.prototype.reject,goog.provide("goog.Promise"),goog.require("goog.Thenable"),goog.require("goog.asserts"),goog.require("goog.async.run"),goog.require("goog.async.throwException"),goog.require("goog.debug.Error"),goog.require("goog.promise.Resolver"),goog.Promise=function(e,o){this.state_=goog.Promise.State_.PENDING,this.result_=void 0,this.parent_=null,this.callbackEntries_=null,this.executing_=!1,goog.Promise.UNHANDLED_REJECTION_DELAY>0?this.unhandledRejectionId_=0:0==goog.Promise.UNHANDLED_REJECTION_DELAY&&(this.hadUnhandledRejection_=!1),goog.Promise.LONG_STACK_TRACES&&(this.stack_=[],this.addStackTrace_(new Error("created")),this.currentStep_=0);try{var t=this;e.call(o,function(e){t.resolve_(goog.Promise.State_.FULFILLED,e)},function(e){if(goog.DEBUG&&!(e instanceof goog.Promise.CancellationError))try{throw e instanceof Error?e:new Error("Promise rejected.")}catch(o){}t.resolve_(goog.Promise.State_.REJECTED,e)})}catch(r){this.resolve_(goog.Promise.State_.REJECTED,r)}},goog.define("goog.Promise.LONG_STACK_TRACES",!1),goog.define("goog.Promise.UNHANDLED_REJECTION_DELAY",0),goog.Promise.State_={PENDING:0,BLOCKED:1,FULFILLED:2,REJECTED:3},goog.Promise.CallbackEntry_,goog.Promise.resolve=function(e){return new goog.Promise(function(o,t){o(e)})},goog.Promise.reject=function(e){return new goog.Promise(function(o,t){t(e)})},goog.Promise.race=function(e){return new goog.Promise(function(o,t){e.length||o(void 0);for(var r,n=0;r=e[n];n++)r.then(o,t)})},goog.Promise.all=function(e){return new goog.Promise(function(o,t){var r=e.length,n=[];if(!r)return void o(n);for(var i,a=function(e,t){r--,n[e]=t,0==r&&o(n)},s=function(e){t(e)},g=0;i=e[g];g++)i.then(goog.partial(a,g),s)})},goog.Promise.firstFulfilled=function(e){return new goog.Promise(function(o,t){var r=e.length,n=[];if(!r)return void o(void 0);for(var i,a=function(e){o(e)},s=function(e,o){r--,n[e]=o,0==r&&t(n)},g=0;i=e[g];g++)i.then(a,goog.partial(s,g))})},goog.Promise.withResolver=function(){var e,o,t=new goog.Promise(function(t,r){e=t,o=r});return new goog.Promise.Resolver_(t,e,o)},goog.Promise.prototype.then=function(e,o,t){return null!=e&&goog.asserts.assertFunction(e,"opt_onFulfilled should be a function."),null!=o&&goog.asserts.assertFunction(o,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),goog.Promise.LONG_STACK_TRACES&&this.addStackTrace_(new Error("then")),this.addChildPromise_(goog.isFunction(e)?e:null,goog.isFunction(o)?o:null,t)},goog.Thenable.addImplementation(goog.Promise),goog.Promise.prototype.thenAlways=function(e,o){goog.Promise.LONG_STACK_TRACES&&this.addStackTrace_(new Error("thenAlways"));var t=function(){try{e.call(o)}catch(t){goog.Promise.handleRejection_.call(null,t)}};return this.addCallbackEntry_({child:null,onRejected:t,onFulfilled:t}),this},goog.Promise.prototype.thenCatch=function(e,o){return goog.Promise.LONG_STACK_TRACES&&this.addStackTrace_(new Error("thenCatch")),this.addChildPromise_(null,e,o)},goog.Promise.prototype.cancel=function(e){this.state_==goog.Promise.State_.PENDING&&goog.async.run(function(){var o=new goog.Promise.CancellationError(e);this.cancelInternal_(o)},this)},goog.Promise.prototype.cancelInternal_=function(e){this.state_==goog.Promise.State_.PENDING&&(this.parent_?this.parent_.cancelChild_(this,e):this.resolve_(goog.Promise.State_.REJECTED,e))},goog.Promise.prototype.cancelChild_=function(e,o){if(this.callbackEntries_){for(var t,r=0,n=-1,i=0;t=this.callbackEntries_[i];i++){var a=t.child;if(a&&(r++,a==e&&(n=i),n>=0&&r>1))break}if(n>=0)if(this.state_==goog.Promise.State_.PENDING&&1==r)this.cancelInternal_(o);else{var s=this.callbackEntries_.splice(n,1)[0];this.executeCallback_(s,goog.Promise.State_.REJECTED,o)}}},goog.Promise.prototype.addCallbackEntry_=function(e){this.callbackEntries_&&this.callbackEntries_.length||this.state_!=goog.Promise.State_.FULFILLED&&this.state_!=goog.Promise.State_.REJECTED||this.scheduleCallbacks_(),this.callbackEntries_||(this.callbackEntries_=[]),this.callbackEntries_.push(e)},goog.Promise.prototype.addChildPromise_=function(e,o,t){var r={child:null,onFulfilled:null,onRejected:null};return r.child=new goog.Promise(function(n,i){r.onFulfilled=e?function(o){try{var r=e.call(t,o);n(r)}catch(a){i(a)}}:n,r.onRejected=o?function(e){try{var r=o.call(t,e);!goog.isDef(r)&&e instanceof goog.Promise.CancellationError?i(e):n(r)}catch(a){i(a)}}:i}),r.child.parent_=this,this.addCallbackEntry_(r),r.child},goog.Promise.prototype.unblockAndFulfill_=function(e){goog.asserts.assert(this.state_==goog.Promise.State_.BLOCKED),this.state_=goog.Promise.State_.PENDING,this.resolve_(goog.Promise.State_.FULFILLED,e)},goog.Promise.prototype.unblockAndReject_=function(e){goog.asserts.assert(this.state_==goog.Promise.State_.BLOCKED),this.state_=goog.Promise.State_.PENDING,this.resolve_(goog.Promise.State_.REJECTED,e)},goog.Promise.prototype.resolve_=function(e,o){if(this.state_==goog.Promise.State_.PENDING){if(this==o)e=goog.Promise.State_.REJECTED,o=new TypeError("Promise cannot resolve to itself");else{if(goog.Thenable.isImplementedBy(o))return o=o,this.state_=goog.Promise.State_.BLOCKED,void o.then(this.unblockAndFulfill_,this.unblockAndReject_,this);if(goog.isObject(o))try{var t=o.then;if(goog.isFunction(t))return void this.tryThen_(o,t)}catch(r){e=goog.Promise.State_.REJECTED,o=r}}this.result_=o,this.state_=e,this.scheduleCallbacks_(),e!=goog.Promise.State_.REJECTED||o instanceof goog.Promise.CancellationError||goog.Promise.addUnhandledRejection_(this,o)}},goog.Promise.prototype.tryThen_=function(e,o){this.state_=goog.Promise.State_.BLOCKED;var t=this,r=!1,n=function(e){r||(r=!0,t.unblockAndFulfill_(e))},i=function(e){r||(r=!0,t.unblockAndReject_(e))};try{o.call(e,n,i)}catch(a){i(a)}},goog.Promise.prototype.scheduleCallbacks_=function(){this.executing_||(this.executing_=!0,goog.async.run(this.executeCallbacks_,this))},goog.Promise.prototype.executeCallbacks_=function(){for(;this.callbackEntries_&&this.callbackEntries_.length;){var e=this.callbackEntries_;this.callbackEntries_=[];for(var o=0;o<e.length;o++)goog.Promise.LONG_STACK_TRACES&&this.currentStep_++,this.executeCallback_(e[o],this.state_,this.result_)}this.executing_=!1},goog.Promise.prototype.executeCallback_=function(e,o,t){o==goog.Promise.State_.FULFILLED?e.onFulfilled(t):(e.child&&this.removeUnhandledRejection_(),e.onRejected(t))},goog.Promise.prototype.addStackTrace_=function(e){if(goog.Promise.LONG_STACK_TRACES&&goog.isString(e.stack)){var o=e.stack.split("\n",4)[3],t=e.message;t+=Array(11-t.length).join(" "),this.stack_.push(t+o)}},goog.Promise.prototype.appendLongStack_=function(e){if(goog.Promise.LONG_STACK_TRACES&&e&&goog.isString(e.stack)&&this.stack_.length){for(var o=["Promise trace:"],t=this;t;t=t.parent_){for(var r=this.currentStep_;r>=0;r--)o.push(t.stack_[r]);o.push("Value: ["+(t.state_==goog.Promise.State_.REJECTED?"REJECTED":"FULFILLED")+"] <"+String(t.result_)+">")}e.stack+="\n\n"+o.join("\n")}},goog.Promise.prototype.removeUnhandledRejection_=function(){if(goog.Promise.UNHANDLED_REJECTION_DELAY>0)for(var e=this;e&&e.unhandledRejectionId_;e=e.parent_)goog.global.clearTimeout(e.unhandledRejectionId_),e.unhandledRejectionId_=0;else if(0==goog.Promise.UNHANDLED_REJECTION_DELAY)for(var e=this;e&&e.hadUnhandledRejection_;e=e.parent_)e.hadUnhandledRejection_=!1},goog.Promise.addUnhandledRejection_=function(e,o){goog.Promise.UNHANDLED_REJECTION_DELAY>0?e.unhandledRejectionId_=goog.global.setTimeout(function(){e.appendLongStack_(o),goog.Promise.handleRejection_.call(null,o)},goog.Promise.UNHANDLED_REJECTION_DELAY):0==goog.Promise.UNHANDLED_REJECTION_DELAY&&(e.hadUnhandledRejection_=!0,goog.async.run(function(){e.hadUnhandledRejection_&&(e.appendLongStack_(o),goog.Promise.handleRejection_.call(null,o))}))},goog.Promise.handleRejection_=goog.async.throwException,goog.Promise.setUnhandledRejectionHandler=function(e){goog.Promise.handleRejection_=e},goog.Promise.CancellationError=function(e){goog.Promise.CancellationError.base(this,"constructor",e)},goog.inherits(goog.Promise.CancellationError,goog.debug.Error),goog.Promise.CancellationError.prototype.name="cancel",goog.Promise.Resolver_=function(e,o,t){this.promise=e,this.resolve=o,this.reject=t},goog.provide("goog.Timer"),goog.require("goog.Promise"),goog.require("goog.events.EventTarget"),goog.Timer=function(e,o){goog.events.EventTarget.call(this),this.interval_=e||1,this.timerObject_=o||goog.Timer.defaultTimerObject,this.boundTick_=goog.bind(this.tick_,this),this.last_=goog.now()},goog.inherits(goog.Timer,goog.events.EventTarget),goog.Timer.MAX_TIMEOUT_=2147483647,goog.Timer.INVALID_TIMEOUT_ID_=-1,goog.Timer.prototype.enabled=!1,goog.Timer.defaultTimerObject=goog.global,goog.Timer.intervalScale=.8,goog.Timer.prototype.timer_=null,goog.Timer.prototype.getInterval=function(){return this.interval_},goog.Timer.prototype.setInterval=function(e){this.interval_=e,this.timer_&&this.enabled?(this.stop(),this.start()):this.timer_&&this.stop();

},goog.Timer.prototype.tick_=function(){if(this.enabled){var e=goog.now()-this.last_;if(e>0&&e<this.interval_*goog.Timer.intervalScale)return void(this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_-e));this.timer_&&(this.timerObject_.clearTimeout(this.timer_),this.timer_=null),this.dispatchTick(),this.enabled&&(this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_),this.last_=goog.now())}},goog.Timer.prototype.dispatchTick=function(){this.dispatchEvent(goog.Timer.TICK)},goog.Timer.prototype.start=function(){this.enabled=!0,this.timer_||(this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_),this.last_=goog.now())},goog.Timer.prototype.stop=function(){this.enabled=!1,this.timer_&&(this.timerObject_.clearTimeout(this.timer_),this.timer_=null)},goog.Timer.prototype.disposeInternal=function(){goog.Timer.superClass_.disposeInternal.call(this),this.stop(),delete this.timerObject_},goog.Timer.TICK="tick",goog.Timer.callOnce=function(e,o,t){if(goog.isFunction(e))t&&(e=goog.bind(e,t));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=goog.bind(e.handleEvent,e)}return o>goog.Timer.MAX_TIMEOUT_?goog.Timer.INVALID_TIMEOUT_ID_:goog.Timer.defaultTimerObject.setTimeout(e,o||0)},goog.Timer.clear=function(e){goog.Timer.defaultTimerObject.clearTimeout(e)},goog.Timer.promise=function(e,o){var t=null;return new goog.Promise(function(r,n){t=goog.Timer.callOnce(function(){r(o)},e),t==goog.Timer.INVALID_TIMEOUT_ID_&&n(new Error("Failed to schedule timer."))}).thenCatch(function(e){throw goog.Timer.clear(t),e})},goog.provide("goog.json"),goog.provide("goog.json.Replacer"),goog.provide("goog.json.Reviver"),goog.provide("goog.json.Serializer"),goog.define("goog.json.USE_NATIVE_JSON",!1),goog.json.isValid=function(e){if(/^\s*$/.test(e))return!1;var o=/\\["\\\/bfnrtu]/g,t=/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,r=/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,n=/^[\],:{}\s\u2028\u2029]*$/;return n.test(e.replace(o,"@").replace(t,"]").replace(r,""))},goog.json.parse=goog.json.USE_NATIVE_JSON?goog.global.JSON.parse:function(s){var o=String(s);if(goog.json.isValid(o))try{return eval("("+o+")")}catch(ex){}throw Error("Invalid JSON string: "+o)},goog.json.unsafeParse=goog.json.USE_NATIVE_JSON?goog.global.JSON.parse:function(s){return eval("("+s+")")},goog.json.Replacer,goog.json.Reviver,goog.json.serialize=goog.json.USE_NATIVE_JSON?goog.global.JSON.stringify:function(e,o){return new goog.json.Serializer(o).serialize(e)},goog.json.Serializer=function(e){this.replacer_=e},goog.json.Serializer.prototype.serialize=function(e){var o=[];return this.serializeInternal(e,o),o.join("")},goog.json.Serializer.prototype.serializeInternal=function(e,o){switch(typeof e){case"string":this.serializeString_(e,o);break;case"number":this.serializeNumber_(e,o);break;case"boolean":o.push(e);break;case"undefined":o.push("null");break;case"object":if(null==e){o.push("null");break}if(goog.isArray(e)){this.serializeArray(e,o);break}this.serializeObject_(e,o);break;case"function":break;default:throw Error("Unknown type: "+typeof e)}},goog.json.Serializer.charToJsonCharCache_={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","":"\\u000b"},goog.json.Serializer.charsToReplace_=/\uffff/.test("￿")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,goog.json.Serializer.prototype.serializeString_=function(e,o){o.push('"',e.replace(goog.json.Serializer.charsToReplace_,function(e){if(e in goog.json.Serializer.charToJsonCharCache_)return goog.json.Serializer.charToJsonCharCache_[e];var o=e.charCodeAt(0),t="\\u";return 16>o?t+="000":256>o?t+="00":4096>o&&(t+="0"),goog.json.Serializer.charToJsonCharCache_[e]=t+o.toString(16)}),'"')},goog.json.Serializer.prototype.serializeNumber_=function(e,o){o.push(isFinite(e)&&!isNaN(e)?e:"null")},goog.json.Serializer.prototype.serializeArray=function(e,o){var t=e.length;o.push("[");for(var r="",n=0;t>n;n++){o.push(r);var i=e[n];this.serializeInternal(this.replacer_?this.replacer_.call(e,String(n),i):i,o),r=","}o.push("]")},goog.json.Serializer.prototype.serializeObject_=function(e,o){o.push("{");var t="";for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=e[r];"function"!=typeof n&&(o.push(t),this.serializeString_(r,o),o.push(":"),this.serializeInternal(this.replacer_?this.replacer_.call(e,r,n):n,o),t=",")}o.push("}")},goog.provide("goog.net.ErrorCode"),goog.net.ErrorCode={NO_ERROR:0,ACCESS_DENIED:1,FILE_NOT_FOUND:2,FF_SILENT_ERROR:3,CUSTOM_ERROR:4,EXCEPTION:5,HTTP_ERROR:6,ABORT:7,TIMEOUT:8,OFFLINE:9},goog.net.ErrorCode.getDebugMessage=function(e){switch(e){case goog.net.ErrorCode.NO_ERROR:return"No Error";case goog.net.ErrorCode.ACCESS_DENIED:return"Access denied to content document";case goog.net.ErrorCode.FILE_NOT_FOUND:return"File not found";case goog.net.ErrorCode.FF_SILENT_ERROR:return"Firefox silently errored";case goog.net.ErrorCode.CUSTOM_ERROR:return"Application custom error";case goog.net.ErrorCode.EXCEPTION:return"An exception occurred";case goog.net.ErrorCode.HTTP_ERROR:return"Http response at 400 or 500 level";case goog.net.ErrorCode.ABORT:return"Request was aborted";case goog.net.ErrorCode.TIMEOUT:return"Request timed out";case goog.net.ErrorCode.OFFLINE:return"The resource is not available offline";default:return"Unrecognized error code"}},goog.provide("goog.net.HttpStatus"),goog.net.HttpStatus={CONTINUE:100,SWITCHING_PROTOCOLS:101,OK:200,CREATED:201,ACCEPTED:202,NON_AUTHORITATIVE_INFORMATION:203,NO_CONTENT:204,RESET_CONTENT:205,PARTIAL_CONTENT:206,MULTIPLE_CHOICES:300,MOVED_PERMANENTLY:301,FOUND:302,SEE_OTHER:303,NOT_MODIFIED:304,USE_PROXY:305,TEMPORARY_REDIRECT:307,BAD_REQUEST:400,UNAUTHORIZED:401,PAYMENT_REQUIRED:402,FORBIDDEN:403,NOT_FOUND:404,METHOD_NOT_ALLOWED:405,NOT_ACCEPTABLE:406,PROXY_AUTHENTICATION_REQUIRED:407,REQUEST_TIMEOUT:408,CONFLICT:409,GONE:410,LENGTH_REQUIRED:411,PRECONDITION_FAILED:412,REQUEST_ENTITY_TOO_LARGE:413,REQUEST_URI_TOO_LONG:414,UNSUPPORTED_MEDIA_TYPE:415,REQUEST_RANGE_NOT_SATISFIABLE:416,EXPECTATION_FAILED:417,PRECONDITION_REQUIRED:428,TOO_MANY_REQUESTS:429,REQUEST_HEADER_FIELDS_TOO_LARGE:431,INTERNAL_SERVER_ERROR:500,NOT_IMPLEMENTED:501,BAD_GATEWAY:502,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,HTTP_VERSION_NOT_SUPPORTED:505,NETWORK_AUTHENTICATION_REQUIRED:511,QUIRK_IE_NO_CONTENT:1223},goog.net.HttpStatus.isSuccess=function(e){switch(e){case goog.net.HttpStatus.OK:case goog.net.HttpStatus.CREATED:case goog.net.HttpStatus.ACCEPTED:case goog.net.HttpStatus.NO_CONTENT:case goog.net.HttpStatus.PARTIAL_CONTENT:case goog.net.HttpStatus.NOT_MODIFIED:case goog.net.HttpStatus.QUIRK_IE_NO_CONTENT:return!0;default:return!1}},goog.provide("goog.net.XhrLike"),goog.net.XhrLike=function(){},goog.net.XhrLike.OrNative,goog.net.XhrLike.prototype.onreadystatechange,goog.net.XhrLike.prototype.responseText,goog.net.XhrLike.prototype.responseXML,goog.net.XhrLike.prototype.readyState,goog.net.XhrLike.prototype.status,goog.net.XhrLike.prototype.statusText,goog.net.XhrLike.prototype.open=function(e,o,t,r,n){},goog.net.XhrLike.prototype.send=function(e){},goog.net.XhrLike.prototype.abort=function(){},goog.net.XhrLike.prototype.setRequestHeader=function(e,o){},goog.net.XhrLike.prototype.getResponseHeader=function(e){},goog.net.XhrLike.prototype.getAllResponseHeaders=function(){},goog.provide("goog.net.XmlHttpFactory"),goog.require("goog.net.XhrLike"),goog.net.XmlHttpFactory=function(){},goog.net.XmlHttpFactory.prototype.cachedOptions_=null,goog.net.XmlHttpFactory.prototype.createInstance=goog.abstractMethod,goog.net.XmlHttpFactory.prototype.getOptions=function(){return this.cachedOptions_||(this.cachedOptions_=this.internalGetOptions())},goog.net.XmlHttpFactory.prototype.internalGetOptions=goog.abstractMethod,goog.provide("goog.net.WrapperXmlHttpFactory"),goog.require("goog.net.XhrLike"),goog.require("goog.net.XmlHttpFactory"),goog.net.WrapperXmlHttpFactory=function(e,o){goog.net.XmlHttpFactory.call(this),this.xhrFactory_=e,this.optionsFactory_=o},goog.inherits(goog.net.WrapperXmlHttpFactory,goog.net.XmlHttpFactory),goog.net.WrapperXmlHttpFactory.prototype.createInstance=function(){return this.xhrFactory_()},goog.net.WrapperXmlHttpFactory.prototype.getOptions=function(){return this.optionsFactory_()},goog.provide("goog.net.DefaultXmlHttpFactory"),goog.provide("goog.net.XmlHttp"),goog.provide("goog.net.XmlHttp.OptionType"),goog.provide("goog.net.XmlHttp.ReadyState"),goog.provide("goog.net.XmlHttpDefines"),goog.require("goog.asserts"),goog.require("goog.net.WrapperXmlHttpFactory"),goog.require("goog.net.XmlHttpFactory"),goog.net.XmlHttp=function(){return goog.net.XmlHttp.factory_.createInstance()},goog.define("goog.net.XmlHttp.ASSUME_NATIVE_XHR",!1),goog.net.XmlHttpDefines={},goog.define("goog.net.XmlHttpDefines.ASSUME_NATIVE_XHR",!1),goog.net.XmlHttp.getOptions=function(){return goog.net.XmlHttp.factory_.getOptions()},goog.net.XmlHttp.OptionType={USE_NULL_FUNCTION:0,LOCAL_REQUEST_ERROR:1},goog.net.XmlHttp.ReadyState={UNINITIALIZED:0,LOADING:1,LOADED:2,INTERACTIVE:3,COMPLETE:4},goog.net.XmlHttp.factory_,goog.net.XmlHttp.setFactory=function(e,o){goog.net.XmlHttp.setGlobalFactory(new goog.net.WrapperXmlHttpFactory(goog.asserts.assert(e),goog.asserts.assert(o)))},goog.net.XmlHttp.setGlobalFactory=function(e){goog.net.XmlHttp.factory_=e},goog.net.DefaultXmlHttpFactory=function(){goog.net.XmlHttpFactory.call(this)},goog.inherits(goog.net.DefaultXmlHttpFactory,goog.net.XmlHttpFactory),goog.net.DefaultXmlHttpFactory.prototype.createInstance=function(){var e=this.getProgId_();return e?new ActiveXObject(e):new XMLHttpRequest},goog.net.DefaultXmlHttpFactory.prototype.internalGetOptions=function(){var e=this.getProgId_(),o={};return e&&(o[goog.net.XmlHttp.OptionType.USE_NULL_FUNCTION]=!0,o[goog.net.XmlHttp.OptionType.LOCAL_REQUEST_ERROR]=!0),o},goog.net.DefaultXmlHttpFactory.prototype.ieProgId_,goog.net.DefaultXmlHttpFactory.prototype.getProgId_=function(){if(goog.net.XmlHttp.ASSUME_NATIVE_XHR||goog.net.XmlHttpDefines.ASSUME_NATIVE_XHR)return"";if(!this.ieProgId_&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],o=0;o<e.length;o++){var t=e[o];try{return new ActiveXObject(t),this.ieProgId_=t,t}catch(r){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return this.ieProgId_},goog.net.XmlHttp.setGlobalFactory(new goog.net.DefaultXmlHttpFactory),goog.provide("goog.uri.utils"),goog.provide("goog.uri.utils.ComponentIndex"),goog.provide("goog.uri.utils.QueryArray"),goog.provide("goog.uri.utils.QueryValue"),goog.provide("goog.uri.utils.StandardQueryParam"),goog.require("goog.asserts"),goog.require("goog.string"),goog.require("goog.userAgent"),goog.uri.utils.CharCode_={AMPERSAND:38,EQUAL:61,HASH:35,QUESTION:63},goog.uri.utils.buildFromEncodedParts=function(e,o,t,r,n,i,a){var s="";return e&&(s+=e+":"),t&&(s+="//",o&&(s+=o+"@"),s+=t,r&&(s+=":"+r)),n&&(s+=n),i&&(s+="?"+i),a&&(s+="#"+a),s},goog.uri.utils.splitRe_=new RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$"),goog.uri.utils.ComponentIndex={SCHEME:1,USER_INFO:2,DOMAIN:3,PORT:4,PATH:5,QUERY_DATA:6,FRAGMENT:7},goog.uri.utils.split=function(e){return goog.uri.utils.phishingProtection_(),e.match(goog.uri.utils.splitRe_)},goog.uri.utils.needsPhishingProtection_=goog.userAgent.WEBKIT,goog.uri.utils.phishingProtection_=function(){if(goog.uri.utils.needsPhishingProtection_){goog.uri.utils.needsPhishingProtection_=!1;var e=goog.global.location;if(e){var o=e.href;if(o){var t=goog.uri.utils.getDomain(o);if(t&&t!=e.hostname)throw goog.uri.utils.needsPhishingProtection_=!0,Error()}}}},goog.uri.utils.decodeIfPossible_=function(e,o){return e?o?decodeURI(e):decodeURIComponent(e):e},goog.uri.utils.getComponentByIndex_=function(e,o){return goog.uri.utils.split(o)[e]||null},goog.uri.utils.getScheme=function(e){return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.SCHEME,e)},goog.uri.utils.getEffectiveScheme=function(e){var o=goog.uri.utils.getScheme(e);if(!o&&self.location){var t=self.location.protocol;o=t.substr(0,t.length-1)}return o?o.toLowerCase():""},goog.uri.utils.getUserInfoEncoded=function(e){return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.USER_INFO,e)},goog.uri.utils.getUserInfo=function(e){return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getUserInfoEncoded(e))},goog.uri.utils.getDomainEncoded=function(e){return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.DOMAIN,e)},goog.uri.utils.getDomain=function(e){return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getDomainEncoded(e),!0)},goog.uri.utils.getPort=function(e){return Number(goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.PORT,e))||null},goog.uri.utils.getPathEncoded=function(e){return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.PATH,e)},goog.uri.utils.getPath=function(e){return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getPathEncoded(e),!0)},goog.uri.utils.getQueryData=function(e){return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.QUERY_DATA,e)},goog.uri.utils.getFragmentEncoded=function(e){var o=e.indexOf("#");return 0>o?null:e.substr(o+1)},goog.uri.utils.setFragmentEncoded=function(e,o){return goog.uri.utils.removeFragment(e)+(o?"#"+o:"")},goog.uri.utils.getFragment=function(e){return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getFragmentEncoded(e))},goog.uri.utils.getHost=function(e){var o=goog.uri.utils.split(e);return goog.uri.utils.buildFromEncodedParts(o[goog.uri.utils.ComponentIndex.SCHEME],o[goog.uri.utils.ComponentIndex.USER_INFO],o[goog.uri.utils.ComponentIndex.DOMAIN],o[goog.uri.utils.ComponentIndex.PORT])},goog.uri.utils.getPathAndAfter=function(e){var o=goog.uri.utils.split(e);return goog.uri.utils.buildFromEncodedParts(null,null,null,null,o[goog.uri.utils.ComponentIndex.PATH],o[goog.uri.utils.ComponentIndex.QUERY_DATA],o[goog.uri.utils.ComponentIndex.FRAGMENT])},goog.uri.utils.removeFragment=function(e){var o=e.indexOf("#");return 0>o?e:e.substr(0,o)},goog.uri.utils.haveSameDomain=function(e,o){var t=goog.uri.utils.split(e),r=goog.uri.utils.split(o);return t[goog.uri.utils.ComponentIndex.DOMAIN]==r[goog.uri.utils.ComponentIndex.DOMAIN]&&t[goog.uri.utils.ComponentIndex.SCHEME]==r[goog.uri.utils.ComponentIndex.SCHEME]&&t[goog.uri.utils.ComponentIndex.PORT]==r[goog.uri.utils.ComponentIndex.PORT]},goog.uri.utils.assertNoFragmentsOrQueries_=function(e){if(goog.DEBUG&&(e.indexOf("#")>=0||e.indexOf("?")>=0))throw Error("goog.uri.utils: Fragment or query identifiers are not supported: ["+e+"]")},goog.uri.utils.QueryValue,goog.uri.utils.QueryArray,goog.uri.utils.parseQueryData=function(e,o){for(var t=e.split("&"),r=0;r<t.length;r++){var n=t[r].indexOf("="),i=null,a=null;n>=0?(i=t[r].substring(0,n),a=t[r].substring(n+1)):i=t[r],o(i,a?goog.string.urlDecode(a):"")}},goog.uri.utils.appendQueryData_=function(e){if(e[1]){var o=e[0],t=o.indexOf("#");t>=0&&(e.push(o.substr(t)),e[0]=o=o.substr(0,t));var r=o.indexOf("?");0>r?e[1]="?":r==o.length-1&&(e[1]=void 0)}return e.join("")},goog.uri.utils.appendKeyValuePairs_=function(e,o,t){if(goog.isArray(o)){goog.asserts.assertArray(o);for(var r=0;r<o.length;r++)goog.uri.utils.appendKeyValuePairs_(e,String(o[r]),t)}else null!=o&&t.push("&",e,""===o?"":"=",goog.string.urlEncode(o))},goog.uri.utils.buildQueryDataBuffer_=function(e,o,t){goog.asserts.assert(Math.max(o.length-(t||0),0)%2==0,"goog.uri.utils: Key/value lists must be even in length.");for(var r=t||0;r<o.length;r+=2)goog.uri.utils.appendKeyValuePairs_(o[r],o[r+1],e);return e},goog.uri.utils.buildQueryData=function(e,o){var t=goog.uri.utils.buildQueryDataBuffer_([],e,o);return t[0]="",t.join("")},goog.uri.utils.buildQueryDataBufferFromMap_=function(e,o){for(var t in o)goog.uri.utils.appendKeyValuePairs_(t,o[t],e);return e},goog.uri.utils.buildQueryDataFromMap=function(e){var o=goog.uri.utils.buildQueryDataBufferFromMap_([],e);return o[0]="",o.join("")},goog.uri.utils.appendParams=function(e,o){return goog.uri.utils.appendQueryData_(2==arguments.length?goog.uri.utils.buildQueryDataBuffer_([e],arguments[1],0):goog.uri.utils.buildQueryDataBuffer_([e],arguments,1))},goog.uri.utils.appendParamsFromMap=function(e,o){return goog.uri.utils.appendQueryData_(goog.uri.utils.buildQueryDataBufferFromMap_([e],o))},goog.uri.utils.appendParam=function(e,o,t){var r=[e,"&",o];return goog.isDefAndNotNull(t)&&r.push("=",goog.string.urlEncode(t)),goog.uri.utils.appendQueryData_(r)},goog.uri.utils.findParam_=function(e,o,t,r){for(var n=o,i=t.length;(n=e.indexOf(t,n))>=0&&r>n;){var a=e.charCodeAt(n-1);if(a==goog.uri.utils.CharCode_.AMPERSAND||a==goog.uri.utils.CharCode_.QUESTION){var s=e.charCodeAt(n+i);if(!s||s==goog.uri.utils.CharCode_.EQUAL||s==goog.uri.utils.CharCode_.AMPERSAND||s==goog.uri.utils.CharCode_.HASH)return n}n+=i+1}return-1},goog.uri.utils.hashOrEndRe_=/#|$/,goog.uri.utils.hasParam=function(e,o){return goog.uri.utils.findParam_(e,0,o,e.search(goog.uri.utils.hashOrEndRe_))>=0},goog.uri.utils.getParamValue=function(e,o){var t=e.search(goog.uri.utils.hashOrEndRe_),r=goog.uri.utils.findParam_(e,0,o,t);if(0>r)return null;var n=e.indexOf("&",r);return(0>n||n>t)&&(n=t),r+=o.length+1,goog.string.urlDecode(e.substr(r,n-r))},goog.uri.utils.getParamValues=function(e,o){for(var t,r=e.search(goog.uri.utils.hashOrEndRe_),n=0,i=[];(t=goog.uri.utils.findParam_(e,n,o,r))>=0;)n=e.indexOf("&",t),(0>n||n>r)&&(n=r),t+=o.length+1,i.push(goog.string.urlDecode(e.substr(t,n-t)));return i},goog.uri.utils.trailingQueryPunctuationRe_=/[?&]($|#)/,goog.uri.utils.removeParam=function(e,o){for(var t,r=e.search(goog.uri.utils.hashOrEndRe_),n=0,i=[];(t=goog.uri.utils.findParam_(e,n,o,r))>=0;)i.push(e.substring(n,t)),n=Math.min(e.indexOf("&",t)+1||r,r);return i.push(e.substr(n)),i.join("").replace(goog.uri.utils.trailingQueryPunctuationRe_,"$1")},goog.uri.utils.setParam=function(e,o,t){return goog.uri.utils.appendParam(goog.uri.utils.removeParam(e,o),o,t)},goog.uri.utils.appendPath=function(e,o){return goog.uri.utils.assertNoFragmentsOrQueries_(e),goog.string.endsWith(e,"/")&&(e=e.substr(0,e.length-1)),goog.string.startsWith(o,"/")&&(o=o.substr(1)),goog.string.buildString(e,"/",o)},goog.uri.utils.setPath=function(e,o){goog.string.startsWith(o,"/")||(o="/"+o);var t=goog.uri.utils.split(e);return goog.uri.utils.buildFromEncodedParts(t[goog.uri.utils.ComponentIndex.SCHEME],t[goog.uri.utils.ComponentIndex.USER_INFO],t[goog.uri.utils.ComponentIndex.DOMAIN],t[goog.uri.utils.ComponentIndex.PORT],o,t[goog.uri.utils.ComponentIndex.QUERY_DATA],t[goog.uri.utils.ComponentIndex.FRAGMENT])},goog.uri.utils.StandardQueryParam={RANDOM:"zx"},goog.uri.utils.makeUnique=function(e){return goog.uri.utils.setParam(e,goog.uri.utils.StandardQueryParam.RANDOM,goog.string.getRandomString())},goog.provide("goog.net.XhrIo"),goog.provide("goog.net.XhrIo.ResponseType"),goog.require("goog.Timer"),goog.require("goog.array"),goog.require("goog.debug.entryPointRegistry"),goog.require("goog.events.EventTarget"),goog.require("goog.json"),goog.require("goog.log"),goog.require("goog.net.ErrorCode"),goog.require("goog.net.EventType"),goog.require("goog.net.HttpStatus"),goog.require("goog.net.XmlHttp"),goog.require("goog.object"),goog.require("goog.string"),goog.require("goog.structs"),goog.require("goog.structs.Map"),goog.require("goog.uri.utils"),goog.require("goog.userAgent"),goog.forwardDeclare("goog.Uri"),goog.net.XhrIo=function(e){goog.net.XhrIo.base(this,"constructor"),this.headers=new goog.structs.Map,this.xmlHttpFactory_=e||null,this.active_=!1,this.xhr_=null,this.xhrOptions_=null,this.lastUri_="",this.lastMethod_="",this.lastErrorCode_=goog.net.ErrorCode.NO_ERROR,this.lastError_="",this.errorDispatched_=!1,this.inSend_=!1,this.inOpen_=!1,this.inAbort_=!1,this.timeoutInterval_=0,this.timeoutId_=null,this.responseType_=goog.net.XhrIo.ResponseType.DEFAULT,this.withCredentials_=!1,this.useXhr2Timeout_=!1},goog.inherits(goog.net.XhrIo,goog.events.EventTarget),goog.net.XhrIo.ResponseType={DEFAULT:"",TEXT:"text",DOCUMENT:"document",BLOB:"blob",ARRAY_BUFFER:"arraybuffer"},goog.net.XhrIo.prototype.logger_=goog.log.getLogger("goog.net.XhrIo"),goog.net.XhrIo.CONTENT_TYPE_HEADER="Content-Type",goog.net.XhrIo.HTTP_SCHEME_PATTERN=/^https?$/i,goog.net.XhrIo.METHODS_WITH_FORM_DATA=["POST","PUT"],goog.net.XhrIo.FORM_CONTENT_TYPE="application/x-www-form-urlencoded;charset=utf-8",goog.net.XhrIo.XHR2_TIMEOUT_="timeout",goog.net.XhrIo.XHR2_ON_TIMEOUT_="ontimeout",goog.net.XhrIo.sendInstances_=[],goog.net.XhrIo.send=function(e,o,t,r,n,i,a){var s=new goog.net.XhrIo;return goog.net.XhrIo.sendInstances_.push(s),o&&s.listen(goog.net.EventType.COMPLETE,o),s.listenOnce(goog.net.EventType.READY,s.cleanupSend_),i&&s.setTimeoutInterval(i),a&&s.setWithCredentials(a),s.send(e,t,r,n),s},goog.net.XhrIo.cleanup=function(){for(var e=goog.net.XhrIo.sendInstances_;e.length;)e.pop().dispose()},goog.net.XhrIo.protectEntryPoints=function(e){goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_=e.protectEntryPoint(goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_)},goog.net.XhrIo.prototype.cleanupSend_=function(){this.dispose(),goog.array.remove(goog.net.XhrIo.sendInstances_,this)},goog.net.XhrIo.prototype.getTimeoutInterval=function(){return this.timeoutInterval_},goog.net.XhrIo.prototype.setTimeoutInterval=function(e){this.timeoutInterval_=Math.max(0,e)},goog.net.XhrIo.prototype.setResponseType=function(e){this.responseType_=e},goog.net.XhrIo.prototype.getResponseType=function(){return this.responseType_},goog.net.XhrIo.prototype.setWithCredentials=function(e){this.withCredentials_=e},goog.net.XhrIo.prototype.getWithCredentials=function(){return this.withCredentials_},goog.net.XhrIo.prototype.send=function(e,o,t,r){if(this.xhr_)throw Error("[goog.net.XhrIo] Object is active with another request="+this.lastUri_+"; newUri="+e);var n=o?o.toUpperCase():"GET";this.lastUri_=e,this.lastError_="",this.lastErrorCode_=goog.net.ErrorCode.NO_ERROR,this.lastMethod_=n,this.errorDispatched_=!1,this.active_=!0,this.xhr_=this.createXhr(),this.xhrOptions_=this.xmlHttpFactory_?this.xmlHttpFactory_.getOptions():goog.net.XmlHttp.getOptions(),this.xhr_.onreadystatechange=goog.bind(this.onReadyStateChange_,this);try{goog.log.fine(this.logger_,this.formatMsg_("Opening Xhr")),this.inOpen_=!0,this.xhr_.open(n,String(e),!0),this.inOpen_=!1}catch(i){return goog.log.fine(this.logger_,this.formatMsg_("Error opening Xhr: "+i.message)),void this.error_(goog.net.ErrorCode.EXCEPTION,i)}var a=t||"",s=this.headers.clone();r&&goog.structs.forEach(r,function(e,o){s.set(o,e)});var g=goog.array.find(s.getKeys(),goog.net.XhrIo.isContentTypeHeader_),l=goog.global.FormData&&a instanceof goog.global.FormData;!goog.array.contains(goog.net.XhrIo.METHODS_WITH_FORM_DATA,n)||g||l||s.set(goog.net.XhrIo.CONTENT_TYPE_HEADER,goog.net.XhrIo.FORM_CONTENT_TYPE),s.forEach(function(e,o){this.xhr_.setRequestHeader(o,e)},this),this.responseType_&&(this.xhr_.responseType=this.responseType_),goog.object.containsKey(this.xhr_,"withCredentials")&&(this.xhr_.withCredentials=this.withCredentials_);try{this.cleanUpTimeoutTimer_(),this.timeoutInterval_>0&&(this.useXhr2Timeout_=goog.net.XhrIo.shouldUseXhr2Timeout_(this.xhr_),goog.log.fine(this.logger_,this.formatMsg_("Will abort after "+this.timeoutInterval_+"ms if incomplete, xhr2 "+this.useXhr2Timeout_)),this.useXhr2Timeout_?(this.xhr_[goog.net.XhrIo.XHR2_TIMEOUT_]=this.timeoutInterval_,this.xhr_[goog.net.XhrIo.XHR2_ON_TIMEOUT_]=goog.bind(this.timeout_,this)):this.timeoutId_=goog.Timer.callOnce(this.timeout_,this.timeoutInterval_,this)),goog.log.fine(this.logger_,this.formatMsg_("Sending request")),this.inSend_=!0,this.xhr_.send(a),this.inSend_=!1}catch(i){goog.log.fine(this.logger_,this.formatMsg_("Send error: "+i.message)),this.error_(goog.net.ErrorCode.EXCEPTION,i)}},goog.net.XhrIo.shouldUseXhr2Timeout_=function(e){return goog.userAgent.IE&&goog.userAgent.isVersionOrHigher(9)&&goog.isNumber(e[goog.net.XhrIo.XHR2_TIMEOUT_])&&goog.isDef(e[goog.net.XhrIo.XHR2_ON_TIMEOUT_])},goog.net.XhrIo.isContentTypeHeader_=function(e){return goog.string.caseInsensitiveEquals(goog.net.XhrIo.CONTENT_TYPE_HEADER,e)},goog.net.XhrIo.prototype.createXhr=function(){return this.xmlHttpFactory_?this.xmlHttpFactory_.createInstance():goog.net.XmlHttp()},goog.net.XhrIo.prototype.timeout_=function(){"undefined"==typeof goog||this.xhr_&&(this.lastError_="Timed out after "+this.timeoutInterval_+"ms, aborting",this.lastErrorCode_=goog.net.ErrorCode.TIMEOUT,goog.log.fine(this.logger_,this.formatMsg_(this.lastError_)),this.dispatchEvent(goog.net.EventType.TIMEOUT),this.abort(goog.net.ErrorCode.TIMEOUT))},goog.net.XhrIo.prototype.error_=function(e,o){this.active_=!1,this.xhr_&&(this.inAbort_=!0,this.xhr_.abort(),this.inAbort_=!1),this.lastError_=o,this.lastErrorCode_=e,this.dispatchErrors_(),this.cleanUpXhr_()},goog.net.XhrIo.prototype.dispatchErrors_=function(){this.errorDispatched_||(this.errorDispatched_=!0,this.dispatchEvent(goog.net.EventType.COMPLETE),this.dispatchEvent(goog.net.EventType.ERROR))},goog.net.XhrIo.prototype.abort=function(e){this.xhr_&&this.active_&&(goog.log.fine(this.logger_,this.formatMsg_("Aborting")),this.active_=!1,this.inAbort_=!0,this.xhr_.abort(),this.inAbort_=!1,this.lastErrorCode_=e||goog.net.ErrorCode.ABORT,this.dispatchEvent(goog.net.EventType.COMPLETE),this.dispatchEvent(goog.net.EventType.ABORT),this.cleanUpXhr_())},goog.net.XhrIo.prototype.disposeInternal=function(){this.xhr_&&(this.active_&&(this.active_=!1,this.inAbort_=!0,this.xhr_.abort(),this.inAbort_=!1),this.cleanUpXhr_(!0)),goog.net.XhrIo.base(this,"disposeInternal")},goog.net.XhrIo.prototype.onReadyStateChange_=function(){this.isDisposed()||(this.inOpen_||this.inSend_||this.inAbort_?this.onReadyStateChangeHelper_():this.onReadyStateChangeEntryPoint_())},goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_=function(){this.onReadyStateChangeHelper_()},goog.net.XhrIo.prototype.onReadyStateChangeHelper_=function(){if(this.active_)if("undefined"==typeof goog);else if(this.xhrOptions_[goog.net.XmlHttp.OptionType.LOCAL_REQUEST_ERROR]&&this.getReadyState()==goog.net.XmlHttp.ReadyState.COMPLETE&&2==this.getStatus())goog.log.fine(this.logger_,this.formatMsg_("Local request error detected and ignored"));else{if(this.inSend_&&this.getReadyState()==goog.net.XmlHttp.ReadyState.COMPLETE)return void goog.Timer.callOnce(this.onReadyStateChange_,0,this);if(this.dispatchEvent(goog.net.EventType.READY_STATE_CHANGE),this.isComplete()){goog.log.fine(this.logger_,this.formatMsg_("Request complete")),this.active_=!1;try{this.isSuccess()?(this.dispatchEvent(goog.net.EventType.COMPLETE),this.dispatchEvent(goog.net.EventType.SUCCESS)):(this.lastErrorCode_=goog.net.ErrorCode.HTTP_ERROR,this.lastError_=this.getStatusText()+" ["+this.getStatus()+"]",this.dispatchErrors_())}finally{this.cleanUpXhr_()}}}},goog.net.XhrIo.prototype.cleanUpXhr_=function(e){if(this.xhr_){this.cleanUpTimeoutTimer_();var o=this.xhr_,t=this.xhrOptions_[goog.net.XmlHttp.OptionType.USE_NULL_FUNCTION]?goog.nullFunction:null;this.xhr_=null,this.xhrOptions_=null,e||this.dispatchEvent(goog.net.EventType.READY);try{o.onreadystatechange=t}catch(r){goog.log.error(this.logger_,"Problem encountered resetting onreadystatechange: "+r.message)}}},goog.net.XhrIo.prototype.cleanUpTimeoutTimer_=function(){this.xhr_&&this.useXhr2Timeout_&&(this.xhr_[goog.net.XhrIo.XHR2_ON_TIMEOUT_]=null),goog.isNumber(this.timeoutId_)&&(goog.Timer.clear(this.timeoutId_),this.timeoutId_=null)},goog.net.XhrIo.prototype.isActive=function(){return!!this.xhr_},goog.net.XhrIo.prototype.isComplete=function(){return this.getReadyState()==goog.net.XmlHttp.ReadyState.COMPLETE},goog.net.XhrIo.prototype.isSuccess=function(){var e=this.getStatus();return goog.net.HttpStatus.isSuccess(e)||0===e&&!this.isLastUriEffectiveSchemeHttp_()},goog.net.XhrIo.prototype.isLastUriEffectiveSchemeHttp_=function(){var e=goog.uri.utils.getEffectiveScheme(String(this.lastUri_));return goog.net.XhrIo.HTTP_SCHEME_PATTERN.test(e)},goog.net.XhrIo.prototype.getReadyState=function(){return this.xhr_?this.xhr_.readyState:goog.net.XmlHttp.ReadyState.UNINITIALIZED},goog.net.XhrIo.prototype.getStatus=function(){try{return this.getReadyState()>goog.net.XmlHttp.ReadyState.LOADED?this.xhr_.status:-1}catch(e){return-1}},goog.net.XhrIo.prototype.getStatusText=function(){try{return this.getReadyState()>goog.net.XmlHttp.ReadyState.LOADED?this.xhr_.statusText:""}catch(e){return goog.log.fine(this.logger_,"Can not get status: "+e.message),""}},goog.net.XhrIo.prototype.getLastUri=function(){return String(this.lastUri_)},goog.net.XhrIo.prototype.getResponseText=function(){try{return this.xhr_?this.xhr_.responseText:""}catch(e){return goog.log.fine(this.logger_,"Can not get responseText: "+e.message),""}},goog.net.XhrIo.prototype.getResponseBody=function(){try{if(this.xhr_&&"responseBody"in this.xhr_)return this.xhr_.responseBody}catch(e){goog.log.fine(this.logger_,"Can not get responseBody: "+e.message)}return null},goog.net.XhrIo.prototype.getResponseXml=function(){try{return this.xhr_?this.xhr_.responseXML:null}catch(e){return goog.log.fine(this.logger_,"Can not get responseXML: "+e.message),null}},goog.net.XhrIo.prototype.getResponseJson=function(e){if(!this.xhr_)return void 0;var o=this.xhr_.responseText;return e&&0==o.indexOf(e)&&(o=o.substring(e.length)),goog.json.parse(o)},goog.net.XhrIo.prototype.getResponse=function(){try{if(!this.xhr_)return null;if("response"in this.xhr_)return this.xhr_.response;switch(this.responseType_){case goog.net.XhrIo.ResponseType.DEFAULT:case goog.net.XhrIo.ResponseType.TEXT:return this.xhr_.responseText;case goog.net.XhrIo.ResponseType.ARRAY_BUFFER:if("mozResponseArrayBuffer"in this.xhr_)return this.xhr_.mozResponseArrayBuffer}return goog.log.error(this.logger_,"Response type "+this.responseType_+" is not supported on this browser"),null}catch(e){return goog.log.fine(this.logger_,"Can not get response: "+e.message),null}},goog.net.XhrIo.prototype.getResponseHeader=function(e){return this.xhr_&&this.isComplete()?this.xhr_.getResponseHeader(e):void 0},goog.net.XhrIo.prototype.getAllResponseHeaders=function(){return this.xhr_&&this.isComplete()?this.xhr_.getAllResponseHeaders():""},goog.net.XhrIo.prototype.getResponseHeaders=function(){for(var e={},o=this.getAllResponseHeaders().split("\r\n"),t=0;t<o.length;t++)if(!goog.string.isEmptyOrWhitespace(o[t])){var r=goog.string.splitLimit(o[t],": ",2);e[r[0]]?e[r[0]]+=", "+r[1]:e[r[0]]=r[1]}return e},goog.net.XhrIo.prototype.getLastErrorCode=function(){return this.lastErrorCode_},goog.net.XhrIo.prototype.getLastError=function(){return goog.isString(this.lastError_)?this.lastError_:String(this.lastError_)},goog.net.XhrIo.prototype.formatMsg_=function(e){return e+" ["+this.lastMethod_+" "+this.lastUri_+" "+this.getStatus()+"]"},goog.debug.entryPointRegistry.register(function(e){goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_=e(goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_)}),goog.provide("ol.format.FormatType"),ol.format.FormatType={JSON:"json",TEXT:"text",XML:"xml"},goog.provide("goog.dom.xml"),goog.require("goog.dom"),goog.require("goog.dom.NodeType"),goog.dom.xml.MAX_XML_SIZE_KB=2048,goog.dom.xml.MAX_ELEMENT_DEPTH=256,goog.dom.xml.createDocument=function(e,o){if(o&&!e)throw Error("Can't create document with namespace and no root tag");if(document.implementation&&document.implementation.createDocument)return document.implementation.createDocument(o||"",e||"",null);if("undefined"!=typeof ActiveXObject){var t=goog.dom.xml.createMsXmlDocument_();if(t)return e&&t.appendChild(t.createNode(goog.dom.NodeType.ELEMENT,e,o||"")),t}throw Error("Your browser does not support creating new documents")},goog.dom.xml.loadXml=function(e){if("undefined"!=typeof DOMParser)return(new DOMParser).parseFromString(e,"application/xml");

if("undefined"!=typeof ActiveXObject){var o=goog.dom.xml.createMsXmlDocument_();return o.loadXML(e),o}throw Error("Your browser does not support loading xml documents")},goog.dom.xml.serialize=function(e){if("undefined"!=typeof XMLSerializer)return(new XMLSerializer).serializeToString(e);var o=e.xml;if(o)return o;throw Error("Your browser does not support serializing XML documents")},goog.dom.xml.selectSingleNode=function(e,o){if("undefined"!=typeof e.selectSingleNode){var t=goog.dom.getOwnerDocument(e);return"undefined"!=typeof t.setProperty&&t.setProperty("SelectionLanguage","XPath"),e.selectSingleNode(o)}if(document.implementation.hasFeature("XPath","3.0")){var t=goog.dom.getOwnerDocument(e),r=t.createNSResolver(t.documentElement),n=t.evaluate(o,e,r,XPathResult.FIRST_ORDERED_NODE_TYPE,null);return n.singleNodeValue}return null},goog.dom.xml.selectNodes=function(e,o){if("undefined"!=typeof e.selectNodes){var t=goog.dom.getOwnerDocument(e);return"undefined"!=typeof t.setProperty&&t.setProperty("SelectionLanguage","XPath"),e.selectNodes(o)}if(document.implementation.hasFeature("XPath","3.0")){for(var t=goog.dom.getOwnerDocument(e),r=t.createNSResolver(t.documentElement),n=t.evaluate(o,e,r,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null),i=[],a=n.snapshotLength,s=0;a>s;s++)i.push(n.snapshotItem(s));return i}return[]},goog.dom.xml.setAttributes=function(e,o){for(var t in o)o.hasOwnProperty(t)&&e.setAttribute(t,o[t])},goog.dom.xml.createMsXmlDocument_=function(){var e=new ActiveXObject("MSXML2.DOMDocument");if(e){e.resolveExternals=!1,e.validateOnParse=!1;try{e.setProperty("ProhibitDTD",!0),e.setProperty("MaxXMLSize",goog.dom.xml.MAX_XML_SIZE_KB),e.setProperty("MaxElementDepth",goog.dom.xml.MAX_ELEMENT_DEPTH)}catch(o){}}return e},goog.provide("ol.xml"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.dom.NodeType"),goog.require("goog.dom.xml"),goog.require("goog.object"),goog.require("goog.userAgent"),ol.xml.NodeStackItem,ol.xml.Parser,ol.xml.Serializer,ol.xml.DOCUMENT=goog.dom.xml.createDocument(),ol.xml.createElementNS_=function(e,o){return ol.xml.DOCUMENT.createElementNS(e,o)},ol.xml.createElementNSActiveX_=function(e,o){return goog.isNull(e)&&(e=""),ol.xml.DOCUMENT.createNode(1,o,e)},ol.xml.createElementNS=document.implementation&&document.implementation.createDocument?ol.xml.createElementNS_:ol.xml.createElementNSActiveX_,ol.xml.getAllTextContent=function(e,o){return ol.xml.getAllTextContent_(e,o,[]).join("")},ol.xml.getAllTextContent_=function(e,o,t){if(e.nodeType==goog.dom.NodeType.CDATA_SECTION||e.nodeType==goog.dom.NodeType.TEXT)t.push(o?String(e.nodeValue).replace(/(\r\n|\r|\n)/g,""):e.nodeValue);else{var r;for(r=e.firstChild;!goog.isNull(r);r=r.nextSibling)ol.xml.getAllTextContent_(r,o,t)}return t},ol.xml.getLocalName_=function(e){return e.localName},ol.xml.getLocalNameIE_=function(e){var o=e.localName;if(goog.isDef(o))return o;var t=e.baseName;return goog.asserts.assert(goog.isDefAndNotNull(t),"Failed to get localName/baseName of node %s",e),t},ol.xml.getLocalName=goog.userAgent.IE?ol.xml.getLocalNameIE_:ol.xml.getLocalName_,ol.xml.isDocument_=function(e){return e instanceof Document},ol.xml.isDocumentIE_=function(e){return goog.isObject(e)&&e.nodeType==goog.dom.NodeType.DOCUMENT},ol.xml.isDocument=goog.userAgent.IE?ol.xml.isDocumentIE_:ol.xml.isDocument_,ol.xml.isNode_=function(e){return e instanceof Node},ol.xml.isNodeIE_=function(e){return goog.isObject(e)&&goog.isDef(e.nodeType)},ol.xml.isNode=goog.userAgent.IE?ol.xml.isNodeIE_:ol.xml.isNode_,ol.xml.getAttributeNS_=function(e,o,t){return e.getAttributeNS(o,t)||""},ol.xml.getAttributeNSActiveX_=function(e,o,t){var r="",n=ol.xml.getAttributeNodeNS(e,o,t);return goog.isDef(n)&&(r=n.nodeValue),r},ol.xml.getAttributeNS=document.implementation&&document.implementation.createDocument?ol.xml.getAttributeNS_:ol.xml.getAttributeNSActiveX_,ol.xml.getAttributeNodeNS_=function(e,o,t){return e.getAttributeNodeNS(o,t)},ol.xml.getAttributeNodeNSActiveX_=function(e,o,t){for(var r,n,i=null,a=e.attributes,s=0,g=a.length;g>s;++s)if(r=a[s],r.namespaceURI==o&&(n=r.prefix?r.prefix+":"+t:t,n==r.nodeName)){i=r;break}return i},ol.xml.getAttributeNodeNS=document.implementation&&document.implementation.createDocument?ol.xml.getAttributeNodeNS_:ol.xml.getAttributeNodeNSActiveX_,ol.xml.setAttributeNS_=function(e,o,t,r){e.setAttributeNS(o,t,r)},ol.xml.setAttributeNSActiveX_=function(e,o,t,r){if(goog.isNull(o))e.setAttribute(t,r);else{var n=e.ownerDocument.createNode(2,t,o);n.nodeValue=r,e.setAttributeNode(n)}},ol.xml.setAttributeNS=document.implementation&&document.implementation.createDocument?ol.xml.setAttributeNS_:ol.xml.setAttributeNSActiveX_,ol.xml.parse=function(e){return(new DOMParser).parseFromString(e,"application/xml")},ol.xml.makeArrayExtender=function(e,o){return function(t,r){var n=e.call(o,t,r);if(goog.isDef(n)){goog.asserts.assert(goog.isArray(n),"valueReader function is expected to return an array of values");var i=r[r.length-1];goog.asserts.assert(goog.isArray(i),"objectStack is supposed to be an array of arrays"),goog.array.extend(i,n)}}},ol.xml.makeArrayPusher=function(e,o){return function(t,r){var n=e.call(goog.isDef(o)?o:this,t,r);if(goog.isDef(n)){var i=r[r.length-1];goog.asserts.assert(goog.isArray(i),"objectStack is supposed to be an array of arrays"),i.push(n)}}},ol.xml.makeReplacer=function(e,o){return function(t,r){var n=e.call(goog.isDef(o)?o:this,t,r);goog.isDef(n)&&(r[r.length-1]=n)}},ol.xml.makeObjectPropertyPusher=function(e,o,t){return goog.asserts.assert(goog.isDef(e),"undefined valueReader, expected function(this: T, Node, Array.<*>)"),function(r,n){var i=e.call(goog.isDef(t)?t:this,r,n);if(goog.isDef(i)){var a=n[n.length-1],s=goog.isDef(o)?o:r.localName;goog.asserts.assert(goog.isObject(a),"entity from stack was not an object");var g=goog.object.setIfUndefined(a,s,[]);g.push(i)}}},ol.xml.makeObjectPropertySetter=function(e,o,t){return goog.asserts.assert(goog.isDef(e),"undefined valueReader, expected function(this: T, Node, Array.<*>)"),function(r,n){var i=e.call(goog.isDef(t)?t:this,r,n);if(goog.isDef(i)){var a=n[n.length-1],s=goog.isDef(o)?o:r.localName;goog.asserts.assert(goog.isObject(a),"entity from stack was not an object"),a[s]=i}}},ol.xml.makeParsersNS=function(e,o,t){return ol.xml.makeStructureNS(e,o,t)},ol.xml.makeChildAppender=function(e,o){return function(t,r,n){e.call(goog.isDef(o)?o:this,t,r,n);var i=n[n.length-1];goog.asserts.assert(goog.isObject(i),"entity from stack was not an object");var a=i.node;goog.asserts.assert(ol.xml.isNode(a)||ol.xml.isDocument(a),"expected parentNode %s to be a Node or a Document",a),a.appendChild(t)}},ol.xml.makeArraySerializer=function(e,o){var t,r;return function(o,n,i){if(!goog.isDef(t)){t={};var a={};a[o.localName]=e,t[o.namespaceURI]=a,r=ol.xml.makeSimpleNodeFactory(o.localName)}ol.xml.serialize(t,r,n,i)}},ol.xml.makeSimpleNodeFactory=function(e,o){var t=e;return function(e,r,n){var i=r[r.length-1],a=i.node;goog.asserts.assert(ol.xml.isNode(a)||ol.xml.isDocument(a),"expected node %s to be a Node or a Document",a);var s=t;goog.isDef(s)||(s=n);var g=o;return goog.isDef(o)||(g=a.namespaceURI),goog.asserts.assert(goog.isDef(s),"nodeName was undefined"),ol.xml.createElementNS(g,s)}},ol.xml.OBJECT_PROPERTY_NODE_FACTORY=ol.xml.makeSimpleNodeFactory(),ol.xml.makeSequence=function(e,o){for(var t=o.length,r=new Array(t),n=0;t>n;++n)r[n]=e[o[n]];return r},ol.xml.makeStructureNS=function(e,o,t){var r,n,i=goog.isDef(t)?t:{};for(r=0,n=e.length;n>r;++r)i[e[r]]=o;return i},ol.xml.parseNode=function(e,o,t,r){var n;for(n=o.firstElementChild;!goog.isNull(n);n=n.nextElementSibling){var i=e[n.namespaceURI];if(goog.isDef(i)){var a=i[n.localName];goog.isDef(a)&&a.call(r,n,t)}}},ol.xml.pushParseAndPop=function(e,o,t,r,n){return r.push(e),ol.xml.parseNode(o,t,r,n),r.pop()},ol.xml.serialize=function(e,o,t,r,n,i){for(var a,s,g=(goog.isDef(n)?n:t).length,l=0;g>l;++l)a=t[l],goog.isDef(a)&&(s=o.call(i,a,r,goog.isDef(n)?n[l]:void 0),goog.isDef(s)&&e[s.namespaceURI][s.localName].call(i,s,a,r))},ol.xml.pushSerializeAndPop=function(e,o,t,r,n,i,a){return n.push(e),ol.xml.serialize(o,t,r,n,i,a),n.pop()},goog.provide("ol.FeatureLoader"),goog.provide("ol.featureloader"),goog.require("goog.asserts"),goog.require("goog.events"),goog.require("goog.net.EventType"),goog.require("goog.net.XhrIo"),goog.require("goog.net.XhrIo.ResponseType"),goog.require("ol.format.FormatType"),goog.require("ol.xml"),ol.FeatureLoader,ol.featureloader.loadFeaturesXhr=function(e,o,t){return function(r,n,i){var a=new goog.net.XhrIo;a.setResponseType(goog.net.XhrIo.ResponseType.TEXT),goog.events.listen(a,goog.net.EventType.COMPLETE,function(e){var r=e.target;if(goog.asserts.assertInstanceof(r,goog.net.XhrIo,"event.target/xhrIo is an instance of goog.net.XhrIo"),r.isSuccess()){var n,a=o.getType();if(a==ol.format.FormatType.JSON?n=r.getResponseText():a==ol.format.FormatType.TEXT?n=r.getResponseText():a==ol.format.FormatType.XML?(goog.userAgent.IE||(n=r.getResponseXml()),goog.isDefAndNotNull(n)||(n=ol.xml.parse(r.getResponseText()))):goog.asserts.fail("unexpected format type"),goog.isDefAndNotNull(n)){var s=o.readFeatures(n,{featureProjection:i});t.call(this,s)}else goog.asserts.fail("undefined or null source")}goog.dispose(r)},!1,this),a.send(e)}},ol.featureloader.xhr=function(e,o){return ol.featureloader.loadFeaturesXhr(e,o,function(e){this.addFeatures(e)})},goog.provide("ol.LoadingStrategy"),goog.provide("ol.loadingstrategy"),goog.require("ol.TileCoord"),ol.LoadingStrategy,ol.loadingstrategy.all=function(e,o){return[[-(1/0),-(1/0),1/0,1/0]]},ol.loadingstrategy.bbox=function(e,o){return[e]},ol.loadingstrategy.tile=function(e){return function(o,t){var r=e.getZForResolution(t),n=e.getTileRangeForExtentAndZ(o,r),i=[],a=[r,0,0];for(a[1]=n.minX;a[1]<=n.maxX;++a[1])for(a[2]=n.minY;a[2]<=n.maxY;++a[2])i.push(e.getTileCoordExtent(a));return i}},goog.provide("ol.ext.rbush"),ol.ext.rbush,function(){var e={},o={exports:e};!function(){"use strict";function e(o,t){return this instanceof e?(this._maxEntries=Math.max(4,o||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),t&&this._initFormat(t),void this.clear()):new e(o,t)}function t(e,o){e.bbox=r(e,0,e.children.length,o)}function r(e,o,t,r){for(var a,s=n(),g=o;t>g;g++)a=e.children[g],i(s,e.leaf?r(a):a.bbox);return s}function n(){return[1/0,1/0,-(1/0),-(1/0)]}function i(e,o){return e[0]=Math.min(e[0],o[0]),e[1]=Math.min(e[1],o[1]),e[2]=Math.max(e[2],o[2]),e[3]=Math.max(e[3],o[3]),e}function a(e,o){return e.bbox[0]-o.bbox[0]}function s(e,o){return e.bbox[1]-o.bbox[1]}function g(e){return(e[2]-e[0])*(e[3]-e[1])}function l(e){return e[2]-e[0]+(e[3]-e[1])}function p(e,o){return(Math.max(o[2],e[2])-Math.min(o[0],e[0]))*(Math.max(o[3],e[3])-Math.min(o[1],e[1]))}function u(e,o){var t=Math.max(e[0],o[0]),r=Math.max(e[1],o[1]),n=Math.min(e[2],o[2]),i=Math.min(e[3],o[3]);return Math.max(0,n-t)*Math.max(0,i-r)}function c(e,o){return e[0]<=o[0]&&e[1]<=o[1]&&o[2]<=e[2]&&o[3]<=e[3]}function d(e,o){return o[0]<=e[2]&&o[1]<=e[3]&&o[2]>=e[0]&&o[3]>=e[1]}function h(e,o,t,r,n){for(var i,a=[o,t];a.length;)t=a.pop(),o=a.pop(),r>=t-o||(i=o+Math.ceil((t-o)/r/2)*r,m(e,o,t,i,n),a.push(o,i,i,t))}function m(e,o,t,r,n){for(var i,a,s,g,l,p,u,c,d;t>o;){for(t-o>600&&(i=t-o+1,a=r-o+1,s=Math.log(i),g=.5*Math.exp(2*s/3),l=.5*Math.sqrt(s*g*(i-g)/i)*(0>a-i/2?-1:1),p=Math.max(o,Math.floor(r-a*g/i+l)),u=Math.min(t,Math.floor(r+(i-a)*g/i+l)),m(e,p,u,r,n)),c=e[r],a=o,d=t,y(e,o,r),n(e[t],c)>0&&y(e,o,t);d>a;){for(y(e,a,d),a++,d--;n(e[a],c)<0;)a++;for(;n(e[d],c)>0;)d--}0===n(e[o],c)?y(e,o,d):(d++,y(e,d,t)),r>=d&&(o=d+1),d>=r&&(t=d-1)}}function y(e,o,t){var r=e[o];e[o]=e[t],e[t]=r}e.prototype={all:function(){return this._all(this.data,[])},search:function(e){var o=this.data,t=[],r=this.toBBox;if(!d(e,o.bbox))return t;for(var n,i,a,s,g=[];o;){for(n=0,i=o.children.length;i>n;n++)a=o.children[n],s=o.leaf?r(a):a.bbox,d(e,s)&&(o.leaf?t.push(a):c(e,s)?this._all(a,t):g.push(a));o=g.pop()}return t},load:function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var o=0,t=e.length;t>o;o++)this.insert(e[o]);return this}var r=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var n=this.data;this.data=r,r=n}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(e){return e&&this._insert(e,this.data.height-1),this},clear:function(){return this.data={children:[],height:1,bbox:n(),leaf:!0},this},remove:function(e){if(!e)return this;for(var o,t,r,n,i=this.data,a=this.toBBox(e),s=[],g=[];i||s.length;){if(i||(i=s.pop(),t=s[s.length-1],o=g.pop(),n=!0),i.leaf&&(r=i.children.indexOf(e),-1!==r))return i.children.splice(r,1),s.push(i),this._condense(s),this;n||i.leaf||!c(i.bbox,a)?t?(o++,i=t.children[o],n=!1):i=null:(s.push(i),g.push(o),o=0,t=i,i=i.children[0])}return this},toBBox:function(e){return e},compareMinX:function(e,o){return e[0]-o[0]},compareMinY:function(e,o){return e[1]-o[1]},toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,o){for(var t=[];e;)e.leaf?o.push.apply(o,e.children):t.push.apply(t,e.children),e=t.pop();return o},_build:function(e,o,r,n){var i,a=r-o+1,s=this._maxEntries;if(s>=a)return i={children:e.slice(o,r+1),height:1,bbox:null,leaf:!0},t(i,this.toBBox),i;n||(n=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,n-1))),i={children:[],height:n,bbox:null};var g,l,p,u,c=Math.ceil(a/s),d=c*Math.ceil(Math.sqrt(s));for(h(e,o,r,d,this.compareMinX),g=o;r>=g;g+=d)for(p=Math.min(g+d-1,r),h(e,g,p,c,this.compareMinY),l=g;p>=l;l+=c)u=Math.min(l+c-1,p),i.children.push(this._build(e,l,u,n-1));return t(i,this.toBBox),i},_chooseSubtree:function(e,o,t,r){for(var n,i,a,s,l,u,c,d;;){if(r.push(o),o.leaf||r.length-1===t)break;for(c=d=1/0,n=0,i=o.children.length;i>n;n++)a=o.children[n],l=g(a.bbox),u=p(e,a.bbox)-l,d>u?(d=u,c=c>l?l:c,s=a):u===d&&c>l&&(c=l,s=a);o=s}return o},_insert:function(e,o,t){var r=this.toBBox,n=t?e.bbox:r(e),a=[],s=this._chooseSubtree(n,this.data,o,a);for(s.children.push(e),i(s.bbox,n);o>=0&&a[o].children.length>this._maxEntries;)this._split(a,o),o--;this._adjustParentBBoxes(n,a,o)},_split:function(e,o){var r=e[o],n=r.children.length,i=this._minEntries;this._chooseSplitAxis(r,i,n);var a={children:r.children.splice(this._chooseSplitIndex(r,i,n)),height:r.height};r.leaf&&(a.leaf=!0),t(r,this.toBBox),t(a,this.toBBox),o?e[o-1].children.push(a):this._splitRoot(r,a)},_splitRoot:function(e,o){this.data={children:[e,o],height:e.height+1},t(this.data,this.toBBox)},_chooseSplitIndex:function(e,o,t){var n,i,a,s,l,p,c,d;for(p=c=1/0,n=o;t-o>=n;n++)i=r(e,0,n,this.toBBox),a=r(e,n,t,this.toBBox),s=u(i,a),l=g(i)+g(a),p>s?(p=s,d=n,c=c>l?l:c):s===p&&c>l&&(c=l,d=n);return d},_chooseSplitAxis:function(e,o,t){var r=e.leaf?this.compareMinX:a,n=e.leaf?this.compareMinY:s,i=this._allDistMargin(e,o,t,r),g=this._allDistMargin(e,o,t,n);g>i&&e.children.sort(r)},_allDistMargin:function(e,o,t,n){e.children.sort(n);var a,s,g=this.toBBox,p=r(e,0,o,g),u=r(e,t-o,t,g),c=l(p)+l(u);for(a=o;t-o>a;a++)s=e.children[a],i(p,e.leaf?g(s):s.bbox),c+=l(p);for(a=t-o-1;a>=o;a--)s=e.children[a],i(u,e.leaf?g(s):s.bbox),c+=l(u);return c},_adjustParentBBoxes:function(e,o,t){for(var r=t;r>=0;r--)i(o[r].bbox,e)},_condense:function(e){for(var o,r=e.length-1;r>=0;r--)0===e[r].children.length?r>0?(o=e[r-1].children,o.splice(o.indexOf(e[r]),1)):this.clear():t(e[r],this.toBBox)},_initFormat:function(e){var o=["return a"," - b",";"];this.compareMinX=new Function("a","b",o.join(e[0])),this.compareMinY=new Function("a","b",o.join(e[1])),this.toBBox=new Function("a","return [a"+e.join(", a")+"];")}},"function"==typeof define&&define.amd?define("rbush",function(){return e}):"undefined"!=typeof o?o.exports=e:"undefined"!=typeof self?self.rbush=e:window.rbush=e}(),ol.ext.rbush=o.exports}(),goog.provide("ol.structs.RBush"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.object"),goog.require("ol.ext.rbush"),goog.require("ol.extent"),ol.structs.RBush=function(e){this.rbush_=ol.ext.rbush(e),this.items_={},goog.DEBUG&&(this.readers_=0)},ol.structs.RBush.prototype.insert=function(e,o){if(goog.DEBUG&&this.readers_)throw new Error("Can not insert value while reading");var t=[e[0],e[1],e[2],e[3],o];this.rbush_.insert(t),goog.asserts.assert(!goog.object.containsKey(this.items_,goog.getUid(o)),"uid (%s) of value (%s) already exists",goog.getUid(o),o),this.items_[goog.getUid(o)]=t},ol.structs.RBush.prototype.load=function(e,o){if(goog.DEBUG&&this.readers_)throw new Error("Can not insert values while reading");goog.asserts.assert(e.length===o.length,"extens and values must have same length (%s === %s)",e.length,o.length);for(var t=new Array(o.length),r=0,n=o.length;n>r;r++){var i=e[r],a=o[r],s=[i[0],i[1],i[2],i[3],a];t[r]=s,goog.asserts.assert(!goog.object.containsKey(this.items_,goog.getUid(a)),"uid (%s) of value (%s) already exists",goog.getUid(a),a),this.items_[goog.getUid(a)]=s}this.rbush_.load(t)},ol.structs.RBush.prototype.remove=function(e){if(goog.DEBUG&&this.readers_)throw new Error("Can not remove value while reading");var o=goog.getUid(e);goog.asserts.assert(goog.object.containsKey(this.items_,o),"uid (%s) of value (%s) does not exist",o,e);var t=this.items_[o];return goog.object.remove(this.items_,o),null!==this.rbush_.remove(t)},ol.structs.RBush.prototype.update=function(e,o){var t=goog.getUid(o);goog.asserts.assert(goog.object.containsKey(this.items_,t),"uid (%s) of value (%s) does not exist",t,o);var r=this.items_[t];if(!ol.extent.equals(r.slice(0,4),e)){if(goog.DEBUG&&this.readers_)throw new Error("Can not update extent while reading");this.remove(o),this.insert(e,o)}},ol.structs.RBush.prototype.getAll=function(){var e=this.rbush_.all();return goog.array.map(e,function(e){return e[4]})},ol.structs.RBush.prototype.getInExtent=function(e){var o=this.rbush_.search(e);return goog.array.map(o,function(e){return e[4]})},ol.structs.RBush.prototype.forEach=function(e,o){if(!goog.DEBUG)return this.forEach_(this.getAll(),e,o);++this.readers_;try{return this.forEach_(this.getAll(),e,o)}finally{--this.readers_}},ol.structs.RBush.prototype.forEachInExtent=function(e,o,t){if(!goog.DEBUG)return this.forEach_(this.getInExtent(e),o,t);++this.readers_;try{return this.forEach_(this.getInExtent(e),o,t)}finally{--this.readers_}},ol.structs.RBush.prototype.forEach_=function(e,o,t){for(var r,n=0,i=e.length;i>n;n++)if(r=o.call(t,e[n]))return r;return r},ol.structs.RBush.prototype.isEmpty=function(){return goog.object.isEmpty(this.items_)},ol.structs.RBush.prototype.clear=function(){this.rbush_.clear(),this.items_={}},ol.structs.RBush.prototype.getExtent=function(e){return this.rbush_.data.bbox},goog.provide("ol.source.Vector"),goog.provide("ol.source.VectorEvent"),goog.provide("ol.source.VectorEventType"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.events"),goog.require("goog.events.Event"),goog.require("goog.events.EventType"),goog.require("goog.object"),goog.require("ol.Collection"),goog.require("ol.CollectionEventType"),goog.require("ol.Extent"),goog.require("ol.Feature"),goog.require("ol.FeatureLoader"),goog.require("ol.LoadingStrategy"),goog.require("ol.ObjectEventType"),goog.require("ol.extent"),goog.require("ol.featureloader"),goog.require("ol.loadingstrategy"),goog.require("ol.proj"),goog.require("ol.source.Source"),goog.require("ol.source.State"),goog.require("ol.structs.RBush"),ol.source.VectorEventType={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature"},ol.source.Vector=function(e){var o=goog.isDef(e)?e:{};goog.base(this,{attributions:o.attributions,logo:o.logo,projection:void 0,state:ol.source.State.READY,wrapX:goog.isDef(o.wrapX)?o.wrapX:!0}),this.loader_=goog.nullFunction,goog.isDef(o.loader)?this.loader_=o.loader:goog.isDef(o.url)&&(goog.asserts.assert(goog.isDef(o.format),"format must be set when url is set"),this.loader_=ol.featureloader.xhr(o.url,o.format)),this.strategy_=goog.isDef(o.strategy)?o.strategy:ol.loadingstrategy.all;var t=goog.isDef(o.useSpatialIndex)?o.useSpatialIndex:!0;this.featuresRtree_=t?new ol.structs.RBush:null,this.loadedExtentsRtree_=new ol.structs.RBush,this.nullGeometryFeatures_={},this.idIndex_={},this.undefIdIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;var r,n;o.features instanceof ol.Collection?(r=o.features,n=r.getArray()):goog.isArray(o.features)&&(n=o.features),t||goog.isDef(r)||(r=new ol.Collection(n)),goog.isDef(n)&&this.addFeaturesInternal(n),goog.isDef(r)&&this.bindFeaturesCollection_(r)},goog.inherits(ol.source.Vector,ol.source.Source),ol.source.Vector.prototype.addFeature=function(e){this.addFeatureInternal(e),this.changed()},ol.source.Vector.prototype.addFeatureInternal=function(e){var o=goog.getUid(e).toString();if(this.addToIndex_(o,e)){this.setupChangeEvents_(o,e);var t=e.getGeometry();if(goog.isDefAndNotNull(t)){var r=t.getExtent();goog.isNull(this.featuresRtree_)||this.featuresRtree_.insert(r,e)}else this.nullGeometryFeatures_[o]=e;this.dispatchEvent(new ol.source.VectorEvent(ol.source.VectorEventType.ADDFEATURE,e))}},ol.source.Vector.prototype.setupChangeEvents_=function(e,o){goog.asserts.assert(!(e in this.featureChangeKeys_),"key (%s) not yet registered in featureChangeKey",e),this.featureChangeKeys_[e]=[goog.events.listen(o,goog.events.EventType.CHANGE,this.handleFeatureChange_,!1,this),goog.events.listen(o,ol.ObjectEventType.PROPERTYCHANGE,this.handleFeatureChange_,!1,this)]},ol.source.Vector.prototype.addToIndex_=function(e,o){var t=!0,r=o.getId();return goog.isDef(r)?r.toString()in this.idIndex_?t=!1:this.idIndex_[r.toString()]=o:(goog.asserts.assert(!(e in this.undefIdIndex_),"Feature already added to the source"),this.undefIdIndex_[e]=o),t},ol.source.Vector.prototype.addFeatures=function(e){this.addFeaturesInternal(e),this.changed()},ol.source.Vector.prototype.addFeaturesInternal=function(e){var o,t,r,n,i=[],a=[],s=[];for(t=0,r=e.length;r>t;t++)n=e[t],o=goog.getUid(n).toString(),this.addToIndex_(o,n)&&a.push(n);for(t=0,r=a.length;r>t;t++){n=a[t],o=goog.getUid(n).toString(),this.setupChangeEvents_(o,n);var g=n.getGeometry();if(goog.isDefAndNotNull(g)){var l=g.getExtent();i.push(l),s.push(n)}else this.nullGeometryFeatures_[o]=n}for(goog.isNull(this.featuresRtree_)||this.featuresRtree_.load(i,s),t=0,r=a.length;r>t;t++)this.dispatchEvent(new ol.source.VectorEvent(ol.source.VectorEventType.ADDFEATURE,a[t]))},ol.source.Vector.prototype.bindFeaturesCollection_=function(e){goog.asserts.assert(goog.isNull(this.featuresCollection_),"bindFeaturesCollection can only be called once");var o=!1;goog.events.listen(this,ol.source.VectorEventType.ADDFEATURE,function(t){o||(o=!0,e.push(t.feature),o=!1)}),goog.events.listen(this,ol.source.VectorEventType.REMOVEFEATURE,function(t){o||(o=!0,e.remove(t.feature),o=!1)}),goog.events.listen(e,ol.CollectionEventType.ADD,function(e){if(!o){var t=e.element;goog.asserts.assertInstanceof(t,ol.Feature),o=!0,this.addFeature(t),o=!1}},!1,this),goog.events.listen(e,ol.CollectionEventType.REMOVE,function(e){if(!o){var t=e.element;goog.asserts.assertInstanceof(t,ol.Feature),o=!0,this.removeFeature(t),o=!1}},!1,this),this.featuresCollection_=e},ol.source.Vector.prototype.clear=function(e){if(e)if(goog.isNull(this.featuresCollection_)){for(var o in this.featureChangeKeys_){var t=this.featureChangeKeys_[o];goog.array.forEach(t,goog.events.unlistenByKey)}this.featureChangeKeys_={},this.idIndex_={},this.undefIdIndex_={}}else this.featuresCollection_.clear();else{var r=this.removeFeatureInternal;goog.isNull(this.featuresRtree_)||(this.featuresRtree_.forEach(r,this),goog.object.forEach(this.nullGeometryFeatures_,r,this))}goog.asserts.assert(goog.object.isEmpty(this.featureChangeKeys_),"featureChangeKeys is an empty object now"),goog.asserts.assert(goog.object.isEmpty(this.idIndex_),"idIndex is an empty object now"),goog.asserts.assert(goog.object.isEmpty(this.undefIdIndex_),"undefIdIndex is an empty object now"),goog.isNull(this.featuresRtree_)||this.featuresRtree_.clear(),this.loadedExtentsRtree_.clear(),this.nullGeometryFeatures_={};var n=new ol.source.VectorEvent(ol.source.VectorEventType.CLEAR);this.dispatchEvent(n),this.changed()},ol.source.Vector.prototype.forEachFeature=function(e,o){return goog.isNull(this.featuresRtree_)?goog.isNull(this.featuresCollection_)?void 0:this.featuresCollection_.forEach(e,o):this.featuresRtree_.forEach(e,o)},ol.source.Vector.prototype.forEachFeatureAtCoordinateDirect=function(e,o,t){var r=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(r,function(r){var n=r.getGeometry();return goog.asserts.assert(goog.isDefAndNotNull(n),"feature geometry is defined and not null"),n.containsCoordinate(e)?o.call(t,r):void 0})},ol.source.Vector.prototype.forEachFeatureInExtent=function(e,o,t){return goog.isNull(this.featuresRtree_)?goog.isNull(this.featuresCollection_)?void 0:this.featuresCollection_.forEach(o,t):this.featuresRtree_.forEachInExtent(e,o,t)},ol.source.Vector.prototype.forEachFeatureInExtentAtResolution=function(e,o,t,r){return this.forEachFeatureInExtent(e,t,r)},ol.source.Vector.prototype.forEachFeatureIntersectingExtent=function(e,o,t){return this.forEachFeatureInExtent(e,function(r){var n=r.getGeometry();if(goog.asserts.assert(goog.isDefAndNotNull(n),"feature geometry is defined and not null"),n.intersectsExtent(e)){var i=o.call(t,r);if(i)return i}})},ol.source.Vector.prototype.getFeaturesCollection=function(){return this.featuresCollection_},ol.source.Vector.prototype.getFeatures=function(){var e;return goog.isNull(this.featuresCollection_)?goog.isNull(this.featuresRtree_)||(e=this.featuresRtree_.getAll(),goog.object.isEmpty(this.nullGeometryFeatures_)||goog.array.extend(e,goog.object.getValues(this.nullGeometryFeatures_))):e=this.featuresCollection_.getArray(),goog.asserts.assert(goog.isDef(e),"Neither featuresRtree_ nor featuresCollection_ are available"),e},ol.source.Vector.prototype.getFeaturesAtCoordinate=function(e){var o=[];return this.forEachFeatureAtCoordinateDirect(e,function(e){o.push(e)}),o},ol.source.Vector.prototype.getFeaturesInExtent=function(e){return goog.asserts.assert(!goog.isNull(this.featuresRtree_),"getFeaturesInExtent does not work when useSpatialIndex is set to false"),this.featuresRtree_.getInExtent(e)},ol.source.Vector.prototype.getClosestFeatureToCoordinate=function(e){var o=e[0],t=e[1],r=null,n=[0/0,0/0],i=1/0,a=[-(1/0),-(1/0),1/0,1/0];return goog.asserts.assert(!goog.isNull(this.featuresRtree_),"getClosestFeatureToCoordinate does not work with useSpatialIndex set to false"),this.featuresRtree_.forEachInExtent(a,function(e){var s=e.getGeometry();goog.asserts.assert(goog.isDefAndNotNull(s),"feature geometry is defined and not null");var g=i;if(i=s.closestPointXY(o,t,n,i),g>i){r=e;var l=Math.sqrt(i);a[0]=o-l,a[1]=t-l,a[2]=o+l,a[3]=t+l}}),r},ol.source.Vector.prototype.getExtent=function(){return goog.asserts.assert(!goog.isNull(this.featuresRtree_),"getExtent does not work when useSpatialIndex is set to false"),this.featuresRtree_.getExtent()},ol.source.Vector.prototype.getFeatureById=function(e){var o=this.idIndex_[e.toString()];return goog.isDef(o)?o:null},ol.source.Vector.prototype.handleFeatureChange_=function(e){var o=e.target,t=goog.getUid(o).toString(),r=o.getGeometry();if(goog.isDefAndNotNull(r)){var n=r.getExtent();t in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[t],goog.isNull(this.featuresRtree_)||this.featuresRtree_.insert(n,o)):goog.isNull(this.featuresRtree_)||this.featuresRtree_.update(n,o)}else t in this.nullGeometryFeatures_||(goog.isNull(this.featuresRtree_)||this.featuresRtree_.remove(o),this.nullGeometryFeatures_[t]=o);var i,a=o.getId();if(goog.isDef(a)){var s=a.toString();t in this.undefIdIndex_?(delete this.undefIdIndex_[t],this.idIndex_[s]=o):this.idIndex_[s]!==o&&(i=this.removeFromIdIndex_(o),goog.asserts.assert(i,"Expected feature to be removed from index"),this.idIndex_[s]=o)}else t in this.undefIdIndex_?goog.asserts.assert(this.undefIdIndex_[t]===o,"feature keyed under %s in undefIdKeys",t):(i=this.removeFromIdIndex_(o),goog.asserts.assert(i,"Expected feature to be removed from index"),this.undefIdIndex_[t]=o);this.changed(),this.dispatchEvent(new ol.source.VectorEvent(ol.source.VectorEventType.CHANGEFEATURE,o))},ol.source.Vector.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&goog.object.isEmpty(this.nullGeometryFeatures_)},ol.source.Vector.prototype.loadFeatures=function(e,o,t){var r,n,i=this.loadedExtentsRtree_,a=this.strategy_(e,o);for(r=0,n=a.length;n>r;++r){var s=a[r],g=i.forEachInExtent(s,function(e){return ol.extent.containsExtent(e.extent,s)});g||(this.loader_.call(this,s,o,t),i.insert(s,{extent:s.slice()}))}},ol.source.Vector.prototype.removeFeature=function(e){var o=goog.getUid(e).toString();o in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[o]:goog.isNull(this.featuresRtree_)||this.featuresRtree_.remove(e),this.removeFeatureInternal(e),this.changed()},ol.source.Vector.prototype.removeFeatureInternal=function(e){var o=goog.getUid(e).toString();goog.asserts.assert(o in this.featureChangeKeys_,"featureKey exists in featureChangeKeys"),goog.array.forEach(this.featureChangeKeys_[o],goog.events.unlistenByKey),delete this.featureChangeKeys_[o];var t=e.getId();goog.isDef(t)?delete this.idIndex_[t.toString()]:delete this.undefIdIndex_[o],this.dispatchEvent(new ol.source.VectorEvent(ol.source.VectorEventType.REMOVEFEATURE,e))},ol.source.Vector.prototype.removeFromIdIndex_=function(e){var o=!1;for(var t in this.idIndex_)if(this.idIndex_[t]===e){delete this.idIndex_[t],o=!0;break}return o},ol.source.VectorEvent=function(e,o){goog.base(this,e),this.feature=o},goog.inherits(ol.source.VectorEvent,goog.events.Event),goog.provide("ol.source.ImageVector"),goog.require("goog.asserts"),goog.require("goog.events"),goog.require("goog.events.EventType"),goog.require("goog.vec.Mat4"),goog.require("ol.dom"),goog.require("ol.extent"),goog.require("ol.render.canvas.ReplayGroup"),goog.require("ol.renderer.vector"),goog.require("ol.source.ImageCanvas"),goog.require("ol.source.Vector"),goog.require("ol.style.Style"),goog.require("ol.vec.Mat4"),ol.source.ImageVector=function(e){this.source_=e.source,this.transform_=goog.vec.Mat4.createNumber(),this.canvasContext_=ol.dom.createCanvasContext2D(),this.canvasSize_=[0,0],this.replayGroup_=null,goog.base(this,{attributions:e.attributions,canvasFunction:goog.bind(this.canvasFunctionInternal_,this),logo:e.logo,projection:e.projection,ratio:e.ratio,resolutions:e.resolutions,state:this.source_.getState()}),this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),goog.events.listen(this.source_,goog.events.EventType.CHANGE,this.handleSourceChange_,void 0,this)},goog.inherits(ol.source.ImageVector,ol.source.ImageCanvas),ol.source.ImageVector.prototype.canvasFunctionInternal_=function(e,o,t,r,n){var i=new ol.render.canvas.ReplayGroup(ol.renderer.vector.getTolerance(o,t),e,o);this.source_.loadFeatures(e,o,n);var a=!1;if(this.source_.forEachFeatureInExtentAtResolution(e,o,function(e){a=a||this.renderFeature_(e,o,t,i)},this),i.finish(),a)return null;this.canvasSize_[0]!=r[0]||this.canvasSize_[1]!=r[1]?(this.canvasContext_.canvas.width=r[0],this.canvasContext_.canvas.height=r[1],this.canvasSize_[0]=r[0],this.canvasSize_[1]=r[1]):this.canvasContext_.clearRect(0,0,r[0],r[1]);var s=this.getTransform_(ol.extent.getCenter(e),o,t,r);return i.replay(this.canvasContext_,t,s,0,{}),this.replayGroup_=i,this.canvasContext_.canvas},ol.source.ImageVector.prototype.forEachFeatureAtCoordinate=function(e,o,t,r,n){if(goog.isNull(this.replayGroup_))return void 0;var i={};return this.replayGroup_.forEachFeatureAtCoordinate(e,o,0,r,function(e){goog.asserts.assert(goog.isDef(e),"passed a feature");var o=goog.getUid(e).toString();return o in i?void 0:(i[o]=!0,n(e))})},ol.source.ImageVector.prototype.getSource=function(){return this.source_;

},ol.source.ImageVector.prototype.getStyle=function(){return this.style_},ol.source.ImageVector.prototype.getStyleFunction=function(){return this.styleFunction_},ol.source.ImageVector.prototype.getTransform_=function(e,o,t,r){return ol.vec.Mat4.makeTransform2D(this.transform_,r[0]/2,r[1]/2,t/o,-t/o,0,-e[0],-e[1])},ol.source.ImageVector.prototype.handleImageChange_=function(e){this.changed()},ol.source.ImageVector.prototype.handleSourceChange_=function(){this.setState(this.source_.getState())},ol.source.ImageVector.prototype.renderFeature_=function(e,o,t,r){var n;if(goog.isDef(e.getStyleFunction())?n=e.getStyleFunction().call(e,o):goog.isDef(this.styleFunction_)&&(n=this.styleFunction_(e,o)),!goog.isDefAndNotNull(n))return!1;var i,a,s=!1;for(i=0,a=n.length;a>i;++i)s=ol.renderer.vector.renderFeature(r,e,n[i],ol.renderer.vector.getSquaredTolerance(o,t),this.handleImageChange_,this)||s;return s},ol.source.ImageVector.prototype.setStyle=function(e){this.style_=goog.isDef(e)?e:ol.style.defaultStyleFunction,this.styleFunction_=goog.isNull(e)?void 0:ol.style.createStyleFunction(this.style_),this.changed()},goog.provide("ol.renderer.canvas.ImageLayer"),goog.require("goog.asserts"),goog.require("goog.functions"),goog.require("goog.vec.Mat4"),goog.require("ol.ImageBase"),goog.require("ol.ViewHint"),goog.require("ol.dom"),goog.require("ol.extent"),goog.require("ol.layer.Image"),goog.require("ol.proj"),goog.require("ol.renderer.canvas.Layer"),goog.require("ol.source.ImageVector"),goog.require("ol.vec.Mat4"),ol.renderer.canvas.ImageLayer=function(e){goog.base(this,e),this.image_=null,this.imageTransform_=goog.vec.Mat4.createNumber(),this.imageTransformInv_=null,this.hitCanvasContext_=null},goog.inherits(ol.renderer.canvas.ImageLayer,ol.renderer.canvas.Layer),ol.renderer.canvas.ImageLayer.prototype.forEachFeatureAtCoordinate=function(e,o,t,r){var n=this.getLayer(),i=n.getSource(),a=o.viewState.resolution,s=o.viewState.rotation,g=o.skippedFeatureUids;return i.forEachFeatureAtCoordinate(e,a,s,g,function(e){return t.call(r,e,n)})},ol.renderer.canvas.ImageLayer.prototype.forEachLayerAtPixel=function(e,o,t,r){if(goog.isNull(this.getImage()))return void 0;if(this.getLayer().getSource()instanceof ol.source.ImageVector){var n=e.slice();ol.vec.Mat4.multVec2(o.pixelToCoordinateMatrix,n,n);var i=this.forEachFeatureAtCoordinate(n,o,goog.functions.TRUE,this);return i?t.call(r,this.getLayer()):void 0}goog.isNull(this.imageTransformInv_)&&(this.imageTransformInv_=goog.vec.Mat4.createNumber(),goog.vec.Mat4.invert(this.imageTransform_,this.imageTransformInv_));var a=this.getPixelOnCanvas(e,this.imageTransformInv_);goog.isNull(this.hitCanvasContext_)&&(this.hitCanvasContext_=ol.dom.createCanvasContext2D(1,1)),this.hitCanvasContext_.clearRect(0,0,1,1),this.hitCanvasContext_.drawImage(this.getImage(),a[0],a[1],1,1,0,0,1,1);var s=this.hitCanvasContext_.getImageData(0,0,1,1).data;return s[3]>0?t.call(r,this.getLayer()):void 0},ol.renderer.canvas.ImageLayer.prototype.getImage=function(){return goog.isNull(this.image_)?null:this.image_.getImage()},ol.renderer.canvas.ImageLayer.prototype.getImageTransform=function(){return this.imageTransform_},ol.renderer.canvas.ImageLayer.prototype.prepareFrame=function(e,o){var t,r=e.pixelRatio,n=e.viewState,i=n.center,a=n.resolution,s=n.rotation,g=this.getLayer();goog.asserts.assertInstanceof(g,ol.layer.Image,"layer is an instance of ol.layer.Image");var l=g.getSource(),p=e.viewHints,u=e.extent;if(goog.isDef(o.extent)&&(u=ol.extent.getIntersection(u,o.extent)),!p[ol.ViewHint.ANIMATING]&&!p[ol.ViewHint.INTERACTING]&&!ol.extent.isEmpty(u)){var c=n.projection,d=l.getProjection();if(goog.isNull(d)||(goog.asserts.assert(ol.proj.equivalent(c,d),"projection and sourceProjection are equivalent"),c=d),t=l.getImage(u,a,r,c),!goog.isNull(t)){var h=this.loadImage(t);h&&(this.image_=t)}}if(!goog.isNull(this.image_)){t=this.image_;var m=t.getExtent(),y=t.getResolution(),f=t.getPixelRatio(),v=r*y/(a*f);ol.vec.Mat4.makeTransform2D(this.imageTransform_,r*e.size[0]/2,r*e.size[1]/2,v,v,s,f*(m[0]-i[0])/y,f*(i[1]-m[3])/y),this.imageTransformInv_=null,this.updateAttributions(e.attributions,t.getAttributions()),this.updateLogos(e,l)}return!0},goog.provide("ol.renderer.canvas.TileLayer"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.object"),goog.require("goog.vec.Mat4"),goog.require("ol.Size"),goog.require("ol.TileRange"),goog.require("ol.TileState"),goog.require("ol.dom"),goog.require("ol.extent"),goog.require("ol.layer.Tile"),goog.require("ol.renderer.canvas.Layer"),goog.require("ol.size"),goog.require("ol.tilecoord"),goog.require("ol.vec.Mat4"),ol.renderer.canvas.TileLayer=function(e){goog.base(this,e),this.canvas_=null,this.canvasSize_=null,this.canvasTooBig_=!1,this.context_=null,this.imageTransform_=goog.vec.Mat4.createNumber(),this.imageTransformInv_=null,this.renderedCanvasZ_=0/0,this.renderedTileWidth_=0/0,this.renderedTileHeight_=0/0,this.renderedCanvasTileRange_=null,this.renderedTiles_=null,this.tmpSize_=[0,0]},goog.inherits(ol.renderer.canvas.TileLayer,ol.renderer.canvas.Layer),ol.renderer.canvas.TileLayer.prototype.getImage=function(){return this.canvas_},ol.renderer.canvas.TileLayer.prototype.getImageTransform=function(){return this.imageTransform_},ol.renderer.canvas.TileLayer.prototype.prepareFrame=function(e,o){var t=e.pixelRatio,r=e.viewState,n=r.projection,i=this.getLayer();goog.asserts.assertInstanceof(i,ol.layer.Tile,"layer is an instance of ol.layer.Tile");var a,s=i.getSource(),g=s.getTileGridForProjection(n),l=s.getGutter(),p=g.getZForResolution(r.resolution),u=s.getTilePixelSize(p,e.pixelRatio,n),c=u[0]/ol.size.toSize(g.getTileSize(p),this.tmpSize_)[0],d=g.getResolution(p),h=d/c,m=r.center;if(d==r.resolution?(m=this.snapCenterToPixel(m,d,e.size),a=ol.extent.getForViewAndSize(m,d,r.rotation,e.size)):a=e.extent,goog.isDef(o.extent)&&(a=ol.extent.getIntersection(a,o.extent)),ol.extent.isEmpty(a))return!1;var y,f,v=g.getTileRangeForExtentAndResolution(a,d),_=u[0]*v.getWidth(),E=u[1]*v.getHeight();goog.isNull(this.canvas_)?(goog.asserts.assert(goog.isNull(this.canvasSize_),"canvasSize is null (because canvas is null)"),goog.asserts.assert(goog.isNull(this.context_),"context is null (because canvas is null)"),goog.asserts.assert(goog.isNull(this.renderedCanvasTileRange_),"renderedCanvasTileRange is null (because canvas is null)"),f=ol.dom.createCanvasContext2D(_,E),this.canvas_=f.canvas,this.canvasSize_=[_,E],this.context_=f,this.canvasTooBig_=!ol.renderer.canvas.Layer.testCanvasSize(this.canvasSize_)):(goog.asserts.assert(!goog.isNull(this.canvasSize_),"non-null canvasSize (because canvas is not null)"),goog.asserts.assert(!goog.isNull(this.context_),"non-null context (because canvas is not null)"),y=this.canvas_,f=this.context_,this.canvasSize_[0]<_||this.canvasSize_[1]<E||this.renderedTileWidth_!==u[0]||this.renderedTileHeight_!==u[1]||this.canvasTooBig_&&(this.canvasSize_[0]>_||this.canvasSize_[1]>E)?(y.width=_,y.height=E,this.canvasSize_=[_,E],this.canvasTooBig_=!ol.renderer.canvas.Layer.testCanvasSize(this.canvasSize_),this.renderedCanvasTileRange_=null):(_=this.canvasSize_[0],E=this.canvasSize_[1],p==this.renderedCanvasZ_&&this.renderedCanvasTileRange_.containsTileRange(v)||(this.renderedCanvasTileRange_=null)));var S,T,x,b;if(goog.isNull(this.renderedCanvasTileRange_)){T=_/u[0];var P=E/u[1];x=v.minX-Math.floor((T-v.getWidth())/2),b=v.minY-Math.floor((P-v.getHeight())/2),this.renderedCanvasZ_=p,this.renderedTileWidth_=u[0],this.renderedTileHeight_=u[1],this.renderedCanvasTileRange_=new ol.TileRange(x,x+T-1,b,b+P-1),this.renderedTiles_=new Array(T*P),S=this.renderedCanvasTileRange_}else S=this.renderedCanvasTileRange_,T=S.getWidth();goog.asserts.assert(S.containsTileRange(v),"tileRange is contained in canvasTileRange");var M={};M[p]={};var C,R,A,D,L,N,w=[],I=this.createLoadedTileFinder(s,M),O=i.getUseInterimTilesOnError(),F=ol.extent.createEmpty(),G=new ol.TileRange(0,0,0,0);for(L=v.minX;L<=v.maxX;++L)for(N=v.minY;N<=v.maxY;++N)A=s.getTile(p,L,N,t,n),D=A.getState(),D==ol.TileState.LOADED||D==ol.TileState.EMPTY||D==ol.TileState.ERROR&&!O?M[p][ol.tilecoord.toString(A.tileCoord)]=A:(R=g.forEachTileCoordParentTileRange(A.tileCoord,I,null,G,F),R||(w.push(A),C=g.getTileCoordChildTileRange(A.tileCoord,G,F),goog.isNull(C)||I(p+1,C)));var k,U;for(k=0,U=w.length;U>k;++k)A=w[k],L=u[0]*(A.tileCoord[1]-S.minX),N=u[1]*(S.maxY-A.tileCoord[2]),f.clearRect(L,N,u[0],u[1]);var q=goog.array.map(goog.object.getKeys(M),Number);goog.array.sort(q);var $,B,j,V,H,K,W,Y,X,z,Z,J,Q,ee=s.getOpaque(),oe=ol.extent.getTopLeft(g.getTileCoordExtent([p,S.minX,S.maxY],F));for(k=0,U=q.length;U>k;++k)if($=q[k],u=s.getTilePixelSize($,t,n),K=M[$],$==p)for(V in K)A=K[V],B=(A.tileCoord[2]-S.minY)*T+(A.tileCoord[1]-S.minX),this.renderedTiles_[B]!=A&&(L=u[0]*(A.tileCoord[1]-S.minX),N=u[1]*(S.maxY-A.tileCoord[2]),D=A.getState(),(D==ol.TileState.EMPTY||D==ol.TileState.ERROR&&!O||!ee)&&f.clearRect(L,N,u[0],u[1]),D==ol.TileState.LOADED&&f.drawImage(A.getImage(),l,l,u[0],u[1],L,N,u[0],u[1]),this.renderedTiles_[B]=A);else{j=g.getResolution($)/d;for(V in K)for(A=K[V],H=g.getTileCoordExtent(A.tileCoord,F),L=(H[0]-oe[0])/h,N=(oe[1]-H[3])/h,Q=j*u[0],J=j*u[1],D=A.getState(),D!=ol.TileState.EMPTY&&ee||f.clearRect(L,N,Q,J),D==ol.TileState.LOADED&&f.drawImage(A.getImage(),l,l,u[0],u[1],L,N,Q,J),X=g.getTileRangeForExtentAndZ(H,p,G),x=Math.max(X.minX,S.minX),z=Math.min(X.maxX,S.maxX),b=Math.max(X.minY,S.minY),Z=Math.min(X.maxY,S.maxY),W=x;z>=W;++W)for(Y=b;Z>=Y;++Y)B=(Y-S.minY)*T+(W-S.minX),this.renderedTiles_[B]=void 0}return this.updateUsedTiles(e.usedTiles,s,p,v),this.manageTilePyramid(e,s,g,t,n,a,p,i.getPreload()),this.scheduleExpireCache(e,s),this.updateLogos(e,s),ol.vec.Mat4.makeTransform2D(this.imageTransform_,t*e.size[0]/2,t*e.size[1]/2,t*h/r.resolution,t*h/r.resolution,r.rotation,(oe[0]-m[0])/h,(m[1]-oe[1])/h),this.imageTransformInv_=null,!0},ol.renderer.canvas.TileLayer.prototype.forEachLayerAtPixel=function(e,o,t,r){if(goog.isNull(this.context_))return void 0;goog.isNull(this.imageTransformInv_)&&(this.imageTransformInv_=goog.vec.Mat4.createNumber(),goog.vec.Mat4.invert(this.imageTransform_,this.imageTransformInv_));var n=this.getPixelOnCanvas(e,this.imageTransformInv_),i=this.context_.getImageData(n[0],n[1],1,1).data;return i[3]>0?t.call(r,this.getLayer()):void 0},goog.provide("ol.renderer.canvas.VectorLayer"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.events"),goog.require("ol.ViewHint"),goog.require("ol.dom"),goog.require("ol.extent"),goog.require("ol.layer.Vector"),goog.require("ol.render.EventType"),goog.require("ol.render.canvas.ReplayGroup"),goog.require("ol.renderer.canvas.Layer"),goog.require("ol.renderer.vector"),goog.require("ol.source.Vector"),ol.renderer.canvas.VectorLayer=function(e){goog.base(this,e),this.dirty_=!1,this.renderedRevision_=-1,this.renderedResolution_=0/0,this.renderedExtent_=ol.extent.createEmpty(),this.renderedRenderOrder_=null,this.replayGroup_=null,this.context_=ol.dom.createCanvasContext2D()},goog.inherits(ol.renderer.canvas.VectorLayer,ol.renderer.canvas.Layer),ol.renderer.canvas.VectorLayer.prototype.composeFrame=function(e,o,t){var r=e.extent,n=e.pixelRatio,i=o.managed?e.skippedFeatureUids:{},a=e.viewState,s=a.projection,g=a.rotation,l=s.getExtent(),p=this.getLayer().getSource();goog.asserts.assertInstanceof(p,ol.source.Vector);var u=this.getTransform(e,0);this.dispatchPreComposeEvent(t,e,u);var c=this.replayGroup_;if(!goog.isNull(c)&&!c.isEmpty()){var d,h=this.getLayer();h.hasListener(ol.render.EventType.RENDER)?(this.context_.canvas.width=t.canvas.width,this.context_.canvas.height=t.canvas.height,d=this.context_):d=t;var m=d.globalAlpha;if(d.globalAlpha=o.opacity,c.replay(d,n,u,g,i),p.getWrapX()&&s.canWrapX()&&!ol.extent.containsExtent(l,r)){for(var y,f=r[0],v=ol.extent.getWidth(l),_=0;f<l[0];)--_,y=v*_,u=this.getTransform(e,y),c.replay(d,n,u,g,i),f+=v;for(_=0,f=r[2];f>l[2];)++_,y=v*_,u=this.getTransform(e,y),c.replay(d,n,u,g,i),f-=v;u=this.getTransform(e,0)}d!=t&&(this.dispatchRenderEvent(d,e,u),t.drawImage(d.canvas,0,0)),d.globalAlpha=m}this.dispatchPostComposeEvent(t,e,u)},ol.renderer.canvas.VectorLayer.prototype.forEachFeatureAtCoordinate=function(e,o,t,r){if(goog.isNull(this.replayGroup_))return void 0;var n=o.viewState.resolution,i=o.viewState.rotation,a=this.getLayer(),s=o.layerStates[goog.getUid(a)],g={};return this.replayGroup_.forEachFeatureAtCoordinate(e,n,i,s.managed?o.skippedFeatureUids:{},function(e){goog.asserts.assert(goog.isDef(e),"received a feature");var o=goog.getUid(e).toString();return o in g?void 0:(g[o]=!0,t.call(r,e,a))})},ol.renderer.canvas.VectorLayer.prototype.handleStyleImageChange_=function(e){this.renderIfReadyAndVisible()},ol.renderer.canvas.VectorLayer.prototype.prepareFrame=function(e,o){var t=this.getLayer();goog.asserts.assertInstanceof(t,ol.layer.Vector,"layer is an instance of ol.layer.Vector");var r=t.getSource();this.updateAttributions(e.attributions,r.getAttributions()),this.updateLogos(e,r);var n=e.viewHints[ol.ViewHint.ANIMATING],i=e.viewHints[ol.ViewHint.INTERACTING],a=t.getUpdateWhileAnimating(),s=t.getUpdateWhileInteracting();if(!this.dirty_&&!a&&n||!s&&i)return!0;var g=e.extent,l=e.viewState,p=l.projection,u=l.resolution,c=e.pixelRatio,d=t.getRevision(),h=t.getRenderBuffer(),m=t.getRenderOrder();goog.isDef(m)||(m=ol.renderer.vector.defaultOrder);var y=ol.extent.buffer(g,h*u),f=l.projection.getExtent();if(r.getWrapX()&&l.projection.canWrapX()&&!ol.extent.containsExtent(f,e.extent)){var v=ol.extent.getWidth(f),_=Math.max(ol.extent.getWidth(y)/2,v);y[0]=f[0]-_,y[2]=f[2]+_}if(!this.dirty_&&this.renderedResolution_==u&&this.renderedRevision_==d&&this.renderedRenderOrder_==m&&ol.extent.containsExtent(this.renderedExtent_,y))return!0;goog.dispose(this.replayGroup_),this.replayGroup_=null,this.dirty_=!1;var E=new ol.render.canvas.ReplayGroup(ol.renderer.vector.getTolerance(u,c),y,u,t.getRenderBuffer());r.loadFeatures(y,u,p);var S=function(e){var o;if(goog.isDef(e.getStyleFunction())?o=e.getStyleFunction().call(e,u):goog.isDef(t.getStyleFunction())&&(o=t.getStyleFunction()(e,u)),goog.isDefAndNotNull(o)){var r=this.renderFeature(e,u,c,o,E);this.dirty_=this.dirty_||r}};if(goog.isNull(m))r.forEachFeatureInExtentAtResolution(y,u,S,this);else{var T=[];r.forEachFeatureInExtentAtResolution(y,u,function(e){T.push(e)},this),goog.array.sort(T,m),goog.array.forEach(T,S,this)}return E.finish(),this.renderedResolution_=u,this.renderedRevision_=d,this.renderedRenderOrder_=m,this.renderedExtent_=y,this.replayGroup_=E,!0},ol.renderer.canvas.VectorLayer.prototype.renderFeature=function(e,o,t,r,n){if(!goog.isDefAndNotNull(r))return!1;var i,a,s=!1;for(i=0,a=r.length;a>i;++i)s=ol.renderer.vector.renderFeature(n,e,r[i],ol.renderer.vector.getSquaredTolerance(o,t),this.handleStyleImageChange_,this)||s;return s},goog.provide("ol.renderer.canvas.Map"),goog.require("goog.asserts"),goog.require("goog.dom"),goog.require("goog.style"),goog.require("goog.vec.Mat4"),goog.require("ol"),goog.require("ol.RendererType"),goog.require("ol.css"),goog.require("ol.dom"),goog.require("ol.layer.Image"),goog.require("ol.layer.Layer"),goog.require("ol.layer.Tile"),goog.require("ol.layer.Vector"),goog.require("ol.render.Event"),goog.require("ol.render.EventType"),goog.require("ol.render.canvas.Immediate"),goog.require("ol.renderer.Map"),goog.require("ol.renderer.canvas.ImageLayer"),goog.require("ol.renderer.canvas.Layer"),goog.require("ol.renderer.canvas.TileLayer"),goog.require("ol.renderer.canvas.VectorLayer"),goog.require("ol.source.State"),goog.require("ol.vec.Mat4"),ol.renderer.canvas.Map=function(e,o){goog.base(this,e,o),this.context_=ol.dom.createCanvasContext2D(),this.canvas_=this.context_.canvas,this.canvas_.style.width="100%",this.canvas_.style.height="100%",this.canvas_.className=ol.css.CLASS_UNSELECTABLE,goog.dom.insertChildAt(e,this.canvas_,0),this.renderedVisible_=!0,this.transform_=goog.vec.Mat4.createNumber()},goog.inherits(ol.renderer.canvas.Map,ol.renderer.Map),ol.renderer.canvas.Map.prototype.createLayerRenderer=function(e){return ol.ENABLE_IMAGE&&e instanceof ol.layer.Image?new ol.renderer.canvas.ImageLayer(e):ol.ENABLE_TILE&&e instanceof ol.layer.Tile?new ol.renderer.canvas.TileLayer(e):ol.ENABLE_VECTOR&&e instanceof ol.layer.Vector?new ol.renderer.canvas.VectorLayer(e):(goog.asserts.fail("unexpected layer configuration"),null)},ol.renderer.canvas.Map.prototype.dispatchComposeEvent_=function(e,o){var t=this.getMap(),r=this.context_;if(t.hasListener(e)){var n=o.extent,i=o.pixelRatio,a=o.viewState,s=a.rotation,g=this.getTransform(o),l=new ol.render.canvas.Immediate(r,i,n,g,s),p=new ol.render.Event(e,t,l,o,r,null);t.dispatchEvent(p),l.flush()}},ol.renderer.canvas.Map.prototype.getTransform=function(e){var o=e.pixelRatio,t=e.viewState,r=t.resolution;return ol.vec.Mat4.makeTransform2D(this.transform_,this.canvas_.width/2,this.canvas_.height/2,o/r,-o/r,-t.rotation,-t.center[0],-t.center[1])},ol.renderer.canvas.Map.prototype.getType=function(){return ol.RendererType.CANVAS},ol.renderer.canvas.Map.prototype.renderFrame=function(e){if(goog.isNull(e))return void(this.renderedVisible_&&(goog.style.setElementShown(this.canvas_,!1),this.renderedVisible_=!1));var o=this.context_,t=e.size[0]*e.pixelRatio,r=e.size[1]*e.pixelRatio;this.canvas_.width!=t||this.canvas_.height!=r?(this.canvas_.width=t,this.canvas_.height=r):o.clearRect(0,0,this.canvas_.width,this.canvas_.height),this.calculateMatrices2D(e),this.dispatchComposeEvent_(ol.render.EventType.PRECOMPOSE,e);var n,i,a,s,g,l=e.layerStatesArray,p=e.viewState.resolution;for(n=0,i=l.length;i>n;++n)g=l[n],a=g.layer,s=this.getLayerRenderer(a),goog.asserts.assertInstanceof(s,ol.renderer.canvas.Layer,"layerRenderer is an instance of ol.renderer.canvas.Layer"),ol.layer.Layer.visibleAtResolution(g,p)&&g.sourceState==ol.source.State.READY&&s.prepareFrame(e,g)&&s.composeFrame(e,g,o);this.dispatchComposeEvent_(ol.render.EventType.POSTCOMPOSE,e),this.renderedVisible_||(goog.style.setElementShown(this.canvas_,!0),this.renderedVisible_=!0),this.scheduleRemoveUnusedLayerRenderers(e),this.scheduleExpireIconCache(e)},goog.provide("ol.renderer.dom.Layer"),goog.require("ol.layer.Layer"),goog.require("ol.renderer.Layer"),ol.renderer.dom.Layer=function(e,o){goog.base(this,e),this.target=o},goog.inherits(ol.renderer.dom.Layer,ol.renderer.Layer),ol.renderer.dom.Layer.prototype.clearFrame=goog.nullFunction,ol.renderer.dom.Layer.prototype.composeFrame=goog.nullFunction,ol.renderer.dom.Layer.prototype.getTarget=function(){return this.target},ol.renderer.dom.Layer.prototype.prepareFrame=goog.abstractMethod,goog.provide("ol.renderer.dom.ImageLayer"),goog.require("goog.asserts"),goog.require("goog.dom"),goog.require("goog.dom.TagName"),goog.require("goog.vec.Mat4"),goog.require("ol.ImageBase"),goog.require("ol.ViewHint"),goog.require("ol.dom"),goog.require("ol.extent"),goog.require("ol.layer.Image"),goog.require("ol.proj"),goog.require("ol.renderer.dom.Layer"),goog.require("ol.vec.Mat4"),ol.renderer.dom.ImageLayer=function(e){var o=goog.dom.createElement(goog.dom.TagName.DIV);o.style.position="absolute",goog.base(this,e,o),this.image_=null,this.transform_=goog.vec.Mat4.createNumberIdentity()},goog.inherits(ol.renderer.dom.ImageLayer,ol.renderer.dom.Layer),ol.renderer.dom.ImageLayer.prototype.forEachFeatureAtCoordinate=function(e,o,t,r){var n=this.getLayer(),i=n.getSource(),a=o.viewState.resolution,s=o.viewState.rotation,g=o.skippedFeatureUids;return i.forEachFeatureAtCoordinate(e,a,s,g,function(e){return t.call(r,e,n)})},ol.renderer.dom.ImageLayer.prototype.clearFrame=function(){goog.dom.removeChildren(this.target),this.image_=null},ol.renderer.dom.ImageLayer.prototype.prepareFrame=function(e,o){var t=e.viewState,r=t.center,n=t.resolution,i=t.rotation,a=this.image_,s=this.getLayer();goog.asserts.assertInstanceof(s,ol.layer.Image,"layer is an instance of ol.layer.Image");var g=s.getSource(),l=e.viewHints,p=e.extent;if(goog.isDef(o.extent)&&(p=ol.extent.getIntersection(p,o.extent)),!l[ol.ViewHint.ANIMATING]&&!l[ol.ViewHint.INTERACTING]&&!ol.extent.isEmpty(p)){var u=t.projection,c=g.getProjection();goog.isNull(c)||(goog.asserts.assert(ol.proj.equivalent(u,c),"projection and sourceProjection are equivalent"),u=c);var d=g.getImage(p,n,e.pixelRatio,u);if(!goog.isNull(d)){var h=this.loadImage(d);h&&(a=d)}}if(!goog.isNull(a)){var m=a.getExtent(),y=a.getResolution(),f=goog.vec.Mat4.createNumber();if(ol.vec.Mat4.makeTransform2D(f,e.size[0]/2,e.size[1]/2,y/n,y/n,i,(m[0]-r[0])/y,(r[1]-m[3])/y),a!=this.image_){var v=a.getImage(this);v.style.maxWidth="none",v.style.position="absolute",goog.dom.removeChildren(this.target),goog.dom.appendChild(this.target,v),this.image_=a}this.setTransform_(f),this.updateAttributions(e.attributions,a.getAttributions()),this.updateLogos(e,g)}return!0},ol.renderer.dom.ImageLayer.prototype.setTransform_=function(e){ol.vec.Mat4.equals2D(e,this.transform_)||(ol.dom.transformElement2D(this.target,e,6),goog.vec.Mat4.setFromArray(this.transform_,e))},goog.provide("ol.renderer.dom.TileLayer"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.dom"),goog.require("goog.dom.TagName"),goog.require("goog.object"),goog.require("goog.style"),goog.require("goog.vec.Mat4"),goog.require("ol"),goog.require("ol.Coordinate"),goog.require("ol.TileCoord"),goog.require("ol.TileRange"),goog.require("ol.TileState"),goog.require("ol.ViewHint"),goog.require("ol.dom"),goog.require("ol.dom.BrowserFeature"),goog.require("ol.extent"),goog.require("ol.layer.Tile"),goog.require("ol.renderer.dom.Layer"),goog.require("ol.size"),goog.require("ol.tilecoord"),goog.require("ol.tilegrid.TileGrid"),goog.require("ol.vec.Mat4"),ol.renderer.dom.TileLayer=function(e){var o=goog.dom.createElement(goog.dom.TagName.DIV);o.style.position="absolute",ol.dom.BrowserFeature.USE_MS_MATRIX_TRANSFORM&&(o.style.width="100%",o.style.height="100%"),goog.base(this,e,o),this.renderedVisible_=!0,this.renderedOpacity_=1,this.renderedRevision_=0,this.tileLayerZs_={}},goog.inherits(ol.renderer.dom.TileLayer,ol.renderer.dom.Layer),ol.renderer.dom.TileLayer.prototype.clearFrame=function(){goog.dom.removeChildren(this.target),this.renderedRevision_=0},ol.renderer.dom.TileLayer.prototype.prepareFrame=function(e,o){if(!o.visible)return this.renderedVisible_&&(goog.style.setElementShown(this.target,!1),this.renderedVisible_=!1),!0;var t=e.pixelRatio,r=e.viewState,n=r.projection,i=this.getLayer();goog.asserts.assertInstanceof(i,ol.layer.Tile,"layer is an instance of ol.layer.Tile");var a,s=i.getSource(),g=s.getTileGridForProjection(n),l=s.getGutter(),p=g.getZForResolution(r.resolution),u=g.getResolution(p),c=r.center;u==r.resolution?(c=this.snapCenterToPixel(c,u,e.size),a=ol.extent.getForViewAndSize(c,u,r.rotation,e.size)):a=e.extent,goog.isDef(o.extent)&&(a=ol.extent.getIntersection(a,o.extent));var d=g.getTileRangeForExtentAndResolution(a,u),h={};h[p]={};var m,y,f,v,_,E,S=this.createLoadedTileFinder(s,h),T=i.getUseInterimTilesOnError(),x=ol.extent.createEmpty(),b=new ol.TileRange(0,0,0,0);for(_=d.minX;_<=d.maxX;++_)for(E=d.minY;E<=d.maxY;++E)f=s.getTile(p,_,E,t,n),v=f.getState(),v!=ol.TileState.LOADED?v==ol.TileState.EMPTY||v==ol.TileState.ERROR&&!T||(y=g.forEachTileCoordParentTileRange(f.tileCoord,S,null,b,x),y||(m=g.getTileCoordChildTileRange(f.tileCoord,b,x),goog.isNull(m)||S(p+1,m))):h[p][ol.tilecoord.toString(f.tileCoord)]=f;var P,M;if(this.renderedRevision_!=s.getRevision()){for(M in this.tileLayerZs_)P=this.tileLayerZs_[+M],goog.dom.removeNode(P.target);this.tileLayerZs_={},this.renderedRevision_=s.getRevision()}var C=goog.array.map(goog.object.getKeys(h),Number);goog.array.sort(C);var R,A,D,L,N,w={};for(R=0,A=C.length;A>R;++R){M=C[R],M in this.tileLayerZs_?P=this.tileLayerZs_[M]:(L=g.getTileCoordForCoordAndZ(c,M),P=new ol.renderer.dom.TileLayerZ_(g,L),w[M]=!0,this.tileLayerZs_[M]=P),N=h[M];for(D in N)P.addTile(N[D],l);P.finalizeAddTiles()}var I=goog.array.map(goog.object.getKeys(this.tileLayerZs_),Number);goog.array.sort(I);var O,F,G,k,U,q=goog.vec.Mat4.createNumber();for(O=0,F=I.length;F>O;++O)if(M=I[O],P=this.tileLayerZs_[M],M in h)if(U=P.getResolution(),k=P.getOrigin(),ol.vec.Mat4.makeTransform2D(q,e.size[0]/2,e.size[1]/2,U/r.resolution,U/r.resolution,r.rotation,(k[0]-c[0])/U,(c[1]-k[1])/U),P.setTransform(q),M in w){for(G=M-1;G>=0;--G)if(G in this.tileLayerZs_){goog.dom.insertSiblingAfter(P.target,this.tileLayerZs_[G].target);break}0>G&&goog.dom.insertChildAt(this.target,P.target,0)}else e.viewHints[ol.ViewHint.ANIMATING]||e.viewHints[ol.ViewHint.INTERACTING]||P.removeTilesOutsideExtent(a,b);else goog.dom.removeNode(P.target),delete this.tileLayerZs_[M];return o.opacity!=this.renderedOpacity_&&(ol.dom.setOpacity(this.target,o.opacity),this.renderedOpacity_=o.opacity),o.visible&&!this.renderedVisible_&&(goog.style.setElementShown(this.target,!0),this.renderedVisible_=!0),this.updateUsedTiles(e.usedTiles,s,p,d),this.manageTilePyramid(e,s,g,t,n,a,p,i.getPreload()),this.scheduleExpireCache(e,s),this.updateLogos(e,s),!0},ol.renderer.dom.TileLayerZ_=function(e,o){this.target=goog.dom.createElement(goog.dom.TagName.DIV),this.target.style.position="absolute",this.target.style.width="100%",this.target.style.height="100%",ol.LEGACY_IE_SUPPORT&&ol.IS_LEGACY_IE&&(this.translateTarget_=goog.dom.createElement(goog.dom.TagName.DIV),this.translateTarget_.style.position="absolute",this.translateTarget_.style.width="100%",this.translateTarget_.style.height="100%",goog.dom.appendChild(this.target,this.translateTarget_)),this.tileGrid_=e,this.tileCoordOrigin_=o,this.origin_=ol.extent.getTopLeft(e.getTileCoordExtent(o)),this.resolution_=e.getResolution(o[0]),this.tiles_={},this.documentFragment_=null,this.transform_=goog.vec.Mat4.createNumberIdentity(),this.tmpSize_=[0,0]},ol.renderer.dom.TileLayerZ_.prototype.addTile=function(e,o){var t=e.tileCoord,r=t[0],n=t[1],i=t[2];goog.asserts.assert(r==this.tileCoordOrigin_[0],"tileCoordZ matches z of tileCoordOrigin");var a=ol.tilecoord.toString(t);if(!(a in this.tiles_)){var s=ol.size.toSize(this.tileGrid_.getTileSize(r),this.tmpSize_),g=e.getImage(this),l=g.style;l.maxWidth="none";var p,u;o>0?(p=goog.dom.createElement(goog.dom.TagName.DIV),u=p.style,u.overflow="hidden",u.width=s[0]+"px",u.height=s[1]+"px",l.position="absolute",l.left=-o+"px",l.top=-o+"px",l.width=s[0]+2*o+"px",l.height=s[1]+2*o+"px",goog.dom.appendChild(p,g)):(l.width=s[0]+"px",l.height=s[1]+"px",p=g,u=l),u.position="absolute",u.left=(n-this.tileCoordOrigin_[1])*s[0]+"px",u.top=(this.tileCoordOrigin_[2]-i)*s[1]+"px",goog.isNull(this.documentFragment_)&&(this.documentFragment_=document.createDocumentFragment()),goog.dom.appendChild(this.documentFragment_,p),this.tiles_[a]=e}},ol.renderer.dom.TileLayerZ_.prototype.finalizeAddTiles=function(){goog.isNull(this.documentFragment_)||(ol.LEGACY_IE_SUPPORT&&ol.IS_LEGACY_IE?goog.dom.appendChild(this.translateTarget_,this.documentFragment_):goog.dom.appendChild(this.target,this.documentFragment_),this.documentFragment_=null)},ol.renderer.dom.TileLayerZ_.prototype.getOrigin=function(){return this.origin_},ol.renderer.dom.TileLayerZ_.prototype.getResolution=function(){return this.resolution_},ol.renderer.dom.TileLayerZ_.prototype.removeTilesOutsideExtent=function(e,o){var t,r,n=this.tileGrid_.getTileRangeForExtentAndZ(e,this.tileCoordOrigin_[0],o),i=[];for(r in this.tiles_)t=this.tiles_[r],n.contains(t.tileCoord)||i.push(t);var a,s;for(a=0,s=i.length;s>a;++a)t=i[a],r=ol.tilecoord.toString(t.tileCoord),goog.dom.removeNode(t.getImage(this)),delete this.tiles_[r]},ol.renderer.dom.TileLayerZ_.prototype.setTransform=function(e){ol.vec.Mat4.equals2D(e,this.transform_)||(ol.LEGACY_IE_SUPPORT&&ol.IS_LEGACY_IE?ol.dom.transformElement2D(this.target,e,6,this.translateTarget_):ol.dom.transformElement2D(this.target,e,6),goog.vec.Mat4.setFromArray(this.transform_,e))},goog.provide("ol.renderer.dom.VectorLayer"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.events"),goog.require("goog.vec.Mat4"),goog.require("ol.ViewHint"),goog.require("ol.dom"),goog.require("ol.extent"),goog.require("ol.layer.Vector"),goog.require("ol.render.Event"),goog.require("ol.render.EventType"),goog.require("ol.render.canvas.Immediate"),goog.require("ol.render.canvas.ReplayGroup"),goog.require("ol.renderer.dom.Layer"),goog.require("ol.renderer.vector"),goog.require("ol.vec.Mat4"),ol.renderer.dom.VectorLayer=function(e){this.context_=ol.dom.createCanvasContext2D();var o=this.context_.canvas;o.style.maxWidth="none",o.style.position="absolute",goog.base(this,e,o),this.dirty_=!1,this.renderedRevision_=-1,this.renderedResolution_=0/0,this.renderedExtent_=ol.extent.createEmpty(),this.renderedRenderOrder_=null,this.replayGroup_=null,this.transform_=goog.vec.Mat4.createNumber(),this.elementTransform_=goog.vec.Mat4.createNumber()},goog.inherits(ol.renderer.dom.VectorLayer,ol.renderer.dom.Layer),ol.renderer.dom.VectorLayer.prototype.composeFrame=function(e,o){var t=this.getLayer();goog.asserts.assertInstanceof(t,ol.layer.Vector,"layer is an instance of ol.layer.Vector");var r=e.viewState,n=r.center,i=r.rotation,a=r.resolution,s=e.pixelRatio,g=e.size[0],l=e.size[1],p=g*s,u=l*s,c=ol.vec.Mat4.makeTransform2D(this.transform_,s*g/2,s*l/2,s/a,-s/a,-i,-n[0],-n[1]),d=this.context_;d.canvas.width=p,d.canvas.height=u;var h=ol.vec.Mat4.makeTransform2D(this.elementTransform_,0,0,1/s,1/s,0,-(p-g)/2*s,-(u-l)/2*s);ol.dom.transformElement2D(d.canvas,h,6),this.dispatchEvent_(ol.render.EventType.PRECOMPOSE,e,c);var m=this.replayGroup_;goog.isNull(m)||m.isEmpty()||(d.globalAlpha=o.opacity,m.replay(d,s,c,i,o.managed?e.skippedFeatureUids:{}),this.dispatchEvent_(ol.render.EventType.RENDER,e,c)),this.dispatchEvent_(ol.render.EventType.POSTCOMPOSE,e,c)},ol.renderer.dom.VectorLayer.prototype.dispatchEvent_=function(e,o,t){var r=this.context_,n=this.getLayer();if(n.hasListener(e)){var i=new ol.render.canvas.Immediate(r,o.pixelRatio,o.extent,t,o.viewState.rotation),a=new ol.render.Event(e,n,i,o,r,null);n.dispatchEvent(a),i.flush()}},ol.renderer.dom.VectorLayer.prototype.forEachFeatureAtCoordinate=function(e,o,t,r){if(goog.isNull(this.replayGroup_))return void 0;var n=o.viewState.resolution,i=o.viewState.rotation,a=this.getLayer(),s=o.layerStates[goog.getUid(a)],g={};return this.replayGroup_.forEachFeatureAtCoordinate(e,n,i,s.managed?o.skippedFeatureUids:{},function(e){goog.asserts.assert(goog.isDef(e),"received a feature");var o=goog.getUid(e).toString();return o in g?void 0:(g[o]=!0,t.call(r,e,a))})},ol.renderer.dom.VectorLayer.prototype.handleStyleImageChange_=function(e){this.renderIfReadyAndVisible()},ol.renderer.dom.VectorLayer.prototype.prepareFrame=function(e,o){var t=this.getLayer();goog.asserts.assertInstanceof(t,ol.layer.Vector,"layer is an instance of ol.layer.Vector");var r=t.getSource();this.updateAttributions(e.attributions,r.getAttributions()),this.updateLogos(e,r);var n=e.viewHints[ol.ViewHint.ANIMATING],i=e.viewHints[ol.ViewHint.INTERACTING],a=t.getUpdateWhileAnimating(),s=t.getUpdateWhileInteracting();if(!this.dirty_&&!a&&n||!s&&i)return!0;var g=e.extent,l=e.viewState,p=l.projection,u=l.resolution,c=e.pixelRatio,d=t.getRevision(),h=t.getRenderBuffer(),m=t.getRenderOrder();goog.isDef(m)||(m=ol.renderer.vector.defaultOrder);var y=ol.extent.buffer(g,h*u);if(!this.dirty_&&this.renderedResolution_==u&&this.renderedRevision_==d&&this.renderedRenderOrder_==m&&ol.extent.containsExtent(this.renderedExtent_,y))return!0;goog.dispose(this.replayGroup_),this.replayGroup_=null,this.dirty_=!1;var f=new ol.render.canvas.ReplayGroup(ol.renderer.vector.getTolerance(u,c),y,u,t.getRenderBuffer());r.loadFeatures(y,u,p);var v=function(e){var o;if(goog.isDef(e.getStyleFunction())?o=e.getStyleFunction().call(e,u):goog.isDef(t.getStyleFunction())&&(o=t.getStyleFunction()(e,u)),goog.isDefAndNotNull(o)){var r=this.renderFeature(e,u,c,o,f);this.dirty_=this.dirty_||r}};if(goog.isNull(m))r.forEachFeatureInExtentAtResolution(y,u,v,this);else{var _=[];r.forEachFeatureInExtentAtResolution(y,u,function(e){
_.push(e)},this),goog.array.sort(_,m),goog.array.forEach(_,v,this)}return f.finish(),this.renderedResolution_=u,this.renderedRevision_=d,this.renderedRenderOrder_=m,this.renderedExtent_=y,this.replayGroup_=f,!0},ol.renderer.dom.VectorLayer.prototype.renderFeature=function(e,o,t,r,n){if(!goog.isDefAndNotNull(r))return!1;var i,a,s=!1;for(i=0,a=r.length;a>i;++i)s=ol.renderer.vector.renderFeature(n,e,r[i],ol.renderer.vector.getSquaredTolerance(o,t),this.handleStyleImageChange_,this)||s;return s},goog.provide("ol.renderer.dom.Map"),goog.require("goog.asserts"),goog.require("goog.dom"),goog.require("goog.dom.TagName"),goog.require("goog.events"),goog.require("goog.events.Event"),goog.require("goog.events.EventType"),goog.require("goog.functions"),goog.require("goog.style"),goog.require("goog.vec.Mat4"),goog.require("ol"),goog.require("ol.RendererType"),goog.require("ol.css"),goog.require("ol.dom"),goog.require("ol.layer.Image"),goog.require("ol.layer.Layer"),goog.require("ol.layer.Tile"),goog.require("ol.layer.Vector"),goog.require("ol.render.Event"),goog.require("ol.render.EventType"),goog.require("ol.render.canvas.Immediate"),goog.require("ol.renderer.Map"),goog.require("ol.renderer.dom.ImageLayer"),goog.require("ol.renderer.dom.Layer"),goog.require("ol.renderer.dom.TileLayer"),goog.require("ol.renderer.dom.VectorLayer"),goog.require("ol.source.State"),goog.require("ol.vec.Mat4"),ol.renderer.dom.Map=function(e,o){if(goog.base(this,e,o),this.context_=null,!ol.LEGACY_IE_SUPPORT||!ol.IS_LEGACY_IE){this.context_=ol.dom.createCanvasContext2D();var t=this.context_.canvas;t.style.position="absolute",t.style.width="100%",t.style.height="100%",t.className=ol.css.CLASS_UNSELECTABLE,goog.dom.insertChildAt(e,t,0)}this.transform_=goog.vec.Mat4.createNumber(),this.layersPane_=goog.dom.createElement(goog.dom.TagName.DIV),this.layersPane_.className=ol.css.CLASS_UNSELECTABLE;var r=this.layersPane_.style;r.position="absolute",r.width="100%",r.height="100%",ol.LEGACY_IE_SUPPORT&&ol.IS_LEGACY_IE&&(this.layersPane_.ondragstart=goog.functions.FALSE,this.layersPane_.onselectstart=goog.functions.FALSE),goog.events.listen(this.layersPane_,goog.events.EventType.TOUCHSTART,goog.events.Event.preventDefault),goog.dom.insertChildAt(e,this.layersPane_,0),this.renderedVisible_=!0},goog.inherits(ol.renderer.dom.Map,ol.renderer.Map),ol.renderer.dom.Map.prototype.disposeInternal=function(){goog.dom.removeNode(this.layersPane_),goog.base(this,"disposeInternal")},ol.renderer.dom.Map.prototype.createLayerRenderer=function(e){var o;if(ol.ENABLE_IMAGE&&e instanceof ol.layer.Image)o=new ol.renderer.dom.ImageLayer(e);else if(ol.ENABLE_TILE&&e instanceof ol.layer.Tile)o=new ol.renderer.dom.TileLayer(e);else{if(ol.LEGACY_IE_SUPPORT&&ol.IS_LEGACY_IE||!ol.ENABLE_VECTOR||!(e instanceof ol.layer.Vector))return goog.asserts.fail("unexpected layer configuration"),null;o=new ol.renderer.dom.VectorLayer(e)}return o},ol.renderer.dom.Map.prototype.dispatchComposeEvent_=function(e,o){var t=this.getMap();if((!ol.LEGACY_IE_SUPPORT||!ol.IS_LEGACY_IE)&&t.hasListener(e)){var r=o.extent,n=o.pixelRatio,i=o.viewState,a=i.rotation,s=this.context_,g=s.canvas;ol.vec.Mat4.makeTransform2D(this.transform_,g.width/2,g.height/2,n/i.resolution,-n/i.resolution,-i.rotation,-i.center[0],-i.center[1]);var l=new ol.render.canvas.Immediate(s,n,r,this.transform_,a),p=new ol.render.Event(e,t,l,o,s,null);t.dispatchEvent(p),l.flush()}},ol.renderer.dom.Map.prototype.getType=function(){return ol.RendererType.DOM},ol.renderer.dom.Map.prototype.renderFrame=function(e){if(goog.isNull(e))return void(this.renderedVisible_&&(goog.style.setElementShown(this.layersPane_,!1),this.renderedVisible_=!1));var o;o=ol.LEGACY_IE_SUPPORT&&ol.IS_LEGACY_IE?function(e){goog.dom.appendChild(this.layersPane_,e)}:function(e,o){goog.dom.insertChildAt(this.layersPane_,e,o)};var t=this.getMap();if(!(ol.LEGACY_IE_SUPPORT&&ol.IS_LEGACY_IE||!t.hasListener(ol.render.EventType.PRECOMPOSE)&&!t.hasListener(ol.render.EventType.POSTCOMPOSE))){var r=this.context_.canvas,n=e.pixelRatio;r.width=e.size[0]*n,r.height=e.size[1]*n}this.dispatchComposeEvent_(ol.render.EventType.PRECOMPOSE,e);var i,a,s,g,l,p=e.layerStatesArray,u=e.viewState.resolution;for(i=0,a=p.length;a>i;++i)l=p[i],s=l.layer,g=this.getLayerRenderer(s),goog.asserts.assertInstanceof(g,ol.renderer.dom.Layer,"renderer is an instance of ol.renderer.dom.Layer"),o.call(this,g.getTarget(),i),ol.layer.Layer.visibleAtResolution(l,u)&&l.sourceState==ol.source.State.READY?g.prepareFrame(e,l)&&g.composeFrame(e,l):g.clearFrame();var c,d=e.layerStates;for(c in this.getLayerRenderers())c in d||(g=this.getLayerRendererByKey(c),goog.asserts.assertInstanceof(g,ol.renderer.dom.Layer,"renderer is an instance of ol.renderer.dom.Layer"),goog.dom.removeNode(g.getTarget()));this.renderedVisible_||(goog.style.setElementShown(this.layersPane_,!0),this.renderedVisible_=!0),this.calculateMatrices2D(e),this.scheduleRemoveUnusedLayerRenderers(e),this.scheduleExpireIconCache(e),this.dispatchComposeEvent_(ol.render.EventType.POSTCOMPOSE,e)},goog.provide("goog.webgl"),goog.webgl.DEPTH_BUFFER_BIT=256,goog.webgl.STENCIL_BUFFER_BIT=1024,goog.webgl.COLOR_BUFFER_BIT=16384,goog.webgl.POINTS=0,goog.webgl.LINES=1,goog.webgl.LINE_LOOP=2,goog.webgl.LINE_STRIP=3,goog.webgl.TRIANGLES=4,goog.webgl.TRIANGLE_STRIP=5,goog.webgl.TRIANGLE_FAN=6,goog.webgl.ZERO=0,goog.webgl.ONE=1,goog.webgl.SRC_COLOR=768,goog.webgl.ONE_MINUS_SRC_COLOR=769,goog.webgl.SRC_ALPHA=770,goog.webgl.ONE_MINUS_SRC_ALPHA=771,goog.webgl.DST_ALPHA=772,goog.webgl.ONE_MINUS_DST_ALPHA=773,goog.webgl.DST_COLOR=774,goog.webgl.ONE_MINUS_DST_COLOR=775,goog.webgl.SRC_ALPHA_SATURATE=776,goog.webgl.FUNC_ADD=32774,goog.webgl.BLEND_EQUATION=32777,goog.webgl.BLEND_EQUATION_RGB=32777,goog.webgl.BLEND_EQUATION_ALPHA=34877,goog.webgl.FUNC_SUBTRACT=32778,goog.webgl.FUNC_REVERSE_SUBTRACT=32779,goog.webgl.BLEND_DST_RGB=32968,goog.webgl.BLEND_SRC_RGB=32969,goog.webgl.BLEND_DST_ALPHA=32970,goog.webgl.BLEND_SRC_ALPHA=32971,goog.webgl.CONSTANT_COLOR=32769,goog.webgl.ONE_MINUS_CONSTANT_COLOR=32770,goog.webgl.CONSTANT_ALPHA=32771,goog.webgl.ONE_MINUS_CONSTANT_ALPHA=32772,goog.webgl.BLEND_COLOR=32773,goog.webgl.ARRAY_BUFFER=34962,goog.webgl.ELEMENT_ARRAY_BUFFER=34963,goog.webgl.ARRAY_BUFFER_BINDING=34964,goog.webgl.ELEMENT_ARRAY_BUFFER_BINDING=34965,goog.webgl.STREAM_DRAW=35040,goog.webgl.STATIC_DRAW=35044,goog.webgl.DYNAMIC_DRAW=35048,goog.webgl.BUFFER_SIZE=34660,goog.webgl.BUFFER_USAGE=34661,goog.webgl.CURRENT_VERTEX_ATTRIB=34342,goog.webgl.FRONT=1028,goog.webgl.BACK=1029,goog.webgl.FRONT_AND_BACK=1032,goog.webgl.CULL_FACE=2884,goog.webgl.BLEND=3042,goog.webgl.DITHER=3024,goog.webgl.STENCIL_TEST=2960,goog.webgl.DEPTH_TEST=2929,goog.webgl.SCISSOR_TEST=3089,goog.webgl.POLYGON_OFFSET_FILL=32823,goog.webgl.SAMPLE_ALPHA_TO_COVERAGE=32926,goog.webgl.SAMPLE_COVERAGE=32928,goog.webgl.NO_ERROR=0,goog.webgl.INVALID_ENUM=1280,goog.webgl.INVALID_VALUE=1281,goog.webgl.INVALID_OPERATION=1282,goog.webgl.OUT_OF_MEMORY=1285,goog.webgl.CW=2304,goog.webgl.CCW=2305,goog.webgl.LINE_WIDTH=2849,goog.webgl.ALIASED_POINT_SIZE_RANGE=33901,goog.webgl.ALIASED_LINE_WIDTH_RANGE=33902,goog.webgl.CULL_FACE_MODE=2885,goog.webgl.FRONT_FACE=2886,goog.webgl.DEPTH_RANGE=2928,goog.webgl.DEPTH_WRITEMASK=2930,goog.webgl.DEPTH_CLEAR_VALUE=2931,goog.webgl.DEPTH_FUNC=2932,goog.webgl.STENCIL_CLEAR_VALUE=2961,goog.webgl.STENCIL_FUNC=2962,goog.webgl.STENCIL_FAIL=2964,goog.webgl.STENCIL_PASS_DEPTH_FAIL=2965,goog.webgl.STENCIL_PASS_DEPTH_PASS=2966,goog.webgl.STENCIL_REF=2967,goog.webgl.STENCIL_VALUE_MASK=2963,goog.webgl.STENCIL_WRITEMASK=2968,goog.webgl.STENCIL_BACK_FUNC=34816,goog.webgl.STENCIL_BACK_FAIL=34817,goog.webgl.STENCIL_BACK_PASS_DEPTH_FAIL=34818,goog.webgl.STENCIL_BACK_PASS_DEPTH_PASS=34819,goog.webgl.STENCIL_BACK_REF=36003,goog.webgl.STENCIL_BACK_VALUE_MASK=36004,goog.webgl.STENCIL_BACK_WRITEMASK=36005,goog.webgl.VIEWPORT=2978,goog.webgl.SCISSOR_BOX=3088,goog.webgl.COLOR_CLEAR_VALUE=3106,goog.webgl.COLOR_WRITEMASK=3107,goog.webgl.UNPACK_ALIGNMENT=3317,goog.webgl.PACK_ALIGNMENT=3333,goog.webgl.MAX_TEXTURE_SIZE=3379,goog.webgl.MAX_VIEWPORT_DIMS=3386,goog.webgl.SUBPIXEL_BITS=3408,goog.webgl.RED_BITS=3410,goog.webgl.GREEN_BITS=3411,goog.webgl.BLUE_BITS=3412,goog.webgl.ALPHA_BITS=3413,goog.webgl.DEPTH_BITS=3414,goog.webgl.STENCIL_BITS=3415,goog.webgl.POLYGON_OFFSET_UNITS=10752,goog.webgl.POLYGON_OFFSET_FACTOR=32824,goog.webgl.TEXTURE_BINDING_2D=32873,goog.webgl.SAMPLE_BUFFERS=32936,goog.webgl.SAMPLES=32937,goog.webgl.SAMPLE_COVERAGE_VALUE=32938,goog.webgl.SAMPLE_COVERAGE_INVERT=32939,goog.webgl.COMPRESSED_TEXTURE_FORMATS=34467,goog.webgl.DONT_CARE=4352,goog.webgl.FASTEST=4353,goog.webgl.NICEST=4354,goog.webgl.GENERATE_MIPMAP_HINT=33170,goog.webgl.BYTE=5120,goog.webgl.UNSIGNED_BYTE=5121,goog.webgl.SHORT=5122,goog.webgl.UNSIGNED_SHORT=5123,goog.webgl.INT=5124,goog.webgl.UNSIGNED_INT=5125,goog.webgl.FLOAT=5126,goog.webgl.DEPTH_COMPONENT=6402,goog.webgl.ALPHA=6406,goog.webgl.RGB=6407,goog.webgl.RGBA=6408,goog.webgl.LUMINANCE=6409,goog.webgl.LUMINANCE_ALPHA=6410,goog.webgl.UNSIGNED_SHORT_4_4_4_4=32819,goog.webgl.UNSIGNED_SHORT_5_5_5_1=32820,goog.webgl.UNSIGNED_SHORT_5_6_5=33635,goog.webgl.FRAGMENT_SHADER=35632,goog.webgl.VERTEX_SHADER=35633,goog.webgl.MAX_VERTEX_ATTRIBS=34921,goog.webgl.MAX_VERTEX_UNIFORM_VECTORS=36347,goog.webgl.MAX_VARYING_VECTORS=36348,goog.webgl.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661,goog.webgl.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660,goog.webgl.MAX_TEXTURE_IMAGE_UNITS=34930,goog.webgl.MAX_FRAGMENT_UNIFORM_VECTORS=36349,goog.webgl.SHADER_TYPE=35663,goog.webgl.DELETE_STATUS=35712,goog.webgl.LINK_STATUS=35714,goog.webgl.VALIDATE_STATUS=35715,goog.webgl.ATTACHED_SHADERS=35717,goog.webgl.ACTIVE_UNIFORMS=35718,goog.webgl.ACTIVE_ATTRIBUTES=35721,goog.webgl.SHADING_LANGUAGE_VERSION=35724,goog.webgl.CURRENT_PROGRAM=35725,goog.webgl.NEVER=512,goog.webgl.LESS=513,goog.webgl.EQUAL=514,goog.webgl.LEQUAL=515,goog.webgl.GREATER=516,goog.webgl.NOTEQUAL=517,goog.webgl.GEQUAL=518,goog.webgl.ALWAYS=519,goog.webgl.KEEP=7680,goog.webgl.REPLACE=7681,goog.webgl.INCR=7682,goog.webgl.DECR=7683,goog.webgl.INVERT=5386,goog.webgl.INCR_WRAP=34055,goog.webgl.DECR_WRAP=34056,goog.webgl.VENDOR=7936,goog.webgl.RENDERER=7937,goog.webgl.VERSION=7938,goog.webgl.NEAREST=9728,goog.webgl.LINEAR=9729,goog.webgl.NEAREST_MIPMAP_NEAREST=9984,goog.webgl.LINEAR_MIPMAP_NEAREST=9985,goog.webgl.NEAREST_MIPMAP_LINEAR=9986,goog.webgl.LINEAR_MIPMAP_LINEAR=9987,goog.webgl.TEXTURE_MAG_FILTER=10240,goog.webgl.TEXTURE_MIN_FILTER=10241,goog.webgl.TEXTURE_WRAP_S=10242,goog.webgl.TEXTURE_WRAP_T=10243,goog.webgl.TEXTURE_2D=3553,goog.webgl.TEXTURE=5890,goog.webgl.TEXTURE_CUBE_MAP=34067,goog.webgl.TEXTURE_BINDING_CUBE_MAP=34068,goog.webgl.TEXTURE_CUBE_MAP_POSITIVE_X=34069,goog.webgl.TEXTURE_CUBE_MAP_NEGATIVE_X=34070,goog.webgl.TEXTURE_CUBE_MAP_POSITIVE_Y=34071,goog.webgl.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072,goog.webgl.TEXTURE_CUBE_MAP_POSITIVE_Z=34073,goog.webgl.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074,goog.webgl.MAX_CUBE_MAP_TEXTURE_SIZE=34076,goog.webgl.TEXTURE0=33984,goog.webgl.TEXTURE1=33985,goog.webgl.TEXTURE2=33986,goog.webgl.TEXTURE3=33987,goog.webgl.TEXTURE4=33988,goog.webgl.TEXTURE5=33989,goog.webgl.TEXTURE6=33990,goog.webgl.TEXTURE7=33991,goog.webgl.TEXTURE8=33992,goog.webgl.TEXTURE9=33993,goog.webgl.TEXTURE10=33994,goog.webgl.TEXTURE11=33995,goog.webgl.TEXTURE12=33996,goog.webgl.TEXTURE13=33997,goog.webgl.TEXTURE14=33998,goog.webgl.TEXTURE15=33999,goog.webgl.TEXTURE16=34e3,goog.webgl.TEXTURE17=34001,goog.webgl.TEXTURE18=34002,goog.webgl.TEXTURE19=34003,goog.webgl.TEXTURE20=34004,goog.webgl.TEXTURE21=34005,goog.webgl.TEXTURE22=34006,goog.webgl.TEXTURE23=34007,goog.webgl.TEXTURE24=34008,goog.webgl.TEXTURE25=34009,goog.webgl.TEXTURE26=34010,goog.webgl.TEXTURE27=34011,goog.webgl.TEXTURE28=34012,goog.webgl.TEXTURE29=34013,goog.webgl.TEXTURE30=34014,goog.webgl.TEXTURE31=34015,goog.webgl.ACTIVE_TEXTURE=34016,goog.webgl.REPEAT=10497,goog.webgl.CLAMP_TO_EDGE=33071,goog.webgl.MIRRORED_REPEAT=33648,goog.webgl.FLOAT_VEC2=35664,goog.webgl.FLOAT_VEC3=35665,goog.webgl.FLOAT_VEC4=35666,goog.webgl.INT_VEC2=35667,goog.webgl.INT_VEC3=35668,goog.webgl.INT_VEC4=35669,goog.webgl.BOOL=35670,goog.webgl.BOOL_VEC2=35671,goog.webgl.BOOL_VEC3=35672,goog.webgl.BOOL_VEC4=35673,goog.webgl.FLOAT_MAT2=35674,goog.webgl.FLOAT_MAT3=35675,goog.webgl.FLOAT_MAT4=35676,goog.webgl.SAMPLER_2D=35678,goog.webgl.SAMPLER_CUBE=35680,goog.webgl.VERTEX_ATTRIB_ARRAY_ENABLED=34338,goog.webgl.VERTEX_ATTRIB_ARRAY_SIZE=34339,goog.webgl.VERTEX_ATTRIB_ARRAY_STRIDE=34340,goog.webgl.VERTEX_ATTRIB_ARRAY_TYPE=34341,goog.webgl.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922,goog.webgl.VERTEX_ATTRIB_ARRAY_POINTER=34373,goog.webgl.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975,goog.webgl.COMPILE_STATUS=35713,goog.webgl.LOW_FLOAT=36336,goog.webgl.MEDIUM_FLOAT=36337,goog.webgl.HIGH_FLOAT=36338,goog.webgl.LOW_INT=36339,goog.webgl.MEDIUM_INT=36340,goog.webgl.HIGH_INT=36341,goog.webgl.FRAMEBUFFER=36160,goog.webgl.RENDERBUFFER=36161,goog.webgl.RGBA4=32854,goog.webgl.RGB5_A1=32855,goog.webgl.RGB565=36194,goog.webgl.DEPTH_COMPONENT16=33189,goog.webgl.STENCIL_INDEX=6401,goog.webgl.STENCIL_INDEX8=36168,goog.webgl.DEPTH_STENCIL=34041,goog.webgl.RENDERBUFFER_WIDTH=36162,goog.webgl.RENDERBUFFER_HEIGHT=36163,goog.webgl.RENDERBUFFER_INTERNAL_FORMAT=36164,goog.webgl.RENDERBUFFER_RED_SIZE=36176,goog.webgl.RENDERBUFFER_GREEN_SIZE=36177,goog.webgl.RENDERBUFFER_BLUE_SIZE=36178,goog.webgl.RENDERBUFFER_ALPHA_SIZE=36179,goog.webgl.RENDERBUFFER_DEPTH_SIZE=36180,goog.webgl.RENDERBUFFER_STENCIL_SIZE=36181,goog.webgl.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048,goog.webgl.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049,goog.webgl.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050,goog.webgl.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051,goog.webgl.COLOR_ATTACHMENT0=36064,goog.webgl.DEPTH_ATTACHMENT=36096,goog.webgl.STENCIL_ATTACHMENT=36128,goog.webgl.DEPTH_STENCIL_ATTACHMENT=33306,goog.webgl.NONE=0,goog.webgl.FRAMEBUFFER_COMPLETE=36053,goog.webgl.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054,goog.webgl.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055,goog.webgl.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057,goog.webgl.FRAMEBUFFER_UNSUPPORTED=36061,goog.webgl.FRAMEBUFFER_BINDING=36006,goog.webgl.RENDERBUFFER_BINDING=36007,goog.webgl.MAX_RENDERBUFFER_SIZE=34024,goog.webgl.INVALID_FRAMEBUFFER_OPERATION=1286,goog.webgl.UNPACK_FLIP_Y_WEBGL=37440,goog.webgl.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441,goog.webgl.CONTEXT_LOST_WEBGL=37442,goog.webgl.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443,goog.webgl.BROWSER_DEFAULT_WEBGL=37444,goog.webgl.HALF_FLOAT_OES=36193,goog.webgl.FRAGMENT_SHADER_DERIVATIVE_HINT_OES=35723,goog.webgl.VERTEX_ARRAY_BINDING_OES=34229,goog.webgl.UNMASKED_VENDOR_WEBGL=37445,goog.webgl.UNMASKED_RENDERER_WEBGL=37446,goog.webgl.COMPRESSED_RGB_S3TC_DXT1_EXT=33776,goog.webgl.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777,goog.webgl.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778,goog.webgl.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779,goog.webgl.TEXTURE_MAX_ANISOTROPY_EXT=34046,goog.webgl.MAX_TEXTURE_MAX_ANISOTROPY_EXT=34047,goog.provide("ol.webgl.shader"),goog.require("goog.functions"),goog.require("goog.webgl"),goog.require("ol.webgl"),ol.webgl.Shader=function(e){this.source_=e},ol.webgl.Shader.prototype.getType=goog.abstractMethod,ol.webgl.Shader.prototype.getSource=function(){return this.source_},ol.webgl.Shader.prototype.isAnimated=goog.functions.FALSE,ol.webgl.shader.Fragment=function(e){goog.base(this,e)},goog.inherits(ol.webgl.shader.Fragment,ol.webgl.Shader),ol.webgl.shader.Fragment.prototype.getType=function(){return goog.webgl.FRAGMENT_SHADER},ol.webgl.shader.Vertex=function(e){goog.base(this,e)},goog.inherits(ol.webgl.shader.Vertex,ol.webgl.Shader),ol.webgl.shader.Vertex.prototype.getType=function(){return goog.webgl.VERTEX_SHADER},goog.provide("ol.render.webgl.imagereplay.shader.Color"),goog.require("ol.webgl.shader"),ol.render.webgl.imagereplay.shader.ColorFragment=function(){goog.base(this,ol.render.webgl.imagereplay.shader.ColorFragment.SOURCE)},goog.inherits(ol.render.webgl.imagereplay.shader.ColorFragment,ol.webgl.shader.Fragment),goog.addSingletonGetter(ol.render.webgl.imagereplay.shader.ColorFragment),ol.render.webgl.imagereplay.shader.ColorFragment.DEBUG_SOURCE="precision mediump float;\nvarying vec2 v_texCoord;\nvarying float v_opacity;\n\n// @see https://svn.webkit.org/repository/webkit/trunk/Source/WebCore/platform/graphics/filters/skia/SkiaImageFilterBuilder.cpp\nuniform mat4 u_colorMatrix;\nuniform float u_opacity;\nuniform sampler2D u_image;\n\nvoid main(void) {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  float alpha = texColor.a * v_opacity * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n  gl_FragColor.rgb = (u_colorMatrix * vec4(texColor.rgb, 1.)).rgb;\n}\n",ol.render.webgl.imagereplay.shader.ColorFragment.OPTIMIZED_SOURCE="precision mediump float;varying vec2 a;varying float b;uniform mat4 k;uniform float l;uniform sampler2D m;void main(void){vec4 texColor=texture2D(m,a);float alpha=texColor.a*b*l;if(alpha==0.0){discard;}gl_FragColor.a=alpha;gl_FragColor.rgb=(k*vec4(texColor.rgb,1.)).rgb;}",ol.render.webgl.imagereplay.shader.ColorFragment.SOURCE=goog.DEBUG?ol.render.webgl.imagereplay.shader.ColorFragment.DEBUG_SOURCE:ol.render.webgl.imagereplay.shader.ColorFragment.OPTIMIZED_SOURCE,ol.render.webgl.imagereplay.shader.ColorVertex=function(){goog.base(this,ol.render.webgl.imagereplay.shader.ColorVertex.SOURCE)},goog.inherits(ol.render.webgl.imagereplay.shader.ColorVertex,ol.webgl.shader.Vertex),goog.addSingletonGetter(ol.render.webgl.imagereplay.shader.ColorVertex),ol.render.webgl.imagereplay.shader.ColorVertex.DEBUG_SOURCE="varying vec2 v_texCoord;\nvarying float v_opacity;\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\nattribute vec2 a_offsets;\nattribute float a_opacity;\nattribute float a_rotateWithView;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\n\nvoid main(void) {\n  mat4 offsetMatrix = u_offsetScaleMatrix;\n  if (a_rotateWithView == 1.0) {\n    offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  }\n  vec4 offsets = offsetMatrix * vec4(a_offsets, 0., 0.);\n  gl_Position = u_projectionMatrix * vec4(a_position, 0., 1.) + offsets;\n  v_texCoord = a_texCoord;\n  v_opacity = a_opacity;\n}\n\n\n",ol.render.webgl.imagereplay.shader.ColorVertex.OPTIMIZED_SOURCE="varying vec2 a;varying float b;attribute vec2 c;attribute vec2 d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;void main(void){mat4 offsetMatrix=i;if(g==1.0){offsetMatrix=i*j;}vec4 offsets=offsetMatrix*vec4(e,0.,0.);gl_Position=h*vec4(c,0.,1.)+offsets;a=d;b=f;}",ol.render.webgl.imagereplay.shader.ColorVertex.SOURCE=goog.DEBUG?ol.render.webgl.imagereplay.shader.ColorVertex.DEBUG_SOURCE:ol.render.webgl.imagereplay.shader.ColorVertex.OPTIMIZED_SOURCE,ol.render.webgl.imagereplay.shader.Color.Locations=function(e,o){this.u_colorMatrix=e.getUniformLocation(o,goog.DEBUG?"u_colorMatrix":"k"),this.u_image=e.getUniformLocation(o,goog.DEBUG?"u_image":"m"),this.u_offsetRotateMatrix=e.getUniformLocation(o,goog.DEBUG?"u_offsetRotateMatrix":"j"),this.u_offsetScaleMatrix=e.getUniformLocation(o,goog.DEBUG?"u_offsetScaleMatrix":"i"),this.u_opacity=e.getUniformLocation(o,goog.DEBUG?"u_opacity":"l"),this.u_projectionMatrix=e.getUniformLocation(o,goog.DEBUG?"u_projectionMatrix":"h"),this.a_offsets=e.getAttribLocation(o,goog.DEBUG?"a_offsets":"e"),this.a_opacity=e.getAttribLocation(o,goog.DEBUG?"a_opacity":"f"),this.a_position=e.getAttribLocation(o,goog.DEBUG?"a_position":"c"),this.a_rotateWithView=e.getAttribLocation(o,goog.DEBUG?"a_rotateWithView":"g"),this.a_texCoord=e.getAttribLocation(o,goog.DEBUG?"a_texCoord":"d")},goog.provide("ol.render.webgl.imagereplay.shader.Default"),goog.require("ol.webgl.shader"),ol.render.webgl.imagereplay.shader.DefaultFragment=function(){goog.base(this,ol.render.webgl.imagereplay.shader.DefaultFragment.SOURCE)},goog.inherits(ol.render.webgl.imagereplay.shader.DefaultFragment,ol.webgl.shader.Fragment),goog.addSingletonGetter(ol.render.webgl.imagereplay.shader.DefaultFragment),ol.render.webgl.imagereplay.shader.DefaultFragment.DEBUG_SOURCE="precision mediump float;\nvarying vec2 v_texCoord;\nvarying float v_opacity;\n\nuniform float u_opacity;\nuniform sampler2D u_image;\n\nvoid main(void) {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  gl_FragColor.rgb = texColor.rgb;\n  float alpha = texColor.a * v_opacity * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n",ol.render.webgl.imagereplay.shader.DefaultFragment.OPTIMIZED_SOURCE="precision mediump float;varying vec2 a;varying float b;uniform float k;uniform sampler2D l;void main(void){vec4 texColor=texture2D(l,a);gl_FragColor.rgb=texColor.rgb;float alpha=texColor.a*b*k;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}",ol.render.webgl.imagereplay.shader.DefaultFragment.SOURCE=goog.DEBUG?ol.render.webgl.imagereplay.shader.DefaultFragment.DEBUG_SOURCE:ol.render.webgl.imagereplay.shader.DefaultFragment.OPTIMIZED_SOURCE,ol.render.webgl.imagereplay.shader.DefaultVertex=function(){goog.base(this,ol.render.webgl.imagereplay.shader.DefaultVertex.SOURCE)},goog.inherits(ol.render.webgl.imagereplay.shader.DefaultVertex,ol.webgl.shader.Vertex),goog.addSingletonGetter(ol.render.webgl.imagereplay.shader.DefaultVertex),ol.render.webgl.imagereplay.shader.DefaultVertex.DEBUG_SOURCE="varying vec2 v_texCoord;\nvarying float v_opacity;\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\nattribute vec2 a_offsets;\nattribute float a_opacity;\nattribute float a_rotateWithView;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\n\nvoid main(void) {\n  mat4 offsetMatrix = u_offsetScaleMatrix;\n  if (a_rotateWithView == 1.0) {\n    offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  }\n  vec4 offsets = offsetMatrix * vec4(a_offsets, 0., 0.);\n  gl_Position = u_projectionMatrix * vec4(a_position, 0., 1.) + offsets;\n  v_texCoord = a_texCoord;\n  v_opacity = a_opacity;\n}\n\n\n",ol.render.webgl.imagereplay.shader.DefaultVertex.OPTIMIZED_SOURCE="varying vec2 a;varying float b;attribute vec2 c;attribute vec2 d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;void main(void){mat4 offsetMatrix=i;if(g==1.0){offsetMatrix=i*j;}vec4 offsets=offsetMatrix*vec4(e,0.,0.);gl_Position=h*vec4(c,0.,1.)+offsets;a=d;b=f;}",ol.render.webgl.imagereplay.shader.DefaultVertex.SOURCE=goog.DEBUG?ol.render.webgl.imagereplay.shader.DefaultVertex.DEBUG_SOURCE:ol.render.webgl.imagereplay.shader.DefaultVertex.OPTIMIZED_SOURCE,ol.render.webgl.imagereplay.shader.Default.Locations=function(e,o){this.u_image=e.getUniformLocation(o,goog.DEBUG?"u_image":"l"),this.u_offsetRotateMatrix=e.getUniformLocation(o,goog.DEBUG?"u_offsetRotateMatrix":"j"),this.u_offsetScaleMatrix=e.getUniformLocation(o,goog.DEBUG?"u_offsetScaleMatrix":"i"),this.u_opacity=e.getUniformLocation(o,goog.DEBUG?"u_opacity":"k"),this.u_projectionMatrix=e.getUniformLocation(o,goog.DEBUG?"u_projectionMatrix":"h"),this.a_offsets=e.getAttribLocation(o,goog.DEBUG?"a_offsets":"e"),this.a_opacity=e.getAttribLocation(o,goog.DEBUG?"a_opacity":"f"),this.a_position=e.getAttribLocation(o,goog.DEBUG?"a_position":"c"),this.a_rotateWithView=e.getAttribLocation(o,goog.DEBUG?"a_rotateWithView":"g"),this.a_texCoord=e.getAttribLocation(o,goog.DEBUG?"a_texCoord":"d")},goog.provide("ol.webgl.Buffer"),goog.require("goog.array"),goog.require("goog.webgl"),goog.require("ol"),ol.webgl.BufferUsage={STATIC_DRAW:goog.webgl.STATIC_DRAW,STREAM_DRAW:goog.webgl.STREAM_DRAW,DYNAMIC_DRAW:goog.webgl.DYNAMIC_DRAW},ol.webgl.Buffer=function(e,o){this.arr_=goog.isDef(e)?e:[],this.usage_=goog.isDef(o)?o:ol.webgl.BufferUsage.STATIC_DRAW},ol.webgl.Buffer.prototype.getArray=function(){return this.arr_},ol.webgl.Buffer.prototype.getUsage=function(){return this.usage_},goog.provide("ol.webgl.Context"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.events"),goog.require("goog.log"),goog.require("goog.object"),goog.require("ol"),goog.require("ol.webgl.Buffer"),goog.require("ol.webgl.WebGLContextEventType"),ol.webgl.BufferCacheEntry,ol.webgl.Context=function(e,o){if(this.canvas_=e,this.gl_=o,this.bufferCache_={},this.shaderCache_={},this.programCache_={},this.currentProgram_=null,this.hitDetectionFramebuffer_=null,this.hitDetectionTexture_=null,this.hitDetectionRenderbuffer_=null,this.hasOESElementIndexUint=goog.array.contains(ol.WEBGL_EXTENSIONS,"OES_element_index_uint"),this.hasOESElementIndexUint){var t=o.getExtension("OES_element_index_uint");goog.asserts.assert(!goog.isNull(t),'Failed to get extension "OES_element_index_uint"')}goog.events.listen(this.canvas_,ol.webgl.WebGLContextEventType.LOST,this.handleWebGLContextLost,!1,this),goog.events.listen(this.canvas_,ol.webgl.WebGLContextEventType.RESTORED,this.handleWebGLContextRestored,!1,this)},ol.webgl.Context.prototype.bindBuffer=function(e,o){var t=this.getGL(),r=o.getArray(),n=goog.getUid(o);if(n in this.bufferCache_){var i=this.bufferCache_[n];t.bindBuffer(e,i.buffer)}else{var a=t.createBuffer();t.bindBuffer(e,a),goog.asserts.assert(e==goog.webgl.ARRAY_BUFFER||e==goog.webgl.ELEMENT_ARRAY_BUFFER,"target is supposed to be an ARRAY_BUFFER or ELEMENT_ARRAY_BUFFER");var s;e==goog.webgl.ARRAY_BUFFER?s=new Float32Array(r):e==goog.webgl.ELEMENT_ARRAY_BUFFER?s=this.hasOESElementIndexUint?new Uint32Array(r):new Uint16Array(r):goog.asserts.fail(),t.bufferData(e,s,o.getUsage()),this.bufferCache_[n]={buf:o,buffer:a}}},ol.webgl.Context.prototype.deleteBuffer=function(e){var o=this.getGL(),t=goog.getUid(e);goog.asserts.assert(t in this.bufferCache_,"attempted to delete uncached buffer");var r=this.bufferCache_[t];o.isContextLost()||o.deleteBuffer(r.buffer),delete this.bufferCache_[t]},ol.webgl.Context.prototype.disposeInternal=function(){var e=this.getGL();e.isContextLost()||(goog.object.forEach(this.bufferCache_,function(o){e.deleteBuffer(o.buffer)}),goog.object.forEach(this.programCache_,function(o){e.deleteProgram(o)}),goog.object.forEach(this.shaderCache_,function(o){e.deleteShader(o)}),e.deleteFramebuffer(this.hitDetectionFramebuffer_),e.deleteRenderbuffer(this.hitDetectionRenderbuffer_),e.deleteTexture(this.hitDetectionTexture_))},ol.webgl.Context.prototype.getCanvas=function(){return this.canvas_},ol.webgl.Context.prototype.getGL=function(){return this.gl_},ol.webgl.Context.prototype.getHitDetectionFramebuffer=function(){return goog.isNull(this.hitDetectionFramebuffer_)&&this.initHitDetectionFramebuffer_(),this.hitDetectionFramebuffer_},ol.webgl.Context.prototype.getShader=function(e){var o=goog.getUid(e);if(o in this.shaderCache_)return this.shaderCache_[o];var t=this.getGL(),r=t.createShader(e.getType());return t.shaderSource(r,e.getSource()),t.compileShader(r),goog.DEBUG&&(t.getShaderParameter(r,goog.webgl.COMPILE_STATUS)||t.isContextLost()||goog.log.error(this.logger_,t.getShaderInfoLog(r))),goog.asserts.assert(t.getShaderParameter(r,goog.webgl.COMPILE_STATUS)||t.isContextLost(),"illegal state, shader not compiled or context lost"),this.shaderCache_[o]=r,r},ol.webgl.Context.prototype.getProgram=function(e,o){var t=goog.getUid(e)+"/"+goog.getUid(o);if(t in this.programCache_)return this.programCache_[t];var r=this.getGL(),n=r.createProgram();return r.attachShader(n,this.getShader(e)),r.attachShader(n,this.getShader(o)),r.linkProgram(n),goog.DEBUG&&(r.getProgramParameter(n,goog.webgl.LINK_STATUS)||r.isContextLost()||goog.log.error(this.logger_,r.getProgramInfoLog(n))),goog.asserts.assert(r.getProgramParameter(n,goog.webgl.LINK_STATUS)||r.isContextLost(),"illegal state, shader not linked or context lost"),this.programCache_[t]=n,n},ol.webgl.Context.prototype.handleWebGLContextLost=function(){goog.object.clear(this.bufferCache_),goog.object.clear(this.shaderCache_),goog.object.clear(this.programCache_),this.currentProgram_=null,this.hitDetectionFramebuffer_=null,this.hitDetectionTexture_=null,this.hitDetectionRenderbuffer_=null},ol.webgl.Context.prototype.handleWebGLContextRestored=function(){},ol.webgl.Context.prototype.initHitDetectionFramebuffer_=function(){var e=this.gl_,o=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,o);var t=ol.webgl.Context.createEmptyTexture(e,1,1),r=e.createRenderbuffer();e.bindRenderbuffer(e.RENDERBUFFER,r),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,1,1),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,r),e.bindTexture(e.TEXTURE_2D,null),e.bindRenderbuffer(e.RENDERBUFFER,null),e.bindFramebuffer(e.FRAMEBUFFER,null),this.hitDetectionFramebuffer_=o,this.hitDetectionTexture_=t,this.hitDetectionRenderbuffer_=r},ol.webgl.Context.prototype.useProgram=function(e){if(e==this.currentProgram_)return!1;var o=this.getGL();return o.useProgram(e),this.currentProgram_=e,!0},ol.webgl.Context.prototype.logger_=goog.log.getLogger("ol.webgl.Context"),ol.webgl.Context.createTexture_=function(e,o,t){var r=e.createTexture();return e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),goog.isDef(o)&&e.texParameteri(goog.webgl.TEXTURE_2D,goog.webgl.TEXTURE_WRAP_S,o),goog.isDef(t)&&e.texParameteri(goog.webgl.TEXTURE_2D,goog.webgl.TEXTURE_WRAP_T,t),r},ol.webgl.Context.createEmptyTexture=function(e,o,t,r,n){var i=ol.webgl.Context.createTexture_(e,r,n);return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,o,t,0,e.RGBA,e.UNSIGNED_BYTE,null),i},ol.webgl.Context.createTexture=function(e,o,t,r){var n=ol.webgl.Context.createTexture_(e,t,r);return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,o),n},goog.provide("ol.render.webgl.ImageReplay"),goog.provide("ol.render.webgl.ReplayGroup"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.functions"),goog.require("goog.object"),goog.require("goog.vec.Mat4"),goog.require("ol.color.Matrix"),goog.require("ol.extent"),goog.require("ol.render.IReplayGroup"),goog.require("ol.render.VectorContext"),goog.require("ol.render.webgl.imagereplay.shader.Color"),goog.require("ol.render.webgl.imagereplay.shader.Default"),goog.require("ol.vec.Mat4"),goog.require("ol.webgl.Buffer"),goog.require("ol.webgl.Context"),ol.render.webgl.ImageReplay=function(e,o){goog.base(this),this.anchorX_=void 0,this.anchorY_=void 0,this.colorMatrix_=new ol.color.Matrix,this.origin_=ol.extent.getCenter(o),this.groupIndices_=[],this.hitDetectionGroupIndices_=[],this.height_=void 0,this.images_=[],this.hitDetectionImages_=[],this.imageHeight_=void 0,this.imageWidth_=void 0,this.indices_=[],this.indicesBuffer_=null,this.colorLocations_=null,this.defaultLocations_=null,this.opacity_=void 0,this.offsetRotateMatrix_=goog.vec.Mat4.createNumberIdentity(),this.offsetScaleMatrix_=goog.vec.Mat4.createNumberIdentity(),this.originX_=void 0,this.originY_=void 0,this.projectionMatrix_=goog.vec.Mat4.createNumberIdentity(),this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.textures_=[],this.hitDetectionTextures_=[],this.vertices_=[],this.verticesBuffer_=null,this.startIndices_=[],this.startIndicesFeature_=[],this.width_=void 0},goog.inherits(ol.render.webgl.ImageReplay,ol.render.VectorContext),ol.render.webgl.ImageReplay.prototype.getDeleteResourcesFunction=function(e){goog.asserts.assert(!goog.isNull(this.verticesBuffer_),"verticesBuffer must not be null"),goog.asserts.assert(!goog.isNull(this.indicesBuffer_),"indicesBuffer must not be null");var o=this.verticesBuffer_,t=this.indicesBuffer_,r=this.textures_,n=this.hitDetectionTextures_,i=e.getGL();return function(){if(!i.isContextLost()){var a,s;for(a=0,s=r.length;s>a;++a)i.deleteTexture(r[a]);for(a=0,s=n.length;s>a;++a)i.deleteTexture(n[a])}e.deleteBuffer(o),e.deleteBuffer(t)}},ol.render.webgl.ImageReplay.prototype.drawAsync=goog.abstractMethod,ol.render.webgl.ImageReplay.prototype.drawCoordinates_=function(e,o,t,r){
goog.asserts.assert(goog.isDef(this.anchorX_),"anchorX is defined"),goog.asserts.assert(goog.isDef(this.anchorY_),"anchorY is defined"),goog.asserts.assert(goog.isDef(this.height_),"height is defined"),goog.asserts.assert(goog.isDef(this.imageHeight_),"imageHeight is defined"),goog.asserts.assert(goog.isDef(this.imageWidth_),"imageWidth is defined"),goog.asserts.assert(goog.isDef(this.opacity_),"opacity is defined"),goog.asserts.assert(goog.isDef(this.originX_),"originX is defined"),goog.asserts.assert(goog.isDef(this.originY_),"originY is defined"),goog.asserts.assert(goog.isDef(this.rotateWithView_),"rotateWithView is defined"),goog.asserts.assert(goog.isDef(this.rotation_),"rotation is defined"),goog.asserts.assert(goog.isDef(this.scale_),"scale is defined"),goog.asserts.assert(goog.isDef(this.width_),"width is defined");var n,i,a,s,g,l,p=this.anchorX_,u=this.anchorY_,c=this.height_,d=this.imageHeight_,h=this.imageWidth_,m=this.opacity_,y=this.originX_,f=this.originY_,v=this.rotateWithView_?1:0,_=this.rotation_,E=this.scale_,S=this.width_,T=Math.cos(_),x=Math.sin(_),b=this.indices_.length,P=this.vertices_.length;for(n=o;t>n;n+=r)g=e[n]-this.origin_[0],l=e[n+1]-this.origin_[1],i=P/8,a=-E*p,s=-E*(c-u),this.vertices_[P++]=g,this.vertices_[P++]=l,this.vertices_[P++]=a*T-s*x,this.vertices_[P++]=a*x+s*T,this.vertices_[P++]=y/h,this.vertices_[P++]=(f+c)/d,this.vertices_[P++]=m,this.vertices_[P++]=v,a=E*(S-p),s=-E*(c-u),this.vertices_[P++]=g,this.vertices_[P++]=l,this.vertices_[P++]=a*T-s*x,this.vertices_[P++]=a*x+s*T,this.vertices_[P++]=(y+S)/h,this.vertices_[P++]=(f+c)/d,this.vertices_[P++]=m,this.vertices_[P++]=v,a=E*(S-p),s=E*u,this.vertices_[P++]=g,this.vertices_[P++]=l,this.vertices_[P++]=a*T-s*x,this.vertices_[P++]=a*x+s*T,this.vertices_[P++]=(y+S)/h,this.vertices_[P++]=f/d,this.vertices_[P++]=m,this.vertices_[P++]=v,a=-E*p,s=E*u,this.vertices_[P++]=g,this.vertices_[P++]=l,this.vertices_[P++]=a*T-s*x,this.vertices_[P++]=a*x+s*T,this.vertices_[P++]=y/h,this.vertices_[P++]=f/d,this.vertices_[P++]=m,this.vertices_[P++]=v,this.indices_[b++]=i,this.indices_[b++]=i+1,this.indices_[b++]=i+2,this.indices_[b++]=i,this.indices_[b++]=i+2,this.indices_[b++]=i+3;return P},ol.render.webgl.ImageReplay.prototype.drawMultiPointGeometry=function(e,o){this.startIndices_.push(this.indices_.length),this.startIndicesFeature_.push(o);var t=e.getFlatCoordinates(),r=e.getStride();this.drawCoordinates_(t,0,t.length,r)},ol.render.webgl.ImageReplay.prototype.drawPointGeometry=function(e,o){this.startIndices_.push(this.indices_.length),this.startIndicesFeature_.push(o);var t=e.getFlatCoordinates(),r=e.getStride();this.drawCoordinates_(t,0,t.length,r)},ol.render.webgl.ImageReplay.prototype.finish=function(e){var o=e.getGL();this.groupIndices_.push(this.indices_.length),goog.asserts.assert(this.images_.length===this.groupIndices_.length,"number of images and groupIndices match"),this.hitDetectionGroupIndices_.push(this.indices_.length),goog.asserts.assert(this.hitDetectionImages_.length===this.hitDetectionGroupIndices_.length,"number of hitDetectionImages and hitDetectionGroupIndices match"),this.verticesBuffer_=new ol.webgl.Buffer(this.vertices_),e.bindBuffer(goog.webgl.ARRAY_BUFFER,this.verticesBuffer_);var t=this.indices_,r=e.hasOESElementIndexUint?32:16;goog.asserts.assert(t[t.length-1]<Math.pow(2,r),'Too large element index detected [%s] (OES_element_index_uint "%s")',t[t.length-1],e.hasOESElementIndexUint),this.indicesBuffer_=new ol.webgl.Buffer(t),e.bindBuffer(goog.webgl.ELEMENT_ARRAY_BUFFER,this.indicesBuffer_);var n={};this.createTextures_(this.textures_,this.images_,n,o),goog.asserts.assert(this.textures_.length===this.groupIndices_.length,"number of textures and groupIndices match"),this.createTextures_(this.hitDetectionTextures_,this.hitDetectionImages_,n,o),goog.asserts.assert(this.hitDetectionTextures_.length===this.hitDetectionGroupIndices_.length,"number of hitDetectionTextures and hitDetectionGroupIndices match"),this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.images_=null,this.hitDetectionImages_=null,this.imageHeight_=void 0,this.imageWidth_=void 0,this.indices_=null,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.vertices_=null,this.width_=void 0},ol.render.webgl.ImageReplay.prototype.createTextures_=function(e,o,t,r){goog.asserts.assert(0===e.length,"upon creation, textures is empty");var n,i,a,s,g=o.length;for(s=0;g>s;++s)i=o[s],a=goog.getUid(i).toString(),goog.object.containsKey(t,a)?n=t[a]:(n=ol.webgl.Context.createTexture(r,i,goog.webgl.CLAMP_TO_EDGE,goog.webgl.CLAMP_TO_EDGE),t[a]=n),e[s]=n},ol.render.webgl.ImageReplay.prototype.replay=function(e,o,t,r,n,i,a,s,g,l,p,u,c,d,h){var m=e.getGL();goog.asserts.assert(!goog.isNull(this.verticesBuffer_),"verticesBuffer must not be null"),e.bindBuffer(goog.webgl.ARRAY_BUFFER,this.verticesBuffer_),goog.asserts.assert(!goog.isNull(this.indicesBuffer_),"indecesBuffer must not be null"),e.bindBuffer(goog.webgl.ELEMENT_ARRAY_BUFFER,this.indicesBuffer_);var y,f,v=s||1!=g||l||1!=p;v?(y=ol.render.webgl.imagereplay.shader.ColorFragment.getInstance(),f=ol.render.webgl.imagereplay.shader.ColorVertex.getInstance()):(y=ol.render.webgl.imagereplay.shader.DefaultFragment.getInstance(),f=ol.render.webgl.imagereplay.shader.DefaultVertex.getInstance());var _,E=e.getProgram(y,f);v?goog.isNull(this.colorLocations_)?(_=new ol.render.webgl.imagereplay.shader.Color.Locations(m,E),this.colorLocations_=_):_=this.colorLocations_:goog.isNull(this.defaultLocations_)?(_=new ol.render.webgl.imagereplay.shader.Default.Locations(m,E),this.defaultLocations_=_):_=this.defaultLocations_,e.useProgram(E),m.enableVertexAttribArray(_.a_position),m.vertexAttribPointer(_.a_position,2,goog.webgl.FLOAT,!1,32,0),m.enableVertexAttribArray(_.a_offsets),m.vertexAttribPointer(_.a_offsets,2,goog.webgl.FLOAT,!1,32,8),m.enableVertexAttribArray(_.a_texCoord),m.vertexAttribPointer(_.a_texCoord,2,goog.webgl.FLOAT,!1,32,16),m.enableVertexAttribArray(_.a_opacity),m.vertexAttribPointer(_.a_opacity,1,goog.webgl.FLOAT,!1,32,24),m.enableVertexAttribArray(_.a_rotateWithView),m.vertexAttribPointer(_.a_rotateWithView,1,goog.webgl.FLOAT,!1,32,28);var S=this.projectionMatrix_;ol.vec.Mat4.makeTransform2D(S,0,0,2/(t*n[0]),2/(t*n[1]),-r,-(o[0]-this.origin_[0]),-(o[1]-this.origin_[1]));var T=this.offsetScaleMatrix_;goog.vec.Mat4.makeScale(T,2/n[0],2/n[1],1);var x=this.offsetRotateMatrix_;goog.vec.Mat4.makeIdentity(x),0!==r&&goog.vec.Mat4.rotateZ(x,-r),m.uniformMatrix4fv(_.u_projectionMatrix,!1,S),m.uniformMatrix4fv(_.u_offsetScaleMatrix,!1,T),m.uniformMatrix4fv(_.u_offsetRotateMatrix,!1,x),m.uniform1f(_.u_opacity,a),v&&m.uniformMatrix4fv(_.u_colorMatrix,!1,this.colorMatrix_.getMatrix(s,g,l,p));var b;return goog.isDef(c)?b=this.drawHitDetectionReplay_(m,e,u,c,d,h):this.drawReplay_(m,e,u,this.textures_,this.groupIndices_),m.disableVertexAttribArray(_.a_position),m.disableVertexAttribArray(_.a_offsets),m.disableVertexAttribArray(_.a_texCoord),m.disableVertexAttribArray(_.a_opacity),m.disableVertexAttribArray(_.a_rotateWithView),b},ol.render.webgl.ImageReplay.prototype.drawReplay_=function(e,o,t,r,n){goog.asserts.assert(r.length===n.length,"number of textures and groupIndeces match");var i=o.hasOESElementIndexUint?goog.webgl.UNSIGNED_INT:goog.webgl.UNSIGNED_SHORT,a=o.hasOESElementIndexUint?4:2;if(goog.object.isEmpty(t)){var s,g,l;for(s=0,g=r.length,l=0;g>s;++s){e.bindTexture(goog.webgl.TEXTURE_2D,r[s]);var p=n[s];this.drawElements_(e,l,p,i,a),l=p}}else this.drawReplaySkipping_(e,t,r,n,i,a)},ol.render.webgl.ImageReplay.prototype.drawReplaySkipping_=function(e,o,t,r,n,i){var a,s,g=0;for(a=0,s=t.length;s>a;++a){e.bindTexture(goog.webgl.TEXTURE_2D,t[a]);for(var l=a>0?r[a-1]:0,p=r[a],u=l,c=l;g<this.startIndices_.length&&this.startIndices_[g]<=p;){var d=this.startIndicesFeature_[g],h=goog.getUid(d).toString();goog.isDef(o[h])?(u!==c&&this.drawElements_(e,u,c,n,i),u=g===this.startIndices_.length-1?p:this.startIndices_[g+1],c=u):c=g===this.startIndices_.length-1?p:this.startIndices_[g+1],g++}u!==c&&this.drawElements_(e,u,c,n,i)}},ol.render.webgl.ImageReplay.prototype.drawElements_=function(e,o,t,r,n){var i=t-o,a=o*n;e.drawElements(goog.webgl.TRIANGLES,i,r,a)},ol.render.webgl.ImageReplay.prototype.drawHitDetectionReplay_=function(e,o,t,r,n,i){return n?this.drawHitDetectionReplayOneByOne_(e,o,t,r,i):this.drawHitDetectionReplayAll_(e,o,t,r)},ol.render.webgl.ImageReplay.prototype.drawHitDetectionReplayAll_=function(e,o,t,r){e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),this.drawReplay_(e,o,t,this.hitDetectionTextures_,this.hitDetectionGroupIndices_);var n=r(null);return n?n:void 0},ol.render.webgl.ImageReplay.prototype.drawHitDetectionReplayOneByOne_=function(e,o,t,r,n){goog.asserts.assert(this.hitDetectionTextures_.length===this.hitDetectionGroupIndices_.length,"number of hitDetectionTextures and hitDetectionGroupIndices match");var i,a,s,g,l,p,u=o.hasOESElementIndexUint?goog.webgl.UNSIGNED_INT:goog.webgl.UNSIGNED_SHORT,c=o.hasOESElementIndexUint?4:2,d=this.startIndices_.length-1;for(i=this.hitDetectionTextures_.length-1;i>=0;--i)for(e.bindTexture(goog.webgl.TEXTURE_2D,this.hitDetectionTextures_[i]),a=i>0?this.hitDetectionGroupIndices_[i-1]:0,g=this.hitDetectionGroupIndices_[i];d>=0&&this.startIndices_[d]>=a;){if(s=this.startIndices_[d],l=this.startIndicesFeature_[d],p=goog.getUid(l).toString(),!goog.isDef(t[p])&&(!goog.isDef(n)||ol.extent.intersects(n,l.getGeometry().getExtent()))){e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),this.drawElements_(e,s,g,u,c);var h=r(l);if(h)return h}g=s,d--}return void 0},ol.render.webgl.ImageReplay.prototype.setFillStrokeStyle=goog.abstractMethod,ol.render.webgl.ImageReplay.prototype.setImageStyle=function(e){var o=e.getAnchor(),t=e.getImage(1),r=e.getImageSize(),n=e.getHitDetectionImage(1),i=e.getHitDetectionImageSize(),a=e.getOpacity(),s=e.getOrigin(),g=e.getRotateWithView(),l=e.getRotation(),p=e.getSize(),u=e.getScale();goog.asserts.assert(!goog.isNull(o),"imageStyle anchor is not null"),goog.asserts.assert(!goog.isNull(t),"imageStyle image is not null"),goog.asserts.assert(!goog.isNull(r),"imageStyle imageSize is not null"),goog.asserts.assert(!goog.isNull(n),"imageStyle hitDetectionImage is not null"),goog.asserts.assert(!goog.isNull(i),"imageStyle hitDetectionImageSize is not null"),goog.asserts.assert(goog.isDef(a),"imageStyle opacity is defined"),goog.asserts.assert(!goog.isNull(s),"imageStyle origin is not null"),goog.asserts.assert(goog.isDef(g),"imageStyle rotateWithView is defined"),goog.asserts.assert(goog.isDef(l),"imageStyle rotation is defined"),goog.asserts.assert(!goog.isNull(p),"imageStyle size is not null"),goog.asserts.assert(goog.isDef(u),"imageStyle scale is defined");var c;0===this.images_.length?this.images_.push(t):(c=this.images_[this.images_.length-1],goog.getUid(c)!=goog.getUid(t)&&(this.groupIndices_.push(this.indices_.length),goog.asserts.assert(this.groupIndices_.length===this.images_.length,"number of groupIndices and images match"),this.images_.push(t))),0===this.hitDetectionImages_.length?this.hitDetectionImages_.push(n):(c=this.hitDetectionImages_[this.hitDetectionImages_.length-1],goog.getUid(c)!=goog.getUid(n)&&(this.hitDetectionGroupIndices_.push(this.indices_.length),goog.asserts.assert(this.hitDetectionGroupIndices_.length===this.hitDetectionImages_.length,"number of hitDetectionGroupIndices and hitDetectionImages match"),this.hitDetectionImages_.push(n))),this.anchorX_=o[0],this.anchorY_=o[1],this.height_=p[1],this.imageHeight_=r[1],this.imageWidth_=r[0],this.opacity_=a,this.originX_=s[0],this.originY_=s[1],this.rotation_=l,this.rotateWithView_=g,this.scale_=u,this.width_=p[0]},ol.render.webgl.ReplayGroup=function(e,o,t){this.maxExtent_=o,this.tolerance_=e,this.renderBuffer_=t,this.replays_={}},ol.render.webgl.ReplayGroup.prototype.getDeleteResourcesFunction=function(e){var o,t=[];for(o in this.replays_)t.push(this.replays_[o].getDeleteResourcesFunction(e));return goog.functions.sequence.apply(null,t)},ol.render.webgl.ReplayGroup.prototype.finish=function(e){var o;for(o in this.replays_)this.replays_[o].finish(e)},ol.render.webgl.ReplayGroup.prototype.getReplay=function(e,o){var t=this.replays_[o];if(!goog.isDef(t)){var r=ol.render.webgl.BATCH_CONSTRUCTORS_[o];goog.asserts.assert(goog.isDef(r),o+" constructor missing from ol.render.webgl.BATCH_CONSTRUCTORS_"),t=new r(this.tolerance_,this.maxExtent_),this.replays_[o]=t}return t},ol.render.webgl.ReplayGroup.prototype.isEmpty=function(){return goog.object.isEmpty(this.replays_)},ol.render.webgl.ReplayGroup.prototype.replay=function(e,o,t,r,n,i,a,s,g,l,p,u){var c,d,h;for(c=0,d=ol.render.REPLAY_ORDER.length;d>c;++c)h=this.replays_[ol.render.REPLAY_ORDER[c]],goog.isDef(h)&&h.replay(e,o,t,r,n,i,a,s,g,l,p,u,void 0,!1)},ol.render.webgl.ReplayGroup.prototype.replayHitDetection_=function(e,o,t,r,n,i,a,s,g,l,p,u,c,d,h){var m,y,f;for(m=ol.render.REPLAY_ORDER.length-1;m>=0;--m)if(y=this.replays_[ol.render.REPLAY_ORDER[m]],goog.isDef(y)&&(f=y.replay(e,o,t,r,n,i,a,s,g,l,p,u,c,d,h)))return f;return void 0},ol.render.webgl.ReplayGroup.prototype.forEachFeatureAtCoordinate=function(e,o,t,r,n,i,a,s,g,l,p,u,c,d){var h=o.getGL();h.bindFramebuffer(h.FRAMEBUFFER,o.getHitDetectionFramebuffer());var m;return goog.isDef(this.renderBuffer_)&&(m=ol.extent.buffer(ol.extent.createOrUpdateFromCoordinate(e),r*this.renderBuffer_)),this.replayHitDetection_(o,e,r,n,ol.render.webgl.HIT_DETECTION_SIZE_,a,s,g,l,p,u,c,function(e){var o=new Uint8Array(4);if(h.readPixels(0,0,1,1,h.RGBA,h.UNSIGNED_BYTE,o),o[3]>0){var t=d(e);if(t)return t}},!0,m)},ol.render.webgl.ReplayGroup.prototype.hasFeatureAtCoordinate=function(e,o,t,r,n,i,a,s,g,l,p,u,c){var d=o.getGL();d.bindFramebuffer(d.FRAMEBUFFER,o.getHitDetectionFramebuffer());var h=this.replayHitDetection_(o,e,r,n,ol.render.webgl.HIT_DETECTION_SIZE_,a,s,g,l,p,u,c,function(e){var o=new Uint8Array(4);return d.readPixels(0,0,1,1,d.RGBA,d.UNSIGNED_BYTE,o),o[3]>0},!1);return goog.isDef(h)},ol.render.webgl.BATCH_CONSTRUCTORS_={Image:ol.render.webgl.ImageReplay},ol.render.webgl.HIT_DETECTION_SIZE_=[1,1],goog.provide("ol.render.webgl.Immediate"),goog.require("goog.array"),goog.require("goog.object"),goog.require("ol.extent"),goog.require("ol.render.VectorContext"),goog.require("ol.render.webgl.ImageReplay"),goog.require("ol.render.webgl.ReplayGroup"),ol.render.webgl.Immediate=function(e,o,t,r,n,i,a){goog.base(this),this.context_=e,this.center_=o,this.extent_=i,this.pixelRatio_=a,this.size_=n,this.rotation_=r,this.resolution_=t,this.imageStyle_=null,this.callbacksByZIndex_={}},goog.inherits(ol.render.webgl.Immediate,ol.render.VectorContext),ol.render.webgl.Immediate.prototype.flush=function(){var e=goog.array.map(goog.object.getKeys(this.callbacksByZIndex_),Number);goog.array.sort(e);var o,t,r,n,i;for(o=0,t=e.length;t>o;++o)for(r=this.callbacksByZIndex_[e[o].toString()],n=0,i=r.length;i>n;++n)r[n](this)},ol.render.webgl.Immediate.prototype.drawAsync=function(e,o){var t=e.toString(),r=this.callbacksByZIndex_[t];goog.isDef(r)?r.push(o):this.callbacksByZIndex_[t]=[o]},ol.render.webgl.Immediate.prototype.drawCircleGeometry=function(e,o){},ol.render.webgl.Immediate.prototype.drawFeature=function(e,o){var t=o.getGeometryFunction()(e);if(goog.isDefAndNotNull(t)&&ol.extent.intersects(this.extent_,t.getExtent())){var r=o.getZIndex();goog.isDef(r)||(r=0),this.drawAsync(r,function(e){e.setFillStrokeStyle(o.getFill(),o.getStroke()),e.setImageStyle(o.getImage()),e.setTextStyle(o.getText());var r=t.getType(),n=ol.render.webgl.Immediate.GEOMETRY_RENDERERS_[r];n&&n.call(e,t,null)})}},ol.render.webgl.Immediate.prototype.drawGeometryCollectionGeometry=function(e,o){var t,r,n=e.getGeometriesArray(),i=ol.render.webgl.Immediate.GEOMETRY_RENDERERS_;for(t=0,r=n.length;r>t;++t){var a=n[t],s=i[a.getType()];s&&s.call(this,a,o)}},ol.render.webgl.Immediate.prototype.drawPointGeometry=function(e,o){var t=this.context_,r=new ol.render.webgl.ReplayGroup(1,this.extent_),n=r.getReplay(0,ol.render.ReplayType.IMAGE);n.setImageStyle(this.imageStyle_),n.drawPointGeometry(e,o),n.finish(t);var i,a=1,s=0,g=1,l=0,p=1,u={},c=!1;n.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,a,s,g,l,p,u,i,c),n.getDeleteResourcesFunction(t)()},ol.render.webgl.Immediate.prototype.drawLineStringGeometry=function(e,o){},ol.render.webgl.Immediate.prototype.drawMultiLineStringGeometry=function(e,o){},ol.render.webgl.Immediate.prototype.drawMultiPointGeometry=function(e,o){var t=this.context_,r=new ol.render.webgl.ReplayGroup(1,this.extent_),n=r.getReplay(0,ol.render.ReplayType.IMAGE);n.setImageStyle(this.imageStyle_),n.drawMultiPointGeometry(e,o),n.finish(t);var i,a=1,s=0,g=1,l=0,p=1,u={},c=!1;n.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,a,s,g,l,p,u,i,c),n.getDeleteResourcesFunction(t)()},ol.render.webgl.Immediate.prototype.drawMultiPolygonGeometry=function(e,o){},ol.render.webgl.Immediate.prototype.drawPolygonGeometry=function(e,o){},ol.render.webgl.Immediate.prototype.drawText=function(e,o,t,r,n,i){},ol.render.webgl.Immediate.prototype.setFillStrokeStyle=function(e,o){},ol.render.webgl.Immediate.prototype.setImageStyle=function(e){this.imageStyle_=e},ol.render.webgl.Immediate.prototype.setTextStyle=function(e){},ol.render.webgl.Immediate.GEOMETRY_RENDERERS_={Point:ol.render.webgl.Immediate.prototype.drawPointGeometry,MultiPoint:ol.render.webgl.Immediate.prototype.drawMultiPointGeometry,GeometryCollection:ol.render.webgl.Immediate.prototype.drawGeometryCollectionGeometry},goog.provide("ol.renderer.webgl.map.shader.Color"),goog.require("ol.webgl.shader"),ol.renderer.webgl.map.shader.ColorFragment=function(){goog.base(this,ol.renderer.webgl.map.shader.ColorFragment.SOURCE)},goog.inherits(ol.renderer.webgl.map.shader.ColorFragment,ol.webgl.shader.Fragment),goog.addSingletonGetter(ol.renderer.webgl.map.shader.ColorFragment),ol.renderer.webgl.map.shader.ColorFragment.DEBUG_SOURCE="precision mediump float;\nvarying vec2 v_texCoord;\n\n\n// @see https://svn.webkit.org/repository/webkit/trunk/Source/WebCore/platform/graphics/filters/skia/SkiaImageFilterBuilder.cpp\nuniform mat4 u_colorMatrix;\nuniform float u_opacity;\nuniform sampler2D u_texture;\n\nvoid main(void) {\n  vec4 texColor = texture2D(u_texture, v_texCoord);\n  gl_FragColor.rgb = (u_colorMatrix * vec4(texColor.rgb, 1.)).rgb;\n  gl_FragColor.a = texColor.a * u_opacity;\n}\n",ol.renderer.webgl.map.shader.ColorFragment.OPTIMIZED_SOURCE="precision mediump float;varying vec2 a;uniform mat4 f;uniform float g;uniform sampler2D h;void main(void){vec4 texColor=texture2D(h,a);gl_FragColor.rgb=(f*vec4(texColor.rgb,1.)).rgb;gl_FragColor.a=texColor.a*g;}",ol.renderer.webgl.map.shader.ColorFragment.SOURCE=goog.DEBUG?ol.renderer.webgl.map.shader.ColorFragment.DEBUG_SOURCE:ol.renderer.webgl.map.shader.ColorFragment.OPTIMIZED_SOURCE,ol.renderer.webgl.map.shader.ColorVertex=function(){goog.base(this,ol.renderer.webgl.map.shader.ColorVertex.SOURCE)},goog.inherits(ol.renderer.webgl.map.shader.ColorVertex,ol.webgl.shader.Vertex),goog.addSingletonGetter(ol.renderer.webgl.map.shader.ColorVertex),ol.renderer.webgl.map.shader.ColorVertex.DEBUG_SOURCE="varying vec2 v_texCoord;\n\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\n\nuniform mat4 u_texCoordMatrix;\nuniform mat4 u_projectionMatrix;\n\nvoid main(void) {\n  gl_Position = u_projectionMatrix * vec4(a_position, 0., 1.);\n  v_texCoord = (u_texCoordMatrix * vec4(a_texCoord, 0., 1.)).st;\n}\n\n\n",ol.renderer.webgl.map.shader.ColorVertex.OPTIMIZED_SOURCE="varying vec2 a;attribute vec2 b;attribute vec2 c;uniform mat4 d;uniform mat4 e;void main(void){gl_Position=e*vec4(b,0.,1.);a=(d*vec4(c,0.,1.)).st;}",ol.renderer.webgl.map.shader.ColorVertex.SOURCE=goog.DEBUG?ol.renderer.webgl.map.shader.ColorVertex.DEBUG_SOURCE:ol.renderer.webgl.map.shader.ColorVertex.OPTIMIZED_SOURCE,ol.renderer.webgl.map.shader.Color.Locations=function(e,o){this.u_colorMatrix=e.getUniformLocation(o,goog.DEBUG?"u_colorMatrix":"f"),this.u_opacity=e.getUniformLocation(o,goog.DEBUG?"u_opacity":"g"),this.u_projectionMatrix=e.getUniformLocation(o,goog.DEBUG?"u_projectionMatrix":"e"),this.u_texCoordMatrix=e.getUniformLocation(o,goog.DEBUG?"u_texCoordMatrix":"d"),this.u_texture=e.getUniformLocation(o,goog.DEBUG?"u_texture":"h"),this.a_position=e.getAttribLocation(o,goog.DEBUG?"a_position":"b"),this.a_texCoord=e.getAttribLocation(o,goog.DEBUG?"a_texCoord":"c")},goog.provide("ol.renderer.webgl.map.shader.Default"),goog.require("ol.webgl.shader"),ol.renderer.webgl.map.shader.DefaultFragment=function(){goog.base(this,ol.renderer.webgl.map.shader.DefaultFragment.SOURCE)},goog.inherits(ol.renderer.webgl.map.shader.DefaultFragment,ol.webgl.shader.Fragment),goog.addSingletonGetter(ol.renderer.webgl.map.shader.DefaultFragment),ol.renderer.webgl.map.shader.DefaultFragment.DEBUG_SOURCE="precision mediump float;\nvarying vec2 v_texCoord;\n\n\nuniform float u_opacity;\nuniform sampler2D u_texture;\n\nvoid main(void) {\n  vec4 texColor = texture2D(u_texture, v_texCoord);\n  gl_FragColor.rgb = texColor.rgb;\n  gl_FragColor.a = texColor.a * u_opacity;\n}\n",ol.renderer.webgl.map.shader.DefaultFragment.OPTIMIZED_SOURCE="precision mediump float;varying vec2 a;uniform float f;uniform sampler2D g;void main(void){vec4 texColor=texture2D(g,a);gl_FragColor.rgb=texColor.rgb;gl_FragColor.a=texColor.a*f;}",ol.renderer.webgl.map.shader.DefaultFragment.SOURCE=goog.DEBUG?ol.renderer.webgl.map.shader.DefaultFragment.DEBUG_SOURCE:ol.renderer.webgl.map.shader.DefaultFragment.OPTIMIZED_SOURCE,ol.renderer.webgl.map.shader.DefaultVertex=function(){goog.base(this,ol.renderer.webgl.map.shader.DefaultVertex.SOURCE)},goog.inherits(ol.renderer.webgl.map.shader.DefaultVertex,ol.webgl.shader.Vertex),goog.addSingletonGetter(ol.renderer.webgl.map.shader.DefaultVertex),ol.renderer.webgl.map.shader.DefaultVertex.DEBUG_SOURCE="varying vec2 v_texCoord;\n\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\n\nuniform mat4 u_texCoordMatrix;\nuniform mat4 u_projectionMatrix;\n\nvoid main(void) {\n  gl_Position = u_projectionMatrix * vec4(a_position, 0., 1.);\n  v_texCoord = (u_texCoordMatrix * vec4(a_texCoord, 0., 1.)).st;\n}\n\n\n",ol.renderer.webgl.map.shader.DefaultVertex.OPTIMIZED_SOURCE="varying vec2 a;attribute vec2 b;attribute vec2 c;uniform mat4 d;uniform mat4 e;void main(void){gl_Position=e*vec4(b,0.,1.);a=(d*vec4(c,0.,1.)).st;}",ol.renderer.webgl.map.shader.DefaultVertex.SOURCE=goog.DEBUG?ol.renderer.webgl.map.shader.DefaultVertex.DEBUG_SOURCE:ol.renderer.webgl.map.shader.DefaultVertex.OPTIMIZED_SOURCE,ol.renderer.webgl.map.shader.Default.Locations=function(e,o){this.u_opacity=e.getUniformLocation(o,goog.DEBUG?"u_opacity":"f"),this.u_projectionMatrix=e.getUniformLocation(o,goog.DEBUG?"u_projectionMatrix":"e"),this.u_texCoordMatrix=e.getUniformLocation(o,goog.DEBUG?"u_texCoordMatrix":"d"),this.u_texture=e.getUniformLocation(o,goog.DEBUG?"u_texture":"g"),this.a_position=e.getAttribLocation(o,goog.DEBUG?"a_position":"b"),this.a_texCoord=e.getAttribLocation(o,goog.DEBUG?"a_texCoord":"c")},goog.provide("ol.renderer.webgl.Layer"),goog.require("goog.vec.Mat4"),goog.require("goog.webgl"),goog.require("ol.color.Matrix"),goog.require("ol.layer.Layer"),goog.require("ol.render.Event"),goog.require("ol.render.EventType"),goog.require("ol.render.webgl.Immediate"),goog.require("ol.renderer.Layer"),goog.require("ol.renderer.webgl.map.shader.Color"),goog.require("ol.renderer.webgl.map.shader.Default"),goog.require("ol.webgl.Buffer"),goog.require("ol.webgl.Context"),ol.renderer.webgl.Layer=function(e,o){goog.base(this,o),this.mapRenderer=e,this.arrayBuffer_=new ol.webgl.Buffer([-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,1,1,1]),this.texture=null,this.framebuffer=null,this.framebufferDimension=void 0,this.texCoordMatrix=goog.vec.Mat4.createNumber(),this.projectionMatrix=goog.vec.Mat4.createNumberIdentity(),this.colorMatrix_=new ol.color.Matrix,this.colorLocations_=null,this.defaultLocations_=null},goog.inherits(ol.renderer.webgl.Layer,ol.renderer.Layer),ol.renderer.webgl.Layer.prototype.bindFramebuffer=function(e,o){var t=this.mapRenderer.getGL();if(goog.isDef(this.framebufferDimension)&&this.framebufferDimension==o)t.bindFramebuffer(goog.webgl.FRAMEBUFFER,this.framebuffer);else{e.postRenderFunctions.push(goog.partial(function(e,o,t){e.isContextLost()||(e.deleteFramebuffer(o),e.deleteTexture(t))},t,this.framebuffer,this.texture));var r=ol.webgl.Context.createEmptyTexture(t,o,o),n=t.createFramebuffer();t.bindFramebuffer(goog.webgl.FRAMEBUFFER,n),t.framebufferTexture2D(goog.webgl.FRAMEBUFFER,goog.webgl.COLOR_ATTACHMENT0,goog.webgl.TEXTURE_2D,r,0),this.texture=r,this.framebuffer=n,this.framebufferDimension=o}},ol.renderer.webgl.Layer.prototype.composeFrame=function(e,o,t){this.dispatchComposeEvent_(ol.render.EventType.PRECOMPOSE,t,e),t.bindBuffer(goog.webgl.ARRAY_BUFFER,this.arrayBuffer_);var r,n,i=t.getGL(),a=o.brightness||1!=o.contrast||o.hue||1!=o.saturation;a?(r=ol.renderer.webgl.map.shader.ColorFragment.getInstance(),n=ol.renderer.webgl.map.shader.ColorVertex.getInstance()):(r=ol.renderer.webgl.map.shader.DefaultFragment.getInstance(),n=ol.renderer.webgl.map.shader.DefaultVertex.getInstance());var s,g=t.getProgram(r,n);a?goog.isNull(this.colorLocations_)?(s=new ol.renderer.webgl.map.shader.Color.Locations(i,g),this.colorLocations_=s):s=this.colorLocations_:goog.isNull(this.defaultLocations_)?(s=new ol.renderer.webgl.map.shader.Default.Locations(i,g),this.defaultLocations_=s):s=this.defaultLocations_,t.useProgram(g)&&(i.enableVertexAttribArray(s.a_position),i.vertexAttribPointer(s.a_position,2,goog.webgl.FLOAT,!1,16,0),i.enableVertexAttribArray(s.a_texCoord),i.vertexAttribPointer(s.a_texCoord,2,goog.webgl.FLOAT,!1,16,8),i.uniform1i(s.u_texture,0)),i.uniformMatrix4fv(s.u_texCoordMatrix,!1,this.getTexCoordMatrix()),i.uniformMatrix4fv(s.u_projectionMatrix,!1,this.getProjectionMatrix()),a&&i.uniformMatrix4fv(s.u_colorMatrix,!1,this.colorMatrix_.getMatrix(o.brightness,o.contrast,o.hue,o.saturation)),i.uniform1f(s.u_opacity,o.opacity),i.bindTexture(goog.webgl.TEXTURE_2D,this.getTexture()),i.drawArrays(goog.webgl.TRIANGLE_STRIP,0,4),this.dispatchComposeEvent_(ol.render.EventType.POSTCOMPOSE,t,e)},ol.renderer.webgl.Layer.prototype.dispatchComposeEvent_=function(e,o,t){var r=this.getLayer();if(r.hasListener(e)){var n=t.viewState,i=n.resolution,a=t.pixelRatio,s=t.extent,g=n.center,l=n.rotation,p=t.size,u=new ol.render.webgl.Immediate(o,g,i,l,p,s,a),c=new ol.render.Event(e,r,u,t,null,o);r.dispatchEvent(c)}},ol.renderer.webgl.Layer.prototype.getTexCoordMatrix=function(){return this.texCoordMatrix},ol.renderer.webgl.Layer.prototype.getTexture=function(){return this.texture},ol.renderer.webgl.Layer.prototype.getProjectionMatrix=function(){return this.projectionMatrix},ol.renderer.webgl.Layer.prototype.handleWebGLContextLost=function(){this.texture=null,this.framebuffer=null,this.framebufferDimension=void 0},ol.renderer.webgl.Layer.prototype.prepareFrame=goog.abstractMethod,goog.provide("ol.renderer.webgl.ImageLayer"),goog.require("goog.asserts"),goog.require("goog.functions"),goog.require("goog.vec.Mat4"),goog.require("goog.webgl"),goog.require("ol.Coordinate"),goog.require("ol.Extent"),goog.require("ol.ImageBase"),goog.require("ol.ViewHint"),goog.require("ol.dom"),goog.require("ol.extent"),goog.require("ol.layer.Image"),goog.require("ol.proj"),goog.require("ol.renderer.webgl.Layer"),goog.require("ol.source.ImageVector"),goog.require("ol.vec.Mat4"),goog.require("ol.webgl.Context"),ol.renderer.webgl.ImageLayer=function(e,o){goog.base(this,e,o),this.image_=null,this.hitCanvasContext_=null,this.hitTransformationMatrix_=null},goog.inherits(ol.renderer.webgl.ImageLayer,ol.renderer.webgl.Layer),ol.renderer.webgl.ImageLayer.prototype.createTexture_=function(e){var o=e.getImage(),t=this.mapRenderer.getGL();return ol.webgl.Context.createTexture(t,o,goog.webgl.CLAMP_TO_EDGE,goog.webgl.CLAMP_TO_EDGE)},ol.renderer.webgl.ImageLayer.prototype.forEachFeatureAtCoordinate=function(e,o,t,r){var n=this.getLayer(),i=n.getSource(),a=o.viewState.resolution,s=o.viewState.rotation,g=o.skippedFeatureUids;return i.forEachFeatureAtCoordinate(e,a,s,g,function(e){return t.call(r,e,n)})},ol.renderer.webgl.ImageLayer.prototype.prepareFrame=function(e,o,t){var r=this.mapRenderer.getGL(),n=e.pixelRatio,i=e.viewState,a=i.center,s=i.resolution,g=i.rotation,l=this.image_,p=this.texture,u=this.getLayer();goog.asserts.assertInstanceof(u,ol.layer.Image,"layer is an instance of ol.layer.Image");var c=u.getSource(),d=e.viewHints,h=e.extent;if(goog.isDef(o.extent)&&(h=ol.extent.getIntersection(h,o.extent)),!d[ol.ViewHint.ANIMATING]&&!d[ol.ViewHint.INTERACTING]&&!ol.extent.isEmpty(h)){var m=i.projection,y=c.getProjection();goog.isNull(y)||(goog.asserts.assert(ol.proj.equivalent(m,y),"projection and sourceProjection are equivalent"),m=y);var f=c.getImage(h,s,n,m);if(!goog.isNull(f)){var v=this.loadImage(f);v&&(l=f,p=this.createTexture_(f),goog.isNull(this.texture)||e.postRenderFunctions.push(goog.partial(function(e,o){e.isContextLost()||e.deleteTexture(o)},r,this.texture)))}}if(!goog.isNull(l)){goog.asserts.assert(!goog.isNull(p),"texture is not null");var _=this.mapRenderer.getContext().getCanvas();this.updateProjectionMatrix_(_.width,_.height,n,a,s,g,l.getExtent()),this.hitTransformationMatrix_=null;var E=this.texCoordMatrix;goog.vec.Mat4.makeIdentity(E),goog.vec.Mat4.scale(E,1,-1,1),goog.vec.Mat4.translate(E,0,-1,0),this.image_=l,this.texture=p,this.updateAttributions(e.attributions,l.getAttributions()),this.updateLogos(e,c)}return!0},ol.renderer.webgl.ImageLayer.prototype.updateProjectionMatrix_=function(e,o,t,r,n,i,a){var s=e*n,g=o*n,l=this.projectionMatrix;goog.vec.Mat4.makeIdentity(l),goog.vec.Mat4.scale(l,2*t/s,2*t/g,1),goog.vec.Mat4.rotateZ(l,-i),goog.vec.Mat4.translate(l,a[0]-r[0],a[1]-r[1],0),goog.vec.Mat4.scale(l,(a[2]-a[0])/2,(a[3]-a[1])/2,1),goog.vec.Mat4.translate(l,1,1,0)},ol.renderer.webgl.ImageLayer.prototype.hasFeatureAtCoordinate=function(e,o){var t=this.forEachFeatureAtCoordinate(e,o,goog.functions.TRUE,this);return goog.isDef(t)},ol.renderer.webgl.ImageLayer.prototype.forEachLayerAtPixel=function(e,o,t,r){if(goog.isNull(this.image_)||goog.isNull(this.image_.getImage()))return void 0;if(this.getLayer().getSource()instanceof ol.source.ImageVector){var n=e.slice();ol.vec.Mat4.multVec2(o.pixelToCoordinateMatrix,n,n);var i=this.forEachFeatureAtCoordinate(n,o,goog.functions.TRUE,this);return i?t.call(r,this.getLayer()):void 0}var a=[this.image_.getImage().width,this.image_.getImage().height];goog.isNull(this.hitTransformationMatrix_)&&(this.hitTransformationMatrix_=this.getHitTransformationMatrix_(o.size,a));var s=[0,0];if(ol.vec.Mat4.multVec2(this.hitTransformationMatrix_,e,s),s[0]<0||s[0]>a[0]||s[1]<0||s[1]>a[1])return void 0;goog.isNull(this.hitCanvasContext_)&&(this.hitCanvasContext_=ol.dom.createCanvasContext2D(1,1)),this.hitCanvasContext_.clearRect(0,0,1,1),this.hitCanvasContext_.drawImage(this.image_.getImage(),s[0],s[1],1,1,0,0,1,1);var g=this.hitCanvasContext_.getImageData(0,0,1,1).data;return g[3]>0?t.call(r,this.getLayer()):void 0},ol.renderer.webgl.ImageLayer.prototype.getHitTransformationMatrix_=function(e,o){var t=goog.vec.Mat4.createNumber();goog.vec.Mat4.makeIdentity(t),goog.vec.Mat4.translate(t,-1,-1,0),goog.vec.Mat4.scale(t,2/e[0],2/e[1],1),goog.vec.Mat4.translate(t,0,e[1],0),goog.vec.Mat4.scale(t,1,-1,1);var r=goog.vec.Mat4.createNumber();goog.vec.Mat4.invert(this.projectionMatrix,r);var n=goog.vec.Mat4.createNumber();goog.vec.Mat4.makeIdentity(n),goog.vec.Mat4.translate(n,0,o[1],0),goog.vec.Mat4.scale(n,1,-1,1),goog.vec.Mat4.scale(n,o[0]/2,o[1]/2,1),goog.vec.Mat4.translate(n,1,1,0);var i=goog.vec.Mat4.createNumber();return goog.vec.Mat4.multMat(n,r,i),goog.vec.Mat4.multMat(i,t,i),i},goog.provide("ol.renderer.webgl.tilelayer.shader"),goog.require("ol.webgl.shader"),ol.renderer.webgl.tilelayer.shader.Fragment=function(){
goog.base(this,ol.renderer.webgl.tilelayer.shader.Fragment.SOURCE)},goog.inherits(ol.renderer.webgl.tilelayer.shader.Fragment,ol.webgl.shader.Fragment),goog.addSingletonGetter(ol.renderer.webgl.tilelayer.shader.Fragment),ol.renderer.webgl.tilelayer.shader.Fragment.DEBUG_SOURCE="precision mediump float;\nvarying vec2 v_texCoord;\n\n\nuniform sampler2D u_texture;\n\nvoid main(void) {\n  gl_FragColor = texture2D(u_texture, v_texCoord);\n}\n",ol.renderer.webgl.tilelayer.shader.Fragment.OPTIMIZED_SOURCE="precision mediump float;varying vec2 a;uniform sampler2D e;void main(void){gl_FragColor=texture2D(e,a);}",ol.renderer.webgl.tilelayer.shader.Fragment.SOURCE=goog.DEBUG?ol.renderer.webgl.tilelayer.shader.Fragment.DEBUG_SOURCE:ol.renderer.webgl.tilelayer.shader.Fragment.OPTIMIZED_SOURCE,ol.renderer.webgl.tilelayer.shader.Vertex=function(){goog.base(this,ol.renderer.webgl.tilelayer.shader.Vertex.SOURCE)},goog.inherits(ol.renderer.webgl.tilelayer.shader.Vertex,ol.webgl.shader.Vertex),goog.addSingletonGetter(ol.renderer.webgl.tilelayer.shader.Vertex),ol.renderer.webgl.tilelayer.shader.Vertex.DEBUG_SOURCE="varying vec2 v_texCoord;\n\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\nuniform vec4 u_tileOffset;\n\nvoid main(void) {\n  gl_Position = vec4(a_position * u_tileOffset.xy + u_tileOffset.zw, 0., 1.);\n  v_texCoord = a_texCoord;\n}\n\n\n",ol.renderer.webgl.tilelayer.shader.Vertex.OPTIMIZED_SOURCE="varying vec2 a;attribute vec2 b;attribute vec2 c;uniform vec4 d;void main(void){gl_Position=vec4(b*d.xy+d.zw,0.,1.);a=c;}",ol.renderer.webgl.tilelayer.shader.Vertex.SOURCE=goog.DEBUG?ol.renderer.webgl.tilelayer.shader.Vertex.DEBUG_SOURCE:ol.renderer.webgl.tilelayer.shader.Vertex.OPTIMIZED_SOURCE,ol.renderer.webgl.tilelayer.shader.Locations=function(e,o){this.u_texture=e.getUniformLocation(o,goog.DEBUG?"u_texture":"e"),this.u_tileOffset=e.getUniformLocation(o,goog.DEBUG?"u_tileOffset":"d"),this.a_position=e.getAttribLocation(o,goog.DEBUG?"a_position":"b"),this.a_texCoord=e.getAttribLocation(o,goog.DEBUG?"a_texCoord":"c")},goog.provide("ol.renderer.webgl.TileLayer"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.object"),goog.require("goog.vec.Mat4"),goog.require("goog.vec.Vec4"),goog.require("goog.webgl"),goog.require("ol.TileRange"),goog.require("ol.TileState"),goog.require("ol.extent"),goog.require("ol.layer.Tile"),goog.require("ol.math"),goog.require("ol.renderer.webgl.Layer"),goog.require("ol.renderer.webgl.tilelayer.shader"),goog.require("ol.size"),goog.require("ol.tilecoord"),goog.require("ol.vec.Mat4"),goog.require("ol.webgl.Buffer"),ol.renderer.webgl.TileLayer=function(e,o){goog.base(this,e,o),this.fragmentShader_=ol.renderer.webgl.tilelayer.shader.Fragment.getInstance(),this.vertexShader_=ol.renderer.webgl.tilelayer.shader.Vertex.getInstance(),this.locations_=null,this.renderArrayBuffer_=new ol.webgl.Buffer([0,0,0,1,1,0,1,1,0,1,0,0,1,1,1,0]),this.renderedTileRange_=null,this.renderedFramebufferExtent_=null,this.renderedRevision_=-1,this.tmpSize_=[0,0]},goog.inherits(ol.renderer.webgl.TileLayer,ol.renderer.webgl.Layer),ol.renderer.webgl.TileLayer.prototype.disposeInternal=function(){var e=this.mapRenderer.getContext();e.deleteBuffer(this.renderArrayBuffer_),goog.base(this,"disposeInternal")},ol.renderer.webgl.TileLayer.prototype.createLoadedTileFinder=function(e,o){var t=this.mapRenderer;return function(r,n){return e.forEachLoadedTile(r,n,function(e){var n=t.isTileTextureLoaded(e);return n&&(o[r]||(o[r]={}),o[r][e.tileCoord.toString()]=e),n})}},ol.renderer.webgl.TileLayer.prototype.handleWebGLContextLost=function(){goog.base(this,"handleWebGLContextLost"),this.locations_=null},ol.renderer.webgl.TileLayer.prototype.prepareFrame=function(e,o,t){var r=this.mapRenderer,n=t.getGL(),i=e.viewState,a=i.projection,s=this.getLayer();goog.asserts.assertInstanceof(s,ol.layer.Tile,"layer is an instance of ol.layer.Tile");var g,l=s.getSource(),p=l.getTileGridForProjection(a),u=p.getZForResolution(i.resolution),c=p.getResolution(u),d=l.getTilePixelSize(u,e.pixelRatio,a),h=d[0]/ol.size.toSize(p.getTileSize(u),this.tmpSize_)[0],m=c/h,y=l.getGutter(),f=i.center;c==i.resolution?(f=this.snapCenterToPixel(f,c,e.size),g=ol.extent.getForViewAndSize(f,c,i.rotation,e.size)):g=e.extent;var v,_=p.getTileRangeForExtentAndResolution(g,c);if(!goog.isNull(this.renderedTileRange_)&&this.renderedTileRange_.equals(_)&&this.renderedRevision_==l.getRevision())v=this.renderedFramebufferExtent_;else{var E=_.getSize(),S=Math.max(E[0]*d[0],E[1]*d[1]),T=ol.math.roundUpToPowerOfTwo(S),x=m*T,b=p.getOrigin(u),P=b[0]+_.minX*d[0]*m,M=b[1]+_.minY*d[1]*m;v=[P,M,P+x,M+x],this.bindFramebuffer(e,T),n.viewport(0,0,T,T),n.clearColor(0,0,0,0),n.clear(goog.webgl.COLOR_BUFFER_BIT),n.disable(goog.webgl.BLEND);var C=t.getProgram(this.fragmentShader_,this.vertexShader_);t.useProgram(C),goog.isNull(this.locations_)&&(this.locations_=new ol.renderer.webgl.tilelayer.shader.Locations(n,C)),t.bindBuffer(goog.webgl.ARRAY_BUFFER,this.renderArrayBuffer_),n.enableVertexAttribArray(this.locations_.a_position),n.vertexAttribPointer(this.locations_.a_position,2,goog.webgl.FLOAT,!1,16,0),n.enableVertexAttribArray(this.locations_.a_texCoord),n.vertexAttribPointer(this.locations_.a_texCoord,2,goog.webgl.FLOAT,!1,16,8),n.uniform1i(this.locations_.u_texture,0);var R={};R[u]={};var A,D,L,N,w,I,O,F=this.createLoadedTileFinder(l,R),G=s.getUseInterimTilesOnError(),k=!0,U=ol.extent.createEmpty(),q=new ol.TileRange(0,0,0,0);for(w=_.minX;w<=_.maxX;++w)for(I=_.minY;I<=_.maxY;++I)if(L=l.getTile(u,w,I,h,a),!goog.isDef(o.extent)||(O=p.getTileCoordExtent(L.tileCoord,U),ol.extent.intersects(O,o.extent))){if(N=L.getState(),N==ol.TileState.LOADED){if(r.isTileTextureLoaded(L)){R[u][ol.tilecoord.toString(L.tileCoord)]=L;continue}}else if(N==ol.TileState.EMPTY||N==ol.TileState.ERROR&&!G)continue;k=!1,D=p.forEachTileCoordParentTileRange(L.tileCoord,F,null,q,U),D||(A=p.getTileCoordChildTileRange(L.tileCoord,q,U),goog.isNull(A)||F(u+1,A))}var $=goog.array.map(goog.object.getKeys(R),Number);goog.array.sort($);var B,j,V,H,K,W,Y,X,z=goog.vec.Vec4.createFloat32();for(B=0,j=$.length;j>B;++B){W=R[$[B]];for(K in W)L=W[K],O=p.getTileCoordExtent(L.tileCoord,U),V=2*(O[2]-O[0])/x,H=2*(O[3]-O[1])/x,Y=2*(O[0]-v[0])/x-1,X=2*(O[1]-v[1])/x-1,goog.vec.Vec4.setFromValues(z,V,H,Y,X),n.uniform4fv(this.locations_.u_tileOffset,z),r.bindTileTexture(L,d,y*h,goog.webgl.LINEAR,goog.webgl.LINEAR),n.drawArrays(goog.webgl.TRIANGLE_STRIP,0,4)}k?(this.renderedTileRange_=_,this.renderedFramebufferExtent_=v,this.renderedRevision_=l.getRevision()):(this.renderedTileRange_=null,this.renderedFramebufferExtent_=null,this.renderedRevision_=-1,e.animate=!0)}this.updateUsedTiles(e.usedTiles,l,u,_);var Z=r.getTileTextureQueue();this.manageTilePyramid(e,l,p,h,a,g,u,s.getPreload(),function(e){e.getState()!=ol.TileState.LOADED||r.isTileTextureLoaded(e)||Z.isKeyQueued(e.getKey())||Z.enqueue([e,p.getTileCoordCenter(e.tileCoord),p.getResolution(e.tileCoord[0]),d,y*h])},this),this.scheduleExpireCache(e,l),this.updateLogos(e,l);var J=this.texCoordMatrix;return goog.vec.Mat4.makeIdentity(J),goog.vec.Mat4.translate(J,(f[0]-v[0])/(v[2]-v[0]),(f[1]-v[1])/(v[3]-v[1]),0),0!==i.rotation&&goog.vec.Mat4.rotateZ(J,i.rotation),goog.vec.Mat4.scale(J,e.size[0]*i.resolution/(v[2]-v[0]),e.size[1]*i.resolution/(v[3]-v[1]),1),goog.vec.Mat4.translate(J,-.5,-.5,0),!0},ol.renderer.webgl.TileLayer.prototype.forEachLayerAtPixel=function(e,o,t,r){if(goog.isNull(this.framebuffer))return void 0;var n=[e[0]/o.size[0],(o.size[1]-e[1])/o.size[1]],i=[0,0];ol.vec.Mat4.multVec2(this.texCoordMatrix,n,i);var a=[i[0]*this.framebufferDimension,i[1]*this.framebufferDimension],s=this.mapRenderer.getContext().getGL();s.bindFramebuffer(s.FRAMEBUFFER,this.framebuffer);var g=new Uint8Array(4);return s.readPixels(a[0],a[1],1,1,s.RGBA,s.UNSIGNED_BYTE,g),g[3]>0?t.call(r,this.getLayer()):void 0},goog.provide("ol.renderer.webgl.VectorLayer"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.events"),goog.require("ol.ViewHint"),goog.require("ol.extent"),goog.require("ol.layer.Vector"),goog.require("ol.render.webgl.ReplayGroup"),goog.require("ol.renderer.vector"),goog.require("ol.renderer.webgl.Layer"),goog.require("ol.vec.Mat4"),ol.renderer.webgl.VectorLayer=function(e,o){goog.base(this,e,o),this.dirty_=!1,this.renderedRevision_=-1,this.renderedResolution_=0/0,this.renderedExtent_=ol.extent.createEmpty(),this.renderedRenderOrder_=null,this.replayGroup_=null,this.layerState_=null},goog.inherits(ol.renderer.webgl.VectorLayer,ol.renderer.webgl.Layer),ol.renderer.webgl.VectorLayer.prototype.composeFrame=function(e,o,t){this.layerState_=o;var r=e.viewState,n=this.replayGroup_;goog.isNull(n)||n.isEmpty()||n.replay(t,r.center,r.resolution,r.rotation,e.size,e.pixelRatio,o.opacity,o.brightness,o.contrast,o.hue,o.saturation,o.managed?e.skippedFeatureUids:{})},ol.renderer.webgl.VectorLayer.prototype.disposeInternal=function(){var e=this.replayGroup_;if(!goog.isNull(e)){var o=this.mapRenderer.getContext();e.getDeleteResourcesFunction(o)(),this.replayGroup_=null}goog.base(this,"disposeInternal")},ol.renderer.webgl.VectorLayer.prototype.forEachFeatureAtCoordinate=function(e,o,t,r){if(goog.isNull(this.replayGroup_)||goog.isNull(this.layerState_))return void 0;var n=this.mapRenderer.getContext(),i=o.viewState,a=this.getLayer(),s=this.layerState_,g={};return this.replayGroup_.forEachFeatureAtCoordinate(e,n,i.center,i.resolution,i.rotation,o.size,o.pixelRatio,s.opacity,s.brightness,s.contrast,s.hue,s.saturation,s.managed?o.skippedFeatureUids:{},function(e){goog.asserts.assert(goog.isDef(e),"received a feature");var o=goog.getUid(e).toString();return o in g?void 0:(g[o]=!0,t.call(r,e,a))})},ol.renderer.webgl.VectorLayer.prototype.hasFeatureAtCoordinate=function(e,o){if(goog.isNull(this.replayGroup_)||goog.isNull(this.layerState_))return!1;var t=this.mapRenderer.getContext(),r=o.viewState,n=this.layerState_;return this.replayGroup_.hasFeatureAtCoordinate(e,t,r.center,r.resolution,r.rotation,o.size,o.pixelRatio,n.opacity,n.brightness,n.contrast,n.hue,n.saturation,o.skippedFeatureUids)},ol.renderer.webgl.VectorLayer.prototype.forEachLayerAtPixel=function(e,o,t,r){var n=e.slice();ol.vec.Mat4.multVec2(o.pixelToCoordinateMatrix,n,n);var i=this.hasFeatureAtCoordinate(n,o);return i?t.call(r,this.getLayer()):void 0},ol.renderer.webgl.VectorLayer.prototype.handleStyleImageChange_=function(e){this.renderIfReadyAndVisible()},ol.renderer.webgl.VectorLayer.prototype.prepareFrame=function(e,o,t){var r=this.getLayer();goog.asserts.assertInstanceof(r,ol.layer.Vector,"layer is an instance of ol.layer.Vector");var n=r.getSource();this.updateAttributions(e.attributions,n.getAttributions()),this.updateLogos(e,n);var i=e.viewHints[ol.ViewHint.ANIMATING],a=e.viewHints[ol.ViewHint.INTERACTING],s=r.getUpdateWhileAnimating(),g=r.getUpdateWhileInteracting();if(!this.dirty_&&!s&&i||!g&&a)return!0;var l=e.extent,p=e.viewState,u=p.projection,c=p.resolution,d=e.pixelRatio,h=r.getRevision(),m=r.getRenderBuffer(),y=r.getRenderOrder();goog.isDef(y)||(y=ol.renderer.vector.defaultOrder);var f=ol.extent.buffer(l,m*c);if(!this.dirty_&&this.renderedResolution_==c&&this.renderedRevision_==h&&this.renderedRenderOrder_==y&&ol.extent.containsExtent(this.renderedExtent_,f))return!0;goog.isNull(this.replayGroup_)||e.postRenderFunctions.push(this.replayGroup_.getDeleteResourcesFunction(t)),this.dirty_=!1;var v=new ol.render.webgl.ReplayGroup(ol.renderer.vector.getTolerance(c,d),f,r.getRenderBuffer());n.loadFeatures(f,c,u);var _=function(e){var o;if(goog.isDef(e.getStyleFunction())?o=e.getStyleFunction().call(e,c):goog.isDef(r.getStyleFunction())&&(o=r.getStyleFunction()(e,c)),goog.isDefAndNotNull(o)){var t=this.renderFeature(e,c,d,o,v);this.dirty_=this.dirty_||t}};if(goog.isNull(y))n.forEachFeatureInExtentAtResolution(f,c,_,this);else{var E=[];n.forEachFeatureInExtentAtResolution(f,c,function(e){E.push(e)},this),goog.array.sort(E,y),goog.array.forEach(E,_,this)}return v.finish(t),this.renderedResolution_=c,this.renderedRevision_=h,this.renderedRenderOrder_=y,this.renderedExtent_=f,this.replayGroup_=v,!0},ol.renderer.webgl.VectorLayer.prototype.renderFeature=function(e,o,t,r,n){if(!goog.isDefAndNotNull(r))return!1;var i,a,s=!1;for(i=0,a=r.length;a>i;++i)s=ol.renderer.vector.renderFeature(n,e,r[i],ol.renderer.vector.getSquaredTolerance(o,t),this.handleStyleImageChange_,this)||s;return s},goog.provide("ol.renderer.webgl.Map"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.dom"),goog.require("goog.dom.TagName"),goog.require("goog.events"),goog.require("goog.events.Event"),goog.require("goog.log"),goog.require("goog.log.Logger"),goog.require("goog.object"),goog.require("goog.style"),goog.require("goog.webgl"),goog.require("ol"),goog.require("ol.RendererType"),goog.require("ol.css"),goog.require("ol.dom"),goog.require("ol.layer.Image"),goog.require("ol.layer.Layer"),goog.require("ol.layer.Tile"),goog.require("ol.layer.Vector"),goog.require("ol.render.Event"),goog.require("ol.render.EventType"),goog.require("ol.render.webgl.Immediate"),goog.require("ol.renderer.Map"),goog.require("ol.renderer.webgl.ImageLayer"),goog.require("ol.renderer.webgl.Layer"),goog.require("ol.renderer.webgl.TileLayer"),goog.require("ol.renderer.webgl.VectorLayer"),goog.require("ol.source.State"),goog.require("ol.structs.LRUCache"),goog.require("ol.structs.PriorityQueue"),goog.require("ol.webgl"),goog.require("ol.webgl.Context"),goog.require("ol.webgl.WebGLContextEventType"),ol.renderer.webgl.TextureCacheEntry,ol.renderer.webgl.Map=function(e,o){goog.base(this,e,o),this.canvas_=goog.dom.createElement(goog.dom.TagName.CANVAS),this.canvas_.style.width="100%",this.canvas_.style.height="100%",this.canvas_.className=ol.css.CLASS_UNSELECTABLE,goog.dom.insertChildAt(e,this.canvas_,0),this.clipTileCanvasWidth_=0,this.clipTileCanvasHeight_=0,this.clipTileContext_=ol.dom.createCanvasContext2D(),this.renderedVisible_=!0,this.gl_=ol.webgl.getContext(this.canvas_,{antialias:!0,depth:!1,failIfMajorPerformanceCaveat:!0,preserveDrawingBuffer:!1,stencil:!0}),goog.asserts.assert(!goog.isNull(this.gl_),"got a WebGLRenderingContext"),this.context_=new ol.webgl.Context(this.canvas_,this.gl_),goog.events.listen(this.canvas_,ol.webgl.WebGLContextEventType.LOST,this.handleWebGLContextLost,!1,this),goog.events.listen(this.canvas_,ol.webgl.WebGLContextEventType.RESTORED,this.handleWebGLContextRestored,!1,this),this.textureCache_=new ol.structs.LRUCache,this.focus_=null,this.tileTextureQueue_=new ol.structs.PriorityQueue(goog.bind(function(e){var o=e[1],t=e[2],r=o[0]-this.focus_[0],n=o[1]-this.focus_[1];return 65536*Math.log(t)+Math.sqrt(r*r+n*n)/t},this),function(e){return e[0].getKey()}),this.loadNextTileTexture_=goog.bind(function(e,o){if(!this.tileTextureQueue_.isEmpty()){this.tileTextureQueue_.reprioritize();var t=this.tileTextureQueue_.dequeue(),r=t[0],n=t[3],i=t[4];this.bindTileTexture(r,n,i,goog.webgl.LINEAR,goog.webgl.LINEAR)}},this),this.textureCacheFrameMarkerCount_=0,this.initializeGL_()},goog.inherits(ol.renderer.webgl.Map,ol.renderer.Map),ol.renderer.webgl.Map.prototype.bindTileTexture=function(e,o,t,r,n){var i=this.getGL(),a=e.getKey();if(this.textureCache_.containsKey(a)){var s=this.textureCache_.get(a);goog.asserts.assert(!goog.isNull(s),"a texture cache entry exists for key %s",a),i.bindTexture(goog.webgl.TEXTURE_2D,s.texture),s.magFilter!=r&&(i.texParameteri(goog.webgl.TEXTURE_2D,goog.webgl.TEXTURE_MAG_FILTER,r),s.magFilter=r),s.minFilter!=n&&(i.texParameteri(goog.webgl.TEXTURE_2D,goog.webgl.TEXTURE_MAG_FILTER,n),s.minFilter=n)}else{var g=i.createTexture();if(i.bindTexture(goog.webgl.TEXTURE_2D,g),t>0){var l=this.clipTileContext_.canvas,p=this.clipTileContext_;this.clipTileCanvasWidth_!==o[0]||this.clipTileCanvasHeight_!==o[1]?(l.width=o[0],l.height=o[1],this.clipTileCanvasWidth_=o[0],this.clipTileCanvasHeight_=o[1]):p.clearRect(0,0,o[0],o[1]),p.drawImage(e.getImage(),t,t,o[0],o[1],0,0,o[0],o[1]),i.texImage2D(goog.webgl.TEXTURE_2D,0,goog.webgl.RGBA,goog.webgl.RGBA,goog.webgl.UNSIGNED_BYTE,l)}else i.texImage2D(goog.webgl.TEXTURE_2D,0,goog.webgl.RGBA,goog.webgl.RGBA,goog.webgl.UNSIGNED_BYTE,e.getImage());i.texParameteri(goog.webgl.TEXTURE_2D,goog.webgl.TEXTURE_MAG_FILTER,r),i.texParameteri(goog.webgl.TEXTURE_2D,goog.webgl.TEXTURE_MIN_FILTER,n),i.texParameteri(goog.webgl.TEXTURE_2D,goog.webgl.TEXTURE_WRAP_S,goog.webgl.CLAMP_TO_EDGE),i.texParameteri(goog.webgl.TEXTURE_2D,goog.webgl.TEXTURE_WRAP_T,goog.webgl.CLAMP_TO_EDGE),this.textureCache_.set(a,{texture:g,magFilter:r,minFilter:n})}},ol.renderer.webgl.Map.prototype.createLayerRenderer=function(e){return ol.ENABLE_IMAGE&&e instanceof ol.layer.Image?new ol.renderer.webgl.ImageLayer(this,e):ol.ENABLE_TILE&&e instanceof ol.layer.Tile?new ol.renderer.webgl.TileLayer(this,e):ol.ENABLE_VECTOR&&e instanceof ol.layer.Vector?new ol.renderer.webgl.VectorLayer(this,e):(goog.asserts.fail("unexpected layer configuration"),null)},ol.renderer.webgl.Map.prototype.dispatchComposeEvent_=function(e,o){var t=this.getMap();if(t.hasListener(e)){var r=this.context_,n=o.extent,i=o.size,a=o.viewState,s=o.pixelRatio,g=a.resolution,l=a.center,p=a.rotation,u=new ol.render.webgl.Immediate(r,l,g,p,i,n,s),c=new ol.render.Event(e,t,u,o,null,r);t.dispatchEvent(c),u.flush()}},ol.renderer.webgl.Map.prototype.disposeInternal=function(){var e=this.getGL();e.isContextLost()||this.textureCache_.forEach(function(o){goog.isNull(o)||e.deleteTexture(o.texture)}),goog.dispose(this.context_),goog.base(this,"disposeInternal")},ol.renderer.webgl.Map.prototype.expireCache_=function(e,o){for(var t,r=this.getGL();this.textureCache_.getCount()-this.textureCacheFrameMarkerCount_>ol.WEBGL_TEXTURE_CACHE_HIGH_WATER_MARK;){if(t=this.textureCache_.peekLast(),goog.isNull(t)){if(+this.textureCache_.peekLastKey()==o.index)break;--this.textureCacheFrameMarkerCount_}else r.deleteTexture(t.texture);this.textureCache_.pop()}},ol.renderer.webgl.Map.prototype.getContext=function(){return this.context_},ol.renderer.webgl.Map.prototype.getGL=function(){return this.gl_},ol.renderer.webgl.Map.prototype.getTileTextureQueue=function(){return this.tileTextureQueue_},ol.renderer.webgl.Map.prototype.getType=function(){return ol.RendererType.WEBGL},ol.renderer.webgl.Map.prototype.handleWebGLContextLost=function(e){e.preventDefault(),this.textureCache_.clear(),this.textureCacheFrameMarkerCount_=0,goog.object.forEach(this.getLayerRenderers(),function(e,o,t){goog.asserts.assertInstanceof(e,ol.renderer.webgl.Layer,"renderer is an instance of ol.renderer.webgl.Layer");var r=e;r.handleWebGLContextLost()})},ol.renderer.webgl.Map.prototype.handleWebGLContextRestored=function(){this.initializeGL_(),this.getMap().render()},ol.renderer.webgl.Map.prototype.initializeGL_=function(){var e=this.gl_;e.activeTexture(goog.webgl.TEXTURE0),e.blendFuncSeparate(goog.webgl.SRC_ALPHA,goog.webgl.ONE_MINUS_SRC_ALPHA,goog.webgl.ONE,goog.webgl.ONE_MINUS_SRC_ALPHA),e.disable(goog.webgl.CULL_FACE),e.disable(goog.webgl.DEPTH_TEST),e.disable(goog.webgl.SCISSOR_TEST),e.disable(goog.webgl.STENCIL_TEST)},ol.renderer.webgl.Map.prototype.isTileTextureLoaded=function(e){return this.textureCache_.containsKey(e.getKey())},ol.renderer.webgl.Map.prototype.logger_=goog.log.getLogger("ol.renderer.webgl.Map"),ol.renderer.webgl.Map.prototype.renderFrame=function(e){var o=this.getContext(),t=this.getGL();if(t.isContextLost())return!1;if(goog.isNull(e))return this.renderedVisible_&&(goog.style.setElementShown(this.canvas_,!1),this.renderedVisible_=!1),!1;this.focus_=e.focus,this.textureCache_.set((-e.index).toString(),null),++this.textureCacheFrameMarkerCount_;var r,n,i,a,s=[],g=e.layerStatesArray,l=e.viewState.resolution;for(r=0,n=g.length;n>r;++r)a=g[r],ol.layer.Layer.visibleAtResolution(a,l)&&a.sourceState==ol.source.State.READY&&(i=this.getLayerRenderer(a.layer),goog.asserts.assertInstanceof(i,ol.renderer.webgl.Layer,"renderer is an instance of ol.renderer.webgl.Layer"),i.prepareFrame(e,a,o)&&s.push(a));var p=e.size[0]*e.pixelRatio,u=e.size[1]*e.pixelRatio;for((this.canvas_.width!=p||this.canvas_.height!=u)&&(this.canvas_.width=p,this.canvas_.height=u),t.bindFramebuffer(goog.webgl.FRAMEBUFFER,null),t.clearColor(0,0,0,0),t.clear(goog.webgl.COLOR_BUFFER_BIT),t.enable(goog.webgl.BLEND),t.viewport(0,0,this.canvas_.width,this.canvas_.height),this.dispatchComposeEvent_(ol.render.EventType.PRECOMPOSE,e),r=0,n=s.length;n>r;++r)a=s[r],i=this.getLayerRenderer(a.layer),goog.asserts.assertInstanceof(i,ol.renderer.webgl.Layer,"renderer is an instance of ol.renderer.webgl.Layer"),i.composeFrame(e,a,o);this.renderedVisible_||(goog.style.setElementShown(this.canvas_,!0),this.renderedVisible_=!0),this.calculateMatrices2D(e),this.textureCache_.getCount()-this.textureCacheFrameMarkerCount_>ol.WEBGL_TEXTURE_CACHE_HIGH_WATER_MARK&&e.postRenderFunctions.push(goog.bind(this.expireCache_,this)),this.tileTextureQueue_.isEmpty()||(e.postRenderFunctions.push(this.loadNextTileTexture_),e.animate=!0),this.dispatchComposeEvent_(ol.render.EventType.POSTCOMPOSE,e),this.scheduleRemoveUnusedLayerRenderers(e),this.scheduleExpireIconCache(e)},ol.renderer.webgl.Map.prototype.forEachFeatureAtCoordinate=function(e,o,t,r,n,i){var a;if(this.getGL().isContextLost())return!1;var s,g=o.viewState,l=o.layerStatesArray,p=l.length;for(s=p-1;s>=0;--s){var u=l[s],c=u.layer;if(ol.layer.Layer.visibleAtResolution(u,g.resolution)&&n.call(i,c)){var d=this.getLayerRenderer(c);if(a=d.forEachFeatureAtCoordinate(e,o,t,r))return a}}return void 0},ol.renderer.webgl.Map.prototype.hasFeatureAtCoordinate=function(e,o,t,r){var n=!1;if(this.getGL().isContextLost())return!1;var i,a=o.viewState,s=o.layerStatesArray,g=s.length;for(i=g-1;i>=0;--i){var l=s[i],p=l.layer;if(ol.layer.Layer.visibleAtResolution(l,a.resolution)&&t.call(r,p)){var u=this.getLayerRenderer(p);if(n=u.hasFeatureAtCoordinate(e,o))return!0}}return n},ol.renderer.webgl.Map.prototype.forEachLayerAtPixel=function(e,o,t,r,n,i){if(this.getGL().isContextLost())return!1;var a,s,g=o.viewState,l=o.layerStatesArray,p=l.length;for(s=p-1;s>=0;--s){var u=l[s],c=u.layer;if(ol.layer.Layer.visibleAtResolution(u,g.resolution)&&n.call(r,c)){var d=this.getLayerRenderer(c);if(a=d.forEachLayerAtPixel(e,o,t,r))return a}}return void 0},ol.renderer.webgl.Map.DEFAULT_COLOR_VALUES_={opacity:1,brightness:0,contrast:1,hue:0,saturation:1},goog.provide("ol.Map"),goog.provide("ol.MapProperty"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.async.AnimationDelay"),goog.require("goog.async.nextTick"),goog.require("goog.debug.Console"),goog.require("goog.dom"),goog.require("goog.dom.TagName"),goog.require("goog.dom.ViewportSizeMonitor"),goog.require("goog.dom.classlist"),goog.require("goog.events"),goog.require("goog.events.BrowserEvent"),goog.require("goog.events.Event"),goog.require("goog.events.EventType"),goog.require("goog.events.KeyHandler"),goog.require("goog.events.KeyHandler.EventType"),goog.require("goog.events.MouseWheelHandler"),goog.require("goog.events.MouseWheelHandler.EventType"),goog.require("goog.functions"),goog.require("goog.log"),goog.require("goog.log.Level"),goog.require("goog.object"),goog.require("goog.style"),goog.require("goog.vec.Mat4"),goog.require("ol.Collection"),goog.require("ol.CollectionEventType"),goog.require("ol.MapBrowserEvent"),goog.require("ol.MapBrowserEvent.EventType"),goog.require("ol.MapBrowserEventHandler"),goog.require("ol.MapEvent"),goog.require("ol.MapEventType"),goog.require("ol.Object"),goog.require("ol.ObjectEvent"),goog.require("ol.ObjectEventType"),goog.require("ol.Pixel"),goog.require("ol.PostRenderFunction"),goog.require("ol.PreRenderFunction"),goog.require("ol.RendererType"),goog.require("ol.Size"),goog.require("ol.TileQueue"),goog.require("ol.View"),goog.require("ol.ViewHint"),goog.require("ol.control"),goog.require("ol.extent"),goog.require("ol.has"),goog.require("ol.interaction"),goog.require("ol.layer.Base"),goog.require("ol.layer.Group"),goog.require("ol.proj"),goog.require("ol.proj.common"),goog.require("ol.renderer.Map"),goog.require("ol.renderer.canvas.Map"),goog.require("ol.renderer.dom.Map"),goog.require("ol.renderer.webgl.Map"),goog.require("ol.size"),goog.require("ol.structs.PriorityQueue"),goog.require("ol.tilecoord"),goog.require("ol.vec.Mat4"),ol.OL3_URL="http://openlayers.org/",ol.OL3_LOGO_URL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAHGAAABxgEXwfpGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAhNQTFRF////AP//AICAgP//AFVVQECA////K1VVSbbbYL/fJ05idsTYJFtbbcjbJllmZszWWMTOIFhoHlNiZszTa9DdUcHNHlNlV8XRIVdiasrUHlZjIVZjaMnVH1RlIFRkH1RkH1ZlasvYasvXVsPQH1VkacnVa8vWIVZjIFRjVMPQa8rXIVVkXsXRsNveIFVkIFZlIVVj3eDeh6GmbMvXH1ZkIFRka8rWbMvXIFVkIFVjIFVkbMvWH1VjbMvWIFVlbcvWIFVla8vVIFVkbMvWbMvVH1VkbMvWIFVlbcvWIFVkbcvVbMvWjNPbIFVkU8LPwMzNIFVkbczWIFVkbsvWbMvXIFVkRnB8bcvW2+TkW8XRIFVkIlZlJVloJlpoKlxrLl9tMmJwOWd0Omh1RXF8TneCT3iDUHiDU8LPVMLPVcLPVcPQVsPPVsPQV8PQWMTQWsTQW8TQXMXSXsXRX4SNX8bSYMfTYcfTYsfTY8jUZcfSZsnUaIqTacrVasrVa8jTa8rWbI2VbMvWbcvWdJObdcvUdszUd8vVeJaee87Yfc3WgJyjhqGnitDYjaarldPZnrK2oNbborW5o9bbo9fbpLa6q9ndrL3ArtndscDDutzfu8fJwN7gwt7gxc/QyuHhy+HizeHi0NfX0+Pj19zb1+Tj2uXk29/e3uLg3+Lh3+bl4uXj4ufl4+fl5Ofl5ufl5ujm5+jmySDnBAAAAFp0Uk5TAAECAgMEBAYHCA0NDg4UGRogIiMmKSssLzU7PkJJT1JTVFliY2hrdHZ3foSFhYeJjY2QkpugqbG1tre5w8zQ09XY3uXn6+zx8vT09vf4+Pj5+fr6/P39/f3+gz7SsAAAAVVJREFUOMtjYKA7EBDnwCPLrObS1BRiLoJLnte6CQy8FLHLCzs2QUG4FjZ5GbcmBDDjxJBXDWxCBrb8aM4zbkIDzpLYnAcE9VXlJSWlZRU13koIeW57mGx5XjoMZEUqwxWYQaQbSzLSkYGfKFSe0QMsX5WbjgY0YS4MBplemI4BdGBW+DQ11eZiymfqQuXZIjqwyadPNoSZ4L+0FVM6e+oGI6g8a9iKNT3o8kVzNkzRg5lgl7p4wyRUL9Yt2jAxVh6mQCogae6GmflI8p0r13VFWTHBQ0rWPW7ahgWVcPm+9cuLoyy4kCJDzCm6d8PSFoh0zvQNC5OjDJhQopPPJqph1doJBUD5tnkbZiUEqaCnB3bTqLTFG1bPn71kw4b+GFdpLElKIzRxxgYgWNYc5SCENVHKeUaltHdXx0dZ8uBI1hJ2UUDgq82CM2MwKeibqAvSO7MCABq0wXEPiqWEAAAAAElFTkSuQmCC",ol.DEFAULT_RENDERER_TYPES=[ol.RendererType.CANVAS,ol.RendererType.WEBGL,ol.RendererType.DOM],ol.MapProperty={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},ol.Map=function(e){goog.base(this);var o=ol.Map.createOptionsInternal(e);this.loadTilesWhileAnimating_=goog.isDef(e.loadTilesWhileAnimating)?e.loadTilesWhileAnimating:!1,this.loadTilesWhileInteracting_=goog.isDef(e.loadTilesWhileInteracting)?e.loadTilesWhileInteracting:!1,this.pixelRatio_=goog.isDef(e.pixelRatio)?e.pixelRatio:ol.has.DEVICE_PIXEL_RATIO,this.logos_=o.logos,this.animationDelay_=new goog.async.AnimationDelay(this.renderFrame_,void 0,this),this.registerDisposable(this.animationDelay_),this.coordinateToPixelMatrix_=goog.vec.Mat4.createNumber(),this.pixelToCoordinateMatrix_=goog.vec.Mat4.createNumber(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=ol.extent.createEmpty(),this.viewPropertyListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=goog.dom.createDom(goog.dom.TagName.DIV,"ol-viewport"),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.viewport_.style.msTouchAction="none",ol.has.TOUCH&&goog.dom.classlist.add(this.viewport_,"ol-touch"),this.overlayContainer_=goog.dom.createDom(goog.dom.TagName.DIV,"ol-overlaycontainer"),goog.dom.appendChild(this.viewport_,this.overlayContainer_),this.overlayContainerStopEvent_=goog.dom.createDom(goog.dom.TagName.DIV,"ol-overlaycontainer-stopevent"),goog.events.listen(this.overlayContainerStopEvent_,[goog.events.EventType.CLICK,goog.events.EventType.DBLCLICK,goog.events.EventType.MOUSEDOWN,goog.events.EventType.TOUCHSTART,goog.events.EventType.MSPOINTERDOWN,ol.MapBrowserEvent.EventType.POINTERDOWN,goog.userAgent.GECKO?"DOMMouseScroll":"mousewheel"],goog.events.Event.stopPropagation),goog.dom.appendChild(this.viewport_,this.overlayContainerStopEvent_);var t=new ol.MapBrowserEventHandler(this);goog.events.listen(t,goog.object.getValues(ol.MapBrowserEvent.EventType),this.handleMapBrowserEvent,!1,this),this.registerDisposable(t),this.keyboardEventTarget_=o.keyboardEventTarget,this.keyHandler_=new goog.events.KeyHandler,goog.events.listen(this.keyHandler_,goog.events.KeyHandler.EventType.KEY,this.handleBrowserEvent,!1,this),this.registerDisposable(this.keyHandler_);var r=new goog.events.MouseWheelHandler(this.viewport_);goog.events.listen(r,goog.events.MouseWheelHandler.EventType.MOUSEWHEEL,this.handleBrowserEvent,!1,this),this.registerDisposable(r),this.controls_=o.controls,this.interactions_=o.interactions,this.overlays_=o.overlays,this.renderer_=new o.rendererConstructor(this.viewport_,this),this.registerDisposable(this.renderer_),this.viewportSizeMonitor_=new goog.dom.ViewportSizeMonitor,this.registerDisposable(this.viewportSizeMonitor_),this.viewportResizeListenerKey_=null,this.focus_=null,this.preRenderFunctions_=[],this.postRenderFunctions_=[],this.tileQueue_=new ol.TileQueue(goog.bind(this.getTilePriority,this),goog.bind(this.handleTileChange_,this)),this.skippedFeatureUids_={},goog.events.listen(this,ol.Object.getChangeEventType(ol.MapProperty.LAYERGROUP),this.handleLayerGroupChanged_,!1,this),goog.events.listen(this,ol.Object.getChangeEventType(ol.MapProperty.VIEW),this.handleViewChanged_,!1,this),goog.events.listen(this,ol.Object.getChangeEventType(ol.MapProperty.SIZE),this.handleSizeChanged_,!1,this),goog.events.listen(this,ol.Object.getChangeEventType(ol.MapProperty.TARGET),this.handleTargetChanged_,!1,this),this.setProperties(o.values),this.controls_.forEach(function(e){e.setMap(this)},this),goog.events.listen(this.controls_,ol.CollectionEventType.ADD,function(e){e.element.setMap(this)},!1,this),goog.events.listen(this.controls_,ol.CollectionEventType.REMOVE,function(e){e.element.setMap(null)},!1,this),this.interactions_.forEach(function(e){e.setMap(this)},this),goog.events.listen(this.interactions_,ol.CollectionEventType.ADD,function(e){e.element.setMap(this)},!1,this),goog.events.listen(this.interactions_,ol.CollectionEventType.REMOVE,function(e){e.element.setMap(null)},!1,this),this.overlays_.forEach(function(e){e.setMap(this)},this),goog.events.listen(this.overlays_,ol.CollectionEventType.ADD,function(e){e.element.setMap(this)},!1,this),goog.events.listen(this.overlays_,ol.CollectionEventType.REMOVE,function(e){e.element.setMap(null)},!1,this)},goog.inherits(ol.Map,ol.Object),ol.Map.prototype.addControl=function(e){var o=this.getControls();goog.asserts.assert(goog.isDef(o),"controls should be defined"),o.push(e)},ol.Map.prototype.addInteraction=function(e){var o=this.getInteractions();goog.asserts.assert(goog.isDef(o),"interactions should be defined"),o.push(e)},ol.Map.prototype.addLayer=function(e){var o=this.getLayerGroup().getLayers();o.push(e)},ol.Map.prototype.addOverlay=function(e){var o=this.getOverlays();goog.asserts.assert(goog.isDef(o),"overlays should be defined"),o.push(e)},ol.Map.prototype.beforeRender=function(e){this.render(),Array.prototype.push.apply(this.preRenderFunctions_,arguments)},ol.Map.prototype.removePreRenderFunction=function(e){return goog.array.remove(this.preRenderFunctions_,e)},ol.Map.prototype.disposeInternal=function(){goog.dom.removeNode(this.viewport_),goog.base(this,"disposeInternal")},ol.Map.prototype.forEachFeatureAtPixel=function(e,o,t,r,n){if(!goog.isNull(this.frameState_)){var i=this.getCoordinateFromPixel(e),a=goog.isDef(t)?t:null,s=goog.isDef(r)?r:goog.functions.TRUE,g=goog.isDef(n)?n:null;return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,o,a,s,g)}},ol.Map.prototype.forEachLayerAtPixel=function(e,o,t,r,n){if(!goog.isNull(this.frameState_)){var i=goog.isDef(t)?t:null,a=goog.isDef(r)?r:goog.functions.TRUE,s=goog.isDef(n)?n:null;return this.renderer_.forEachLayerAtPixel(e,this.frameState_,o,i,a,s)}},ol.Map.prototype.hasFeatureAtPixel=function(e,o,t){if(goog.isNull(this.frameState_))return!1;var r=this.getCoordinateFromPixel(e),n=goog.isDef(o)?o:goog.functions.TRUE,i=goog.isDef(t)?t:null;return this.renderer_.hasFeatureAtCoordinate(r,this.frameState_,n,i)},ol.Map.prototype.getEventCoordinate=function(e){
return this.getCoordinateFromPixel(this.getEventPixel(e))},ol.Map.prototype.getEventPixel=function(e){if(goog.isDef(e.changedTouches)){var o=e.changedTouches[0],t=goog.style.getClientPosition(this.viewport_);return[o.clientX-t.x,o.clientY-t.y]}var r=goog.style.getRelativePosition(e,this.viewport_);return[r.x,r.y]},ol.Map.prototype.getTarget=function(){return this.get(ol.MapProperty.TARGET)},ol.Map.prototype.getTargetElement=function(){var e=this.getTarget();return goog.isDef(e)?goog.dom.getElement(e):null},ol.Map.prototype.getCoordinateFromPixel=function(e){var o=this.frameState_;if(goog.isNull(o))return null;var t=e.slice();return ol.vec.Mat4.multVec2(o.pixelToCoordinateMatrix,t,t)},ol.Map.prototype.getControls=function(){return this.controls_},ol.Map.prototype.getOverlays=function(){return this.overlays_},ol.Map.prototype.getInteractions=function(){return this.interactions_},ol.Map.prototype.getLayerGroup=function(){return this.get(ol.MapProperty.LAYERGROUP)},ol.Map.prototype.getLayers=function(){var e=this.getLayerGroup().getLayers();return e},ol.Map.prototype.getPixelFromCoordinate=function(e){var o=this.frameState_;if(goog.isNull(o))return null;var t=e.slice(0,2);return ol.vec.Mat4.multVec2(o.coordinateToPixelMatrix,t,t)},ol.Map.prototype.getRenderer=function(){return this.renderer_},ol.Map.prototype.getSize=function(){return this.get(ol.MapProperty.SIZE)},ol.Map.prototype.getView=function(){return this.get(ol.MapProperty.VIEW)},ol.Map.prototype.getViewport=function(){return this.viewport_},ol.Map.prototype.getOverlayContainer=function(){return this.overlayContainer_},ol.Map.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},ol.Map.prototype.getTilePriority=function(e,o,t,r){var n=this.frameState_;if(goog.isNull(n)||!(o in n.wantedTiles))return ol.structs.PriorityQueue.DROP;var i=ol.tilecoord.toString(e.tileCoord);if(!n.wantedTiles[o][i])return ol.structs.PriorityQueue.DROP;var a=t[0]-n.focus[0],s=t[1]-n.focus[1];return 65536*Math.log(r)+Math.sqrt(a*a+s*s)/r},ol.Map.prototype.handleBrowserEvent=function(e,o){var t=o||e.type,r=new ol.MapBrowserEvent(t,this,e);this.handleMapBrowserEvent(r)},ol.Map.prototype.handleMapBrowserEvent=function(e){if(!goog.isNull(this.frameState_)){this.focus_=e.coordinate,e.frameState=this.frameState_;var o=this.getInteractions();goog.asserts.assert(goog.isDef(o),"interactions should be defined");var t,r=o.getArray();if(this.dispatchEvent(e)!==!1)for(t=r.length-1;t>=0;t--){var n=r[t];if(n.getActive()){var i=n.handleEvent(e);if(!i)break}}}},ol.Map.prototype.handlePostRender=function(){var e=this.frameState_,o=this.tileQueue_;if(!o.isEmpty()){var t=16,r=t,n=0;if(!goog.isNull(e)){var i=e.viewHints;i[ol.ViewHint.ANIMATING]&&(t=this.loadTilesWhileAnimating_?8:0,r=2),i[ol.ViewHint.INTERACTING]&&(t=this.loadTilesWhileInteracting_?8:0,r=2),n=goog.object.getCount(e.wantedTiles)}t*=n,r*=n,o.getTilesLoading()<t&&(o.reprioritize(),o.loadMoreTiles(t,r))}var a,s,g=this.postRenderFunctions_;for(a=0,s=g.length;s>a;++a)g[a](this,e);g.length=0},ol.Map.prototype.handleSizeChanged_=function(){this.render()},ol.Map.prototype.handleTargetChanged_=function(){var e=this.getTargetElement();if(this.keyHandler_.detach(),goog.isNull(e))goog.dom.removeNode(this.viewport_),goog.isNull(this.viewportResizeListenerKey_)||(goog.events.unlistenByKey(this.viewportResizeListenerKey_),this.viewportResizeListenerKey_=null);else{goog.dom.appendChild(e,this.viewport_);var o=goog.isNull(this.keyboardEventTarget_)?e:this.keyboardEventTarget_;this.keyHandler_.attach(o),goog.isNull(this.viewportResizeListenerKey_)&&(this.viewportResizeListenerKey_=goog.events.listen(this.viewportSizeMonitor_,goog.events.EventType.RESIZE,this.updateSize,!1,this))}this.updateSize()},ol.Map.prototype.handleTileChange_=function(){this.render()},ol.Map.prototype.handleViewPropertyChanged_=function(){this.render()},ol.Map.prototype.handleViewChanged_=function(){goog.isNull(this.viewPropertyListenerKey_)||(goog.events.unlistenByKey(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null);var e=this.getView();goog.isNull(e)||(this.viewPropertyListenerKey_=goog.events.listen(e,ol.ObjectEventType.PROPERTYCHANGE,this.handleViewPropertyChanged_,!1,this)),this.render()},ol.Map.prototype.handleLayerGroupMemberChanged_=function(e){goog.asserts.assertInstanceof(e,goog.events.Event,"event should be an Event"),this.render()},ol.Map.prototype.handleLayerGroupPropertyChanged_=function(e){goog.asserts.assertInstanceof(e,ol.ObjectEvent,"event should be an ol.ObjectEvent"),this.render()},ol.Map.prototype.handleLayerGroupChanged_=function(){if(!goog.isNull(this.layerGroupPropertyListenerKeys_)){for(var e=this.layerGroupPropertyListenerKeys_.length,o=0;e>o;++o)goog.events.unlistenByKey(this.layerGroupPropertyListenerKeys_[o]);this.layerGroupPropertyListenerKeys_=null}var t=this.getLayerGroup();goog.isDefAndNotNull(t)&&(this.layerGroupPropertyListenerKeys_=[goog.events.listen(t,ol.ObjectEventType.PROPERTYCHANGE,this.handleLayerGroupPropertyChanged_,!1,this),goog.events.listen(t,goog.events.EventType.CHANGE,this.handleLayerGroupMemberChanged_,!1,this)]),this.render()},ol.Map.prototype.isDef=function(){if(!goog.dom.contains(document,this.viewport_))return!1;if(!goog.style.isElementShown(this.viewport_))return!1;var e=this.getSize();if(!goog.isDefAndNotNull(e)||e[0]<=0||e[1]<=0)return!1;var o=this.getView();return goog.isNull(o)||!o.isDef()?!1:!0},ol.Map.prototype.isRendered=function(){return!goog.isNull(this.frameState_)},ol.Map.prototype.renderSync=function(){this.animationDelay_.fire()},ol.Map.prototype.render=function(){this.animationDelay_.isActive()||this.animationDelay_.start()},ol.Map.prototype.removeControl=function(e){var o=this.getControls();return goog.asserts.assert(goog.isDef(o),"controls should be defined"),goog.isDef(o.remove(e))?e:void 0},ol.Map.prototype.removeInteraction=function(e){var o,t=this.getInteractions();return goog.asserts.assert(goog.isDef(t),"interactions should be defined"),goog.isDef(t.remove(e))&&(o=e),o},ol.Map.prototype.removeLayer=function(e){var o=this.getLayerGroup().getLayers();return o.remove(e)},ol.Map.prototype.removeOverlay=function(e){var o=this.getOverlays();return goog.asserts.assert(goog.isDef(o),"overlays should be defined"),goog.isDef(o.remove(e))?e:void 0},ol.Map.prototype.renderFrame_=function(e){var o,t,r,n=this.getSize(),i=this.getView(),a=null;if(goog.isDef(n)&&ol.size.hasArea(n)&&!goog.isNull(i)&&i.isDef()){var s=i.getHints(),g=this.getLayerGroup().getLayerStatesArray(),l={};for(o=0,t=g.length;t>o;++o)l[goog.getUid(g[o].layer)]=g[o];r=i.getState(),a={animate:!1,attributions:{},coordinateToPixelMatrix:this.coordinateToPixelMatrix_,extent:null,focus:goog.isNull(this.focus_)?r.center:this.focus_,index:this.frameIndex_++,layerStates:l,layerStatesArray:g,logos:goog.object.clone(this.logos_),pixelRatio:this.pixelRatio_,pixelToCoordinateMatrix:this.pixelToCoordinateMatrix_,postRenderFunctions:[],size:n,skippedFeatureUids:this.skippedFeatureUids_,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:r,viewHints:s,wantedTiles:{}}}if(!goog.isNull(a)){var p,u=this.preRenderFunctions_,c=0;for(o=0,t=u.length;t>o;++o)p=u[o],p(this,a)&&(u[c++]=p);u.length=c,a.extent=ol.extent.getForViewAndSize(r.center,r.resolution,r.rotation,a.size)}if(this.frameState_=a,this.renderer_.renderFrame(a),!goog.isNull(a)){a.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,a.postRenderFunctions);var d=0===this.preRenderFunctions_.length&&!a.viewHints[ol.ViewHint.ANIMATING]&&!a.viewHints[ol.ViewHint.INTERACTING]&&!ol.extent.equals(a.extent,this.previousExtent_);d&&(this.dispatchEvent(new ol.MapEvent(ol.MapEventType.MOVEEND,this,a)),ol.extent.clone(a.extent,this.previousExtent_))}this.dispatchEvent(new ol.MapEvent(ol.MapEventType.POSTRENDER,this,a)),goog.async.nextTick(this.handlePostRender,this)},ol.Map.prototype.setLayerGroup=function(e){this.set(ol.MapProperty.LAYERGROUP,e)},ol.Map.prototype.setSize=function(e){this.set(ol.MapProperty.SIZE,e)},ol.Map.prototype.setTarget=function(e){this.set(ol.MapProperty.TARGET,e)},ol.Map.prototype.setView=function(e){this.set(ol.MapProperty.VIEW,e)},ol.Map.prototype.skipFeature=function(e){var o=goog.getUid(e).toString();this.skippedFeatureUids_[o]=!0,this.render()},ol.Map.prototype.updateSize=function(){var e=this.getTargetElement();if(goog.isNull(e))this.setSize(void 0);else{var o=goog.style.getContentBoxSize(e);this.setSize([o.width,o.height])}},ol.Map.prototype.unskipFeature=function(e){var o=goog.getUid(e).toString();delete this.skippedFeatureUids_[o],this.render()},ol.MapOptionsInternal,ol.Map.createOptionsInternal=function(e){var o=null;goog.isDef(e.keyboardEventTarget)&&(o=goog.isString(e.keyboardEventTarget)?document.getElementById(e.keyboardEventTarget):e.keyboardEventTarget);var t={},r={};if(!goog.isDef(e.logo)||goog.isBoolean(e.logo)&&e.logo)r[ol.OL3_LOGO_URL]=ol.OL3_URL;else{var n=e.logo;goog.isString(n)?r[n]="":goog.isObject(n)&&(goog.asserts.assertString(n.href,"logo.href should be a string"),goog.asserts.assertString(n.src,"logo.src should be a string"),r[n.src]=n.href)}var i=e.layers instanceof ol.layer.Group?e.layers:new ol.layer.Group({layers:e.layers});t[ol.MapProperty.LAYERGROUP]=i,t[ol.MapProperty.TARGET]=e.target,t[ol.MapProperty.VIEW]=goog.isDef(e.view)?e.view:new ol.View;var a,s=ol.renderer.Map;goog.isDef(e.renderer)?goog.isArray(e.renderer)?a=e.renderer:goog.isString(e.renderer)?a=[e.renderer]:goog.asserts.fail("Incorrect format for renderer option"):a=ol.DEFAULT_RENDERER_TYPES;var g,l;for(g=0,l=a.length;l>g;++g){var p=a[g];if(ol.ENABLE_CANVAS&&p==ol.RendererType.CANVAS){if(ol.has.CANVAS){s=ol.renderer.canvas.Map;break}}else if(ol.ENABLE_DOM&&p==ol.RendererType.DOM){if(ol.has.DOM){s=ol.renderer.dom.Map;break}}else if(ol.ENABLE_WEBGL&&p==ol.RendererType.WEBGL&&ol.has.WEBGL){s=ol.renderer.webgl.Map;break}}var u;goog.isDef(e.controls)?goog.isArray(e.controls)?u=new ol.Collection(e.controls.slice()):(goog.asserts.assertInstanceof(e.controls,ol.Collection,"options.controls should be an ol.Collection"),u=e.controls):u=ol.control.defaults();var c;goog.isDef(e.interactions)?goog.isArray(e.interactions)?c=new ol.Collection(e.interactions.slice()):(goog.asserts.assertInstanceof(e.interactions,ol.Collection,"options.interactions should be an ol.Collection"),c=e.interactions):c=ol.interaction.defaults();var d;return goog.isDef(e.overlays)?goog.isArray(e.overlays)?d=new ol.Collection(e.overlays.slice()):(goog.asserts.assertInstanceof(e.overlays,ol.Collection,"options.overlays should be an ol.Collection"),d=e.overlays):d=new ol.Collection,{controls:u,interactions:c,keyboardEventTarget:o,logos:r,overlays:d,rendererConstructor:s,values:t}},ol.proj.common.add(),goog.DEBUG&&!function(){goog.debug.Console.autoInstall();var e=goog.log.getLogger("ol");e.setLevel(goog.log.Level.FINEST)}(),goog.provide("ol.Overlay"),goog.provide("ol.OverlayPositioning"),goog.provide("ol.OverlayProperty"),goog.require("goog.asserts"),goog.require("goog.dom"),goog.require("goog.dom.TagName"),goog.require("goog.events"),goog.require("goog.style"),goog.require("ol.Coordinate"),goog.require("ol.Map"),goog.require("ol.MapEventType"),goog.require("ol.Object"),goog.require("ol.animation"),goog.require("ol.dom"),goog.require("ol.extent"),ol.OverlayProperty={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"},ol.OverlayPositioning={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"},ol.Overlay=function(e){goog.base(this),this.insertFirst_=goog.isDef(e.insertFirst)?e.insertFirst:!0,this.stopEvent_=goog.isDef(e.stopEvent)?e.stopEvent:!0,this.element_=goog.dom.createDom(goog.dom.TagName.DIV,{"class":"ol-overlay-container"}),this.element_.style.position="absolute",this.autoPan_=goog.isDef(e.autoPan)?e.autoPan:!1,this.autoPanAnimation_=goog.isDef(e.autoPanAnimation)?e.autoPanAnimation:{},this.autoPanMargin_=goog.isDef(e.autoPanMargin)?e.autoPanMargin:20,this.rendered_={bottom_:"",left_:"",right_:"",top_:"",visible:!0},this.mapPostrenderListenerKey_=null,goog.events.listen(this,ol.Object.getChangeEventType(ol.OverlayProperty.ELEMENT),this.handleElementChanged,!1,this),goog.events.listen(this,ol.Object.getChangeEventType(ol.OverlayProperty.MAP),this.handleMapChanged,!1,this),goog.events.listen(this,ol.Object.getChangeEventType(ol.OverlayProperty.OFFSET),this.handleOffsetChanged,!1,this),goog.events.listen(this,ol.Object.getChangeEventType(ol.OverlayProperty.POSITION),this.handlePositionChanged,!1,this),goog.events.listen(this,ol.Object.getChangeEventType(ol.OverlayProperty.POSITIONING),this.handlePositioningChanged,!1,this),goog.isDef(e.element)&&this.setElement(e.element),this.setOffset(goog.isDef(e.offset)?e.offset:[0,0]),this.setPositioning(goog.isDef(e.positioning)?e.positioning:ol.OverlayPositioning.TOP_LEFT),goog.isDef(e.position)&&this.setPosition(e.position)},goog.inherits(ol.Overlay,ol.Object),ol.Overlay.prototype.getElement=function(){return this.get(ol.OverlayProperty.ELEMENT)},ol.Overlay.prototype.getMap=function(){return this.get(ol.OverlayProperty.MAP)},ol.Overlay.prototype.getOffset=function(){return this.get(ol.OverlayProperty.OFFSET)},ol.Overlay.prototype.getPosition=function(){return this.get(ol.OverlayProperty.POSITION)},ol.Overlay.prototype.getPositioning=function(){return this.get(ol.OverlayProperty.POSITIONING)},ol.Overlay.prototype.handleElementChanged=function(){goog.dom.removeChildren(this.element_);var e=this.getElement();goog.isDefAndNotNull(e)&&goog.dom.append(this.element_,e)},ol.Overlay.prototype.handleMapChanged=function(){goog.isNull(this.mapPostrenderListenerKey_)||(goog.dom.removeNode(this.element_),goog.events.unlistenByKey(this.mapPostrenderListenerKey_),this.mapPostrenderListenerKey_=null);var e=this.getMap();if(goog.isDefAndNotNull(e)){this.mapPostrenderListenerKey_=goog.events.listen(e,ol.MapEventType.POSTRENDER,this.render,!1,this),this.updatePixelPosition_();var o=this.stopEvent_?e.getOverlayContainerStopEvent():e.getOverlayContainer();this.insertFirst_?goog.dom.insertChildAt(o,this.element_,0):goog.dom.append(o,this.element_)}},ol.Overlay.prototype.render=function(){this.updatePixelPosition_()},ol.Overlay.prototype.handleOffsetChanged=function(){this.updatePixelPosition_()},ol.Overlay.prototype.handlePositionChanged=function(){this.updatePixelPosition_(),goog.isDef(this.get(ol.OverlayProperty.POSITION))&&this.autoPan_&&this.panIntoView_()},ol.Overlay.prototype.handlePositioningChanged=function(){this.updatePixelPosition_()},ol.Overlay.prototype.setElement=function(e){this.set(ol.OverlayProperty.ELEMENT,e)},ol.Overlay.prototype.setMap=function(e){this.set(ol.OverlayProperty.MAP,e)},ol.Overlay.prototype.setOffset=function(e){this.set(ol.OverlayProperty.OFFSET,e)},ol.Overlay.prototype.setPosition=function(e){this.set(ol.OverlayProperty.POSITION,e)},ol.Overlay.prototype.panIntoView_=function(){goog.asserts.assert(this.autoPan_,"this.autoPan_ should be true");var e=this.getMap();if(goog.isDef(e)&&!goog.isNull(e.getTargetElement())){var o=this.getRect_(e.getTargetElement(),e.getSize()),t=this.getElement();goog.asserts.assert(goog.isDefAndNotNull(t),"element should be defined");var r=this.getRect_(t,[ol.dom.outerWidth(t),ol.dom.outerHeight(t)]),n=this.autoPanMargin_;if(!ol.extent.containsExtent(o,r)){var i=r[0]-o[0],a=o[2]-r[2],s=r[1]-o[1],g=o[3]-r[3],l=[0,0];if(0>i?l[0]=i-n:0>a&&(l[0]=Math.abs(a)+n),0>s?l[1]=s-n:0>g&&(l[1]=Math.abs(g)+n),0!==l[0]||0!==l[1]){var p=e.getView().getCenter();goog.asserts.assert(goog.isDef(p),"center should be defined");var u=e.getPixelFromCoordinate(p),c=[u[0]+l[0],u[1]+l[1]];goog.isNull(this.autoPanAnimation_)||(this.autoPanAnimation_.source=p,e.beforeRender(ol.animation.pan(this.autoPanAnimation_))),e.getView().setCenter(e.getCoordinateFromPixel(c))}}}},ol.Overlay.prototype.getRect_=function(e,o){goog.asserts.assert(goog.isDefAndNotNull(e),"element should be defined"),goog.asserts.assert(goog.isDef(o),"size should be defined");var t=goog.style.getPageOffset(e);return[t.x,t.y,t.x+o[0],t.y+o[1]]},ol.Overlay.prototype.setPositioning=function(e){this.set(ol.OverlayProperty.POSITIONING,e)},ol.Overlay.prototype.updatePixelPosition_=function(){var e=this.getMap(),o=this.getPosition();if(!goog.isDef(e)||!e.isRendered()||!goog.isDef(o))return void(this.rendered_.visible&&(goog.style.setElementShown(this.element_,!1),this.rendered_.visible=!1));var t=e.getPixelFromCoordinate(o);goog.asserts.assert(!goog.isNull(t),"pixel should not be null");var r=e.getSize();goog.asserts.assert(goog.isDef(r),"mapSize should be defined");var n=this.element_.style,i=this.getOffset();goog.asserts.assert(goog.isArray(i),"offset should be an array");var a=this.getPositioning();goog.asserts.assert(goog.isDef(a),"positioning should be defined");var s=i[0],g=i[1];if(a==ol.OverlayPositioning.BOTTOM_RIGHT||a==ol.OverlayPositioning.CENTER_RIGHT||a==ol.OverlayPositioning.TOP_RIGHT){""!==this.rendered_.left_&&(this.rendered_.left_=n.left="");var l=Math.round(r[0]-t[0]-s)+"px";this.rendered_.right_!=l&&(this.rendered_.right_=n.right=l)}else{""!==this.rendered_.right_&&(this.rendered_.right_=n.right=""),(a==ol.OverlayPositioning.BOTTOM_CENTER||a==ol.OverlayPositioning.CENTER_CENTER||a==ol.OverlayPositioning.TOP_CENTER)&&(s-=goog.style.getSize(this.element_).width/2);var p=Math.round(t[0]+s)+"px";this.rendered_.left_!=p&&(this.rendered_.left_=n.left=p)}if(a==ol.OverlayPositioning.BOTTOM_LEFT||a==ol.OverlayPositioning.BOTTOM_CENTER||a==ol.OverlayPositioning.BOTTOM_RIGHT){""!==this.rendered_.top_&&(this.rendered_.top_=n.top="");var u=Math.round(r[1]-t[1]-g)+"px";this.rendered_.bottom_!=u&&(this.rendered_.bottom_=n.bottom=u)}else{""!==this.rendered_.bottom_&&(this.rendered_.bottom_=n.bottom=""),(a==ol.OverlayPositioning.CENTER_LEFT||a==ol.OverlayPositioning.CENTER_CENTER||a==ol.OverlayPositioning.CENTER_RIGHT)&&(g-=goog.style.getSize(this.element_).height/2);var c=Math.round(t[1]+g)+"px";this.rendered_.top_!=c&&(this.rendered_.top_=n.top=c)}this.rendered_.visible||(goog.style.setElementShown(this.element_,!0),this.rendered_.visible=!0)},goog.provide("ol.control.OverviewMap"),goog.require("goog.asserts"),goog.require("goog.dom"),goog.require("goog.dom.TagName"),goog.require("goog.dom.classlist"),goog.require("goog.events"),goog.require("goog.events.EventType"),goog.require("goog.math.Size"),goog.require("goog.style"),goog.require("ol.Collection"),goog.require("ol.Map"),goog.require("ol.MapEventType"),goog.require("ol.Object"),goog.require("ol.ObjectEventType"),goog.require("ol.Overlay"),goog.require("ol.OverlayPositioning"),goog.require("ol.View"),goog.require("ol.ViewProperty"),goog.require("ol.control.Control"),goog.require("ol.coordinate"),goog.require("ol.css"),goog.require("ol.extent"),ol.control.OverviewMap=function(e){var o=goog.isDef(e)?e:{};this.collapsed_=goog.isDef(o.collapsed)?o.collapsed:!0,this.collapsible_=goog.isDef(o.collapsible)?o.collapsible:!0,this.collapsible_||(this.collapsed_=!1);var t=goog.isDef(o.className)?o.className:"ol-overviewmap",r=goog.isDef(o.tipLabel)?o.tipLabel:"Overview map",n=goog.isDef(o.collapseLabel)?o.collapseLabel:"«";this.collapseLabel_=goog.isString(n)?goog.dom.createDom(goog.dom.TagName.SPAN,{},n):n;var i=goog.isDef(o.label)?o.label:"»";this.label_=goog.isString(i)?goog.dom.createDom(goog.dom.TagName.SPAN,{},i):i;var a=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_,s=goog.dom.createDom(goog.dom.TagName.BUTTON,{type:"button",title:r},a);goog.events.listen(s,goog.events.EventType.CLICK,this.handleClick_,!1,this),ol.control.Control.bindMouseOutFocusOutBlur(s);var g=goog.dom.createDom(goog.dom.TagName.DIV,"ol-overviewmap-map");this.ovmap_=new ol.Map({controls:new ol.Collection,interactions:new ol.Collection,target:g});var l=this.ovmap_;goog.isDef(o.layers)&&o.layers.forEach(function(e){l.addLayer(e)},this);var p=goog.dom.createDom(goog.dom.TagName.DIV,"ol-overviewmap-box");this.boxOverlay_=new ol.Overlay({position:[0,0],positioning:ol.OverlayPositioning.BOTTOM_LEFT,element:p}),this.ovmap_.addOverlay(this.boxOverlay_);var u=t+" "+ol.css.CLASS_UNSELECTABLE+" "+ol.css.CLASS_CONTROL+(this.collapsed_&&this.collapsible_?" ol-collapsed":"")+(this.collapsible_?"":" ol-uncollapsible"),c=goog.dom.createDom(goog.dom.TagName.DIV,u,g,s),d=goog.isDef(o.render)?o.render:ol.control.OverviewMap.render;goog.base(this,{element:c,render:d,target:o.target})},goog.inherits(ol.control.OverviewMap,ol.control.Control),ol.control.OverviewMap.prototype.setMap=function(e){var o=this.getMap();if(e!==o){if(o){var t=o.getView();t&&this.unbindView_(t)}if(goog.base(this,"setMap",e),e){this.listenerKeys.push(goog.events.listen(e,ol.ObjectEventType.PROPERTYCHANGE,this.handleMapPropertyChange_,!1,this)),0===this.ovmap_.getLayers().getLength()&&this.ovmap_.setLayerGroup(e.getLayerGroup());var r=e.getView();r&&(this.bindView_(r),r.isDef()&&(this.ovmap_.updateSize(),this.resetExtent_()))}}},ol.control.OverviewMap.prototype.handleMapPropertyChange_=function(e){if(e.key===ol.MapProperty.VIEW){var o=e.oldValue;o&&this.unbindView_(o);var t=this.getMap().getView();this.bindView_(t)}},ol.control.OverviewMap.prototype.bindView_=function(e){goog.events.listen(e,ol.Object.getChangeEventType(ol.ViewProperty.ROTATION),this.handleRotationChanged_,!1,this)},ol.control.OverviewMap.prototype.unbindView_=function(e){goog.events.unlisten(e,ol.Object.getChangeEventType(ol.ViewProperty.ROTATION),this.handleRotationChanged_,!1,this)},ol.control.OverviewMap.prototype.handleRotationChanged_=function(){this.ovmap_.getView().setRotation(this.getMap().getView().getRotation())},ol.control.OverviewMap.render=function(e){this.validateExtent_(),this.updateBox_()},ol.control.OverviewMap.prototype.validateExtent_=function(){var e=this.getMap(),o=this.ovmap_;if(e.isRendered()&&o.isRendered()){var t=e.getSize();goog.asserts.assertArray(t,"mapSize should be an array");var r=e.getView();goog.asserts.assert(goog.isDef(r),"view should be defined");var n=r.calculateExtent(t),i=o.getSize();goog.asserts.assertArray(i,"ovmapSize should be an array");var a=o.getView();goog.asserts.assert(goog.isDef(a),"ovview should be defined");var s=a.calculateExtent(i),g=o.getPixelFromCoordinate(ol.extent.getTopLeft(n)),l=o.getPixelFromCoordinate(ol.extent.getBottomRight(n)),p=new goog.math.Size(Math.abs(g[0]-l[0]),Math.abs(g[1]-l[1])),u=i[0],c=i[1];p.width<u*ol.OVERVIEWMAP_MIN_RATIO||p.height<c*ol.OVERVIEWMAP_MIN_RATIO||p.width>u*ol.OVERVIEWMAP_MAX_RATIO||p.height>c*ol.OVERVIEWMAP_MAX_RATIO?this.resetExtent_():ol.extent.containsExtent(s,n)||this.recenter_()}},ol.control.OverviewMap.prototype.resetExtent_=function(){if(0!==ol.OVERVIEWMAP_MAX_RATIO&&0!==ol.OVERVIEWMAP_MIN_RATIO){var e=this.getMap(),o=this.ovmap_,t=e.getSize();goog.asserts.assertArray(t,"mapSize should be an array");var r=e.getView();goog.asserts.assert(goog.isDef(r),"view should be defined");var n=r.calculateExtent(t),i=o.getSize();goog.asserts.assertArray(i,"ovmapSize should be an array");var a=o.getView();goog.asserts.assert(goog.isDef(a),"ovview should be defined");var s=Math.log(ol.OVERVIEWMAP_MAX_RATIO/ol.OVERVIEWMAP_MIN_RATIO)/Math.LN2,g=1/(Math.pow(2,s/2)*ol.OVERVIEWMAP_MIN_RATIO);ol.extent.scaleFromCenter(n,g),a.fit(n,i)}},ol.control.OverviewMap.prototype.recenter_=function(){var e=this.getMap(),o=this.ovmap_,t=e.getView();goog.asserts.assert(goog.isDef(t),"view should be defined");var r=o.getView();goog.asserts.assert(goog.isDef(r),"ovview should be defined"),r.setCenter(t.getCenter())},ol.control.OverviewMap.prototype.updateBox_=function(){var e=this.getMap(),o=this.ovmap_;if(e.isRendered()&&o.isRendered()){var t=e.getSize();goog.asserts.assertArray(t,"mapSize should be an array");var r=e.getView();goog.asserts.assert(goog.isDef(r),"view should be defined");var n=o.getView();goog.asserts.assert(goog.isDef(n),"ovview should be defined");var i=o.getSize();goog.asserts.assertArray(i,"ovmapSize should be an array");var a=r.getRotation();goog.asserts.assert(goog.isDef(a),"rotation should be defined");var s=this.boxOverlay_,g=this.boxOverlay_.getElement(),l=r.calculateExtent(t),p=n.getResolution(),u=ol.extent.getBottomLeft(l),c=ol.extent.getTopRight(l),d=this.calculateCoordinateRotate_(a,u);if(s.setPosition(d),goog.isDefAndNotNull(g)){var h=Math.abs((u[0]-c[0])/p),m=Math.abs((c[1]-u[1])/p);goog.style.setBorderBoxSize(g,new goog.math.Size(h,m))}}},ol.control.OverviewMap.prototype.calculateCoordinateRotate_=function(e,o){var t,r=this.getMap(),n=r.getView();goog.asserts.assert(goog.isDef(n),"view should be defined");var i=n.getCenter();return goog.isDef(i)&&(t=[o[0]-i[0],o[1]-i[1]],ol.coordinate.rotate(t,e),ol.coordinate.add(t,i)),t},ol.control.OverviewMap.prototype.handleClick_=function(e){e.preventDefault(),this.handleToggle_()},ol.control.OverviewMap.prototype.handleToggle_=function(){goog.dom.classlist.toggle(this.element,"ol-collapsed"),this.collapsed_?goog.dom.replaceNode(this.collapseLabel_,this.label_):goog.dom.replaceNode(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_;var e=this.ovmap_;this.collapsed_||e.isRendered()||(e.updateSize(),this.resetExtent_(),goog.events.listenOnce(e,ol.MapEventType.POSTRENDER,function(e){this.updateBox_()},!1,this))},ol.control.OverviewMap.prototype.getCollapsible=function(){return this.collapsible_},ol.control.OverviewMap.prototype.setCollapsible=function(e){this.collapsible_!==e&&(this.collapsible_=e,goog.dom.classlist.toggle(this.element,"ol-uncollapsible"),!e&&this.collapsed_&&this.handleToggle_())},ol.control.OverviewMap.prototype.setCollapsed=function(e){this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()},ol.control.OverviewMap.prototype.getCollapsed=function(){return this.collapsed_},goog.provide("ol.control.ScaleLine"),goog.provide("ol.control.ScaleLineProperty"),goog.provide("ol.control.ScaleLineUnits"),goog.require("goog.asserts"),goog.require("goog.dom"),goog.require("goog.dom.TagName"),goog.require("goog.events"),goog.require("goog.math"),goog.require("goog.style"),goog.require("ol.Object"),goog.require("ol.TransformFunction"),goog.require("ol.control.Control"),goog.require("ol.css"),goog.require("ol.proj"),goog.require("ol.proj.METERS_PER_UNIT"),goog.require("ol.proj.Units"),goog.require("ol.sphere.NORMAL"),ol.control.ScaleLineProperty={UNITS:"units"},ol.control.ScaleLineUnits={DEGREES:"degrees",IMPERIAL:"imperial",NAUTICAL:"nautical",METRIC:"metric",US:"us"},ol.control.ScaleLine=function(e){var o=goog.isDef(e)?e:{},t=goog.isDef(o.className)?o.className:"ol-scale-line";this.innerElement_=goog.dom.createDom(goog.dom.TagName.DIV,t+"-inner"),this.element_=goog.dom.createDom(goog.dom.TagName.DIV,t+" "+ol.css.CLASS_UNSELECTABLE,this.innerElement_),this.viewState_=null,this.minWidth_=goog.isDef(o.minWidth)?o.minWidth:64,this.renderedVisible_=!1,this.renderedWidth_=void 0,this.renderedHTML_="",this.toEPSG4326_=null;var r=goog.isDef(o.render)?o.render:ol.control.ScaleLine.render;goog.base(this,{element:this.element_,render:r,target:o.target}),goog.events.listen(this,ol.Object.getChangeEventType(ol.control.ScaleLineProperty.UNITS),this.handleUnitsChanged_,!1,this),this.setUnits(o.units||ol.control.ScaleLineUnits.METRIC)},goog.inherits(ol.control.ScaleLine,ol.control.Control),ol.control.ScaleLine.LEADING_DIGITS=[1,2,5],ol.control.ScaleLine.prototype.getUnits=function(){return this.get(ol.control.ScaleLineProperty.UNITS)},ol.control.ScaleLine.render=function(e){var o=e.frameState;this.viewState_=goog.isNull(o)?null:o.viewState,this.updateElement_()},ol.control.ScaleLine.prototype.handleUnitsChanged_=function(){this.updateElement_()},ol.control.ScaleLine.prototype.setUnits=function(e){this.set(ol.control.ScaleLineProperty.UNITS,e)},ol.control.ScaleLine.prototype.updateElement_=function(){var e=this.viewState_;if(goog.isNull(e))return void(this.renderedVisible_&&(goog.style.setElementShown(this.element_,!1),this.renderedVisible_=!1));var o,t=e.center,r=e.projection,n=r.getPointResolution(e.resolution,t),i=r.getUnits(),a=this.getUnits();if(i!=ol.proj.Units.DEGREES||a!=ol.control.ScaleLineUnits.METRIC&&a!=ol.control.ScaleLineUnits.IMPERIAL&&a!=ol.control.ScaleLineUnits.US&&a!=ol.control.ScaleLineUnits.NAUTICAL)if(i!=ol.proj.Units.DEGREES&&a==ol.control.ScaleLineUnits.DEGREES){goog.isNull(this.toEPSG4326_)&&(this.toEPSG4326_=ol.proj.getTransformFromProjections(r,ol.proj.get("EPSG:4326"))),o=Math.cos(goog.math.toRadians(this.toEPSG4326_(t)[1]));var s=ol.sphere.NORMAL.radius;goog.asserts.assert(goog.isDef(ol.proj.METERS_PER_UNIT[i]),"Meters per unit should be defined for the projection unit"),s/=ol.proj.METERS_PER_UNIT[i],n*=180/(Math.PI*o*s),i=ol.proj.Units.DEGREES}else this.toEPSG4326_=null;else this.toEPSG4326_=null,o=Math.cos(goog.math.toRadians(t[1])),n*=Math.PI*o*ol.sphere.NORMAL.radius/180,i=ol.proj.Units.METERS;goog.asserts.assert((a==ol.control.ScaleLineUnits.METRIC||a==ol.control.ScaleLineUnits.IMPERIAL||a==ol.control.ScaleLineUnits.US||a==ol.control.ScaleLineUnits.NAUTICAL)&&i==ol.proj.Units.METERS||a==ol.control.ScaleLineUnits.DEGREES&&i==ol.proj.Units.DEGREES,"Scale line units and projection units should match");var g=this.minWidth_*n,l="";a==ol.control.ScaleLineUnits.DEGREES?1/60>g?(l="″",n*=3600):1>g?(l="′",n*=60):l="°":a==ol.control.ScaleLineUnits.IMPERIAL?.9144>g?(l="in",n/=.0254):1609.344>g?(l="ft",n/=.3048):(l="mi",n/=1609.344):a==ol.control.ScaleLineUnits.NAUTICAL?(n/=1852,l="nm"):a==ol.control.ScaleLineUnits.METRIC?1>g?(l="mm",n*=1e3):1e3>g?l="m":(l="km",n/=1e3):a==ol.control.ScaleLineUnits.US?.9144>g?(l="in",n*=39.37):1609.344>g?(l="ft",n/=.30480061):(l="mi",n/=1609.3472):goog.asserts.fail("Scale line element cannot be updated");for(var p,u,c=3*Math.floor(Math.log(this.minWidth_*n)/Math.log(10));;){if(p=ol.control.ScaleLine.LEADING_DIGITS[c%3]*Math.pow(10,Math.floor(c/3)),u=Math.round(p/n),isNaN(u))return goog.style.setElementShown(this.element_,!1),void(this.renderedVisible_=!1);if(u>=this.minWidth_)break;++c}var d=p+" "+l;this.renderedHTML_!=d&&(this.innerElement_.innerHTML=d,this.renderedHTML_=d),this.renderedWidth_!=u&&(this.innerElement_.style.width=u+"px",this.renderedWidth_=u),this.renderedVisible_||(goog.style.setElementShown(this.element_,!0),this.renderedVisible_=!0)},goog.provide("goog.events.EventHandler"),goog.require("goog.Disposable"),goog.require("goog.events"),goog.require("goog.object"),goog.forwardDeclare("goog.events.EventWrapper"),goog.events.EventHandler=function(e){goog.Disposable.call(this),this.handler_=e,this.keys_={}},goog.inherits(goog.events.EventHandler,goog.Disposable),goog.events.EventHandler.typeArray_=[],goog.events.EventHandler.prototype.listen=function(e,o,t,r){return this.listen_(e,o,t,r)},goog.events.EventHandler.prototype.listenWithScope=function(e,o,t,r,n){return this.listen_(e,o,t,r,n)},goog.events.EventHandler.prototype.listen_=function(e,o,t,r,n){goog.isArray(o)||(o&&(goog.events.EventHandler.typeArray_[0]=o.toString()),o=goog.events.EventHandler.typeArray_);for(var i=0;i<o.length;i++){var a=goog.events.listen(e,o[i],t||this.handleEvent,r||!1,n||this.handler_||this);if(!a)return this;var s=a.key;this.keys_[s]=a}return this},goog.events.EventHandler.prototype.listenOnce=function(e,o,t,r){return this.listenOnce_(e,o,t,r)},goog.events.EventHandler.prototype.listenOnceWithScope=function(e,o,t,r,n){return this.listenOnce_(e,o,t,r,n)},goog.events.EventHandler.prototype.listenOnce_=function(e,o,t,r,n){if(goog.isArray(o))for(var i=0;i<o.length;i++)this.listenOnce_(e,o[i],t,r,n);else{var a=goog.events.listenOnce(e,o,t||this.handleEvent,r,n||this.handler_||this);if(!a)return this;var s=a.key;this.keys_[s]=a}return this},goog.events.EventHandler.prototype.listenWithWrapper=function(e,o,t,r){return this.listenWithWrapper_(e,o,t,r)},goog.events.EventHandler.prototype.listenWithWrapperAndScope=function(e,o,t,r,n){return this.listenWithWrapper_(e,o,t,r,n);

},goog.events.EventHandler.prototype.listenWithWrapper_=function(e,o,t,r,n){return o.listen(e,t,r,n||this.handler_||this,this),this},goog.events.EventHandler.prototype.getListenerCount=function(){var e=0;for(var o in this.keys_)Object.prototype.hasOwnProperty.call(this.keys_,o)&&e++;return e},goog.events.EventHandler.prototype.unlisten=function(e,o,t,r,n){if(goog.isArray(o))for(var i=0;i<o.length;i++)this.unlisten(e,o[i],t,r,n);else{var a=goog.events.getListener(e,o,t||this.handleEvent,r,n||this.handler_||this);a&&(goog.events.unlistenByKey(a),delete this.keys_[a.key])}return this},goog.events.EventHandler.prototype.unlistenWithWrapper=function(e,o,t,r,n){return o.unlisten(e,t,r,n||this.handler_||this,this),this},goog.events.EventHandler.prototype.removeAll=function(){goog.object.forEach(this.keys_,goog.events.unlistenByKey),this.keys_={}},goog.events.EventHandler.prototype.disposeInternal=function(){goog.events.EventHandler.superClass_.disposeInternal.call(this),this.removeAll()},goog.events.EventHandler.prototype.handleEvent=function(e){throw Error("EventHandler.handleEvent not implemented")},goog.provide("goog.style.bidi"),goog.require("goog.dom"),goog.require("goog.style"),goog.require("goog.userAgent"),goog.style.bidi.getScrollLeft=function(e){var o=goog.style.isRightToLeft(e);if(o&&goog.userAgent.GECKO)return-e.scrollLeft;if(o&&(!goog.userAgent.IE||!goog.userAgent.isVersionOrHigher("8"))){var t=goog.style.getComputedOverflowX(e);return"visible"==t?e.scrollLeft:e.scrollWidth-e.clientWidth-e.scrollLeft}return e.scrollLeft},goog.style.bidi.getOffsetStart=function(e){var o=e.offsetLeft,t=e.offsetParent;if(t||"fixed"!=goog.style.getComputedPosition(e)||(t=goog.dom.getOwnerDocument(e).documentElement),!t)return o;if(goog.userAgent.GECKO){var r=goog.style.getBorderBox(t);o+=r.left}else if(goog.userAgent.isDocumentModeOrHigher(8)&&!goog.userAgent.isDocumentModeOrHigher(9)){var r=goog.style.getBorderBox(t);o-=r.left}if(goog.style.isRightToLeft(t)){var n=o+e.offsetWidth;return t.clientWidth-n}return o},goog.style.bidi.setScrollOffset=function(e,o){o=Math.max(o,0),e.scrollLeft=goog.style.isRightToLeft(e)?goog.userAgent.GECKO?-o:goog.userAgent.IE&&goog.userAgent.isVersionOrHigher("8")?o:e.scrollWidth-o-e.clientWidth:o},goog.style.bidi.setPosition=function(e,o,t,r){goog.isNull(t)||(e.style.top=t+"px"),r?(e.style.right=o+"px",e.style.left=""):(e.style.left=o+"px",e.style.right="")},goog.provide("goog.fx.DragEvent"),goog.provide("goog.fx.Dragger"),goog.provide("goog.fx.Dragger.EventType"),goog.require("goog.dom"),goog.require("goog.events"),goog.require("goog.events.Event"),goog.require("goog.events.EventHandler"),goog.require("goog.events.EventTarget"),goog.require("goog.events.EventType"),goog.require("goog.math.Coordinate"),goog.require("goog.math.Rect"),goog.require("goog.style"),goog.require("goog.style.bidi"),goog.require("goog.userAgent"),goog.fx.Dragger=function(e,o,t){goog.events.EventTarget.call(this),this.target=e,this.handle=o||e,this.limits=t||new goog.math.Rect(0/0,0/0,0/0,0/0),this.document_=goog.dom.getOwnerDocument(e),this.eventHandler_=new goog.events.EventHandler(this),this.registerDisposable(this.eventHandler_),goog.events.listen(this.handle,[goog.events.EventType.TOUCHSTART,goog.events.EventType.MOUSEDOWN],this.startDrag,!1,this)},goog.inherits(goog.fx.Dragger,goog.events.EventTarget),goog.tagUnsealableClass(goog.fx.Dragger),goog.fx.Dragger.HAS_SET_CAPTURE_=goog.userAgent.IE||goog.userAgent.GECKO&&goog.userAgent.isVersionOrHigher("1.9.3"),goog.fx.Dragger.cloneNode=function(e){for(var o=e.cloneNode(!0),t=e.getElementsByTagName("textarea"),r=o.getElementsByTagName("textarea"),n=0;n<t.length;n++)r[n].value=t[n].value;switch(e.tagName.toLowerCase()){case"tr":return goog.dom.createDom("table",null,goog.dom.createDom("tbody",null,o));case"td":case"th":return goog.dom.createDom("table",null,goog.dom.createDom("tbody",null,goog.dom.createDom("tr",null,o)));case"textarea":o.value=e.value;default:return o}},goog.fx.Dragger.EventType={EARLY_CANCEL:"earlycancel",START:"start",BEFOREDRAG:"beforedrag",DRAG:"drag",END:"end"},goog.fx.Dragger.prototype.target,goog.fx.Dragger.prototype.handle,goog.fx.Dragger.prototype.limits,goog.fx.Dragger.prototype.rightToLeft_,goog.fx.Dragger.prototype.clientX=0,goog.fx.Dragger.prototype.clientY=0,goog.fx.Dragger.prototype.screenX=0,goog.fx.Dragger.prototype.screenY=0,goog.fx.Dragger.prototype.startX=0,goog.fx.Dragger.prototype.startY=0,goog.fx.Dragger.prototype.deltaX=0,goog.fx.Dragger.prototype.deltaY=0,goog.fx.Dragger.prototype.pageScroll,goog.fx.Dragger.prototype.enabled_=!0,goog.fx.Dragger.prototype.dragging_=!1,goog.fx.Dragger.prototype.hysteresisDistanceSquared_=0,goog.fx.Dragger.prototype.mouseDownTime_=0,goog.fx.Dragger.prototype.document_,goog.fx.Dragger.prototype.scrollTarget_,goog.fx.Dragger.prototype.ieDragStartCancellingOn_=!1,goog.fx.Dragger.prototype.useRightPositioningForRtl_=!1,goog.fx.Dragger.prototype.enableRightPositioningForRtl=function(e){this.useRightPositioningForRtl_=e},goog.fx.Dragger.prototype.getHandler=function(){var e=this;return e.eventHandler_},goog.fx.Dragger.prototype.setLimits=function(e){this.limits=e||new goog.math.Rect(0/0,0/0,0/0,0/0)},goog.fx.Dragger.prototype.setHysteresis=function(e){this.hysteresisDistanceSquared_=Math.pow(e,2)},goog.fx.Dragger.prototype.getHysteresis=function(){return Math.sqrt(this.hysteresisDistanceSquared_)},goog.fx.Dragger.prototype.setScrollTarget=function(e){this.scrollTarget_=e},goog.fx.Dragger.prototype.setCancelIeDragStart=function(e){this.ieDragStartCancellingOn_=e},goog.fx.Dragger.prototype.getEnabled=function(){return this.enabled_},goog.fx.Dragger.prototype.setEnabled=function(e){this.enabled_=e},goog.fx.Dragger.prototype.disposeInternal=function(){goog.fx.Dragger.superClass_.disposeInternal.call(this),goog.events.unlisten(this.handle,[goog.events.EventType.TOUCHSTART,goog.events.EventType.MOUSEDOWN],this.startDrag,!1,this),this.cleanUpAfterDragging_(),this.target=null,this.handle=null},goog.fx.Dragger.prototype.isRightToLeft_=function(){return goog.isDef(this.rightToLeft_)||(this.rightToLeft_=goog.style.isRightToLeft(this.target)),this.rightToLeft_},goog.fx.Dragger.prototype.startDrag=function(e){var o=e.type==goog.events.EventType.MOUSEDOWN;if(!this.enabled_||this.dragging_||o&&!e.isMouseActionButton())this.dispatchEvent(goog.fx.Dragger.EventType.EARLY_CANCEL);else{if(this.maybeReinitTouchEvent_(e),0==this.hysteresisDistanceSquared_){if(!this.fireDragStart_(e))return;this.dragging_=!0,e.preventDefault()}else e.preventDefault();this.setupDragHandlers(),this.clientX=this.startX=e.clientX,this.clientY=this.startY=e.clientY,this.screenX=e.screenX,this.screenY=e.screenY,this.computeInitialPosition(),this.pageScroll=goog.dom.getDomHelper(this.document_).getDocumentScroll(),this.mouseDownTime_=goog.now()}},goog.fx.Dragger.prototype.setupDragHandlers=function(){var e=this.document_,o=e.documentElement,t=!goog.fx.Dragger.HAS_SET_CAPTURE_;this.eventHandler_.listen(e,[goog.events.EventType.TOUCHMOVE,goog.events.EventType.MOUSEMOVE],this.handleMove_,t),this.eventHandler_.listen(e,[goog.events.EventType.TOUCHEND,goog.events.EventType.MOUSEUP],this.endDrag,t),goog.fx.Dragger.HAS_SET_CAPTURE_?(o.setCapture(!1),this.eventHandler_.listen(o,goog.events.EventType.LOSECAPTURE,this.endDrag)):this.eventHandler_.listen(goog.dom.getWindow(e),goog.events.EventType.BLUR,this.endDrag),goog.userAgent.IE&&this.ieDragStartCancellingOn_&&this.eventHandler_.listen(e,goog.events.EventType.DRAGSTART,goog.events.Event.preventDefault),this.scrollTarget_&&this.eventHandler_.listen(this.scrollTarget_,goog.events.EventType.SCROLL,this.onScroll_,t)},goog.fx.Dragger.prototype.fireDragStart_=function(e){return this.dispatchEvent(new goog.fx.DragEvent(goog.fx.Dragger.EventType.START,this,e.clientX,e.clientY,e))},goog.fx.Dragger.prototype.cleanUpAfterDragging_=function(){this.eventHandler_.removeAll(),goog.fx.Dragger.HAS_SET_CAPTURE_&&this.document_.releaseCapture()},goog.fx.Dragger.prototype.endDrag=function(e,o){if(this.cleanUpAfterDragging_(),this.dragging_){this.maybeReinitTouchEvent_(e),this.dragging_=!1;var t=this.limitX(this.deltaX),r=this.limitY(this.deltaY),n=o||e.type==goog.events.EventType.TOUCHCANCEL;this.dispatchEvent(new goog.fx.DragEvent(goog.fx.Dragger.EventType.END,this,e.clientX,e.clientY,e,t,r,n))}else this.dispatchEvent(goog.fx.Dragger.EventType.EARLY_CANCEL)},goog.fx.Dragger.prototype.endDragCancel=function(e){this.endDrag(e,!0)},goog.fx.Dragger.prototype.maybeReinitTouchEvent_=function(e){var o=e.type;o==goog.events.EventType.TOUCHSTART||o==goog.events.EventType.TOUCHMOVE?e.init(e.getBrowserEvent().targetTouches[0],e.currentTarget):(o==goog.events.EventType.TOUCHEND||o==goog.events.EventType.TOUCHCANCEL)&&e.init(e.getBrowserEvent().changedTouches[0],e.currentTarget)},goog.fx.Dragger.prototype.handleMove_=function(e){if(this.enabled_){this.maybeReinitTouchEvent_(e);var o=this.useRightPositioningForRtl_&&this.isRightToLeft_()?-1:1,t=o*(e.clientX-this.clientX),r=e.clientY-this.clientY;if(this.clientX=e.clientX,this.clientY=e.clientY,this.screenX=e.screenX,this.screenY=e.screenY,!this.dragging_){var n=this.startX-this.clientX,i=this.startY-this.clientY,a=n*n+i*i;if(a>this.hysteresisDistanceSquared_){if(!this.fireDragStart_(e))return void(this.isDisposed()||this.endDrag(e));this.dragging_=!0}}var s=this.calculatePosition_(t,r),g=s.x,l=s.y;if(this.dragging_){var p=this.dispatchEvent(new goog.fx.DragEvent(goog.fx.Dragger.EventType.BEFOREDRAG,this,e.clientX,e.clientY,e,g,l));p&&(this.doDrag(e,g,l,!1),e.preventDefault())}}},goog.fx.Dragger.prototype.calculatePosition_=function(e,o){var t=goog.dom.getDomHelper(this.document_).getDocumentScroll();e+=t.x-this.pageScroll.x,o+=t.y-this.pageScroll.y,this.pageScroll=t,this.deltaX+=e,this.deltaY+=o;var r=this.limitX(this.deltaX),n=this.limitY(this.deltaY);return new goog.math.Coordinate(r,n)},goog.fx.Dragger.prototype.onScroll_=function(e){var o=this.calculatePosition_(0,0);e.clientX=this.clientX,e.clientY=this.clientY,this.doDrag(e,o.x,o.y,!0)},goog.fx.Dragger.prototype.doDrag=function(e,o,t,r){this.defaultAction(o,t),this.dispatchEvent(new goog.fx.DragEvent(goog.fx.Dragger.EventType.DRAG,this,e.clientX,e.clientY,e,o,t))},goog.fx.Dragger.prototype.limitX=function(e){var o=this.limits,t=isNaN(o.left)?null:o.left,r=isNaN(o.width)?0:o.width,n=null!=t?t+r:1/0,i=null!=t?t:-(1/0);return Math.min(n,Math.max(i,e))},goog.fx.Dragger.prototype.limitY=function(e){var o=this.limits,t=isNaN(o.top)?null:o.top,r=isNaN(o.height)?0:o.height,n=null!=t?t+r:1/0,i=null!=t?t:-(1/0);return Math.min(n,Math.max(i,e))},goog.fx.Dragger.prototype.computeInitialPosition=function(){this.deltaX=this.useRightPositioningForRtl_?goog.style.bidi.getOffsetStart(this.target):this.target.offsetLeft,this.deltaY=this.target.offsetTop},goog.fx.Dragger.prototype.defaultAction=function(e,o){this.useRightPositioningForRtl_&&this.isRightToLeft_()?this.target.style.right=e+"px":this.target.style.left=e+"px",this.target.style.top=o+"px"},goog.fx.Dragger.prototype.isDragging=function(){return this.dragging_},goog.fx.DragEvent=function(e,o,t,r,n,i,a,s){goog.events.Event.call(this,e),this.clientX=t,this.clientY=r,this.browserEvent=n,this.left=goog.isDef(i)?i:o.deltaX,this.top=goog.isDef(a)?a:o.deltaY,this.dragger=o,this.dragCanceled=!!s},goog.inherits(goog.fx.DragEvent,goog.events.Event),goog.provide("goog.fx.AbstractDragDrop"),goog.provide("goog.fx.AbstractDragDrop.EventType"),goog.provide("goog.fx.DragDropEvent"),goog.provide("goog.fx.DragDropItem"),goog.require("goog.asserts"),goog.require("goog.dom"),goog.require("goog.dom.classlist"),goog.require("goog.events"),goog.require("goog.events.Event"),goog.require("goog.events.EventHandler"),goog.require("goog.events.EventTarget"),goog.require("goog.events.EventType"),goog.require("goog.fx.Dragger"),goog.require("goog.math.Box"),goog.require("goog.math.Coordinate"),goog.require("goog.style"),goog.fx.AbstractDragDrop=function(){goog.fx.AbstractDragDrop.base(this,"constructor"),this.items_=[],this.targets_=[],this.scrollableContainers_=[]},goog.inherits(goog.fx.AbstractDragDrop,goog.events.EventTarget),goog.fx.AbstractDragDrop.DUMMY_TARGET_MIN_SIZE_=10,goog.fx.AbstractDragDrop.prototype.isSource_=!1,goog.fx.AbstractDragDrop.prototype.isTarget_=!1,goog.fx.AbstractDragDrop.prototype.subtargetFunction_,goog.fx.AbstractDragDrop.prototype.activeSubtarget_,goog.fx.AbstractDragDrop.prototype.dragClass_,goog.fx.AbstractDragDrop.prototype.sourceClass_,goog.fx.AbstractDragDrop.prototype.targetClass_,goog.fx.AbstractDragDrop.prototype.scrollTarget_,goog.fx.AbstractDragDrop.prototype.dummyTarget_,goog.fx.AbstractDragDrop.prototype.initialized_=!1,goog.fx.AbstractDragDrop.EventType={DRAGOVER:"dragover",DRAGOUT:"dragout",DRAG:"drag",DROP:"drop",DRAGSTART:"dragstart",DRAGEND:"dragend"},goog.fx.AbstractDragDrop.initDragDistanceThreshold=5,goog.fx.AbstractDragDrop.prototype.setDragClass=function(e){this.dragClass_=e},goog.fx.AbstractDragDrop.prototype.setSourceClass=function(e){this.sourceClass_=e},goog.fx.AbstractDragDrop.prototype.setTargetClass=function(e){this.targetClass_=e},goog.fx.AbstractDragDrop.prototype.isInitialized=function(){return this.initialized_},goog.fx.AbstractDragDrop.prototype.addItem=goog.abstractMethod,goog.fx.AbstractDragDrop.prototype.addTarget=function(e){this.targets_.push(e),e.isTarget_=!0,this.isSource_=!0},goog.fx.AbstractDragDrop.prototype.setScrollTarget=function(e){this.scrollTarget_=e},goog.fx.AbstractDragDrop.prototype.init=function(){if(!this.initialized_){for(var e,o=0;e=this.items_[o];o++)this.initItem(e);this.initialized_=!0}},goog.fx.AbstractDragDrop.prototype.initItem=function(e){this.isSource_&&(goog.events.listen(e.element,goog.events.EventType.MOUSEDOWN,e.mouseDown_,!1,e),this.sourceClass_&&goog.dom.classlist.add(goog.asserts.assert(e.element),this.sourceClass_)),this.isTarget_&&this.targetClass_&&goog.dom.classlist.add(goog.asserts.assert(e.element),this.targetClass_)},goog.fx.AbstractDragDrop.prototype.disposeItem=function(e){this.isSource_&&(goog.events.unlisten(e.element,goog.events.EventType.MOUSEDOWN,e.mouseDown_,!1,e),this.sourceClass_&&goog.dom.classlist.remove(goog.asserts.assert(e.element),this.sourceClass_)),this.isTarget_&&this.targetClass_&&goog.dom.classlist.remove(goog.asserts.assert(e.element),this.targetClass_),e.dispose()},goog.fx.AbstractDragDrop.prototype.removeItems=function(){for(var e,o=0;e=this.items_[o];o++)this.disposeItem(e);this.items_.length=0},goog.fx.AbstractDragDrop.prototype.maybeStartDrag=function(e,o){o.maybeStartDrag_(e,o.element)},goog.fx.AbstractDragDrop.prototype.startDrag=function(e,o){if(!this.dragItem_){this.dragItem_=o;var t=new goog.fx.DragDropEvent(goog.fx.AbstractDragDrop.EventType.DRAGSTART,this,this.dragItem_);if(0==this.dispatchEvent(t))return void(this.dragItem_=null);var r=o.getCurrentDragElement();this.dragEl_=this.createDragElement(r);var n=goog.dom.getOwnerDocument(r);n.body.appendChild(this.dragEl_),this.dragger_=this.createDraggerFor(r,this.dragEl_,e),this.dragger_.setScrollTarget(this.scrollTarget_),goog.events.listen(this.dragger_,goog.fx.Dragger.EventType.DRAG,this.moveDrag_,!1,this),goog.events.listen(this.dragger_,goog.fx.Dragger.EventType.END,this.endDrag,!1,this),goog.events.listen(n.body,goog.events.EventType.SELECTSTART,this.suppressSelect_),this.recalculateDragTargets(),this.recalculateScrollableContainers(),this.activeTarget_=null,this.initScrollableContainerListeners_(),this.dragger_.startDrag(e),e.preventDefault()}},goog.fx.AbstractDragDrop.prototype.recalculateDragTargets=function(){this.targetList_=[];for(var e,o=0;e=this.targets_[o];o++)for(var t,r=0;t=e.items_[r];r++)this.addDragTarget_(e,t);this.targetBox_||(this.targetBox_=new goog.math.Box(0,0,0,0))},goog.fx.AbstractDragDrop.prototype.recalculateScrollableContainers=function(){var e,o,t,r;for(o=0;e=this.scrollableContainers_[o];o++){e.containedTargets_=[],e.savedScrollLeft_=e.element_.scrollLeft,e.savedScrollTop_=e.element_.scrollTop;var n=goog.style.getPageOffset(e.element_),i=goog.style.getSize(e.element_);e.box_=new goog.math.Box(n.y,n.x+i.width,n.y+i.height,n.x)}for(o=0;r=this.targetList_[o];o++)for(t=0;e=this.scrollableContainers_[t];t++)goog.dom.contains(e.element_,r.element_)&&(e.containedTargets_.push(r),r.scrollableContainer_=e)},goog.fx.AbstractDragDrop.prototype.createDraggerFor=function(e,o,t){var r=this.getDragElementPosition(e,o,t);return o.style.position="absolute",o.style.left=r.x+"px",o.style.top=r.y+"px",new goog.fx.Dragger(o)},goog.fx.AbstractDragDrop.prototype.endDrag=function(e){var o=e.dragCanceled?null:this.activeTarget_;if(o&&o.target_){var t,r=e.clientX,n=e.clientY,i=this.getScrollPos(),a=r+i.x,s=n+i.y;this.subtargetFunction_&&(t=this.subtargetFunction_(o.item_,o.box_,a,s));var g=new goog.fx.DragDropEvent(goog.fx.AbstractDragDrop.EventType.DRAG,this,this.dragItem_,o.target_,o.item_,o.element_,r,n,a,s);this.dispatchEvent(g);var l=new goog.fx.DragDropEvent(goog.fx.AbstractDragDrop.EventType.DROP,this,this.dragItem_,o.target_,o.item_,o.element_,r,n,a,s,t);o.target_.dispatchEvent(l)}var p=new goog.fx.DragDropEvent(goog.fx.AbstractDragDrop.EventType.DRAGEND,this,this.dragItem_);this.dispatchEvent(p),goog.events.unlisten(this.dragger_,goog.fx.Dragger.EventType.DRAG,this.moveDrag_,!1,this),goog.events.unlisten(this.dragger_,goog.fx.Dragger.EventType.END,this.endDrag,!1,this);var u=goog.dom.getOwnerDocument(this.dragItem_.getCurrentDragElement());goog.events.unlisten(u.body,goog.events.EventType.SELECTSTART,this.suppressSelect_),this.afterEndDrag(this.activeTarget_?this.activeTarget_.item_:null)},goog.fx.AbstractDragDrop.prototype.afterEndDrag=function(e){this.disposeDrag()},goog.fx.AbstractDragDrop.prototype.disposeDrag=function(){this.disposeScrollableContainerListeners_(),this.dragger_.dispose(),goog.dom.removeNode(this.dragEl_),delete this.dragItem_,delete this.dragEl_,delete this.dragger_,delete this.targetList_,delete this.activeTarget_},goog.fx.AbstractDragDrop.prototype.moveDrag_=function(e){var o,t=this.getEventPosition(e),r=t.x,n=t.y,i=this.activeTarget_;if(i){if(this.subtargetFunction_&&i.target_&&(o=this.subtargetFunction_(i.item_,i.box_,r,n)),i.box_.contains(t)&&o==this.activeSubtarget_)return;if(i.target_){var a=new goog.fx.DragDropEvent(goog.fx.AbstractDragDrop.EventType.DRAGOUT,this,this.dragItem_,i.target_,i.item_,i.element_);this.dispatchEvent(a);var s=new goog.fx.DragDropEvent(goog.fx.AbstractDragDrop.EventType.DRAGOUT,this,this.dragItem_,i.target_,i.item_,i.element_,void 0,void 0,void 0,void 0,this.activeSubtarget_);i.target_.dispatchEvent(s)}this.activeSubtarget_=o,this.activeTarget_=null}if(this.targetBox_.contains(t))if(i=this.activeTarget_=this.getTargetFromPosition_(t),i&&i.target_){this.subtargetFunction_&&(o=this.subtargetFunction_(i.item_,i.box_,r,n));var g=new goog.fx.DragDropEvent(goog.fx.AbstractDragDrop.EventType.DRAGOVER,this,this.dragItem_,i.target_,i.item_,i.element_);g.subtarget=o,this.dispatchEvent(g);var l=new goog.fx.DragDropEvent(goog.fx.AbstractDragDrop.EventType.DRAGOVER,this,this.dragItem_,i.target_,i.item_,i.element_,e.clientX,e.clientY,void 0,void 0,o);i.target_.dispatchEvent(l)}else i||(this.activeTarget_=this.maybeCreateDummyTargetForPosition_(r,n))},goog.fx.AbstractDragDrop.prototype.suppressSelect_=function(e){return!1},goog.fx.AbstractDragDrop.prototype.initScrollableContainerListeners_=function(){var e,o;for(o=0;e=this.scrollableContainers_[o];o++)goog.events.listen(e.element_,goog.events.EventType.SCROLL,this.containerScrollHandler_,!1,this)},goog.fx.AbstractDragDrop.prototype.disposeScrollableContainerListeners_=function(){for(var e,o=0;e=this.scrollableContainers_[o];o++)goog.events.unlisten(e.element_,"scroll",this.containerScrollHandler_,!1,this),e.containedTargets_=[]},goog.fx.AbstractDragDrop.prototype.addScrollableContainer=function(e){this.scrollableContainers_.push(new goog.fx.ScrollableContainer_(e))},goog.fx.AbstractDragDrop.prototype.removeAllScrollableContainers=function(){this.disposeScrollableContainerListeners_(),this.scrollableContainers_=[]},goog.fx.AbstractDragDrop.prototype.containerScrollHandler_=function(e){for(var o,t=0;o=this.scrollableContainers_[t];t++)if(e.target==o.element_){var r=o.savedScrollTop_-o.element_.scrollTop,n=o.savedScrollLeft_-o.element_.scrollLeft;o.savedScrollTop_=o.element_.scrollTop,o.savedScrollLeft_=o.element_.scrollLeft,this.dummyTarget_&&this.activeTarget_==this.dummyTarget_&&(r>0?this.dummyTarget_.box_.top+=r:this.dummyTarget_.box_.bottom+=r,n>0?this.dummyTarget_.box_.left+=n:this.dummyTarget_.box_.right+=n);for(var i,a=0;i=o.containedTargets_[a];a++){var s=i.box_;s.top+=r,s.left+=n,s.bottom+=r,s.right+=n,this.calculateTargetBox_(s)}}this.dragger_.onScroll_(e)},goog.fx.AbstractDragDrop.prototype.setSubtargetFunction=function(e){this.subtargetFunction_=e},goog.fx.AbstractDragDrop.prototype.createDragElement=function(e){var o=this.createDragElementInternal(e);return goog.asserts.assert(o),this.dragClass_&&goog.dom.classlist.add(o,this.dragClass_),o},goog.fx.AbstractDragDrop.prototype.getDragElementPosition=function(e,o,t){var r=goog.style.getPageOffset(e),n=goog.style.getMarginBox(e);return r.x-=2*(n.left||0),r.y-=2*(n.top||0),r},goog.fx.AbstractDragDrop.prototype.getDragger=function(){return this.dragger_},goog.fx.AbstractDragDrop.prototype.cloneNode_=function(e){return goog.fx.Dragger.cloneNode(e)},goog.fx.AbstractDragDrop.prototype.createDragElementInternal=function(e){return this.cloneNode_(e)},goog.fx.AbstractDragDrop.prototype.addDragTarget_=function(e,o){for(var t=o.getDraggableElements(),r=this.targetList_,n=0;n<t.length;n++){var i=t[n],a=this.getElementBox(o,i);r.push(new goog.fx.ActiveDropTarget_(a,e,o,i)),this.calculateTargetBox_(a)}},goog.fx.AbstractDragDrop.prototype.getElementBox=function(e,o){var t=goog.style.getPageOffset(o),r=goog.style.getSize(o);return new goog.math.Box(t.y,t.x+r.width,t.y+r.height,t.x)},goog.fx.AbstractDragDrop.prototype.calculateTargetBox_=function(e){if(1==this.targetList_.length)this.targetBox_=new goog.math.Box(e.top,e.right,e.bottom,e.left);else{var o=this.targetBox_;o.left=Math.min(e.left,o.left),o.right=Math.max(e.right,o.right),o.top=Math.min(e.top,o.top),o.bottom=Math.max(e.bottom,o.bottom)}},goog.fx.AbstractDragDrop.prototype.maybeCreateDummyTargetForPosition_=function(e,o){this.dummyTarget_||(this.dummyTarget_=new goog.fx.ActiveDropTarget_(this.targetBox_.clone()));var t=this.dummyTarget_.box_;t.top=this.targetBox_.top,t.right=this.targetBox_.right,t.bottom=this.targetBox_.bottom,t.left=this.targetBox_.left;for(var r,n=0;r=this.targetList_[n];n++){var i=r.box_;if(r.scrollableContainer_){var a=r.scrollableContainer_.box_;i=new goog.math.Box(Math.max(i.top,a.top),Math.min(i.right,a.right),Math.min(i.bottom,a.bottom),Math.max(i.left,a.left))}var s=null;e>=i.right?s=i.right>t.left?i.right:t.left:e<i.left&&(s=i.left<t.right?i.left:t.right);var g=null;o>=i.bottom?g=i.bottom>t.top?i.bottom:t.top:o<i.top&&(g=i.top<t.bottom?i.top:t.bottom),goog.isNull(s)||goog.isNull(g)||(Math.abs(s-e)>Math.abs(g-o)?g=null:s=null),goog.isNull(s)?goog.isNull(g)||(o>=g?t.top=g:t.bottom=g):e>=s?t.left=s:t.right=s}return(t.right-t.left)*(t.bottom-t.top)>=goog.fx.AbstractDragDrop.DUMMY_TARGET_MIN_SIZE_?this.dummyTarget_:null},goog.fx.AbstractDragDrop.prototype.getTargetFromPosition_=function(e){for(var o,t=0;o=this.targetList_[t];t++)if(o.box_.contains(e)){if(!o.scrollableContainer_)return o;var r=o.scrollableContainer_.box_;if(r.contains(e))return o}return null},goog.fx.AbstractDragDrop.prototype.isInside=function(e,o,t){return e>=t.left&&e<t.right&&o>=t.top&&o<t.bottom},goog.fx.AbstractDragDrop.prototype.getScrollPos=function(){return goog.dom.getDomHelper(this.dragEl_).getDocumentScroll()},goog.fx.AbstractDragDrop.prototype.getEventPosition=function(e){var o=this.getScrollPos();return new goog.math.Coordinate(e.clientX+o.x,e.clientY+o.y)},goog.fx.AbstractDragDrop.prototype.disposeInternal=function(){goog.fx.AbstractDragDrop.base(this,"disposeInternal"),this.removeItems()},goog.fx.DragDropEvent=function(e,o,t,r,n,i,a,s,g,l,p){goog.fx.DragDropEvent.base(this,"constructor",e),this.dragSource=o,this.dragSourceItem=t,this.dropTarget=r,this.dropTargetItem=n,this.dropTargetElement=i,this.clientX=a,this.clientY=s,this.viewportX=g,this.viewportY=l,this.subtarget=p},goog.inherits(goog.fx.DragDropEvent,goog.events.Event),goog.fx.DragDropItem=function(e,o){if(goog.fx.DragDropItem.base(this,"constructor"),this.element=goog.dom.getElement(e),this.data=o,this.parent_=null,this.eventHandler_=new goog.events.EventHandler(this),this.registerDisposable(this.eventHandler_),!this.element)throw Error("Invalid argument")},goog.inherits(goog.fx.DragDropItem,goog.events.EventTarget),goog.fx.DragDropItem.prototype.currentDragElement_=null,goog.fx.DragDropItem.prototype.getData=function(){return this.data},goog.fx.DragDropItem.prototype.getDraggableElement=function(e){return e},goog.fx.DragDropItem.prototype.getCurrentDragElement=function(){return this.currentDragElement_},goog.fx.DragDropItem.prototype.getDraggableElements=function(){return[this.element]},goog.fx.DragDropItem.prototype.mouseDown_=function(e){if(e.isMouseActionButton()){var o=this.getDraggableElement(e.target);o&&this.maybeStartDrag_(e,o)}},goog.fx.DragDropItem.prototype.setParent=function(e){this.parent_=e},goog.fx.DragDropItem.prototype.maybeStartDrag_=function(e,o){var t=goog.events.EventType;this.eventHandler_.listen(o,t.MOUSEMOVE,this.mouseMove_,!1).listen(o,t.MOUSEOUT,this.mouseMove_,!1);var r=goog.dom.getOwnerDocument(o);this.eventHandler_.listen(r,t.MOUSEUP,this.mouseUp_,!0),this.currentDragElement_=o,this.startPosition_=new goog.math.Coordinate(e.clientX,e.clientY),e.preventDefault()},goog.fx.DragDropItem.prototype.mouseMove_=function(e){var o=Math.abs(e.clientX-this.startPosition_.x)+Math.abs(e.clientY-this.startPosition_.y),t=this.currentDragElement_,r=o>goog.fx.AbstractDragDrop.initDragDistanceThreshold,n=e.type==goog.events.EventType.MOUSEOUT&&e.target==t;(r||n)&&(this.eventHandler_.removeAll(),this.parent_.startDrag(e,this))},goog.fx.DragDropItem.prototype.mouseUp_=function(e){this.eventHandler_.removeAll(),delete this.startPosition_,this.currentDragElement_=null},goog.fx.ActiveDropTarget_=function(e,o,t,r){this.box_=e,this.target_=o,this.item_=t,this.element_=r},goog.fx.ActiveDropTarget_.prototype.scrollableContainer_=null,goog.fx.ScrollableContainer_=function(e){this.containedTargets_=[],this.element_=e,this.savedScrollLeft_=0,this.savedScrollTop_=0,this.box_=null},goog.provide("ol.control.ZoomSlider"),goog.require("goog.asserts"),goog.require("goog.dom"),goog.require("goog.dom.TagName"),goog.require("goog.events"),goog.require("goog.events.Event"),goog.require("goog.events.EventType"),goog.require("goog.fx.DragDropEvent"),goog.require("goog.fx.Dragger"),goog.require("goog.fx.Dragger.EventType"),goog.require("goog.math"),goog.require("goog.math.Rect"),goog.require("goog.style"),goog.require("ol.Size"),goog.require("ol.ViewHint"),goog.require("ol.animation"),goog.require("ol.control.Control"),goog.require("ol.css"),goog.require("ol.easing"),ol.control.ZoomSlider=function(e){var o=goog.isDef(e)?e:{};this.currentResolution_=void 0,this.direction_=ol.control.ZoomSlider.direction.VERTICAL,this.thumbSize_=null,this.sliderInitialized_=!1,this.duration_=goog.isDef(o.duration)?o.duration:200;var t=goog.isDef(o.className)?o.className:"ol-zoomslider",r=goog.dom.createDom(goog.dom.TagName.DIV,[t+"-thumb",ol.css.CLASS_UNSELECTABLE]),n=goog.dom.createDom(goog.dom.TagName.DIV,[t,ol.css.CLASS_UNSELECTABLE,ol.css.CLASS_CONTROL],r);this.dragger_=new goog.fx.Dragger(r),this.registerDisposable(this.dragger_),goog.events.listen(this.dragger_,goog.fx.Dragger.EventType.START,this.handleDraggerStart_,!1,this),goog.events.listen(this.dragger_,goog.fx.Dragger.EventType.DRAG,this.handleDraggerDrag_,!1,this),goog.events.listen(this.dragger_,goog.fx.Dragger.EventType.END,this.handleDraggerEnd_,!1,this),goog.events.listen(n,goog.events.EventType.CLICK,this.handleContainerClick_,!1,this),goog.events.listen(r,goog.events.EventType.CLICK,goog.events.Event.stopPropagation);var i=goog.isDef(o.render)?o.render:ol.control.ZoomSlider.render;goog.base(this,{element:n,render:i})},goog.inherits(ol.control.ZoomSlider,ol.control.Control),ol.control.ZoomSlider.direction={VERTICAL:0,HORIZONTAL:1},ol.control.ZoomSlider.prototype.setMap=function(e){goog.base(this,"setMap",e),goog.isNull(e)||e.render()},ol.control.ZoomSlider.prototype.initSlider_=function(){var e=this.element,o=goog.style.getSize(e),t=goog.dom.getFirstElementChild(e),r=goog.style.getMarginBox(t),n=goog.style.getBorderBoxSize(t),i=n.width+r.right+r.left,a=n.height+r.top+r.bottom;this.thumbSize_=[i,a];var s,g=o.width-i,l=o.height-a;o.width>o.height?(this.direction_=ol.control.ZoomSlider.direction.HORIZONTAL,s=new goog.math.Rect(0,0,g,0)):(this.direction_=ol.control.ZoomSlider.direction.VERTICAL,s=new goog.math.Rect(0,0,0,l)),this.dragger_.setLimits(s),this.sliderInitialized_=!0},ol.control.ZoomSlider.render=function(e){if(!goog.isNull(e.frameState)){goog.asserts.assert(goog.isDefAndNotNull(e.frameState.viewState),"viewState should be defined"),this.sliderInitialized_||this.initSlider_();var o=e.frameState.viewState.resolution;o!==this.currentResolution_&&(this.currentResolution_=o,this.setThumbPosition_(o))}},ol.control.ZoomSlider.prototype.handleContainerClick_=function(e){var o=this.getMap(),t=o.getView(),r=t.getResolution();goog.asserts.assert(goog.isDef(r),"currentResolution should be defined"),o.beforeRender(ol.animation.zoom({resolution:r,duration:this.duration_,easing:ol.easing.easeOut}));var n=this.getRelativePosition_(e.offsetX-this.thumbSize_[0]/2,e.offsetY-this.thumbSize_[1]/2),i=this.getResolutionForPosition_(n);t.setResolution(t.constrainResolution(i))},ol.control.ZoomSlider.prototype.handleDraggerStart_=function(e){this.getMap().getView().setHint(ol.ViewHint.INTERACTING,1)},ol.control.ZoomSlider.prototype.handleDraggerDrag_=function(e){var o=this.getRelativePosition_(e.left,e.top);this.currentResolution_=this.getResolutionForPosition_(o),this.getMap().getView().setResolution(this.currentResolution_)},ol.control.ZoomSlider.prototype.handleDraggerEnd_=function(e){var o=this.getMap(),t=o.getView();t.setHint(ol.ViewHint.INTERACTING,-1),goog.asserts.assert(goog.isDef(this.currentResolution_),"this.currentResolution_ should be defined"),o.beforeRender(ol.animation.zoom({resolution:this.currentResolution_,duration:this.duration_,easing:ol.easing.easeOut}));var r=t.constrainResolution(this.currentResolution_);t.setResolution(r)},ol.control.ZoomSlider.prototype.setThumbPosition_=function(e){var o=this.getPositionForResolution_(e),t=this.dragger_,r=goog.dom.getFirstElementChild(this.element);if(this.direction_==ol.control.ZoomSlider.direction.HORIZONTAL){var n=t.limits.left+t.limits.width*o;goog.style.setPosition(r,n)}else{var i=t.limits.top+t.limits.height*o;goog.style.setPosition(r,t.limits.left,i)}},ol.control.ZoomSlider.prototype.getRelativePosition_=function(e,o){var t,r=this.dragger_.limits;return t=this.direction_===ol.control.ZoomSlider.direction.HORIZONTAL?(e-r.left)/r.width:(o-r.top)/r.height,goog.math.clamp(t,0,1)},ol.control.ZoomSlider.prototype.getResolutionForPosition_=function(e){var o=this.getMap().getView().getResolutionForValueFunction();return o(1-e)},ol.control.ZoomSlider.prototype.getPositionForResolution_=function(e){var o=this.getMap().getView().getValueForResolutionFunction();return 1-o(e)},goog.provide("ol.control.ZoomToExtent"),goog.require("goog.asserts"),goog.require("goog.dom"),goog.require("goog.dom.TagName"),goog.require("goog.events"),goog.require("goog.events.EventType"),goog.require("ol.control.Control"),goog.require("ol.css"),ol.control.ZoomToExtent=function(e){var o=goog.isDef(e)?e:{};this.extent_=goog.isDef(o.extent)?o.extent:null;var t=goog.isDef(o.className)?o.className:"ol-zoom-extent",r=goog.isDef(o.label)?o.label:"E",n=goog.isDef(o.tipLabel)?o.tipLabel:"Fit to extent",i=goog.dom.createDom(goog.dom.TagName.BUTTON,{
type:"button",title:n},r);goog.events.listen(i,goog.events.EventType.CLICK,this.handleClick_,!1,this),ol.control.Control.bindMouseOutFocusOutBlur(i);var a=t+" "+ol.css.CLASS_UNSELECTABLE+" "+ol.css.CLASS_CONTROL,s=goog.dom.createDom(goog.dom.TagName.DIV,a,i);goog.base(this,{element:s,target:o.target})},goog.inherits(ol.control.ZoomToExtent,ol.control.Control),ol.control.ZoomToExtent.prototype.handleClick_=function(e){e.preventDefault(),this.handleZoomToExtent_()},ol.control.ZoomToExtent.prototype.handleZoomToExtent_=function(){var e=this.getMap(),o=e.getView(),t=goog.isNull(this.extent_)?o.getProjection().getExtent():this.extent_,r=e.getSize();goog.asserts.assert(goog.isDef(r),"size should be defined"),o.fit(t,r)},goog.provide("ol.DeviceOrientation"),goog.provide("ol.DeviceOrientationProperty"),goog.require("goog.events"),goog.require("goog.math"),goog.require("ol.Object"),goog.require("ol.has"),ol.DeviceOrientationProperty={ALPHA:"alpha",BETA:"beta",GAMMA:"gamma",HEADING:"heading",TRACKING:"tracking"},ol.DeviceOrientation=function(e){goog.base(this);var o=goog.isDef(e)?e:{};this.listenerKey_=null,goog.events.listen(this,ol.Object.getChangeEventType(ol.DeviceOrientationProperty.TRACKING),this.handleTrackingChanged_,!1,this),this.setTracking(goog.isDef(o.tracking)?o.tracking:!1)},goog.inherits(ol.DeviceOrientation,ol.Object),ol.DeviceOrientation.prototype.disposeInternal=function(){this.setTracking(!1),goog.base(this,"disposeInternal")},ol.DeviceOrientation.prototype.orientationChange_=function(e){var o=e.getBrowserEvent();if(goog.isDefAndNotNull(o.alpha)){var t=goog.math.toRadians(o.alpha);if(this.set(ol.DeviceOrientationProperty.ALPHA,t),goog.isBoolean(o.absolute)&&o.absolute)this.set(ol.DeviceOrientationProperty.HEADING,t);else if(goog.isDefAndNotNull(o.webkitCompassHeading)&&goog.isDefAndNotNull(o.webkitCompassAccuracy)&&-1!=o.webkitCompassAccuracy){var r=goog.math.toRadians(o.webkitCompassHeading);this.set(ol.DeviceOrientationProperty.HEADING,r)}}goog.isDefAndNotNull(o.beta)&&this.set(ol.DeviceOrientationProperty.BETA,goog.math.toRadians(o.beta)),goog.isDefAndNotNull(o.gamma)&&this.set(ol.DeviceOrientationProperty.GAMMA,goog.math.toRadians(o.gamma)),this.changed()},ol.DeviceOrientation.prototype.getAlpha=function(){return this.get(ol.DeviceOrientationProperty.ALPHA)},ol.DeviceOrientation.prototype.getBeta=function(){return this.get(ol.DeviceOrientationProperty.BETA)},ol.DeviceOrientation.prototype.getGamma=function(){return this.get(ol.DeviceOrientationProperty.GAMMA)},ol.DeviceOrientation.prototype.getHeading=function(){return this.get(ol.DeviceOrientationProperty.HEADING)},ol.DeviceOrientation.prototype.getTracking=function(){return this.get(ol.DeviceOrientationProperty.TRACKING)},ol.DeviceOrientation.prototype.handleTrackingChanged_=function(){if(ol.has.DEVICE_ORIENTATION){var e=this.getTracking();e&&goog.isNull(this.listenerKey_)?this.listenerKey_=goog.events.listen(goog.global,"deviceorientation",this.orientationChange_,!1,this):e||goog.isNull(this.listenerKey_)||(goog.events.unlistenByKey(this.listenerKey_),this.listenerKey_=null)}},ol.DeviceOrientation.prototype.setTracking=function(e){this.set(ol.DeviceOrientationProperty.TRACKING,e)},goog.provide("ol.Ellipsoid"),goog.require("goog.math"),goog.require("ol.Coordinate"),ol.Ellipsoid=function(e,o){this.a=e,this.flattening=o,this.b=this.a*(1-this.flattening),this.eSquared=2*o-o*o,this.e=Math.sqrt(this.eSquared)},ol.Ellipsoid.prototype.vincenty=function(e,o,t,r){var n,i,a,s,g,l,p,u,c,d=goog.isDef(t)?t:1e-12,h=goog.isDef(r)?r:100,m=this.flattening,y=goog.math.toRadians(e[1]),f=goog.math.toRadians(o[1]),v=goog.math.toRadians(o[0]-e[0]),_=Math.atan((1-m)*Math.tan(y)),E=Math.cos(_),S=Math.sin(_),T=Math.atan((1-m)*Math.tan(f)),x=Math.cos(T),b=Math.sin(T),P=v,M=1/0;for(c=h;c>0;--c){a=Math.cos(P),s=Math.sin(P);var C=x*s,R=E*b-S*x*a;if(u=Math.sqrt(C*C+R*R),0===u)return{distance:0,initialBearing:0,finalBearing:0};l=S*b+E*x*a,p=Math.atan2(u,l),i=E*x*s/u,n=1-i*i,g=l-2*S*b/n,isNaN(g)&&(g=0);var A=m/16*n*(4+m*(4-3*n)),D=v+(1-A)*m*i*(p+A*u*(g+A*l*(2*g*g-1)));if(M=Math.abs(D-P),P=D,d>M)break}if(0===c)return{distance:0/0,finalBearing:0/0,initialBearing:0/0};var L=this.a*this.a,N=this.b*this.b,w=n*(L-N)/N,I=1+w/16384*(4096+w*(w*(320-175*w)-768)),O=w/1024*(256+w*(w*(74-47*w)-128)),F=O*u*(g+O/4*(l*(2*g*g-1)-O/6*g*(4*u*u-3)*(4*g*g-3)));a=Math.cos(P),s=Math.sin(P);var G=Math.atan2(x*s,E*b-S*x*a),k=Math.atan2(E*s,E*b*a-S*x);return{distance:this.b*I*(p-F),initialBearing:goog.math.toDegrees(G),finalBearing:goog.math.toDegrees(k)}},ol.Ellipsoid.prototype.vincentyDistance=function(e,o,t,r){var n=this.vincenty(e,o,t,r);return n.distance},ol.Ellipsoid.prototype.vincentyFinalBearing=function(e,o,t,r){var n=this.vincenty(e,o,t,r);return n.finalBearing},ol.Ellipsoid.prototype.vincentyInitialBearing=function(e,o,t,r){var n=this.vincenty(e,o,t,r);return n.initialBearing},goog.provide("ol.ellipsoid.WGS84"),goog.require("ol.Ellipsoid"),ol.ellipsoid.WGS84=new ol.Ellipsoid(6378137,1/298.257223563),goog.provide("ol.format.Feature"),goog.require("ol.geom.Geometry"),goog.require("ol.proj"),ol.format.Feature=function(){this.defaultDataProjection=null},ol.format.Feature.prototype.getExtensions=goog.abstractMethod,ol.format.Feature.prototype.getReadOptions=function(e,o){var t;return goog.isDef(o)&&(t={dataProjection:goog.isDef(o.dataProjection)?o.dataProjection:this.readProjection(e),featureProjection:o.featureProjection}),this.adaptOptions(t)},ol.format.Feature.prototype.adaptOptions=function(e){var o;return goog.isDef(e)&&(o={featureProjection:e.featureProjection,dataProjection:goog.isDefAndNotNull(e.dataProjection)?e.dataProjection:this.defaultDataProjection,rightHanded:e.rightHanded}),o},ol.format.Feature.prototype.getType=goog.abstractMethod,ol.format.Feature.prototype.readFeature=goog.abstractMethod,ol.format.Feature.prototype.readFeatures=goog.abstractMethod,ol.format.Feature.prototype.readGeometry=goog.abstractMethod,ol.format.Feature.prototype.readProjection=goog.abstractMethod,ol.format.Feature.prototype.writeFeature=goog.abstractMethod,ol.format.Feature.prototype.writeFeatures=goog.abstractMethod,ol.format.Feature.prototype.writeGeometry=goog.abstractMethod,ol.format.Feature.transformWithOptions=function(e,o,t){var r=goog.isDef(t)?ol.proj.get(t.featureProjection):null,n=goog.isDef(t)?ol.proj.get(t.dataProjection):null;return goog.isNull(r)||goog.isNull(n)||ol.proj.equivalent(r,n)?e:e instanceof ol.geom.Geometry?(o?e.clone():e).transform(o?r:n,o?n:r):ol.proj.transformExtent(o?e.slice():e,o?r:n,o?n:r)},goog.provide("ol.format.JSONFeature"),goog.require("goog.asserts"),goog.require("goog.json"),goog.require("ol.format.Feature"),goog.require("ol.format.FormatType"),ol.format.JSONFeature=function(){goog.base(this)},goog.inherits(ol.format.JSONFeature,ol.format.Feature),ol.format.JSONFeature.prototype.getObject_=function(e){if(goog.isObject(e))return e;if(goog.isString(e)){var o=goog.json.parse(e);return goog.isDef(o)?o:null}return goog.asserts.fail(),null},ol.format.JSONFeature.prototype.getType=function(){return ol.format.FormatType.JSON},ol.format.JSONFeature.prototype.readFeature=function(e,o){return this.readFeatureFromObject(this.getObject_(e),this.getReadOptions(e,o))},ol.format.JSONFeature.prototype.readFeatures=function(e,o){return this.readFeaturesFromObject(this.getObject_(e),this.getReadOptions(e,o))},ol.format.JSONFeature.prototype.readFeatureFromObject=goog.abstractMethod,ol.format.JSONFeature.prototype.readFeaturesFromObject=goog.abstractMethod,ol.format.JSONFeature.prototype.readGeometry=function(e,o){return this.readGeometryFromObject(this.getObject_(e),this.getReadOptions(e,o))},ol.format.JSONFeature.prototype.readGeometryFromObject=goog.abstractMethod,ol.format.JSONFeature.prototype.readProjection=function(e){return this.readProjectionFromObject(this.getObject_(e))},ol.format.JSONFeature.prototype.readProjectionFromObject=goog.abstractMethod,ol.format.JSONFeature.prototype.writeFeature=function(e,o){return goog.json.serialize(this.writeFeatureObject(e,o))},ol.format.JSONFeature.prototype.writeFeatureObject=goog.abstractMethod,ol.format.JSONFeature.prototype.writeFeatures=function(e,o){return goog.json.serialize(this.writeFeaturesObject(e,o))},ol.format.JSONFeature.prototype.writeFeaturesObject=goog.abstractMethod,ol.format.JSONFeature.prototype.writeGeometry=function(e,o){return goog.json.serialize(this.writeGeometryObject(e,o))},ol.format.JSONFeature.prototype.writeGeometryObject=goog.abstractMethod,goog.provide("ol.format.EsriJSON"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.object"),goog.require("ol.Feature"),goog.require("ol.extent"),goog.require("ol.format.Feature"),goog.require("ol.format.JSONFeature"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.LineString"),goog.require("ol.geom.LinearRing"),goog.require("ol.geom.MultiLineString"),goog.require("ol.geom.MultiPoint"),goog.require("ol.geom.MultiPolygon"),goog.require("ol.geom.Point"),goog.require("ol.geom.Polygon"),goog.require("ol.geom.flat.orient"),goog.require("ol.proj"),ol.format.EsriJSON=function(e){var o=goog.isDef(e)?e:{};goog.base(this),this.geometryName_=o.geometryName},goog.inherits(ol.format.EsriJSON,ol.format.JSONFeature),ol.format.EsriJSON.readGeometry_=function(e,o){if(goog.isNull(e))return null;var t;if(goog.isNumber(e.x)&&goog.isNumber(e.y))t=ol.geom.GeometryType.POINT;else if(goog.isDefAndNotNull(e.points))t=ol.geom.GeometryType.MULTI_POINT;else if(goog.isDefAndNotNull(e.paths))t=1===e.paths.length?ol.geom.GeometryType.LINE_STRING:ol.geom.GeometryType.MULTI_LINE_STRING;else if(goog.isDefAndNotNull(e.rings)){var r=ol.format.EsriJSON.getGeometryLayout_(e),n=ol.format.EsriJSON.convertRings_(e.rings,r);e=goog.object.clone(e),1===n.length?(t=ol.geom.GeometryType.POLYGON,e.rings=n[0]):(t=ol.geom.GeometryType.MULTI_POLYGON,e.rings=n)}goog.asserts.assert(goog.isDef(t),"geometry type should be defined");var i=ol.format.EsriJSON.GEOMETRY_READERS_[t];return goog.asserts.assert(goog.isDef(i),"geometryReader should be defined"),ol.format.Feature.transformWithOptions(i(e),!1,o)},ol.format.EsriJSON.convertRings_=function(e,o){var t,r,n=[],i=[];for(t=0,r=e.length;r>t;++t){var a=goog.array.flatten(e[t]),s=ol.geom.flat.orient.linearRingIsClockwise(a,0,a.length,o.length);s?n.push([e[t]]):i.push(e[t])}for(;i.length;){var g=i.shift(),l=!1;for(t=n.length-1;t>=0;t--){var p=n[t][0];if(ol.extent.containsExtent(new ol.geom.LinearRing(p).getExtent(),new ol.geom.LinearRing(g).getExtent())){n[t].push(g),l=!0;break}}l||n.push([g.reverse()])}return n},ol.format.EsriJSON.readPointGeometry_=function(e){goog.asserts.assert(goog.isNumber(e.x),"object.x should be number"),goog.asserts.assert(goog.isNumber(e.y),"object.y should be number");var o;return o=goog.isDefAndNotNull(e.m)&&goog.isDefAndNotNull(e.z)?new ol.geom.Point([e.x,e.y,e.z,e.m],ol.geom.GeometryLayout.XYZM):goog.isDefAndNotNull(e.z)?new ol.geom.Point([e.x,e.y,e.z],ol.geom.GeometryLayout.XYZ):goog.isDefAndNotNull(e.m)?new ol.geom.Point([e.x,e.y,e.m],ol.geom.GeometryLayout.XYM):new ol.geom.Point([e.x,e.y])},ol.format.EsriJSON.readLineStringGeometry_=function(e){goog.asserts.assert(goog.isArray(e.paths),"object.paths should be an array"),goog.asserts.assert(1===e.paths.length,"object.paths array length should be 1");var o=ol.format.EsriJSON.getGeometryLayout_(e);return new ol.geom.LineString(e.paths[0],o)},ol.format.EsriJSON.readMultiLineStringGeometry_=function(e){goog.asserts.assert(goog.isArray(e.paths),"object.paths should be an array"),goog.asserts.assert(e.paths.length>1,"object.paths array length should be more than 1");var o=ol.format.EsriJSON.getGeometryLayout_(e);return new ol.geom.MultiLineString(e.paths,o)},ol.format.EsriJSON.getGeometryLayout_=function(e){var o=ol.geom.GeometryLayout.XY;return e.hasZ===!0&&e.hasM===!0?o=ol.geom.GeometryLayout.XYZM:e.hasZ===!0?o=ol.geom.GeometryLayout.XYZ:e.hasM===!0&&(o=ol.geom.GeometryLayout.XYM),o},ol.format.EsriJSON.readMultiPointGeometry_=function(e){goog.asserts.assert(goog.isDefAndNotNull(e.points),"object.points should be defined");var o=ol.format.EsriJSON.getGeometryLayout_(e);return new ol.geom.MultiPoint(e.points,o)},ol.format.EsriJSON.readMultiPolygonGeometry_=function(e){goog.asserts.assert(goog.isDefAndNotNull(e.rings)),goog.asserts.assert(e.rings.length>1,"object.rings should have length larger than 1");var o=ol.format.EsriJSON.getGeometryLayout_(e);return new ol.geom.MultiPolygon(e.rings,o)},ol.format.EsriJSON.readPolygonGeometry_=function(e){goog.asserts.assert(goog.isDefAndNotNull(e.rings));var o=ol.format.EsriJSON.getGeometryLayout_(e);return new ol.geom.Polygon(e.rings,o)},ol.format.EsriJSON.writePointGeometry_=function(e,o){goog.asserts.assertInstanceof(e,ol.geom.Point,"geometry should be an ol.geom.Point");var t=e.getCoordinates(),r=e.getLayout();return r===ol.geom.GeometryLayout.XYZ?{x:t[0],y:t[1],z:t[2]}:r===ol.geom.GeometryLayout.XYM?{x:t[0],y:t[1],m:t[2]}:r===ol.geom.GeometryLayout.XYZM?{x:t[0],y:t[1],z:t[2],m:t[3]}:r===ol.geom.GeometryLayout.XY?{x:t[0],y:t[1]}:void goog.asserts.fail("Unknown geometry layout")},ol.format.EsriJSON.getHasZM_=function(e){var o=e.getLayout();return{hasZ:o===ol.geom.GeometryLayout.XYZ||o===ol.geom.GeometryLayout.XYZM,hasM:o===ol.geom.GeometryLayout.XYM||o===ol.geom.GeometryLayout.XYZM}},ol.format.EsriJSON.writeLineStringGeometry_=function(e,o){goog.asserts.assertInstanceof(e,ol.geom.LineString,"geometry should be an ol.geom.LineString");var t=ol.format.EsriJSON.getHasZM_(e);return{hasZ:t.hasZ,hasM:t.hasM,paths:[e.getCoordinates()]}},ol.format.EsriJSON.writePolygonGeometry_=function(e,o){goog.asserts.assertInstanceof(e,ol.geom.Polygon,"geometry should be an ol.geom.Polygon");var t=ol.format.EsriJSON.getHasZM_(e);return{hasZ:t.hasZ,hasM:t.hasM,rings:e.getCoordinates(!1)}},ol.format.EsriJSON.writeMultiLineStringGeometry_=function(e,o){goog.asserts.assertInstanceof(e,ol.geom.MultiLineString,"geometry should be an ol.geom.MultiLineString");var t=ol.format.EsriJSON.getHasZM_(e);return{hasZ:t.hasZ,hasM:t.hasM,paths:e.getCoordinates()}},ol.format.EsriJSON.writeMultiPointGeometry_=function(e,o){goog.asserts.assertInstanceof(e,ol.geom.MultiPoint,"geometry should be an ol.geom.MultiPoint");var t=ol.format.EsriJSON.getHasZM_(e);return{hasZ:t.hasZ,hasM:t.hasM,points:e.getCoordinates()}},ol.format.EsriJSON.writeMultiPolygonGeometry_=function(e,o){goog.asserts.assertInstanceof(e,ol.geom.MultiPolygon,"geometry should be an ol.geom.MultiPolygon");for(var t=ol.format.EsriJSON.getHasZM_(e),r=e.getCoordinates(!1),n=[],i=0;i<r.length;i++)for(var a=r[i].length-1;a>=0;a--)n.push(r[i][a]);return{hasZ:t.hasZ,hasM:t.hasM,rings:n}},ol.format.EsriJSON.GEOMETRY_READERS_={},ol.format.EsriJSON.GEOMETRY_READERS_[ol.geom.GeometryType.POINT]=ol.format.EsriJSON.readPointGeometry_,ol.format.EsriJSON.GEOMETRY_READERS_[ol.geom.GeometryType.LINE_STRING]=ol.format.EsriJSON.readLineStringGeometry_,ol.format.EsriJSON.GEOMETRY_READERS_[ol.geom.GeometryType.POLYGON]=ol.format.EsriJSON.readPolygonGeometry_,ol.format.EsriJSON.GEOMETRY_READERS_[ol.geom.GeometryType.MULTI_POINT]=ol.format.EsriJSON.readMultiPointGeometry_,ol.format.EsriJSON.GEOMETRY_READERS_[ol.geom.GeometryType.MULTI_LINE_STRING]=ol.format.EsriJSON.readMultiLineStringGeometry_,ol.format.EsriJSON.GEOMETRY_READERS_[ol.geom.GeometryType.MULTI_POLYGON]=ol.format.EsriJSON.readMultiPolygonGeometry_,ol.format.EsriJSON.GEOMETRY_WRITERS_={},ol.format.EsriJSON.GEOMETRY_WRITERS_[ol.geom.GeometryType.POINT]=ol.format.EsriJSON.writePointGeometry_,ol.format.EsriJSON.GEOMETRY_WRITERS_[ol.geom.GeometryType.LINE_STRING]=ol.format.EsriJSON.writeLineStringGeometry_,ol.format.EsriJSON.GEOMETRY_WRITERS_[ol.geom.GeometryType.POLYGON]=ol.format.EsriJSON.writePolygonGeometry_,ol.format.EsriJSON.GEOMETRY_WRITERS_[ol.geom.GeometryType.MULTI_POINT]=ol.format.EsriJSON.writeMultiPointGeometry_,ol.format.EsriJSON.GEOMETRY_WRITERS_[ol.geom.GeometryType.MULTI_LINE_STRING]=ol.format.EsriJSON.writeMultiLineStringGeometry_,ol.format.EsriJSON.GEOMETRY_WRITERS_[ol.geom.GeometryType.MULTI_POLYGON]=ol.format.EsriJSON.writeMultiPolygonGeometry_,ol.format.EsriJSON.prototype.readFeature,ol.format.EsriJSON.prototype.readFeatures,ol.format.EsriJSON.prototype.readFeatureFromObject=function(e,o){var t=e;goog.asserts.assert(goog.isDefAndNotNull(t.geometry)||goog.isDefAndNotNull(t.compressedGeometry)||goog.isDefAndNotNull(t.attributes),"geometry, compressedGeometry or attributes should be defined");var r=ol.format.EsriJSON.readGeometry_(t.geometry,o),n=new ol.Feature;return goog.isDef(this.geometryName_)&&n.setGeometryName(this.geometryName_),n.setGeometry(r),goog.isDef(o)&&goog.isDef(o.idField)&&goog.isDef(t.attributes[o.idField])&&(goog.asserts.assert(goog.isNumber(t.attributes[o.idField]),"objectIdFieldName value should be a number"),n.setId(t.attributes[o.idField])),goog.isDef(t.attributes)&&n.setProperties(t.attributes),n},ol.format.EsriJSON.prototype.readFeaturesFromObject=function(e,o){var t=e,r=goog.isDef(o)?o:{};if(goog.isDefAndNotNull(t.features)){var n,i,a=e,s=[],g=a.features;for(r.idField=e.objectIdFieldName,n=0,i=g.length;i>n;++n)s.push(this.readFeatureFromObject(g[n],r));return s}return[this.readFeatureFromObject(e,r)]},ol.format.EsriJSON.prototype.readGeometry,ol.format.EsriJSON.prototype.readGeometryFromObject=function(e,o){return ol.format.EsriJSON.readGeometry_(e,o)},ol.format.EsriJSON.prototype.readProjection,ol.format.EsriJSON.prototype.readProjectionFromObject=function(e){var o=e;if(goog.isDefAndNotNull(o.spatialReference)&&goog.isDefAndNotNull(o.spatialReference.wkid)){var t=o.spatialReference.wkid;return ol.proj.get("EPSG:"+t)}return null},ol.format.EsriJSON.writeGeometry_=function(e,o){var t=ol.format.EsriJSON.GEOMETRY_WRITERS_[e.getType()];return goog.asserts.assert(goog.isDef(t),"geometryWriter should be defined"),t(ol.format.Feature.transformWithOptions(e,!0,o),o)},ol.format.EsriJSON.prototype.writeGeometry,ol.format.EsriJSON.prototype.writeGeometryObject=function(e,o){return ol.format.EsriJSON.writeGeometry_(e,this.adaptOptions(o))},ol.format.EsriJSON.prototype.writeFeature,ol.format.EsriJSON.prototype.writeFeatureObject=function(e,o){o=this.adaptOptions(o);var t={},r=e.getGeometry();goog.isDefAndNotNull(r)&&(t.geometry=ol.format.EsriJSON.writeGeometry_(r,o));var n=e.getProperties();return goog.object.remove(n,e.getGeometryName()),t.attributes=goog.object.isEmpty(n)?{}:n,goog.isDef(o)&&goog.isDef(o.featureProjection)&&(t.spatialReference={wkid:ol.proj.get(o.featureProjection).getCode().split(":").pop()}),t},ol.format.EsriJSON.prototype.writeFeatures,ol.format.EsriJSON.prototype.writeFeaturesObject=function(e,o){o=this.adaptOptions(o);var t,r,n=[];for(t=0,r=e.length;r>t;++t)n.push(this.writeFeatureObject(e[t],o));return{features:n}},goog.provide("ol.format.GeoJSON"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.object"),goog.require("ol.Feature"),goog.require("ol.format.Feature"),goog.require("ol.format.JSONFeature"),goog.require("ol.geom.GeometryCollection"),goog.require("ol.geom.LineString"),goog.require("ol.geom.MultiLineString"),goog.require("ol.geom.MultiPoint"),goog.require("ol.geom.MultiPolygon"),goog.require("ol.geom.Point"),goog.require("ol.geom.Polygon"),goog.require("ol.proj"),ol.format.GeoJSON=function(e){var o=goog.isDef(e)?e:{};goog.base(this),this.defaultDataProjection=ol.proj.get(goog.isDefAndNotNull(o.defaultDataProjection)?o.defaultDataProjection:"EPSG:4326"),this.geometryName_=o.geometryName},goog.inherits(ol.format.GeoJSON,ol.format.JSONFeature),ol.format.GeoJSON.EXTENSIONS_=[".geojson"],ol.format.GeoJSON.readGeometry_=function(e,o){if(goog.isNull(e))return null;var t=ol.format.GeoJSON.GEOMETRY_READERS_[e.type];return goog.asserts.assert(goog.isDef(t),"geometryReader should be defined"),ol.format.Feature.transformWithOptions(t(e),!1,o)},ol.format.GeoJSON.readGeometryCollectionGeometry_=function(e,o){goog.asserts.assert("GeometryCollection"==e.type,"object.type should be GeometryCollection");var t=goog.array.map(e.geometries,function(e){return ol.format.GeoJSON.readGeometry_(e,o)});return new ol.geom.GeometryCollection(t)},ol.format.GeoJSON.readPointGeometry_=function(e){return goog.asserts.assert("Point"==e.type,"object.type should be Point"),new ol.geom.Point(e.coordinates)},ol.format.GeoJSON.readLineStringGeometry_=function(e){return goog.asserts.assert("LineString"==e.type,"object.type should be LineString"),new ol.geom.LineString(e.coordinates)},ol.format.GeoJSON.readMultiLineStringGeometry_=function(e){return goog.asserts.assert("MultiLineString"==e.type,"object.type should be MultiLineString"),new ol.geom.MultiLineString(e.coordinates)},ol.format.GeoJSON.readMultiPointGeometry_=function(e){return goog.asserts.assert("MultiPoint"==e.type,"object.type should be MultiPoint"),new ol.geom.MultiPoint(e.coordinates)},ol.format.GeoJSON.readMultiPolygonGeometry_=function(e){return goog.asserts.assert("MultiPolygon"==e.type,"object.type should be MultiPolygon"),new ol.geom.MultiPolygon(e.coordinates)},ol.format.GeoJSON.readPolygonGeometry_=function(e){return goog.asserts.assert("Polygon"==e.type,"object.type should be Polygon"),new ol.geom.Polygon(e.coordinates)},ol.format.GeoJSON.writeGeometry_=function(e,o){var t=ol.format.GeoJSON.GEOMETRY_WRITERS_[e.getType()];return goog.asserts.assert(goog.isDef(t),"geometryWriter should be defined"),t(ol.format.Feature.transformWithOptions(e,!0,o),o)},ol.format.GeoJSON.writeEmptyGeometryCollectionGeometry_=function(e){return{type:"GeometryCollection",geometries:[]}},ol.format.GeoJSON.writeGeometryCollectionGeometry_=function(e,o){goog.asserts.assertInstanceof(e,ol.geom.GeometryCollection,"geometry should be an ol.geom.GeometryCollection");var t=goog.array.map(e.getGeometriesArray(),function(e){return ol.format.GeoJSON.writeGeometry_(e,o)});return{type:"GeometryCollection",geometries:t}},ol.format.GeoJSON.writeLineStringGeometry_=function(e,o){return goog.asserts.assertInstanceof(e,ol.geom.LineString,"geometry should be an ol.geom.LineString"),{type:"LineString",coordinates:e.getCoordinates()}},ol.format.GeoJSON.writeMultiLineStringGeometry_=function(e,o){return goog.asserts.assertInstanceof(e,ol.geom.MultiLineString,"geometry should be an ol.geom.MultiLineString"),{type:"MultiLineString",coordinates:e.getCoordinates()}},ol.format.GeoJSON.writeMultiPointGeometry_=function(e,o){return goog.asserts.assertInstanceof(e,ol.geom.MultiPoint,"geometry should be an ol.geom.MultiPoint"),{type:"MultiPoint",coordinates:e.getCoordinates()}},ol.format.GeoJSON.writeMultiPolygonGeometry_=function(e,o){goog.asserts.assertInstanceof(e,ol.geom.MultiPolygon,"geometry should be an ol.geom.MultiPolygon");var t;return goog.isDef(o)&&(t=o.rightHanded),{type:"MultiPolygon",coordinates:e.getCoordinates(t)}},ol.format.GeoJSON.writePointGeometry_=function(e,o){return goog.asserts.assertInstanceof(e,ol.geom.Point,"geometry should be an ol.geom.Point"),{type:"Point",coordinates:e.getCoordinates()}},ol.format.GeoJSON.writePolygonGeometry_=function(e,o){goog.asserts.assertInstanceof(e,ol.geom.Polygon,"geometry should be an ol.geom.Polygon");var t;return goog.isDef(o)&&(t=o.rightHanded),{type:"Polygon",coordinates:e.getCoordinates(t)}},ol.format.GeoJSON.GEOMETRY_READERS_={Point:ol.format.GeoJSON.readPointGeometry_,LineString:ol.format.GeoJSON.readLineStringGeometry_,Polygon:ol.format.GeoJSON.readPolygonGeometry_,MultiPoint:ol.format.GeoJSON.readMultiPointGeometry_,MultiLineString:ol.format.GeoJSON.readMultiLineStringGeometry_,MultiPolygon:ol.format.GeoJSON.readMultiPolygonGeometry_,GeometryCollection:ol.format.GeoJSON.readGeometryCollectionGeometry_},ol.format.GeoJSON.GEOMETRY_WRITERS_={Point:ol.format.GeoJSON.writePointGeometry_,LineString:ol.format.GeoJSON.writeLineStringGeometry_,Polygon:ol.format.GeoJSON.writePolygonGeometry_,MultiPoint:ol.format.GeoJSON.writeMultiPointGeometry_,MultiLineString:ol.format.GeoJSON.writeMultiLineStringGeometry_,MultiPolygon:ol.format.GeoJSON.writeMultiPolygonGeometry_,GeometryCollection:ol.format.GeoJSON.writeGeometryCollectionGeometry_,Circle:ol.format.GeoJSON.writeEmptyGeometryCollectionGeometry_},ol.format.GeoJSON.prototype.getExtensions=function(){return ol.format.GeoJSON.EXTENSIONS_},ol.format.GeoJSON.prototype.readFeature,ol.format.GeoJSON.prototype.readFeatures,ol.format.GeoJSON.prototype.readFeatureFromObject=function(e,o){var t=e;goog.asserts.assert("Feature"==t.type,"geoJSONFeature.type should be Feature");var r=ol.format.GeoJSON.readGeometry_(t.geometry,o),n=new ol.Feature;return goog.isDef(this.geometryName_)&&n.setGeometryName(this.geometryName_),n.setGeometry(r),goog.isDef(t.id)&&n.setId(t.id),goog.isDef(t.properties)&&n.setProperties(t.properties),n},ol.format.GeoJSON.prototype.readFeaturesFromObject=function(e,o){var t=e;if("Feature"==t.type)return[this.readFeatureFromObject(e,o)];if("FeatureCollection"==t.type){var r,n,i=e,a=[],s=i.features;for(r=0,n=s.length;n>r;++r)a.push(this.readFeatureFromObject(s[r],o));return a}return goog.asserts.fail("Unknown geoJSONObject.type: "+t.type),[]},ol.format.GeoJSON.prototype.readGeometry,ol.format.GeoJSON.prototype.readGeometryFromObject=function(e,o){return ol.format.GeoJSON.readGeometry_(e,o)},ol.format.GeoJSON.prototype.readProjection,ol.format.GeoJSON.prototype.readProjectionFromObject=function(e){var o=e,t=o.crs;return goog.isDefAndNotNull(t)?"name"==t.type?ol.proj.get(t.properties.name):"EPSG"==t.type?ol.proj.get("EPSG:"+t.properties.code):(goog.asserts.fail("Unknown crs.type: "+t.type),null):this.defaultDataProjection},ol.format.GeoJSON.prototype.writeFeature,ol.format.GeoJSON.prototype.writeFeatureObject=function(e,o){o=this.adaptOptions(o);var t={type:"Feature"},r=e.getId();goog.isDefAndNotNull(r)&&(t.id=r);var n=e.getGeometry();t.geometry=goog.isDefAndNotNull(n)?ol.format.GeoJSON.writeGeometry_(n,o):null;var i=e.getProperties();return goog.object.remove(i,e.getGeometryName()),t.properties=goog.object.isEmpty(i)?null:i,t},ol.format.GeoJSON.prototype.writeFeatures,ol.format.GeoJSON.prototype.writeFeaturesObject=function(e,o){o=this.adaptOptions(o);var t,r,n=[];for(t=0,r=e.length;r>t;++t)n.push(this.writeFeatureObject(e[t],o));return{type:"FeatureCollection",features:n}},ol.format.GeoJSON.prototype.writeGeometry,ol.format.GeoJSON.prototype.writeGeometryObject=function(e,o){return ol.format.GeoJSON.writeGeometry_(e,this.adaptOptions(o))},goog.provide("ol.format.XMLFeature"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.dom.NodeType"),goog.require("goog.dom.xml"),goog.require("ol.format.Feature"),goog.require("ol.format.FormatType"),goog.require("ol.proj"),goog.require("ol.xml"),ol.format.XMLFeature=function(){goog.base(this)},goog.inherits(ol.format.XMLFeature,ol.format.Feature),ol.format.XMLFeature.prototype.getType=function(){return ol.format.FormatType.XML},ol.format.XMLFeature.prototype.readFeature=function(e,o){if(ol.xml.isDocument(e))return this.readFeatureFromDocument(e,o);if(ol.xml.isNode(e))return this.readFeatureFromNode(e,o);if(goog.isString(e)){var t=ol.xml.parse(e);return this.readFeatureFromDocument(t,o)}return goog.asserts.fail("Unknown source type"),null},ol.format.XMLFeature.prototype.readFeatureFromDocument=function(e,o){var t=this.readFeaturesFromDocument(e,o);return t.length>0?t[0]:null},ol.format.XMLFeature.prototype.readFeatureFromNode=goog.abstractMethod,ol.format.XMLFeature.prototype.readFeatures=function(e,o){if(ol.xml.isDocument(e))return this.readFeaturesFromDocument(e,o);if(ol.xml.isNode(e))return this.readFeaturesFromNode(e,o);if(goog.isString(e)){var t=ol.xml.parse(e);return this.readFeaturesFromDocument(t,o)}return goog.asserts.fail("Unknown source type"),[]},ol.format.XMLFeature.prototype.readFeaturesFromDocument=function(e,o){var t,r=[];for(t=e.firstChild;!goog.isNull(t);t=t.nextSibling)t.nodeType==goog.dom.NodeType.ELEMENT&&goog.array.extend(r,this.readFeaturesFromNode(t,o));return r},ol.format.XMLFeature.prototype.readFeaturesFromNode=goog.abstractMethod,ol.format.XMLFeature.prototype.readGeometry=function(e,o){if(ol.xml.isDocument(e))return this.readGeometryFromDocument(e,o);if(ol.xml.isNode(e))return this.readGeometryFromNode(e,o);if(goog.isString(e)){var t=ol.xml.parse(e);return this.readGeometryFromDocument(t,o)}return goog.asserts.fail("Unknown source type"),null},ol.format.XMLFeature.prototype.readGeometryFromDocument=goog.abstractMethod,ol.format.XMLFeature.prototype.readGeometryFromNode=goog.abstractMethod,ol.format.XMLFeature.prototype.readProjection=function(e){if(ol.xml.isDocument(e))return this.readProjectionFromDocument(e);if(ol.xml.isNode(e))return this.readProjectionFromNode(e);if(goog.isString(e)){var o=ol.xml.parse(e);return this.readProjectionFromDocument(o)}return goog.asserts.fail("Unknown source type"),null},ol.format.XMLFeature.prototype.readProjectionFromDocument=function(e){return this.defaultDataProjection},ol.format.XMLFeature.prototype.readProjectionFromNode=function(e){return this.defaultDataProjection},ol.format.XMLFeature.prototype.writeFeature=function(e,o){var t=this.writeFeatureNode(e,o);return goog.asserts.assert(t.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.dom.xml.serialize(t)},ol.format.XMLFeature.prototype.writeFeatureNode=goog.abstractMethod,ol.format.XMLFeature.prototype.writeFeatures=function(e,o){var t=this.writeFeaturesNode(e,o);return goog.asserts.assert(t.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.dom.xml.serialize(t)},ol.format.XMLFeature.prototype.writeFeaturesNode=goog.abstractMethod,ol.format.XMLFeature.prototype.writeGeometry=function(e,o){var t=this.writeGeometryNode(e,o);return goog.asserts.assert(t.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.dom.xml.serialize(t)},ol.format.XMLFeature.prototype.writeGeometryNode=goog.abstractMethod,goog.provide("ol.format.GMLBase"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.dom.NodeType"),goog.require("goog.object"),goog.require("goog.string"),goog.require("ol.Feature"),goog.require("ol.format.Feature"),goog.require("ol.format.XMLFeature"),goog.require("ol.geom.Geometry"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.LineString"),goog.require("ol.geom.LinearRing"),goog.require("ol.geom.MultiLineString"),goog.require("ol.geom.MultiPoint"),goog.require("ol.geom.MultiPolygon"),goog.require("ol.geom.Point"),goog.require("ol.geom.Polygon"),goog.require("ol.proj"),goog.require("ol.xml"),ol.format.GMLBase=function(e){var o=goog.isDef(e)?e:{};this.featureType=o.featureType,this.featureNS=o.featureNS,this.srsName=o.srsName,this.schemaLocation="",this.FEATURE_COLLECTION_PARSERS={},this.FEATURE_COLLECTION_PARSERS[ol.format.GMLBase.GMLNS]={featureMember:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readFeaturesInternal),featureMembers:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readFeaturesInternal)},goog.base(this)},goog.inherits(ol.format.GMLBase,ol.format.XMLFeature),ol.format.GMLBase.GMLNS="http://www.opengis.net/gml",ol.format.GMLBase.prototype.readFeaturesInternal=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT");var t,r=ol.xml.getLocalName(e);if("FeatureCollection"==r)t="http://www.opengis.net/wfs"===e.namespaceURI?ol.xml.pushParseAndPop([],this.FEATURE_COLLECTION_PARSERS,e,o,this):ol.xml.pushParseAndPop(null,this.FEATURE_COLLECTION_PARSERS,e,o,this);else if("featureMembers"==r||"featureMember"==r){var n=o[0];goog.asserts.assert(goog.isObject(n),"context should be an Object");var i,a,s=n.featureType,g=n.featureNS,l="p",p="p0";if(!goog.isDef(s)&&goog.isDefAndNotNull(e.childNodes)){for(s=[],g={},i=0,a=e.childNodes.length;a>i;++i){var u=e.childNodes[i];if(1===u.nodeType){var c=u.nodeName.split(":").pop();if(-1===goog.array.indexOf(s,c)){var d;goog.object.contains(g,u.namespaceURI)?d=goog.object.findKey(g,function(e){return e===u.namespaceURI}):(d=l+goog.object.getCount(g),g[d]=u.namespaceURI),
s.push(d+":"+c)}}}n.featureType=s,n.featureNS=g}if(goog.isString(g)){var h=g;g={},g[p]=h}var m={},y=goog.isArray(s)?s:[s];for(var f in g){var v={};for(i=0,a=y.length;a>i;++i){var _=-1===y[i].indexOf(":")?p:y[i].split(":")[0];_===f&&(v[y[i].split(":").pop()]="featureMembers"==r?ol.xml.makeArrayPusher(this.readFeatureElement,this):ol.xml.makeReplacer(this.readFeatureElement,this))}m[g[f]]=v}t=ol.xml.pushParseAndPop([],m,e,o)}return goog.isDef(t)||(t=[]),t},ol.format.GMLBase.prototype.readGeometryElement=function(e,o){var t=o[0];goog.asserts.assert(goog.isObject(t),"context should be an Object"),t.srsName=e.firstElementChild.getAttribute("srsName");var r=ol.xml.pushParseAndPop(null,this.GEOMETRY_PARSERS_,e,o,this);return goog.isDefAndNotNull(r)?ol.format.Feature.transformWithOptions(r,!1,t):void 0},ol.format.GMLBase.prototype.readFeatureElement=function(e,o){var t,r,n=e.getAttribute("fid")||ol.xml.getAttributeNS(e,ol.format.GMLBase.GMLNS,"id"),i={};for(t=e.firstElementChild;!goog.isNull(t);t=t.nextElementSibling){var a=ol.xml.getLocalName(t);if(0===t.childNodes.length||1===t.childNodes.length&&(3===t.firstChild.nodeType||4===t.firstChild.nodeType)){var s=ol.xml.getAllTextContent(t,!1);goog.string.isEmpty(s)&&(s=void 0),i[a]=s}else"boundedBy"!==a&&(r=a),i[a]=this.readGeometryElement(t,o)}var g=new ol.Feature(i);return goog.isDef(r)&&g.setGeometryName(r),n&&g.setId(n),g},ol.format.GMLBase.prototype.readPoint=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("Point"==e.localName,"localName should be Point");var t=this.readFlatCoordinatesFromNode_(e,o);if(goog.isDefAndNotNull(t)){var r=new ol.geom.Point(null);return goog.asserts.assert(3==t.length,"flatCoordinates should have a length of 3"),r.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,t),r}},ol.format.GMLBase.prototype.readMultiPoint=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("MultiPoint"==e.localName,"localName should be MultiPoint");var t=ol.xml.pushParseAndPop([],this.MULTIPOINT_PARSERS_,e,o,this);return goog.isDef(t)?new ol.geom.MultiPoint(t):void 0},ol.format.GMLBase.prototype.readMultiLineString=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("MultiLineString"==e.localName,"localName should be MultiLineString");var t=ol.xml.pushParseAndPop([],this.MULTILINESTRING_PARSERS_,e,o,this);if(goog.isDef(t)){var r=new ol.geom.MultiLineString(null);return r.setLineStrings(t),r}return void 0},ol.format.GMLBase.prototype.readMultiPolygon=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("MultiPolygon"==e.localName,"localName should be MultiPolygon");var t=ol.xml.pushParseAndPop([],this.MULTIPOLYGON_PARSERS_,e,o,this);if(goog.isDef(t)){var r=new ol.geom.MultiPolygon(null);return r.setPolygons(t),r}return void 0},ol.format.GMLBase.prototype.pointMemberParser_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("pointMember"==e.localName||"pointMembers"==e.localName,"localName should be pointMember or pointMembers"),ol.xml.parseNode(this.POINTMEMBER_PARSERS_,e,o,this)},ol.format.GMLBase.prototype.lineStringMemberParser_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("lineStringMember"==e.localName||"lineStringMembers"==e.localName,"localName should be LineStringMember or LineStringMembers"),ol.xml.parseNode(this.LINESTRINGMEMBER_PARSERS_,e,o,this)},ol.format.GMLBase.prototype.polygonMemberParser_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("polygonMember"==e.localName||"polygonMembers"==e.localName,"localName should be polygonMember or polygonMembers"),ol.xml.parseNode(this.POLYGONMEMBER_PARSERS_,e,o,this)},ol.format.GMLBase.prototype.readLineString=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("LineString"==e.localName,"localName should be LineString");var t=this.readFlatCoordinatesFromNode_(e,o);if(goog.isDefAndNotNull(t)){var r=new ol.geom.LineString(null);return r.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,t),r}return void 0},ol.format.GMLBase.prototype.readFlatLinearRing_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("LinearRing"==e.localName,"localName should be LinearRing");var t=ol.xml.pushParseAndPop(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS_,e,o,this);return goog.isDefAndNotNull(t)?t:void 0},ol.format.GMLBase.prototype.readLinearRing=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("LinearRing"==e.localName,"localName should be LinearRing");var t=this.readFlatCoordinatesFromNode_(e,o);if(goog.isDef(t)){var r=new ol.geom.LinearRing(null);return r.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,t),r}return void 0},ol.format.GMLBase.prototype.readPolygon=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("Polygon"==e.localName,"localName should be Polygon");var t=ol.xml.pushParseAndPop([null],this.FLAT_LINEAR_RINGS_PARSERS_,e,o,this);if(goog.isDef(t)&&!goog.isNull(t[0])){var r,n,i=new ol.geom.Polygon(null),a=t[0],s=[a.length];for(r=1,n=t.length;n>r;++r)goog.array.extend(a,t[r]),s.push(a.length);return i.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,a,s),i}return void 0},ol.format.GMLBase.prototype.readFlatCoordinatesFromNode_=function(e,o){return goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),ol.xml.pushParseAndPop(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS_,e,o,this)},ol.format.GMLBase.prototype.MULTIPOINT_PARSERS_=Object({"http://www.opengis.net/gml":{pointMember:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.pointMemberParser_),pointMembers:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.pointMemberParser_)}}),ol.format.GMLBase.prototype.MULTILINESTRING_PARSERS_=Object({"http://www.opengis.net/gml":{lineStringMember:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.lineStringMemberParser_),lineStringMembers:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.lineStringMemberParser_)}}),ol.format.GMLBase.prototype.MULTIPOLYGON_PARSERS_=Object({"http://www.opengis.net/gml":{polygonMember:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.polygonMemberParser_),polygonMembers:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.polygonMemberParser_)}}),ol.format.GMLBase.prototype.POINTMEMBER_PARSERS_=Object({"http://www.opengis.net/gml":{Point:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.readFlatCoordinatesFromNode_)}}),ol.format.GMLBase.prototype.LINESTRINGMEMBER_PARSERS_=Object({"http://www.opengis.net/gml":{LineString:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.readLineString)}}),ol.format.GMLBase.prototype.POLYGONMEMBER_PARSERS_=Object({"http://www.opengis.net/gml":{Polygon:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.readPolygon)}}),ol.format.GMLBase.prototype.RING_PARSERS=Object({"http://www.opengis.net/gml":{LinearRing:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readFlatLinearRing_)}}),ol.format.GMLBase.prototype.readGeometryFromNode=function(e,o){var t=this.readGeometryElement(e,[this.getReadOptions(e,goog.isDef(o)?o:{})]);return goog.isDef(t)?t:null},ol.format.GMLBase.prototype.readFeatures,ol.format.GMLBase.prototype.readFeaturesFromNode=function(e,o){var t={featureType:this.featureType,featureNS:this.featureNS};return goog.isDef(o)&&goog.object.extend(t,this.getReadOptions(e,o)),this.readFeaturesInternal(e,[t])},ol.format.GMLBase.prototype.readProjectionFromNode=function(e){return ol.proj.get(goog.isDef(this.srsName_)?this.srsName_:e.firstElementChild.getAttribute("srsName"))},goog.provide("ol.format.XSD"),goog.require("goog.asserts"),goog.require("goog.string"),goog.require("ol.xml"),ol.format.XSD.NAMESPACE_URI="http://www.w3.org/2001/XMLSchema",ol.format.XSD.readBoolean=function(e){var o=ol.xml.getAllTextContent(e,!1);return ol.format.XSD.readBooleanString(o)},ol.format.XSD.readBooleanString=function(e){var o=/^\s*(true|1)|(false|0)\s*$/.exec(e);return o?goog.isDef(o[1])||!1:void 0},ol.format.XSD.readDateTime=function(e){var o=ol.xml.getAllTextContent(e,!1),t=/^\s*(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(Z|(?:([+\-])(\d{2})(?::(\d{2}))?))\s*$/,r=t.exec(o);if(r){var n=parseInt(r[1],10),i=parseInt(r[2],10)-1,a=parseInt(r[3],10),s=parseInt(r[4],10),g=parseInt(r[5],10),l=parseInt(r[6],10),p=Date.UTC(n,i,a,s,g,l)/1e3;if("Z"!=r[7]){var u="-"==r[8]?-1:1;p+=60*u*parseInt(r[9],10),goog.isDef(r[10])&&(p+=60*u*60*parseInt(r[10],10))}return p}return void 0},ol.format.XSD.readDecimal=function(e){var o=ol.xml.getAllTextContent(e,!1);return ol.format.XSD.readDecimalString(o)},ol.format.XSD.readDecimalString=function(e){var o=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(e);return o?parseFloat(o[1]):void 0},ol.format.XSD.readNonNegativeInteger=function(e){var o=ol.xml.getAllTextContent(e,!1);return ol.format.XSD.readNonNegativeIntegerString(o)},ol.format.XSD.readNonNegativeIntegerString=function(e){var o=/^\s*(\d+)\s*$/.exec(e);return o?parseInt(o[1],10):void 0},ol.format.XSD.readString=function(e){var o=ol.xml.getAllTextContent(e,!1);return goog.string.trim(o)},ol.format.XSD.writeBooleanTextNode=function(e,o){ol.format.XSD.writeStringTextNode(e,o?"1":"0")},ol.format.XSD.writeDateTimeTextNode=function(e,o){var t=new Date(1e3*o),r=t.getUTCFullYear()+"-"+goog.string.padNumber(t.getUTCMonth()+1,2)+"-"+goog.string.padNumber(t.getUTCDate(),2)+"T"+goog.string.padNumber(t.getUTCHours(),2)+":"+goog.string.padNumber(t.getUTCMinutes(),2)+":"+goog.string.padNumber(t.getUTCSeconds(),2)+"Z";e.appendChild(ol.xml.DOCUMENT.createTextNode(r))},ol.format.XSD.writeDecimalTextNode=function(e,o){var t=o.toPrecision();e.appendChild(ol.xml.DOCUMENT.createTextNode(t))},ol.format.XSD.writeNonNegativeIntegerTextNode=function(e,o){goog.asserts.assert(o>=0,"value should be more than 0"),goog.asserts.assert(o==(0|o),"value should be an integer value");var t=o.toString();e.appendChild(ol.xml.DOCUMENT.createTextNode(t))},ol.format.XSD.writeStringTextNode=function(e,o){e.appendChild(ol.xml.DOCUMENT.createTextNode(o))},goog.provide("ol.format.GML"),goog.provide("ol.format.GML3"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.dom.NodeType"),goog.require("goog.object"),goog.require("ol.Feature"),goog.require("ol.extent"),goog.require("ol.format.Feature"),goog.require("ol.format.GMLBase"),goog.require("ol.format.XSD"),goog.require("ol.geom.Geometry"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.LineString"),goog.require("ol.geom.LinearRing"),goog.require("ol.geom.MultiLineString"),goog.require("ol.geom.MultiPolygon"),goog.require("ol.geom.Point"),goog.require("ol.geom.Polygon"),goog.require("ol.proj"),goog.require("ol.xml"),ol.format.GML3=function(e){var o=goog.isDef(e)?e:{};goog.base(this,o),this.surface_=goog.isDef(o.surface)?o.surface:!1,this.curve_=goog.isDef(o.curve)?o.curve:!1,this.multiCurve_=goog.isDef(o.multiCurve)?o.multiCurve:!0,this.multiSurface_=goog.isDef(o.multiSurface)?o.multiSurface:!0,this.schemaLocation=goog.isDef(o.schemaLocation)?o.schemaLocation:ol.format.GML3.schemaLocation_},goog.inherits(ol.format.GML3,ol.format.GMLBase),ol.format.GML3.schemaLocation_=ol.format.GMLBase.GMLNS+" http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd",ol.format.GML3.prototype.readMultiCurve_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("MultiCurve"==e.localName,"localName should be MultiCurve");var t=ol.xml.pushParseAndPop([],this.MULTICURVE_PARSERS_,e,o,this);if(goog.isDef(t)){var r=new ol.geom.MultiLineString(null);return r.setLineStrings(t),r}return void 0},ol.format.GML3.prototype.readMultiSurface_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("MultiSurface"==e.localName,"localName should be MultiSurface");var t=ol.xml.pushParseAndPop([],this.MULTISURFACE_PARSERS_,e,o,this);if(goog.isDef(t)){var r=new ol.geom.MultiPolygon(null);return r.setPolygons(t),r}return void 0},ol.format.GML3.prototype.curveMemberParser_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("curveMember"==e.localName||"curveMembers"==e.localName,"localName should be curveMember or curveMembers"),ol.xml.parseNode(this.CURVEMEMBER_PARSERS_,e,o,this)},ol.format.GML3.prototype.surfaceMemberParser_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("surfaceMember"==e.localName||"surfaceMembers"==e.localName,"localName should be surfaceMember or surfaceMembers"),ol.xml.parseNode(this.SURFACEMEMBER_PARSERS_,e,o,this)},ol.format.GML3.prototype.readPatch_=function(e,o){return goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("patches"==e.localName,"localName should be patches"),ol.xml.pushParseAndPop([null],this.PATCHES_PARSERS_,e,o,this)},ol.format.GML3.prototype.readSegment_=function(e,o){return goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("segments"==e.localName,"localName should be segments"),ol.xml.pushParseAndPop([null],this.SEGMENTS_PARSERS_,e,o,this)},ol.format.GML3.prototype.readPolygonPatch_=function(e,o){return goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"npde.nodeType should be ELEMENT"),goog.asserts.assert("PolygonPatch"==e.localName,"localName should be PolygonPatch"),ol.xml.pushParseAndPop([null],this.FLAT_LINEAR_RINGS_PARSERS_,e,o,this)},ol.format.GML3.prototype.readLineStringSegment_=function(e,o){return goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("LineStringSegment"==e.localName,"localName should be LineStringSegment"),ol.xml.pushParseAndPop([null],this.GEOMETRY_FLAT_COORDINATES_PARSERS_,e,o,this)},ol.format.GML3.prototype.interiorParser_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("interior"==e.localName,"localName should be interior");var t=ol.xml.pushParseAndPop(void 0,this.RING_PARSERS,e,o,this);if(goog.isDef(t)){var r=o[o.length-1];goog.asserts.assert(goog.isArray(r),"flatLinearRings should be an array"),goog.asserts.assert(r.length>0,"flatLinearRings should have an array length of 1 or more"),r.push(t)}},ol.format.GML3.prototype.exteriorParser_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("exterior"==e.localName,"localName should be exterior");var t=ol.xml.pushParseAndPop(void 0,this.RING_PARSERS,e,o,this);if(goog.isDef(t)){var r=o[o.length-1];goog.asserts.assert(goog.isArray(r),"flatLinearRings should be an array"),goog.asserts.assert(r.length>0,"flatLinearRings should have an array length of 1 or more"),r[0]=t}},ol.format.GML3.prototype.readSurface_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("Surface"==e.localName,"localName should be Surface");var t=ol.xml.pushParseAndPop([null],this.SURFACE_PARSERS_,e,o,this);if(goog.isDef(t)&&!goog.isNull(t[0])){var r,n,i=new ol.geom.Polygon(null),a=t[0],s=[a.length];for(r=1,n=t.length;n>r;++r)goog.array.extend(a,t[r]),s.push(a.length);return i.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,a,s),i}return void 0},ol.format.GML3.prototype.readCurve_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("Curve"==e.localName,"localName should be Curve");var t=ol.xml.pushParseAndPop([null],this.CURVE_PARSERS_,e,o,this);if(goog.isDef(t)){var r=new ol.geom.LineString(null);return r.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,t),r}return void 0},ol.format.GML3.prototype.readEnvelope_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("Envelope"==e.localName,"localName should be Envelope");var t=ol.xml.pushParseAndPop([null],this.ENVELOPE_PARSERS_,e,o,this);return ol.extent.createOrUpdate(t[1][0],t[1][1],t[2][0],t[2][1])},ol.format.GML3.prototype.readFlatPos_=function(e,o){for(var t,r=ol.xml.getAllTextContent(e,!1),n=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/,i=[];t=n.exec(r);)i.push(parseFloat(t[1])),r=r.substr(t[0].length);if(""!==r)return void 0;var a=o[0];goog.asserts.assert(goog.isObject(a),"context should be an Object");var s=a.srsName,g="enu";if(!goog.isNull(s)){var l=ol.proj.get(s);g=l.getAxisOrientation()}if("neu"===g){var p,u;for(p=0,u=i.length;u>p;p+=3){var c=i[p],d=i[p+1];i[p]=d,i[p+1]=c}}var h=i.length;return 2==h&&i.push(0),0===h?void 0:i},ol.format.GML3.prototype.readFlatPosList_=function(e,o){var t=ol.xml.getAllTextContent(e,!1).replace(/^\s*|\s*$/g,""),r=o[0];goog.asserts.assert(goog.isObject(r),"context should be an Object");var n=r.srsName,i=e.parentNode.getAttribute("srsDimension"),a="enu";if(!goog.isNull(n)){var s=ol.proj.get(n);a=s.getAxisOrientation()}var g=t.split(/\s+/),l=2;goog.isNull(e.getAttribute("srsDimension"))?goog.isNull(e.getAttribute("dimension"))?goog.isNull(i)||(l=ol.format.XSD.readNonNegativeIntegerString(i)):l=ol.format.XSD.readNonNegativeIntegerString(e.getAttribute("dimension")):l=ol.format.XSD.readNonNegativeIntegerString(e.getAttribute("srsDimension"));for(var p,u,c,d=[],h=0,m=g.length;m>h;h+=l)p=parseFloat(g[h]),u=parseFloat(g[h+1]),c=3===l?parseFloat(g[h+2]):0,"en"===a.substr(0,2)?d.push(p,u,c):d.push(u,p,c);return d},ol.format.GML3.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS_=Object({"http://www.opengis.net/gml":{pos:ol.xml.makeReplacer(ol.format.GML3.prototype.readFlatPos_),posList:ol.xml.makeReplacer(ol.format.GML3.prototype.readFlatPosList_)}}),ol.format.GML3.prototype.FLAT_LINEAR_RINGS_PARSERS_=Object({"http://www.opengis.net/gml":{interior:ol.format.GML3.prototype.interiorParser_,exterior:ol.format.GML3.prototype.exteriorParser_}}),ol.format.GML3.prototype.GEOMETRY_PARSERS_=Object({"http://www.opengis.net/gml":{Point:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readPoint),MultiPoint:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readMultiPoint),LineString:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readLineString),MultiLineString:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readMultiLineString),LinearRing:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readLinearRing),Polygon:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readPolygon),MultiPolygon:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readMultiPolygon),Surface:ol.xml.makeReplacer(ol.format.GML3.prototype.readSurface_),MultiSurface:ol.xml.makeReplacer(ol.format.GML3.prototype.readMultiSurface_),Curve:ol.xml.makeReplacer(ol.format.GML3.prototype.readCurve_),MultiCurve:ol.xml.makeReplacer(ol.format.GML3.prototype.readMultiCurve_),Envelope:ol.xml.makeReplacer(ol.format.GML3.prototype.readEnvelope_)}}),ol.format.GML3.prototype.MULTICURVE_PARSERS_=Object({"http://www.opengis.net/gml":{curveMember:ol.xml.makeArrayPusher(ol.format.GML3.prototype.curveMemberParser_),curveMembers:ol.xml.makeArrayPusher(ol.format.GML3.prototype.curveMemberParser_)}}),ol.format.GML3.prototype.MULTISURFACE_PARSERS_=Object({"http://www.opengis.net/gml":{surfaceMember:ol.xml.makeArrayPusher(ol.format.GML3.prototype.surfaceMemberParser_),surfaceMembers:ol.xml.makeArrayPusher(ol.format.GML3.prototype.surfaceMemberParser_)}}),ol.format.GML3.prototype.CURVEMEMBER_PARSERS_=Object({"http://www.opengis.net/gml":{LineString:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.readLineString),Curve:ol.xml.makeArrayPusher(ol.format.GML3.prototype.readCurve_)}}),ol.format.GML3.prototype.SURFACEMEMBER_PARSERS_=Object({"http://www.opengis.net/gml":{Polygon:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.readPolygon),Surface:ol.xml.makeArrayPusher(ol.format.GML3.prototype.readSurface_)}}),ol.format.GML3.prototype.SURFACE_PARSERS_=Object({"http://www.opengis.net/gml":{patches:ol.xml.makeReplacer(ol.format.GML3.prototype.readPatch_)}}),ol.format.GML3.prototype.CURVE_PARSERS_=Object({"http://www.opengis.net/gml":{segments:ol.xml.makeReplacer(ol.format.GML3.prototype.readSegment_)}}),ol.format.GML3.prototype.ENVELOPE_PARSERS_=Object({"http://www.opengis.net/gml":{lowerCorner:ol.xml.makeArrayPusher(ol.format.GML3.prototype.readFlatPosList_),upperCorner:ol.xml.makeArrayPusher(ol.format.GML3.prototype.readFlatPosList_)}}),ol.format.GML3.prototype.PATCHES_PARSERS_=Object({"http://www.opengis.net/gml":{PolygonPatch:ol.xml.makeReplacer(ol.format.GML3.prototype.readPolygonPatch_)}}),ol.format.GML3.prototype.SEGMENTS_PARSERS_=Object({"http://www.opengis.net/gml":{LineStringSegment:ol.xml.makeReplacer(ol.format.GML3.prototype.readLineStringSegment_)}}),ol.format.GML3.prototype.writePos_=function(e,o,t){var r=t[t.length-1];goog.asserts.assert(goog.isObject(r),"context should be an Object");var n=r.srsName,i="enu";goog.isDefAndNotNull(n)&&(i=ol.proj.get(n).getAxisOrientation());var a,s=o.getCoordinates();a="en"===i.substr(0,2)?s[0]+" "+s[1]:s[1]+" "+s[0],ol.format.XSD.writeStringTextNode(e,a)},ol.format.GML3.prototype.getCoords_=function(e,o){var t="enu";return goog.isDefAndNotNull(o)&&(t=ol.proj.get(o).getAxisOrientation()),"en"===t.substr(0,2)?e[0]+" "+e[1]:e[1]+" "+e[0]},ol.format.GML3.prototype.writePosList_=function(e,o,t){var r=t[t.length-1];goog.asserts.assert(goog.isObject(r),"context should be an Object");for(var n,i=r.srsName,a=o.getCoordinates(),s=a.length,g=new Array(s),l=0;s>l;++l)n=a[l],g[l]=this.getCoords_(n,i);ol.format.XSD.writeStringTextNode(e,g.join(" "))},ol.format.GML3.prototype.writePoint_=function(e,o,t){var r=t[t.length-1];goog.asserts.assert(goog.isObject(r),"context should be an Object");var n=r.srsName;goog.isDefAndNotNull(n)&&e.setAttribute("srsName",n);var i=ol.xml.createElementNS(e.namespaceURI,"pos");e.appendChild(i),this.writePos_(i,o,t)},ol.format.GML3.ENVELOPE_SERIALIZERS_={"http://www.opengis.net/gml":{lowerCorner:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),upperCorner:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode)}},ol.format.GML3.prototype.writeEnvelope=function(e,o,t){goog.asserts.assert(4==o.length,"extent should have 4 items");var r=t[t.length-1];goog.asserts.assert(goog.isObject(r),"context should be an Object");var n=r.srsName;goog.isDef(n)&&e.setAttribute("srsName",n);var i=["lowerCorner","upperCorner"],a=[o[0]+" "+o[1],o[2]+" "+o[3]];ol.xml.pushSerializeAndPop({node:e},ol.format.GML3.ENVELOPE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,a,t,i,this)},ol.format.GML3.prototype.writeLinearRing_=function(e,o,t){var r=t[t.length-1];goog.asserts.assert(goog.isObject(r),"context should be an Object");var n=r.srsName;goog.isDefAndNotNull(n)&&e.setAttribute("srsName",n);var i=ol.xml.createElementNS(e.namespaceURI,"posList");e.appendChild(i),this.writePosList_(i,o,t)},ol.format.GML3.prototype.RING_NODE_FACTORY_=function(e,o,t){var r=o[o.length-1],n=r.node;goog.asserts.assert(goog.isObject(r),"context should be an Object");var i=r.exteriorWritten;return goog.isDef(i)||(r.exteriorWritten=!0),ol.xml.createElementNS(n.namespaceURI,goog.isDef(i)?"interior":"exterior")},ol.format.GML3.prototype.writeSurfaceOrPolygon_=function(e,o,t){var r=t[t.length-1];goog.asserts.assert(goog.isObject(r),"context should be an Object");var n=r.srsName;if("PolygonPatch"!==e.nodeName&&goog.isDefAndNotNull(n)&&e.setAttribute("srsName",n),"Polygon"===e.nodeName||"PolygonPatch"===e.nodeName){var i=o.getLinearRings();ol.xml.pushSerializeAndPop({node:e,srsName:n},ol.format.GML3.RING_SERIALIZERS_,this.RING_NODE_FACTORY_,i,t,void 0,this)}else if("Surface"===e.nodeName){var a=ol.xml.createElementNS(e.namespaceURI,"patches");e.appendChild(a),this.writeSurfacePatches_(a,o,t)}},ol.format.GML3.prototype.writeCurveOrLineString_=function(e,o,t){var r=t[t.length-1];goog.asserts.assert(goog.isObject(r),"context should be an Object");var n=r.srsName;if("LineStringSegment"!==e.nodeName&&goog.isDefAndNotNull(n)&&e.setAttribute("srsName",n),"LineString"===e.nodeName||"LineStringSegment"===e.nodeName){var i=ol.xml.createElementNS(e.namespaceURI,"posList");e.appendChild(i),this.writePosList_(i,o,t)}else if("Curve"===e.nodeName){var a=ol.xml.createElementNS(e.namespaceURI,"segments");e.appendChild(a),this.writeCurveSegments_(a,o,t)}},ol.format.GML3.prototype.writeMultiSurfaceOrPolygon_=function(e,o,t){var r=t[t.length-1];goog.asserts.assert(goog.isObject(r),"context should be an Object");var n=r.srsName,i=r.surface;goog.isDefAndNotNull(n)&&e.setAttribute("srsName",n);var a=o.getPolygons();ol.xml.pushSerializeAndPop({node:e,srsName:n,surface:i},ol.format.GML3.SURFACEORPOLYGONMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,a,t,void 0,this)},ol.format.GML3.prototype.writeMultiPoint_=function(e,o,t){var r=t[t.length-1];goog.asserts.assert(goog.isObject(r),"context should be an Object");var n=r.srsName;goog.isDefAndNotNull(n)&&e.setAttribute("srsName",n);var i=o.getPoints();ol.xml.pushSerializeAndPop({node:e,srsName:n},ol.format.GML3.POINTMEMBER_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("pointMember"),i,t,void 0,this)},ol.format.GML3.prototype.writeMultiCurveOrLineString_=function(e,o,t){var r=t[t.length-1];goog.asserts.assert(goog.isObject(r),"context should be an Object");var n=r.srsName,i=r.curve;goog.isDefAndNotNull(n)&&e.setAttribute("srsName",n);var a=o.getLineStrings();ol.xml.pushSerializeAndPop({node:e,srsName:n,curve:i},ol.format.GML3.LINESTRINGORCURVEMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,a,t,void 0,this)},ol.format.GML3.prototype.writeRing_=function(e,o,t){var r=ol.xml.createElementNS(e.namespaceURI,"LinearRing");e.appendChild(r),this.writeLinearRing_(r,o,t)},ol.format.GML3.prototype.writeSurfaceOrPolygonMember_=function(e,o,t){var r=t[t.length-1];goog.asserts.assert(goog.isObject(r),"context should be an Object");var n=this.GEOMETRY_NODE_FACTORY_(o,t);goog.isDef(n)&&(e.appendChild(n),this.writeSurfaceOrPolygon_(n,o,t))},ol.format.GML3.prototype.writePointMember_=function(e,o,t){var r=ol.xml.createElementNS(e.namespaceURI,"Point");e.appendChild(r),this.writePoint_(r,o,t)},ol.format.GML3.prototype.writeLineStringOrCurveMember_=function(e,o,t){var r=t[t.length-1];goog.asserts.assert(goog.isObject(r),"context should be an Object");var n=this.GEOMETRY_NODE_FACTORY_(o,t);goog.isDef(n)&&(e.appendChild(n),this.writeCurveOrLineString_(n,o,t))},ol.format.GML3.prototype.writeSurfacePatches_=function(e,o,t){var r=ol.xml.createElementNS(e.namespaceURI,"PolygonPatch");e.appendChild(r),this.writeSurfaceOrPolygon_(r,o,t)},ol.format.GML3.prototype.writeCurveSegments_=function(e,o,t){var r=ol.xml.createElementNS(e.namespaceURI,"LineStringSegment");e.appendChild(r),this.writeCurveOrLineString_(r,o,t)},ol.format.GML3.prototype.writeGeometryElement=function(e,o,t){var r=t[t.length-1];goog.asserts.assert(goog.isObject(r),"context should be an Object");var n=goog.object.clone(r);n.node=e;var i;goog.isArray(o)?i=goog.isDef(r.dataProjection)?ol.proj.transformExtent(o,r.featureProjection,r.dataProjection):o:(goog.asserts.assertInstanceof(o,ol.geom.Geometry,"geometry should be an ol.geom.Geometry"),i=ol.format.Feature.transformWithOptions(o,!0,r)),ol.xml.pushSerializeAndPop(n,ol.format.GML3.GEOMETRY_SERIALIZERS_,this.GEOMETRY_NODE_FACTORY_,[i],t,void 0,this)},ol.format.GML3.prototype.writeFeatureElement=function(e,o,t){var r=o.getId();goog.isDef(r)&&e.setAttribute("fid",r);var n=t[t.length-1];goog.asserts.assert(goog.isObject(n),"context should be an Object");var i=n.featureNS,a=o.getGeometryName();goog.isDef(n.serializers)||(n.serializers={},n.serializers[i]={});var s=o.getProperties(),g=[],l=[];for(var p in s){var u=s[p];goog.isNull(u)||(g.push(p),l.push(u),p==a?p in n.serializers[i]||(n.serializers[i][p]=ol.xml.makeChildAppender(this.writeGeometryElement,this)):p in n.serializers[i]||(n.serializers[i][p]=ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode)))}var c=goog.object.clone(n);c.node=e,ol.xml.pushSerializeAndPop(c,n.serializers,ol.xml.makeSimpleNodeFactory(void 0,i),l,t,g)},ol.format.GML3.prototype.writeFeatureMembers_=function(e,o,t){var r=t[t.length-1];goog.asserts.assert(goog.isObject(r),"context should be an Object");var n=r.featureType,i=r.featureNS,a={};a[i]={},a[i][n]=ol.xml.makeChildAppender(this.writeFeatureElement,this);var s=goog.object.clone(r);s.node=e,ol.xml.pushSerializeAndPop(s,a,ol.xml.makeSimpleNodeFactory(n,i),o,t)},ol.format.GML3.SURFACEORPOLYGONMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{surfaceMember:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeSurfaceOrPolygonMember_),polygonMember:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeSurfaceOrPolygonMember_)}},ol.format.GML3.POINTMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{pointMember:ol.xml.makeChildAppender(ol.format.GML3.prototype.writePointMember_)}},ol.format.GML3.LINESTRINGORCURVEMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{lineStringMember:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeLineStringOrCurveMember_),curveMember:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeLineStringOrCurveMember_)}},ol.format.GML3.RING_SERIALIZERS_={"http://www.opengis.net/gml":{exterior:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeRing_),interior:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeRing_)}},ol.format.GML3.GEOMETRY_SERIALIZERS_={"http://www.opengis.net/gml":{Curve:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeCurveOrLineString_),MultiCurve:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeMultiCurveOrLineString_),Point:ol.xml.makeChildAppender(ol.format.GML3.prototype.writePoint_),MultiPoint:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeMultiPoint_),LineString:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeCurveOrLineString_),MultiLineString:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeMultiCurveOrLineString_),LinearRing:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeLinearRing_),Polygon:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeSurfaceOrPolygon_),MultiPolygon:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeMultiSurfaceOrPolygon_),Surface:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeSurfaceOrPolygon_),MultiSurface:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeMultiSurfaceOrPolygon_),Envelope:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeEnvelope)}},ol.format.GML3.MULTIGEOMETRY_TO_MEMBER_NODENAME_={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},ol.format.GML3.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(e,o,t){var r=o[o.length-1].node;return goog.asserts.assert(ol.xml.isNode(r),"parentNode should be a node"),ol.xml.createElementNS("http://www.opengis.net/gml",ol.format.GML3.MULTIGEOMETRY_TO_MEMBER_NODENAME_[r.nodeName])},ol.format.GML3.prototype.GEOMETRY_NODE_FACTORY_=function(e,o,t){var r=o[o.length-1];goog.asserts.assert(goog.isObject(r),"context should be an Object");var n=r.multiSurface,i=r.surface,a=r.curve,s=r.multiCurve,g=o[o.length-1].node;goog.asserts.assert(ol.xml.isNode(g),"parentNode should be a node");var l;return goog.isArray(e)?l="Envelope":(goog.asserts.assertInstanceof(e,ol.geom.Geometry,"value should be an ol.geom.Geometry"),l=e.getType(),"MultiPolygon"===l&&n===!0?l="MultiSurface":"Polygon"===l&&i===!0?l="Surface":"LineString"===l&&a===!0?l="Curve":"MultiLineString"===l&&s===!0&&(l="MultiCurve")),
ol.xml.createElementNS("http://www.opengis.net/gml",l)},ol.format.GML3.prototype.writeGeometryNode=function(e,o){o=this.adaptOptions(o);var t=ol.xml.createElementNS("http://www.opengis.net/gml","geom"),r={node:t,srsName:this.srsName,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_};return goog.isDef(o)&&goog.object.extend(r,o),this.writeGeometryElement(t,e,[r]),t},ol.format.GML3.prototype.writeFeatures,ol.format.GML3.prototype.writeFeaturesNode=function(e,o){o=this.adaptOptions(o);var t=ol.xml.createElementNS("http://www.opengis.net/gml","featureMembers");ol.xml.setAttributeNS(t,"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.schemaLocation);var r={srsName:this.srsName,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_,featureNS:this.featureNS,featureType:this.featureType};return goog.isDef(o)&&goog.object.extend(r,o),this.writeFeatureMembers_(t,e,[r]),t},ol.format.GML=ol.format.GML3,ol.format.GML.prototype.writeFeatures,ol.format.GML.prototype.writeFeaturesNode,goog.provide("ol.format.GML2"),goog.require("goog.asserts"),goog.require("goog.dom.NodeType"),goog.require("ol.extent"),goog.require("ol.format.GML"),goog.require("ol.format.GMLBase"),goog.require("ol.format.XSD"),goog.require("ol.proj"),goog.require("ol.xml"),ol.format.GML2=function(e){var o=goog.isDef(e)?e:{};goog.base(this,o),this.FEATURE_COLLECTION_PARSERS[ol.format.GMLBase.GMLNS].featureMember=ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.readFeaturesInternal),this.schemaLocation=goog.isDef(o.schemaLocation)?o.schemaLocation:ol.format.GML2.schemaLocation_},goog.inherits(ol.format.GML2,ol.format.GMLBase),ol.format.GML2.schemaLocation_=ol.format.GMLBase.GMLNS+" http://schemas.opengis.net/gml/2.1.2/feature.xsd",ol.format.GML2.prototype.readFlatCoordinates_=function(e,o){var t=ol.xml.getAllTextContent(e,!1).replace(/^\s*|\s*$/g,""),r=o[0];goog.asserts.assert(goog.isObject(r),"context should be an Object");var n=r.srsName,i=e.parentNode.getAttribute("srsDimension"),a="enu";if(!goog.isNull(n)){var s=ol.proj.get(n);a=s.getAxisOrientation()}var g=t.split(/[\s,]+/),l=2;goog.isNull(e.getAttribute("srsDimension"))?goog.isNull(e.getAttribute("dimension"))?goog.isNull(i)||(l=ol.format.XSD.readNonNegativeIntegerString(i)):l=ol.format.XSD.readNonNegativeIntegerString(e.getAttribute("dimension")):l=ol.format.XSD.readNonNegativeIntegerString(e.getAttribute("srsDimension"));for(var p,u,c,d=[],h=0,m=g.length;m>h;h+=l)p=parseFloat(g[h]),u=parseFloat(g[h+1]),c=3===l?parseFloat(g[h+2]):0,"en"===a.substr(0,2)?d.push(p,u,c):d.push(u,p,c);return d},ol.format.GML2.prototype.readBox_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("Box"==e.localName,"localName should be Box");var t=ol.xml.pushParseAndPop([null],this.BOX_PARSERS_,e,o,this);return ol.extent.createOrUpdate(t[1][0],t[1][1],t[1][3],t[1][4])},ol.format.GML2.prototype.innerBoundaryIsParser_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("innerBoundaryIs"==e.localName,"localName should be innerBoundaryIs");var t=ol.xml.pushParseAndPop(void 0,this.RING_PARSERS,e,o,this);if(goog.isDef(t)){var r=o[o.length-1];goog.asserts.assert(goog.isArray(r),"flatLinearRings should be an array"),goog.asserts.assert(r.length>0,"flatLinearRings should have an array length larger than 0"),r.push(t)}},ol.format.GML2.prototype.outerBoundaryIsParser_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("outerBoundaryIs"==e.localName,"localName should be outerBoundaryIs");var t=ol.xml.pushParseAndPop(void 0,this.RING_PARSERS,e,o,this);if(goog.isDef(t)){var r=o[o.length-1];goog.asserts.assert(goog.isArray(r),"flatLinearRings should be an array"),goog.asserts.assert(r.length>0,"flatLinearRings should have an array length larger than 0"),r[0]=t}},ol.format.GML2.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS_=Object({"http://www.opengis.net/gml":{coordinates:ol.xml.makeReplacer(ol.format.GML2.prototype.readFlatCoordinates_)}}),ol.format.GML2.prototype.FLAT_LINEAR_RINGS_PARSERS_=Object({"http://www.opengis.net/gml":{innerBoundaryIs:ol.format.GML2.prototype.innerBoundaryIsParser_,outerBoundaryIs:ol.format.GML2.prototype.outerBoundaryIsParser_}}),ol.format.GML2.prototype.BOX_PARSERS_=Object({"http://www.opengis.net/gml":{coordinates:ol.xml.makeArrayPusher(ol.format.GML2.prototype.readFlatCoordinates_)}}),ol.format.GML2.prototype.GEOMETRY_PARSERS_=Object({"http://www.opengis.net/gml":{Point:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readPoint),MultiPoint:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readMultiPoint),LineString:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readLineString),MultiLineString:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readMultiLineString),LinearRing:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readLinearRing),Polygon:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readPolygon),MultiPolygon:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readMultiPolygon),Box:ol.xml.makeReplacer(ol.format.GML2.prototype.readBox_)}}),goog.provide("ol.format.GPX"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.dom.NodeType"),goog.require("goog.object"),goog.require("ol.Feature"),goog.require("ol.format.Feature"),goog.require("ol.format.XMLFeature"),goog.require("ol.format.XSD"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.LineString"),goog.require("ol.geom.MultiLineString"),goog.require("ol.geom.Point"),goog.require("ol.proj"),goog.require("ol.xml"),ol.format.GPX=function(e){var o=goog.isDef(e)?e:{};goog.base(this),this.defaultDataProjection=ol.proj.get("EPSG:4326"),this.readExtensions_=o.readExtensions},goog.inherits(ol.format.GPX,ol.format.XMLFeature),ol.format.GPX.NAMESPACE_URIS_=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"],ol.format.GPX.appendCoordinate_=function(e,o,t){return goog.asserts.assert(o.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),e.push(parseFloat(o.getAttribute("lon")),parseFloat(o.getAttribute("lat"))),goog.object.containsKey(t,"ele")?(e.push(t.ele),goog.object.remove(t,"ele")):e.push(0),goog.object.containsKey(t,"time")?(e.push(t.time),goog.object.remove(t,"time")):e.push(0),e},ol.format.GPX.parseLink_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("link"==e.localName,"localName should be link");var t=o[o.length-1],r=e.getAttribute("href");goog.isNull(r)||(t.link=r),ol.xml.parseNode(ol.format.GPX.LINK_PARSERS_,e,o)},ol.format.GPX.parseExtensions_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("extensions"==e.localName,"localName should be extensions");var t=o[o.length-1];t.extensionsNode_=e},ol.format.GPX.parseRtePt_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("rtept"==e.localName,"localName should be rtept");var t=ol.xml.pushParseAndPop({},ol.format.GPX.RTEPT_PARSERS_,e,o);if(goog.isDef(t)){var r=o[o.length-1],n=r.flatCoordinates;ol.format.GPX.appendCoordinate_(n,e,t)}},ol.format.GPX.parseTrkPt_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("trkpt"==e.localName,"localName should be trkpt");var t=ol.xml.pushParseAndPop({},ol.format.GPX.TRKPT_PARSERS_,e,o);if(goog.isDef(t)){var r=o[o.length-1],n=r.flatCoordinates;ol.format.GPX.appendCoordinate_(n,e,t)}},ol.format.GPX.parseTrkSeg_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("trkseg"==e.localName,"localName should be trkseg");var t=o[o.length-1];ol.xml.parseNode(ol.format.GPX.TRKSEG_PARSERS_,e,o);var r=t.flatCoordinates,n=t.ends;n.push(r.length)},ol.format.GPX.readRte_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("rte"==e.localName,"localName should be rte");var t=o[0],r=ol.xml.pushParseAndPop({flatCoordinates:[]},ol.format.GPX.RTE_PARSERS_,e,o);if(!goog.isDef(r))return void 0;var n=r.flatCoordinates;goog.object.remove(r,"flatCoordinates");var i=new ol.geom.LineString(null);i.setFlatCoordinates(ol.geom.GeometryLayout.XYZM,n),ol.format.Feature.transformWithOptions(i,!1,t);var a=new ol.Feature(i);return a.setProperties(r),a},ol.format.GPX.readTrk_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("trk"==e.localName,"localName should be trk");var t=o[0],r=ol.xml.pushParseAndPop({flatCoordinates:[],ends:[]},ol.format.GPX.TRK_PARSERS_,e,o);if(!goog.isDef(r))return void 0;var n=r.flatCoordinates;goog.object.remove(r,"flatCoordinates");var i=r.ends;goog.object.remove(r,"ends");var a=new ol.geom.MultiLineString(null);a.setFlatCoordinates(ol.geom.GeometryLayout.XYZM,n,i),ol.format.Feature.transformWithOptions(a,!1,t);var s=new ol.Feature(a);return s.setProperties(r),s},ol.format.GPX.readWpt_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("wpt"==e.localName,"localName should be wpt");var t=o[0],r=ol.xml.pushParseAndPop({},ol.format.GPX.WPT_PARSERS_,e,o);if(!goog.isDef(r))return void 0;var n=ol.format.GPX.appendCoordinate_([],e,r),i=new ol.geom.Point(n,ol.geom.GeometryLayout.XYZM);ol.format.Feature.transformWithOptions(i,!1,t);var a=new ol.Feature(i);return a.setProperties(r),a},ol.format.GPX.FEATURE_READER_={rte:ol.format.GPX.readRte_,trk:ol.format.GPX.readTrk_,wpt:ol.format.GPX.readWpt_},ol.format.GPX.GPX_PARSERS_=ol.xml.makeParsersNS(ol.format.GPX.NAMESPACE_URIS_,{rte:ol.xml.makeArrayPusher(ol.format.GPX.readRte_),trk:ol.xml.makeArrayPusher(ol.format.GPX.readTrk_),wpt:ol.xml.makeArrayPusher(ol.format.GPX.readWpt_)}),ol.format.GPX.LINK_PARSERS_=ol.xml.makeParsersNS(ol.format.GPX.NAMESPACE_URIS_,{text:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString,"linkText"),type:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString,"linkType")}),ol.format.GPX.RTE_PARSERS_=ol.xml.makeParsersNS(ol.format.GPX.NAMESPACE_URIS_,{name:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),cmt:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),desc:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),src:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),link:ol.format.GPX.parseLink_,number:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),extensions:ol.format.GPX.parseExtensions_,type:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),rtept:ol.format.GPX.parseRtePt_}),ol.format.GPX.RTEPT_PARSERS_=ol.xml.makeParsersNS(ol.format.GPX.NAMESPACE_URIS_,{ele:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),time:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDateTime)}),ol.format.GPX.TRK_PARSERS_=ol.xml.makeParsersNS(ol.format.GPX.NAMESPACE_URIS_,{name:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),cmt:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),desc:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),src:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),link:ol.format.GPX.parseLink_,number:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),type:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),extensions:ol.format.GPX.parseExtensions_,trkseg:ol.format.GPX.parseTrkSeg_}),ol.format.GPX.TRKSEG_PARSERS_=ol.xml.makeParsersNS(ol.format.GPX.NAMESPACE_URIS_,{trkpt:ol.format.GPX.parseTrkPt_}),ol.format.GPX.TRKPT_PARSERS_=ol.xml.makeParsersNS(ol.format.GPX.NAMESPACE_URIS_,{ele:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),time:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDateTime)}),ol.format.GPX.WPT_PARSERS_=ol.xml.makeParsersNS(ol.format.GPX.NAMESPACE_URIS_,{ele:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),time:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDateTime),magvar:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),geoidheight:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),name:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),cmt:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),desc:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),src:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),link:ol.format.GPX.parseLink_,sym:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),type:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),fix:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),sat:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),hdop:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),vdop:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),pdop:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),ageofdgpsdata:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),dgpsid:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),extensions:ol.format.GPX.parseExtensions_}),ol.format.GPX.prototype.handleReadExtensions_=function(e){goog.isNull(e)&&(e=[]);for(var o=0,t=e.length;t>o;++o){var r=e[o];if(goog.isDef(this.readExtensions_)){var n=r.get("extensionsNode_")||null;this.readExtensions_(r,n)}r.set("extensionsNode_",void 0)}},ol.format.GPX.prototype.readFeature,ol.format.GPX.prototype.readFeatureFromNode=function(e,o){if(goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),!goog.array.contains(ol.format.GPX.NAMESPACE_URIS_,e.namespaceURI))return null;var t=ol.format.GPX.FEATURE_READER_[e.localName];if(!goog.isDef(t))return null;var r=t(e,[this.getReadOptions(e,o)]);return goog.isDef(r)?(this.handleReadExtensions_([r]),r):null},ol.format.GPX.prototype.readFeatures,ol.format.GPX.prototype.readFeaturesFromNode=function(e,o){if(goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),!goog.array.contains(ol.format.GPX.NAMESPACE_URIS_,e.namespaceURI))return[];if("gpx"==e.localName){var t=ol.xml.pushParseAndPop([],ol.format.GPX.GPX_PARSERS_,e,[this.getReadOptions(e,o)]);return goog.isDef(t)?(this.handleReadExtensions_(t),t):[]}return[]},ol.format.GPX.prototype.readProjection,ol.format.GPX.writeLink_=function(e,o,t){e.setAttribute("href",o);var r=t[t.length-1];goog.asserts.assert(goog.isObject(r),"context should be an Object");var n=r.properties,i=[n.linkText,n.linkType];ol.xml.pushSerializeAndPop({node:e},ol.format.GPX.LINK_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,i,t,ol.format.GPX.LINK_SEQUENCE_)},ol.format.GPX.writeWptType_=function(e,o,t){var r=t[t.length-1];goog.asserts.assert(goog.isObject(r),"context should be an Object");var n=r.node;goog.asserts.assert(ol.xml.isNode(n),"parentNode should be an XML node");var i=n.namespaceURI,a=r.properties;ol.xml.setAttributeNS(e,null,"lat",o[1]),ol.xml.setAttributeNS(e,null,"lon",o[0]);var s=r.geometryLayout;switch(s){case ol.geom.GeometryLayout.XYZM:0!==o[3]&&(a.time=o[3]);case ol.geom.GeometryLayout.XYZ:0!==o[2]&&(a.ele=o[2]);break;case ol.geom.GeometryLayout.XYM:0!==o[2]&&(a.time=o[2])}var g=ol.format.GPX.WPT_TYPE_SEQUENCE_[i],l=ol.xml.makeSequence(a,g);ol.xml.pushSerializeAndPop({node:e,properties:a},ol.format.GPX.WPT_TYPE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,l,t,g)},ol.format.GPX.writeRte_=function(e,o,t){var r=t[0],n=o.getProperties(),i={node:e,properties:n},a=o.getGeometry();goog.isDef(a)&&(goog.asserts.assertInstanceof(a,ol.geom.LineString,"geometry should be an ol.geom.LineString"),a=ol.format.Feature.transformWithOptions(a,!0,r),i.geometryLayout=a.getLayout(),n.rtept=a.getCoordinates());var s=t[t.length-1].node,g=ol.format.GPX.RTE_SEQUENCE_[s.namespaceURI],l=ol.xml.makeSequence(n,g);ol.xml.pushSerializeAndPop(i,ol.format.GPX.RTE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,l,t,g)},ol.format.GPX.writeTrk_=function(e,o,t){var r=t[0],n=o.getProperties(),i={node:e,properties:n},a=o.getGeometry();goog.isDef(a)&&(goog.asserts.assertInstanceof(a,ol.geom.MultiLineString,"geometry should be an ol.geom.MultiLineString"),a=ol.format.Feature.transformWithOptions(a,!0,r),n.trkseg=a.getLineStrings());var s=t[t.length-1].node,g=ol.format.GPX.TRK_SEQUENCE_[s.namespaceURI],l=ol.xml.makeSequence(n,g);ol.xml.pushSerializeAndPop(i,ol.format.GPX.TRK_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,l,t,g)},ol.format.GPX.writeTrkSeg_=function(e,o,t){var r={node:e,geometryLayout:o.getLayout(),properties:{}};ol.xml.pushSerializeAndPop(r,ol.format.GPX.TRKSEG_SERIALIZERS_,ol.format.GPX.TRKSEG_NODE_FACTORY_,o.getCoordinates(),t)},ol.format.GPX.writeWpt_=function(e,o,t){var r=t[0],n=t[t.length-1];goog.asserts.assert(goog.isObject(n),"context should be an Object"),n.properties=o.getProperties();var i=o.getGeometry();goog.isDef(i)&&(goog.asserts.assertInstanceof(i,ol.geom.Point,"geometry should be an ol.geom.Point"),i=ol.format.Feature.transformWithOptions(i,!0,r),n.geometryLayout=i.getLayout(),ol.format.GPX.writeWptType_(e,i.getCoordinates(),t))},ol.format.GPX.LINK_SEQUENCE_=["text","type"],ol.format.GPX.LINK_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{text:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),type:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode)}),ol.format.GPX.RTE_SEQUENCE_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,["name","cmt","desc","src","link","number","type","rtept"]),ol.format.GPX.RTE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{name:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),cmt:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),desc:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),src:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),link:ol.xml.makeChildAppender(ol.format.GPX.writeLink_),number:ol.xml.makeChildAppender(ol.format.XSD.writeNonNegativeIntegerTextNode),type:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),rtept:ol.xml.makeArraySerializer(ol.xml.makeChildAppender(ol.format.GPX.writeWptType_))}),ol.format.GPX.TRK_SEQUENCE_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,["name","cmt","desc","src","link","number","type","trkseg"]),ol.format.GPX.TRK_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{name:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),cmt:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),desc:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),src:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),link:ol.xml.makeChildAppender(ol.format.GPX.writeLink_),number:ol.xml.makeChildAppender(ol.format.XSD.writeNonNegativeIntegerTextNode),type:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),trkseg:ol.xml.makeArraySerializer(ol.xml.makeChildAppender(ol.format.GPX.writeTrkSeg_))}),ol.format.GPX.TRKSEG_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("trkpt"),ol.format.GPX.TRKSEG_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{trkpt:ol.xml.makeChildAppender(ol.format.GPX.writeWptType_)}),ol.format.GPX.WPT_TYPE_SEQUENCE_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,["ele","time","magvar","geoidheight","name","cmt","desc","src","link","sym","type","fix","sat","hdop","vdop","pdop","ageofdgpsdata","dgpsid"]),ol.format.GPX.WPT_TYPE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{ele:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),time:ol.xml.makeChildAppender(ol.format.XSD.writeDateTimeTextNode),magvar:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),geoidheight:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),name:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),cmt:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),desc:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),src:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),link:ol.xml.makeChildAppender(ol.format.GPX.writeLink_),sym:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),type:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),fix:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),sat:ol.xml.makeChildAppender(ol.format.XSD.writeNonNegativeIntegerTextNode),hdop:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),vdop:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),pdop:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),ageofdgpsdata:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),dgpsid:ol.xml.makeChildAppender(ol.format.XSD.writeNonNegativeIntegerTextNode)}),ol.format.GPX.GEOMETRY_TYPE_TO_NODENAME_={Point:"wpt",LineString:"rte",MultiLineString:"trk"},ol.format.GPX.GPX_NODE_FACTORY_=function(e,o,t){goog.asserts.assertInstanceof(e,ol.Feature,"value should be an ol.Feature");var r=e.getGeometry();if(goog.isDef(r)){var n=o[o.length-1].node;return goog.asserts.assert(ol.xml.isNode(n),"parentNode should be an XML node"),ol.xml.createElementNS(n.namespaceURI,ol.format.GPX.GEOMETRY_TYPE_TO_NODENAME_[r.getType()])}},ol.format.GPX.GPX_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{rte:ol.xml.makeChildAppender(ol.format.GPX.writeRte_),trk:ol.xml.makeChildAppender(ol.format.GPX.writeTrk_),wpt:ol.xml.makeChildAppender(ol.format.GPX.writeWpt_)}),ol.format.GPX.prototype.writeFeatures,ol.format.GPX.prototype.writeFeaturesNode=function(e,o){o=this.adaptOptions(o);var t=ol.xml.createElementNS("http://www.topografix.com/GPX/1/1","gpx");return ol.xml.pushSerializeAndPop({node:t},ol.format.GPX.GPX_SERIALIZERS_,ol.format.GPX.GPX_NODE_FACTORY_,e,[o]),t},goog.provide("goog.string.newlines"),goog.provide("goog.string.newlines.Line"),goog.require("goog.array"),goog.string.newlines.splitLines=function(e,o){var t=goog.string.newlines.getLines(e);return goog.array.map(t,function(e){return o?e.getFullLine():e.getContent()})},goog.string.newlines.Line=function(e,o,t,r){this.string=e,this.startLineIndex=o,this.endContentIndex=t,this.endLineIndex=r},goog.string.newlines.Line.prototype.getContent=function(){return this.string.substring(this.startLineIndex,this.endContentIndex)},goog.string.newlines.Line.prototype.getFullLine=function(){return this.string.substring(this.startLineIndex,this.endLineIndex)},goog.string.newlines.Line.prototype.getNewline=function(){return this.string.substring(this.endContentIndex,this.endLineIndex)},goog.string.newlines.getLines=function(e){for(var o,t=RegExp("\r\n|\r|\n","g"),r=0,n=[];o=t.exec(e);){var i=new goog.string.newlines.Line(e,r,o.index,o.index+o[0].length);n.push(i),r=t.lastIndex}if(r<e.length){var i=new goog.string.newlines.Line(e,r,e.length,e.length);n.push(i)}return n},goog.provide("ol.format.TextFeature"),goog.require("goog.asserts"),goog.require("ol.format.Feature"),goog.require("ol.format.FormatType"),ol.format.TextFeature=function(){goog.base(this)},goog.inherits(ol.format.TextFeature,ol.format.Feature),ol.format.TextFeature.prototype.getText_=function(e){return goog.isString(e)?e:(goog.asserts.fail(),"")},ol.format.TextFeature.prototype.getType=function(){return ol.format.FormatType.TEXT},ol.format.TextFeature.prototype.readFeature=function(e,o){return this.readFeatureFromText(this.getText_(e),this.adaptOptions(o))},ol.format.TextFeature.prototype.readFeatureFromText=goog.abstractMethod,ol.format.TextFeature.prototype.readFeatures=function(e,o){return this.readFeaturesFromText(this.getText_(e),this.adaptOptions(o))},ol.format.TextFeature.prototype.readFeaturesFromText=goog.abstractMethod,ol.format.TextFeature.prototype.readGeometry=function(e,o){return this.readGeometryFromText(this.getText_(e),this.adaptOptions(o))},ol.format.TextFeature.prototype.readGeometryFromText=goog.abstractMethod,ol.format.TextFeature.prototype.readProjection=function(e){return this.readProjectionFromText(this.getText_(e))},ol.format.TextFeature.prototype.readProjectionFromText=function(e){return this.defaultDataProjection},ol.format.TextFeature.prototype.writeFeature=function(e,o){return this.writeFeatureText(e,this.adaptOptions(o))},ol.format.TextFeature.prototype.writeFeatureText=goog.abstractMethod,ol.format.TextFeature.prototype.writeFeatures=function(e,o){return this.writeFeaturesText(e,this.adaptOptions(o))},ol.format.TextFeature.prototype.writeFeaturesText=goog.abstractMethod,ol.format.TextFeature.prototype.writeGeometry=function(e,o){return this.writeGeometryText(e,this.adaptOptions(o))},ol.format.TextFeature.prototype.writeGeometryText=goog.abstractMethod,goog.provide("ol.format.IGC"),goog.provide("ol.format.IGCZ"),goog.require("goog.asserts"),goog.require("goog.string"),goog.require("goog.string.newlines"),goog.require("ol.Feature"),goog.require("ol.format.Feature"),goog.require("ol.format.TextFeature"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.LineString"),goog.require("ol.proj"),ol.format.IGCZ={BAROMETRIC:"barometric",GPS:"gps",NONE:"none"},ol.format.IGC=function(e){var o=goog.isDef(e)?e:{};goog.base(this),this.defaultDataProjection=ol.proj.get("EPSG:4326"),this.altitudeMode_=goog.isDef(o.altitudeMode)?o.altitudeMode:ol.format.IGCZ.NONE},goog.inherits(ol.format.IGC,ol.format.TextFeature),ol.format.IGC.EXTENSIONS_=[".igc"],ol.format.IGC.B_RECORD_RE_=/^B(\d{2})(\d{2})(\d{2})(\d{2})(\d{5})([NS])(\d{3})(\d{5})([EW])([AV])(\d{5})(\d{5})/,ol.format.IGC.H_RECORD_RE_=/^H.([A-Z]{3}).*?:(.*)/,ol.format.IGC.HFDTE_RECORD_RE_=/^HFDTE(\d{2})(\d{2})(\d{2})/,ol.format.IGC.prototype.getExtensions=function(){return ol.format.IGC.EXTENSIONS_},ol.format.IGC.prototype.readFeature,ol.format.IGC.prototype.readFeatureFromText=function(e,o){var t,r,n=this.altitudeMode_,i=goog.string.newlines.splitLines(e),a={},s=[],g=2e3,l=0,p=1;for(t=0,r=i.length;r>t;++t){var u,c=i[t];if("B"==c.charAt(0)){if(u=ol.format.IGC.B_RECORD_RE_.exec(c)){var d=parseInt(u[1],10),h=parseInt(u[2],10),m=parseInt(u[3],10),y=parseInt(u[4],10)+parseInt(u[5],10)/6e4;"S"==u[6]&&(y=-y);var f=parseInt(u[7],10)+parseInt(u[8],10)/6e4;if("W"==u[9]&&(f=-f),s.push(f,y),n!=ol.format.IGCZ.NONE){var v;n==ol.format.IGCZ.GPS?v=parseInt(u[11],10):n==ol.format.IGCZ.BAROMETRIC?v=parseInt(u[12],10):(goog.asserts.fail(),v=0),s.push(v)}var _=Date.UTC(g,l,p,d,h,m);s.push(_/1e3)}}else"H"==c.charAt(0)&&(u=ol.format.IGC.HFDTE_RECORD_RE_.exec(c),u?(p=parseInt(u[1],10),l=parseInt(u[2],10)-1,g=2e3+parseInt(u[3],10)):(u=ol.format.IGC.H_RECORD_RE_.exec(c),u&&(a[u[1]]=goog.string.trim(u[2]),u=ol.format.IGC.HFDTE_RECORD_RE_.exec(c))))}if(0===s.length)return null;var E=new ol.geom.LineString(null),S=n==ol.format.IGCZ.NONE?ol.geom.GeometryLayout.XYM:ol.geom.GeometryLayout.XYZM;E.setFlatCoordinates(S,s);var T=new ol.Feature(ol.format.Feature.transformWithOptions(E,!1,o));return T.setProperties(a),T},ol.format.IGC.prototype.readFeatures,ol.format.IGC.prototype.readFeaturesFromText=function(e,o){var t=this.readFeatureFromText(e,o);return goog.isNull(t)?[]:[t]},ol.format.IGC.prototype.readProjection,goog.provide("goog.Uri"),goog.provide("goog.Uri.QueryData"),goog.require("goog.array"),goog.require("goog.string"),goog.require("goog.structs"),goog.require("goog.structs.Map"),goog.require("goog.uri.utils"),goog.require("goog.uri.utils.ComponentIndex"),goog.require("goog.uri.utils.StandardQueryParam"),goog.Uri=function(e,o){var t;e instanceof goog.Uri?(this.ignoreCase_=goog.isDef(o)?o:e.getIgnoreCase(),this.setScheme(e.getScheme()),this.setUserInfo(e.getUserInfo()),this.setDomain(e.getDomain()),this.setPort(e.getPort()),this.setPath(e.getPath()),this.setQueryData(e.getQueryData().clone()),this.setFragment(e.getFragment())):e&&(t=goog.uri.utils.split(String(e)))?(this.ignoreCase_=!!o,this.setScheme(t[goog.uri.utils.ComponentIndex.SCHEME]||"",!0),this.setUserInfo(t[goog.uri.utils.ComponentIndex.USER_INFO]||"",!0),this.setDomain(t[goog.uri.utils.ComponentIndex.DOMAIN]||"",!0),this.setPort(t[goog.uri.utils.ComponentIndex.PORT]),this.setPath(t[goog.uri.utils.ComponentIndex.PATH]||"",!0),this.setQueryData(t[goog.uri.utils.ComponentIndex.QUERY_DATA]||"",!0),this.setFragment(t[goog.uri.utils.ComponentIndex.FRAGMENT]||"",!0)):(this.ignoreCase_=!!o,this.queryData_=new goog.Uri.QueryData(null,null,this.ignoreCase_))},goog.Uri.preserveParameterTypesCompatibilityFlag=!1,goog.Uri.RANDOM_PARAM=goog.uri.utils.StandardQueryParam.RANDOM,goog.Uri.prototype.scheme_="",goog.Uri.prototype.userInfo_="",goog.Uri.prototype.domain_="",goog.Uri.prototype.port_=null,goog.Uri.prototype.path_="",goog.Uri.prototype.queryData_,goog.Uri.prototype.fragment_="",goog.Uri.prototype.isReadOnly_=!1,goog.Uri.prototype.ignoreCase_=!1,goog.Uri.prototype.toString=function(){var e=[],o=this.getScheme();o&&e.push(goog.Uri.encodeSpecialChars_(o,goog.Uri.reDisallowedInSchemeOrUserInfo_,!0),":");var t=this.getDomain();if(t){e.push("//");var r=this.getUserInfo();r&&e.push(goog.Uri.encodeSpecialChars_(r,goog.Uri.reDisallowedInSchemeOrUserInfo_,!0),"@"),e.push(goog.Uri.removeDoubleEncoding_(goog.string.urlEncode(t)));var n=this.getPort();null!=n&&e.push(":",String(n))}var i=this.getPath();i&&(this.hasDomain()&&"/"!=i.charAt(0)&&e.push("/"),e.push(goog.Uri.encodeSpecialChars_(i,"/"==i.charAt(0)?goog.Uri.reDisallowedInAbsolutePath_:goog.Uri.reDisallowedInRelativePath_,!0)));var a=this.getEncodedQuery();a&&e.push("?",a);var s=this.getFragment();return s&&e.push("#",goog.Uri.encodeSpecialChars_(s,goog.Uri.reDisallowedInFragment_)),e.join("")},goog.Uri.prototype.resolve=function(e){var o=this.clone(),t=e.hasScheme();t?o.setScheme(e.getScheme()):t=e.hasUserInfo(),t?o.setUserInfo(e.getUserInfo()):t=e.hasDomain(),t?o.setDomain(e.getDomain()):t=e.hasPort();var r=e.getPath();if(t)o.setPort(e.getPort());else if(t=e.hasPath()){if("/"!=r.charAt(0))if(this.hasDomain()&&!this.hasPath())r="/"+r;else{var n=o.getPath().lastIndexOf("/");-1!=n&&(r=o.getPath().substr(0,n+1)+r)}r=goog.Uri.removeDotSegments(r)}return t?o.setPath(r):t=e.hasQuery(),t?o.setQueryData(e.getDecodedQuery()):t=e.hasFragment(),t&&o.setFragment(e.getFragment()),o},goog.Uri.prototype.clone=function(){return new goog.Uri(this)},goog.Uri.prototype.getScheme=function(){return this.scheme_},goog.Uri.prototype.setScheme=function(e,o){return this.enforceReadOnly(),this.scheme_=o?goog.Uri.decodeOrEmpty_(e,!0):e,this.scheme_&&(this.scheme_=this.scheme_.replace(/:$/,"")),this},goog.Uri.prototype.hasScheme=function(){return!!this.scheme_},goog.Uri.prototype.getUserInfo=function(){return this.userInfo_},goog.Uri.prototype.setUserInfo=function(e,o){return this.enforceReadOnly(),this.userInfo_=o?goog.Uri.decodeOrEmpty_(e):e,this},goog.Uri.prototype.hasUserInfo=function(){return!!this.userInfo_},goog.Uri.prototype.getDomain=function(){return this.domain_},goog.Uri.prototype.setDomain=function(e,o){return this.enforceReadOnly(),this.domain_=o?goog.Uri.decodeOrEmpty_(e,!0):e,this},goog.Uri.prototype.hasDomain=function(){return!!this.domain_},goog.Uri.prototype.getPort=function(){return this.port_},goog.Uri.prototype.setPort=function(e){if(this.enforceReadOnly(),e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);this.port_=e}else this.port_=null;return this},goog.Uri.prototype.hasPort=function(){return null!=this.port_},goog.Uri.prototype.getPath=function(){return this.path_},goog.Uri.prototype.setPath=function(e,o){return this.enforceReadOnly(),this.path_=o?goog.Uri.decodeOrEmpty_(e,!0):e,this},goog.Uri.prototype.hasPath=function(){return!!this.path_},goog.Uri.prototype.hasQuery=function(){return""!==this.queryData_.toString()},goog.Uri.prototype.setQueryData=function(e,o){return this.enforceReadOnly(),e instanceof goog.Uri.QueryData?(this.queryData_=e,this.queryData_.setIgnoreCase(this.ignoreCase_)):(o||(e=goog.Uri.encodeSpecialChars_(e,goog.Uri.reDisallowedInQuery_)),this.queryData_=new goog.Uri.QueryData(e,null,this.ignoreCase_)),this;

},goog.Uri.prototype.setQuery=function(e,o){return this.setQueryData(e,o)},goog.Uri.prototype.getEncodedQuery=function(){return this.queryData_.toString()},goog.Uri.prototype.getDecodedQuery=function(){return this.queryData_.toDecodedString()},goog.Uri.prototype.getQueryData=function(){return this.queryData_},goog.Uri.prototype.getQuery=function(){return this.getEncodedQuery()},goog.Uri.prototype.setParameterValue=function(e,o){return this.enforceReadOnly(),this.queryData_.set(e,o),this},goog.Uri.prototype.setParameterValues=function(e,o){return this.enforceReadOnly(),goog.isArray(o)||(o=[String(o)]),this.queryData_.setValues(e,o),this},goog.Uri.prototype.getParameterValues=function(e){return this.queryData_.getValues(e)},goog.Uri.prototype.getParameterValue=function(e){return this.queryData_.get(e)},goog.Uri.prototype.getFragment=function(){return this.fragment_},goog.Uri.prototype.setFragment=function(e,o){return this.enforceReadOnly(),this.fragment_=o?goog.Uri.decodeOrEmpty_(e):e,this},goog.Uri.prototype.hasFragment=function(){return!!this.fragment_},goog.Uri.prototype.hasSameDomainAs=function(e){return!((this.hasDomain()||e.hasDomain())&&this.getDomain()!=e.getDomain()||(this.hasPort()||e.hasPort())&&this.getPort()!=e.getPort())},goog.Uri.prototype.makeUnique=function(){return this.enforceReadOnly(),this.setParameterValue(goog.Uri.RANDOM_PARAM,goog.string.getRandomString()),this},goog.Uri.prototype.removeParameter=function(e){return this.enforceReadOnly(),this.queryData_.remove(e),this},goog.Uri.prototype.setReadOnly=function(e){return this.isReadOnly_=e,this},goog.Uri.prototype.isReadOnly=function(){return this.isReadOnly_},goog.Uri.prototype.enforceReadOnly=function(){if(this.isReadOnly_)throw Error("Tried to modify a read-only Uri")},goog.Uri.prototype.setIgnoreCase=function(e){return this.ignoreCase_=e,this.queryData_&&this.queryData_.setIgnoreCase(e),this},goog.Uri.prototype.getIgnoreCase=function(){return this.ignoreCase_},goog.Uri.parse=function(e,o){return e instanceof goog.Uri?e.clone():new goog.Uri(e,o)},goog.Uri.create=function(e,o,t,r,n,i,a,s){var g=new goog.Uri(null,s);return e&&g.setScheme(e),o&&g.setUserInfo(o),t&&g.setDomain(t),r&&g.setPort(r),n&&g.setPath(n),i&&g.setQueryData(i),a&&g.setFragment(a),g},goog.Uri.resolve=function(e,o){return e instanceof goog.Uri||(e=goog.Uri.parse(e)),o instanceof goog.Uri||(o=goog.Uri.parse(o)),e.resolve(o)},goog.Uri.removeDotSegments=function(e){if(".."==e||"."==e)return"";if(goog.string.contains(e,"./")||goog.string.contains(e,"/.")){for(var o=goog.string.startsWith(e,"/"),t=e.split("/"),r=[],n=0;n<t.length;){var i=t[n++];"."==i?o&&n==t.length&&r.push(""):".."==i?((r.length>1||1==r.length&&""!=r[0])&&r.pop(),o&&n==t.length&&r.push("")):(r.push(i),o=!0)}return r.join("/")}return e},goog.Uri.decodeOrEmpty_=function(e,o){return e?o?decodeURI(e):decodeURIComponent(e):""},goog.Uri.encodeSpecialChars_=function(e,o,t){if(goog.isString(e)){var r=encodeURI(e).replace(o,goog.Uri.encodeChar_);return t&&(r=goog.Uri.removeDoubleEncoding_(r)),r}return null},goog.Uri.encodeChar_=function(e){var o=e.charCodeAt(0);return"%"+(o>>4&15).toString(16)+(15&o).toString(16)},goog.Uri.removeDoubleEncoding_=function(e){return e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")},goog.Uri.reDisallowedInSchemeOrUserInfo_=/[#\/\?@]/g,goog.Uri.reDisallowedInRelativePath_=/[\#\?:]/g,goog.Uri.reDisallowedInAbsolutePath_=/[\#\?]/g,goog.Uri.reDisallowedInQuery_=/[\#\?@]/g,goog.Uri.reDisallowedInFragment_=/#/g,goog.Uri.haveSameDomain=function(e,o){var t=goog.uri.utils.split(e),r=goog.uri.utils.split(o);return t[goog.uri.utils.ComponentIndex.DOMAIN]==r[goog.uri.utils.ComponentIndex.DOMAIN]&&t[goog.uri.utils.ComponentIndex.PORT]==r[goog.uri.utils.ComponentIndex.PORT]},goog.Uri.QueryData=function(e,o,t){this.encodedQuery_=e||null,this.ignoreCase_=!!t},goog.Uri.QueryData.prototype.ensureKeyMapInitialized_=function(){if(!this.keyMap_&&(this.keyMap_=new goog.structs.Map,this.count_=0,this.encodedQuery_)){var e=this;goog.uri.utils.parseQueryData(this.encodedQuery_,function(o,t){e.add(goog.string.urlDecode(o),t)})}},goog.Uri.QueryData.createFromMap=function(e,o,t){var r=goog.structs.getKeys(e);if("undefined"==typeof r)throw Error("Keys are undefined");for(var n=new goog.Uri.QueryData(null,null,t),i=goog.structs.getValues(e),a=0;a<r.length;a++){var s=r[a],g=i[a];goog.isArray(g)?n.setValues(s,g):n.add(s,g)}return n},goog.Uri.QueryData.createFromKeysValues=function(e,o,t,r){if(e.length!=o.length)throw Error("Mismatched lengths for keys/values");for(var n=new goog.Uri.QueryData(null,null,r),i=0;i<e.length;i++)n.add(e[i],o[i]);return n},goog.Uri.QueryData.prototype.keyMap_=null,goog.Uri.QueryData.prototype.count_=null,goog.Uri.QueryData.prototype.getCount=function(){return this.ensureKeyMapInitialized_(),this.count_},goog.Uri.QueryData.prototype.add=function(e,o){this.ensureKeyMapInitialized_(),this.invalidateCache_(),e=this.getKeyName_(e);var t=this.keyMap_.get(e);return t||this.keyMap_.set(e,t=[]),t.push(o),this.count_++,this},goog.Uri.QueryData.prototype.remove=function(e){return this.ensureKeyMapInitialized_(),e=this.getKeyName_(e),this.keyMap_.containsKey(e)?(this.invalidateCache_(),this.count_-=this.keyMap_.get(e).length,this.keyMap_.remove(e)):!1},goog.Uri.QueryData.prototype.clear=function(){this.invalidateCache_(),this.keyMap_=null,this.count_=0},goog.Uri.QueryData.prototype.isEmpty=function(){return this.ensureKeyMapInitialized_(),0==this.count_},goog.Uri.QueryData.prototype.containsKey=function(e){return this.ensureKeyMapInitialized_(),e=this.getKeyName_(e),this.keyMap_.containsKey(e)},goog.Uri.QueryData.prototype.containsValue=function(e){var o=this.getValues();return goog.array.contains(o,e)},goog.Uri.QueryData.prototype.getKeys=function(){this.ensureKeyMapInitialized_();for(var e=this.keyMap_.getValues(),o=this.keyMap_.getKeys(),t=[],r=0;r<o.length;r++)for(var n=e[r],i=0;i<n.length;i++)t.push(o[r]);return t},goog.Uri.QueryData.prototype.getValues=function(e){this.ensureKeyMapInitialized_();var o=[];if(goog.isString(e))this.containsKey(e)&&(o=goog.array.concat(o,this.keyMap_.get(this.getKeyName_(e))));else for(var t=this.keyMap_.getValues(),r=0;r<t.length;r++)o=goog.array.concat(o,t[r]);return o},goog.Uri.QueryData.prototype.set=function(e,o){return this.ensureKeyMapInitialized_(),this.invalidateCache_(),e=this.getKeyName_(e),this.containsKey(e)&&(this.count_-=this.keyMap_.get(e).length),this.keyMap_.set(e,[o]),this.count_++,this},goog.Uri.QueryData.prototype.get=function(e,o){var t=e?this.getValues(e):[];return goog.Uri.preserveParameterTypesCompatibilityFlag?t.length>0?t[0]:o:t.length>0?String(t[0]):o},goog.Uri.QueryData.prototype.setValues=function(e,o){this.remove(e),o.length>0&&(this.invalidateCache_(),this.keyMap_.set(this.getKeyName_(e),goog.array.clone(o)),this.count_+=o.length)},goog.Uri.QueryData.prototype.toString=function(){if(this.encodedQuery_)return this.encodedQuery_;if(!this.keyMap_)return"";for(var e=[],o=this.keyMap_.getKeys(),t=0;t<o.length;t++)for(var r=o[t],n=goog.string.urlEncode(r),i=this.getValues(r),a=0;a<i.length;a++){var s=n;""!==i[a]&&(s+="="+goog.string.urlEncode(i[a])),e.push(s)}return this.encodedQuery_=e.join("&")},goog.Uri.QueryData.prototype.toDecodedString=function(){return goog.Uri.decodeOrEmpty_(this.toString())},goog.Uri.QueryData.prototype.invalidateCache_=function(){this.encodedQuery_=null},goog.Uri.QueryData.prototype.filterKeys=function(e){return this.ensureKeyMapInitialized_(),this.keyMap_.forEach(function(o,t){goog.array.contains(e,t)||this.remove(t)},this),this},goog.Uri.QueryData.prototype.clone=function(){var e=new goog.Uri.QueryData;return e.encodedQuery_=this.encodedQuery_,this.keyMap_&&(e.keyMap_=this.keyMap_.clone(),e.count_=this.count_),e},goog.Uri.QueryData.prototype.getKeyName_=function(e){var o=String(e);return this.ignoreCase_&&(o=o.toLowerCase()),o},goog.Uri.QueryData.prototype.setIgnoreCase=function(e){var o=e&&!this.ignoreCase_;o&&(this.ensureKeyMapInitialized_(),this.invalidateCache_(),this.keyMap_.forEach(function(e,o){var t=o.toLowerCase();o!=t&&(this.remove(o),this.setValues(t,e))},this)),this.ignoreCase_=e},goog.Uri.QueryData.prototype.extend=function(e){for(var o=0;o<arguments.length;o++){var t=arguments[o];goog.structs.forEach(t,function(e,o){this.add(o,e)},this)}},goog.provide("ol.style.Text"),ol.style.Text=function(e){var o=goog.isDef(e)?e:{};this.font_=o.font,this.rotation_=o.rotation,this.scale_=o.scale,this.text_=o.text,this.textAlign_=o.textAlign,this.textBaseline_=o.textBaseline,this.fill_=goog.isDef(o.fill)?o.fill:null,this.stroke_=goog.isDef(o.stroke)?o.stroke:null,this.offsetX_=goog.isDef(o.offsetX)?o.offsetX:0,this.offsetY_=goog.isDef(o.offsetY)?o.offsetY:0},ol.style.Text.prototype.getFont=function(){return this.font_},ol.style.Text.prototype.getOffsetX=function(){return this.offsetX_},ol.style.Text.prototype.getOffsetY=function(){return this.offsetY_},ol.style.Text.prototype.getFill=function(){return this.fill_},ol.style.Text.prototype.getRotation=function(){return this.rotation_},ol.style.Text.prototype.getScale=function(){return this.scale_},ol.style.Text.prototype.getStroke=function(){return this.stroke_},ol.style.Text.prototype.getText=function(){return this.text_},ol.style.Text.prototype.getTextAlign=function(){return this.textAlign_},ol.style.Text.prototype.getTextBaseline=function(){return this.textBaseline_},ol.style.Text.prototype.setFont=function(e){this.font_=e},ol.style.Text.prototype.setOffsetX=function(e){this.offsetX_=e},ol.style.Text.prototype.setOffsetY=function(e){this.offsetY_=e},ol.style.Text.prototype.setFill=function(e){this.fill_=e},ol.style.Text.prototype.setRotation=function(e){this.rotation_=e},ol.style.Text.prototype.setScale=function(e){this.scale_=e},ol.style.Text.prototype.setStroke=function(e){this.stroke_=e},ol.style.Text.prototype.setText=function(e){this.text_=e},ol.style.Text.prototype.setTextAlign=function(e){this.textAlign_=e},ol.style.Text.prototype.setTextBaseline=function(e){this.textBaseline_=e},goog.provide("ol.format.KML"),goog.require("goog.Uri"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.dom.NodeType"),goog.require("goog.math"),goog.require("goog.object"),goog.require("goog.string"),goog.require("ol.Feature"),goog.require("ol.FeatureStyleFunction"),goog.require("ol.color"),goog.require("ol.format.Feature"),goog.require("ol.format.XMLFeature"),goog.require("ol.format.XSD"),goog.require("ol.geom.Geometry"),goog.require("ol.geom.GeometryCollection"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.LineString"),goog.require("ol.geom.LinearRing"),goog.require("ol.geom.MultiLineString"),goog.require("ol.geom.MultiPoint"),goog.require("ol.geom.MultiPolygon"),goog.require("ol.geom.Point"),goog.require("ol.geom.Polygon"),goog.require("ol.proj"),goog.require("ol.style.Fill"),goog.require("ol.style.Icon"),goog.require("ol.style.IconAnchorUnits"),goog.require("ol.style.IconOrigin"),goog.require("ol.style.Image"),goog.require("ol.style.Stroke"),goog.require("ol.style.Style"),goog.require("ol.style.Text"),goog.require("ol.xml"),ol.format.KMLVec2_,ol.format.KMLGxTrackObject_,ol.format.KML=function(e){var o=goog.isDef(e)?e:{};goog.base(this),this.defaultDataProjection=ol.proj.get("EPSG:4326");var t=goog.isDef(o.defaultStyle)?o.defaultStyle:ol.format.KML.DEFAULT_STYLE_ARRAY_,r={},n=function(e){return goog.isArray(e)?e:goog.isString(e)?(!(e in r)&&"#"+e in r&&(e="#"+e),n(r[e])):t};this.extractStyles_=goog.isDef(o.extractStyles)?o.extractStyles:!0,this.sharedStyles_=r,this.featureStyleFunction_=function(e){var o=this.get("Style");if(goog.isDef(o))return o;var r=this.get("styleUrl");return goog.isDef(r)?n(r):t}},goog.inherits(ol.format.KML,ol.format.XMLFeature),ol.format.KML.EXTENSIONS_=[".kml"],ol.format.KML.GX_NAMESPACE_URIS_=["http://www.google.com/kml/ext/2.2"],ol.format.KML.NAMESPACE_URIS_=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],ol.format.KML.SCHEMA_LOCATION_="http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd",ol.format.KML.DEFAULT_COLOR_=[255,255,255,1],ol.format.KML.DEFAULT_FILL_STYLE_=new ol.style.Fill({color:ol.format.KML.DEFAULT_COLOR_}),ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_=[20,2],ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_X_UNITS_=ol.style.IconAnchorUnits.PIXELS,ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_Y_UNITS_=ol.style.IconAnchorUnits.PIXELS,ol.format.KML.DEFAULT_IMAGE_STYLE_SIZE_=[64,64],ol.format.KML.DEFAULT_IMAGE_STYLE_SRC_="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png",ol.format.KML.DEFAULT_IMAGE_STYLE_=new ol.style.Icon({anchor:ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_,anchorOrigin:ol.style.IconOrigin.BOTTOM_LEFT,anchorXUnits:ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_X_UNITS_,anchorYUnits:ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_Y_UNITS_,crossOrigin:"anonymous",rotation:0,scale:.5,size:ol.format.KML.DEFAULT_IMAGE_STYLE_SIZE_,src:ol.format.KML.DEFAULT_IMAGE_STYLE_SRC_}),ol.format.KML.DEFAULT_STROKE_STYLE_=new ol.style.Stroke({color:ol.format.KML.DEFAULT_COLOR_,width:1}),ol.format.KML.DEFAULT_TEXT_STYLE_=new ol.style.Text({font:"normal 16px Helvetica",fill:ol.format.KML.DEFAULT_FILL_STYLE_,stroke:ol.format.KML.DEFAULT_STROKE_STYLE_,scale:1}),ol.format.KML.DEFAULT_STYLE_=new ol.style.Style({fill:ol.format.KML.DEFAULT_FILL_STYLE_,image:ol.format.KML.DEFAULT_IMAGE_STYLE_,text:ol.format.KML.DEFAULT_TEXT_STYLE_,stroke:ol.format.KML.DEFAULT_STROKE_STYLE_,zIndex:0}),ol.format.KML.DEFAULT_STYLE_ARRAY_=[ol.format.KML.DEFAULT_STYLE_],ol.format.KML.ICON_ANCHOR_UNITS_MAP_={fraction:ol.style.IconAnchorUnits.FRACTION,pixels:ol.style.IconAnchorUnits.PIXELS},ol.format.KML.readColor_=function(e){var o=ol.xml.getAllTextContent(e,!1),t=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(o);if(t){var r=t[1];return[parseInt(r.substr(6,2),16),parseInt(r.substr(4,2),16),parseInt(r.substr(2,2),16),parseInt(r.substr(0,2),16)/255]}return void 0},ol.format.KML.readFlatCoordinates_=function(e){for(var o,t=ol.xml.getAllTextContent(e,!1),r=[],n=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?))?\s*/i;o=n.exec(t);){var i=parseFloat(o[1]),a=parseFloat(o[2]),s=o[3]?parseFloat(o[3]):0;r.push(i,a,s),t=t.substr(o[0].length)}return""!==t?void 0:r},ol.format.KML.readStyleUrl_=function(e){var o=goog.string.trim(ol.xml.getAllTextContent(e,!1));return goog.isDefAndNotNull(e.baseURI)?goog.Uri.resolve(e.baseURI,o).toString():o},ol.format.KML.readURI_=function(e){var o=ol.xml.getAllTextContent(e,!1);return goog.isDefAndNotNull(e.baseURI)?goog.Uri.resolve(e.baseURI,goog.string.trim(o)).toString():goog.string.trim(o)},ol.format.KML.readVec2_=function(e){var o=e.getAttribute("xunits"),t=e.getAttribute("yunits");return{x:parseFloat(e.getAttribute("x")),xunits:ol.format.KML.ICON_ANCHOR_UNITS_MAP_[o],y:parseFloat(e.getAttribute("y")),yunits:ol.format.KML.ICON_ANCHOR_UNITS_MAP_[t]}},ol.format.KML.readScale_=function(e){var o=ol.format.XSD.readDecimal(e);return goog.isDef(o)?Math.sqrt(o):void 0},ol.format.KML.readStyleMapValue_=function(e,o){return ol.xml.pushParseAndPop(void 0,ol.format.KML.STYLE_MAP_PARSERS_,e,o)},ol.format.KML.IconStyleParser_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be an ELEMENT"),goog.asserts.assert("IconStyle"==e.localName,"localName should be IconStyle");var t=ol.xml.pushParseAndPop({},ol.format.KML.ICON_STYLE_PARSERS_,e,o);if(goog.isDef(t)){var r=o[o.length-1];goog.asserts.assert(goog.isObject(r),"styleObject should be an Object");var n,i=goog.object.get(t,"Icon",{}),a=i.href;n=goog.isDef(a)?a:ol.format.KML.DEFAULT_IMAGE_STYLE_SRC_;var s,g,l,p=t.hotSpot;goog.isDef(p)?(s=[p.x,p.y],g=p.xunits,l=p.yunits):n===ol.format.KML.DEFAULT_IMAGE_STYLE_SRC_?(s=ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_,g=ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_X_UNITS_,l=ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_Y_UNITS_):/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(n)&&(s=[.5,0],g=ol.style.IconAnchorUnits.FRACTION,l=ol.style.IconAnchorUnits.FRACTION);var u,c=i.x,d=i.y;goog.isDef(c)&&goog.isDef(d)&&(u=[c,d]);var h,m=i.w,y=i.h;goog.isDef(m)&&goog.isDef(y)&&(h=[m,y]);var f,v=t.heading;goog.isDef(v)&&(f=goog.math.toRadians(v));var _=t.scale;n==ol.format.KML.DEFAULT_IMAGE_STYLE_SRC_&&(h=ol.format.KML.DEFAULT_IMAGE_STYLE_SIZE_);var E=new ol.style.Icon({anchor:s,anchorOrigin:ol.style.IconOrigin.BOTTOM_LEFT,anchorXUnits:g,anchorYUnits:l,crossOrigin:"anonymous",offset:u,offsetOrigin:ol.style.IconOrigin.BOTTOM_LEFT,rotation:f,scale:_,size:h,src:n});r.imageStyle=E}},ol.format.KML.LabelStyleParser_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("LabelStyle"==e.localName,"localName should be LabelStyle");var t=ol.xml.pushParseAndPop({},ol.format.KML.LABEL_STYLE_PARSERS_,e,o);if(goog.isDef(t)){var r=o[o.length-1];goog.asserts.assert(goog.isObject(r),"styleObject should be an Object");var n=new ol.style.Text({fill:new ol.style.Fill({color:goog.object.get(t,"color",ol.format.KML.DEFAULT_COLOR_)}),scale:t.scale});r.textStyle=n}},ol.format.KML.LineStyleParser_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("LineStyle"==e.localName,"localName should be LineStyle");var t=ol.xml.pushParseAndPop({},ol.format.KML.LINE_STYLE_PARSERS_,e,o);if(goog.isDef(t)){var r=o[o.length-1];goog.asserts.assert(goog.isObject(r),"styleObject should be an Object");var n=new ol.style.Stroke({color:goog.object.get(t,"color",ol.format.KML.DEFAULT_COLOR_),width:goog.object.get(t,"width",1)});r.strokeStyle=n}},ol.format.KML.PolyStyleParser_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("PolyStyle"==e.localName,"localName should be PolyStyle");var t=ol.xml.pushParseAndPop({},ol.format.KML.POLY_STYLE_PARSERS_,e,o);if(goog.isDef(t)){var r=o[o.length-1];goog.asserts.assert(goog.isObject(r),"styleObject should be an Object");var n=new ol.style.Fill({color:goog.object.get(t,"color",ol.format.KML.DEFAULT_COLOR_)});r.fillStyle=n;var i=t.fill;goog.isDef(i)&&(r.fill=i);var a=t.outline;goog.isDef(a)&&(r.outline=a)}},ol.format.KML.readFlatLinearRing_=function(e,o){return goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("LinearRing"==e.localName,"localName should be LinearRing"),ol.xml.pushParseAndPop(null,ol.format.KML.FLAT_LINEAR_RING_PARSERS_,e,o)},ol.format.KML.gxCoordParser_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert(goog.array.contains(ol.format.KML.GX_NAMESPACE_URIS_,e.namespaceURI),"namespaceURI of the node should be known to the KML parser"),goog.asserts.assert("coord"==e.localName,"localName should be coord");var t=o[o.length-1];goog.asserts.assert(goog.isObject(t),"gxTrackObject should be an Object");var r=t.flatCoordinates,n=ol.xml.getAllTextContent(e,!1),i=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i,a=i.exec(n);if(a){var s=parseFloat(a[1]),g=parseFloat(a[2]),l=parseFloat(a[3]);r.push(s,g,l,0)}else r.push(0,0,0,0)},ol.format.KML.readGxMultiTrack_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert(goog.array.contains(ol.format.KML.GX_NAMESPACE_URIS_,e.namespaceURI),"namespaceURI of the node should be known to the KML parser"),goog.asserts.assert("MultiTrack"==e.localName,"localName should be MultiTrack");var t=ol.xml.pushParseAndPop([],ol.format.KML.GX_MULTITRACK_GEOMETRY_PARSERS_,e,o);if(!goog.isDef(t))return void 0;var r=new ol.geom.MultiLineString(null);return r.setLineStrings(t),r},ol.format.KML.readGxTrack_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert(goog.array.contains(ol.format.KML.GX_NAMESPACE_URIS_,e.namespaceURI),"namespaceURI of the node should be known to the KML parser"),goog.asserts.assert("Track"==e.localName,"localName should be Track");var t=ol.xml.pushParseAndPop({flatCoordinates:[],whens:[]},ol.format.KML.GX_TRACK_PARSERS_,e,o);if(!goog.isDef(t))return void 0;var r=t.flatCoordinates,n=t.whens;goog.asserts.assert(r.length/4==n.length,"the length of the flatCoordinates array divided by 4 should be the length of the whens array");var i,a;for(i=0,a=Math.min(r.length,n.length);a>i;++i)r[4*i+3]=n[i];var s=new ol.geom.LineString(null);return s.setFlatCoordinates(ol.geom.GeometryLayout.XYZM,r),s},ol.format.KML.readIcon_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("Icon"==e.localName,"localName should be Icon");var t=ol.xml.pushParseAndPop({},ol.format.KML.ICON_PARSERS_,e,o);return goog.isDef(t)?t:null},ol.format.KML.readFlatCoordinatesFromNode_=function(e,o){return goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),ol.xml.pushParseAndPop(null,ol.format.KML.GEOMETRY_FLAT_COORDINATES_PARSERS_,e,o)},ol.format.KML.readLineString_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("LineString"==e.localName,"localName should be LineString");var t=ol.xml.pushParseAndPop({},ol.format.KML.EXTRUDE_AND_ALTITUDE_MODE_PARSERS_,e,o),r=ol.format.KML.readFlatCoordinatesFromNode_(e,o);if(goog.isDef(r)){var n=new ol.geom.LineString(null);return n.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,r),n.setProperties(t),n}return void 0},ol.format.KML.readLinearRing_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("LinearRing"==e.localName,"localName should be LinearRing");var t=ol.xml.pushParseAndPop({},ol.format.KML.EXTRUDE_AND_ALTITUDE_MODE_PARSERS_,e,o),r=ol.format.KML.readFlatCoordinatesFromNode_(e,o);if(goog.isDef(r)){var n=new ol.geom.Polygon(null);return n.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,r,[r.length]),n.setProperties(t),n}return void 0},ol.format.KML.readMultiGeometry_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("MultiGeometry"==e.localName,"localName should be MultiGeometry");var t=ol.xml.pushParseAndPop([],ol.format.KML.MULTI_GEOMETRY_PARSERS_,e,o);if(!goog.isDef(t))return null;if(0===t.length)return new ol.geom.GeometryCollection(t);var r,n,i,a=!0,s=t[0].getType();for(n=1,i=t.length;i>n;++n)if(r=t[n],r.getType()!=s){a=!1;break}if(a){var g,l;if(s==ol.geom.GeometryType.POINT){var p=t[0];for(goog.asserts.assertInstanceof(p,ol.geom.Point,"point should be an ol.geom.Point"),g=p.getLayout(),l=p.getFlatCoordinates(),n=1,i=t.length;i>n;++n)r=t[n],goog.asserts.assertInstanceof(r,ol.geom.Point,"geometry should be an ol.geom.Point"),goog.asserts.assert(r.getLayout()==g,"geometry layout should be consistent"),goog.array.extend(l,r.getFlatCoordinates());var u=new ol.geom.MultiPoint(null);return u.setFlatCoordinates(g,l),ol.format.KML.setCommonGeometryProperties_(u,t),u}if(s==ol.geom.GeometryType.LINE_STRING){var c=new ol.geom.MultiLineString(null);return c.setLineStrings(t),ol.format.KML.setCommonGeometryProperties_(c,t),c}if(s==ol.geom.GeometryType.POLYGON){var d=new ol.geom.MultiPolygon(null);return d.setPolygons(t),ol.format.KML.setCommonGeometryProperties_(d,t),d}return s==ol.geom.GeometryType.GEOMETRY_COLLECTION?new ol.geom.GeometryCollection(t):(goog.asserts.fail("Unexpected type: "+s),null)}return new ol.geom.GeometryCollection(t)},ol.format.KML.readPoint_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("Point"==e.localName,"localName should be Point");var t=ol.xml.pushParseAndPop({},ol.format.KML.EXTRUDE_AND_ALTITUDE_MODE_PARSERS_,e,o),r=ol.format.KML.readFlatCoordinatesFromNode_(e,o);if(goog.isDefAndNotNull(r)){var n=new ol.geom.Point(null);return goog.asserts.assert(3==r.length,"flatCoordinates should have a length of 3"),n.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,r),n.setProperties(t),n}return void 0},ol.format.KML.readPolygon_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("Polygon"==e.localName,"localName should be Polygon");var t=ol.xml.pushParseAndPop({},ol.format.KML.EXTRUDE_AND_ALTITUDE_MODE_PARSERS_,e,o),r=ol.xml.pushParseAndPop([null],ol.format.KML.FLAT_LINEAR_RINGS_PARSERS_,e,o);if(goog.isDefAndNotNull(r)&&!goog.isNull(r[0])){var n,i,a=new ol.geom.Polygon(null),s=r[0],g=[s.length];for(n=1,i=r.length;i>n;++n)goog.array.extend(s,r[n]),g.push(s.length);return a.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,s,g),a.setProperties(t),a}return void 0},ol.format.KML.readStyle_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("Style"==e.localName,"localName should be Style");var t=ol.xml.pushParseAndPop({},ol.format.KML.STYLE_PARSERS_,e,o);if(!goog.isDef(t))return null;var r=goog.object.get(t,"fillStyle",ol.format.KML.DEFAULT_FILL_STYLE_),n=t.fill;goog.isDef(n)&&!n&&(r=null);var i=goog.object.get(t,"imageStyle",ol.format.KML.DEFAULT_IMAGE_STYLE_),a=goog.object.get(t,"textStyle",ol.format.KML.DEFAULT_TEXT_STYLE_),s=goog.object.get(t,"strokeStyle",ol.format.KML.DEFAULT_STROKE_STYLE_),g=t.outline;return goog.isDef(g)&&!g&&(s=null),[new ol.style.Style({fill:r,image:i,stroke:s,text:a,zIndex:void 0})]},ol.format.KML.setCommonGeometryProperties_=function(e,o){var t,r,n,i,a=o.length,s=new Array(o.length),g=new Array(o.length);for(n=i=!1,r=0;a>r;++r)t=o[r],s[r]=t.get("extrude"),g[r]=t.get("altitudeMode"),n=n||goog.isDef(s[r]),i=i||goog.isDef(g[r]);n&&e.set("extrude",s),i&&e.set("altitudeMode",g)},ol.format.KML.DataParser_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("Data"==e.localName,"localName should be Data");var t=e.getAttribute("name");if(!goog.isNull(t)){var r=ol.xml.pushParseAndPop(void 0,ol.format.KML.DATA_PARSERS_,e,o);if(goog.isDef(r)){var n=o[o.length-1];goog.asserts.assert(goog.isObject(n),"featureObject should be an Object"),n[t]=r}}},ol.format.KML.ExtendedDataParser_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("ExtendedData"==e.localName,"localName should be ExtendedData"),ol.xml.parseNode(ol.format.KML.EXTENDED_DATA_PARSERS_,e,o)},ol.format.KML.PairDataParser_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("Pair"==e.localName,"localName should be Pair");var t=ol.xml.pushParseAndPop({},ol.format.KML.PAIR_PARSERS_,e,o);if(goog.isDef(t)){var r=t.key;if(goog.isDef(r)&&"normal"==r){var n=t.styleUrl;goog.isDef(n)&&(o[o.length-1]=n);var i=t.Style;goog.isDef(i)&&(o[o.length-1]=i)}}},ol.format.KML.PlacemarkStyleMapParser_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("StyleMap"==e.localName,"localName should be StyleMap");var t=ol.format.KML.readStyleMapValue_(e,o);if(goog.isDef(t)){var r=o[o.length-1];goog.asserts.assert(goog.isObject(r),"placemarkObject should be an Object"),goog.isArray(t)?r.Style=t:goog.isString(t)?r.styleUrl=t:goog.asserts.fail("styleMapValue has an unknown type")}},ol.format.KML.SchemaDataParser_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("SchemaData"==e.localName,"localName should be SchemaData"),ol.xml.parseNode(ol.format.KML.SCHEMA_DATA_PARSERS_,e,o)},ol.format.KML.SimpleDataParser_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("SimpleData"==e.localName,"localName should be SimpleData");var t=e.getAttribute("name");if(!goog.isNull(t)){var r=ol.format.XSD.readString(e),n=o[o.length-1];n[t]=r}},ol.format.KML.innerBoundaryIsParser_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("innerBoundaryIs"==e.localName,"localName should be innerBoundaryIs");var t=ol.xml.pushParseAndPop(void 0,ol.format.KML.INNER_BOUNDARY_IS_PARSERS_,e,o);if(goog.isDef(t)){var r=o[o.length-1];goog.asserts.assert(goog.isArray(r),"flatLinearRings should be an array"),goog.asserts.assert(r.length>0,"flatLinearRings array should not be empty"),r.push(t)}},ol.format.KML.outerBoundaryIsParser_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("outerBoundaryIs"==e.localName,"localName should be outerBoundaryIs");var t=ol.xml.pushParseAndPop(void 0,ol.format.KML.OUTER_BOUNDARY_IS_PARSERS_,e,o);if(goog.isDef(t)){var r=o[o.length-1];goog.asserts.assert(goog.isArray(r),"flatLinearRings should be an array"),goog.asserts.assert(r.length>0,"flatLinearRings array should not be empty"),r[0]=t}},ol.format.KML.LinkParser_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("Link"==e.localName,"localName should be Link"),ol.xml.parseNode(ol.format.KML.LINK_PARSERS_,e,o)},ol.format.KML.whenParser_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("when"==e.localName,"localName should be when");var t=o[o.length-1];goog.asserts.assert(goog.isObject(t),"gxTrackObject should be an Object");var r=t.whens,n=ol.xml.getAllTextContent(e,!1),i=/^\s*(\d{4})($|-(\d{2})($|-(\d{2})($|T(\d{2}):(\d{2}):(\d{2})(Z|(?:([+\-])(\d{2})(?::(\d{2}))?)))))\s*$/,a=i.exec(n);if(a){var s=parseInt(a[1],10),g=goog.isDef(a[3])?parseInt(a[3],10)-1:0,l=goog.isDef(a[5])?parseInt(a[5],10):1,p=goog.isDef(a[7])?parseInt(a[7],10):0,u=goog.isDef(a[8])?parseInt(a[8],10):0,c=goog.isDef(a[9])?parseInt(a[9],10):0,d=Date.UTC(s,g,l,p,u,c);if(goog.isDef(a[10])&&"Z"!=a[10]){var h="-"==a[11]?-1:1;d+=60*h*parseInt(a[12],10),goog.isDef(a[13])&&(d+=60*h*60*parseInt(a[13],10))}r.push(d)}else r.push(0)},ol.format.KML.DATA_PARSERS_=ol.xml.makeParsersNS(ol.format.KML.NAMESPACE_URIS_,{value:ol.xml.makeReplacer(ol.format.XSD.readString)}),ol.format.KML.EXTENDED_DATA_PARSERS_=ol.xml.makeParsersNS(ol.format.KML.NAMESPACE_URIS_,{Data:ol.format.KML.DataParser_,SchemaData:ol.format.KML.SchemaDataParser_}),ol.format.KML.EXTRUDE_AND_ALTITUDE_MODE_PARSERS_=ol.xml.makeParsersNS(ol.format.KML.NAMESPACE_URIS_,{extrude:ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean),altitudeMode:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)}),ol.format.KML.FLAT_LINEAR_RING_PARSERS_=ol.xml.makeParsersNS(ol.format.KML.NAMESPACE_URIS_,{coordinates:ol.xml.makeReplacer(ol.format.KML.readFlatCoordinates_)}),ol.format.KML.FLAT_LINEAR_RINGS_PARSERS_=ol.xml.makeParsersNS(ol.format.KML.NAMESPACE_URIS_,{innerBoundaryIs:ol.format.KML.innerBoundaryIsParser_,outerBoundaryIs:ol.format.KML.outerBoundaryIsParser_}),ol.format.KML.GX_TRACK_PARSERS_=ol.xml.makeParsersNS(ol.format.KML.NAMESPACE_URIS_,{when:ol.format.KML.whenParser_},ol.xml.makeParsersNS(ol.format.KML.GX_NAMESPACE_URIS_,{coord:ol.format.KML.gxCoordParser_})),ol.format.KML.GEOMETRY_FLAT_COORDINATES_PARSERS_=ol.xml.makeParsersNS(ol.format.KML.NAMESPACE_URIS_,{coordinates:ol.xml.makeReplacer(ol.format.KML.readFlatCoordinates_)}),ol.format.KML.ICON_PARSERS_=ol.xml.makeParsersNS(ol.format.KML.NAMESPACE_URIS_,{href:ol.xml.makeObjectPropertySetter(ol.format.KML.readURI_)},ol.xml.makeParsersNS(ol.format.KML.GX_NAMESPACE_URIS_,{x:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),
y:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),w:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),h:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal)})),ol.format.KML.ICON_STYLE_PARSERS_=ol.xml.makeParsersNS(ol.format.KML.NAMESPACE_URIS_,{Icon:ol.xml.makeObjectPropertySetter(ol.format.KML.readIcon_),heading:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),hotSpot:ol.xml.makeObjectPropertySetter(ol.format.KML.readVec2_),scale:ol.xml.makeObjectPropertySetter(ol.format.KML.readScale_)}),ol.format.KML.INNER_BOUNDARY_IS_PARSERS_=ol.xml.makeParsersNS(ol.format.KML.NAMESPACE_URIS_,{LinearRing:ol.xml.makeReplacer(ol.format.KML.readFlatLinearRing_)}),ol.format.KML.LABEL_STYLE_PARSERS_=ol.xml.makeParsersNS(ol.format.KML.NAMESPACE_URIS_,{color:ol.xml.makeObjectPropertySetter(ol.format.KML.readColor_),scale:ol.xml.makeObjectPropertySetter(ol.format.KML.readScale_)}),ol.format.KML.LINE_STYLE_PARSERS_=ol.xml.makeParsersNS(ol.format.KML.NAMESPACE_URIS_,{color:ol.xml.makeObjectPropertySetter(ol.format.KML.readColor_),width:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal)}),ol.format.KML.MULTI_GEOMETRY_PARSERS_=ol.xml.makeParsersNS(ol.format.KML.NAMESPACE_URIS_,{LineString:ol.xml.makeArrayPusher(ol.format.KML.readLineString_),LinearRing:ol.xml.makeArrayPusher(ol.format.KML.readLinearRing_),MultiGeometry:ol.xml.makeArrayPusher(ol.format.KML.readMultiGeometry_),Point:ol.xml.makeArrayPusher(ol.format.KML.readPoint_),Polygon:ol.xml.makeArrayPusher(ol.format.KML.readPolygon_)}),ol.format.KML.GX_MULTITRACK_GEOMETRY_PARSERS_=ol.xml.makeParsersNS(ol.format.KML.GX_NAMESPACE_URIS_,{Track:ol.xml.makeArrayPusher(ol.format.KML.readGxTrack_)}),ol.format.KML.NETWORK_LINK_PARSERS_=ol.xml.makeParsersNS(ol.format.KML.NAMESPACE_URIS_,{ExtendedData:ol.format.KML.ExtendedDataParser_,Link:ol.format.KML.LinkParser_,address:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),description:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),name:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),open:ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean),phoneNumber:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),visibility:ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean)}),ol.format.KML.LINK_PARSERS_=ol.xml.makeParsersNS(ol.format.KML.NAMESPACE_URIS_,{href:ol.xml.makeObjectPropertySetter(ol.format.KML.readURI_)}),ol.format.KML.OUTER_BOUNDARY_IS_PARSERS_=ol.xml.makeParsersNS(ol.format.KML.NAMESPACE_URIS_,{LinearRing:ol.xml.makeReplacer(ol.format.KML.readFlatLinearRing_)}),ol.format.KML.PAIR_PARSERS_=ol.xml.makeParsersNS(ol.format.KML.NAMESPACE_URIS_,{Style:ol.xml.makeObjectPropertySetter(ol.format.KML.readStyle_),key:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),styleUrl:ol.xml.makeObjectPropertySetter(ol.format.KML.readStyleUrl_)}),ol.format.KML.PLACEMARK_PARSERS_=ol.xml.makeParsersNS(ol.format.KML.NAMESPACE_URIS_,{ExtendedData:ol.format.KML.ExtendedDataParser_,MultiGeometry:ol.xml.makeObjectPropertySetter(ol.format.KML.readMultiGeometry_,"geometry"),LineString:ol.xml.makeObjectPropertySetter(ol.format.KML.readLineString_,"geometry"),LinearRing:ol.xml.makeObjectPropertySetter(ol.format.KML.readLinearRing_,"geometry"),Point:ol.xml.makeObjectPropertySetter(ol.format.KML.readPoint_,"geometry"),Polygon:ol.xml.makeObjectPropertySetter(ol.format.KML.readPolygon_,"geometry"),Style:ol.xml.makeObjectPropertySetter(ol.format.KML.readStyle_),StyleMap:ol.format.KML.PlacemarkStyleMapParser_,address:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),description:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),name:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),open:ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean),phoneNumber:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),styleUrl:ol.xml.makeObjectPropertySetter(ol.format.KML.readURI_),visibility:ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean)},ol.xml.makeParsersNS(ol.format.KML.GX_NAMESPACE_URIS_,{MultiTrack:ol.xml.makeObjectPropertySetter(ol.format.KML.readGxMultiTrack_,"geometry"),Track:ol.xml.makeObjectPropertySetter(ol.format.KML.readGxTrack_,"geometry")})),ol.format.KML.POLY_STYLE_PARSERS_=ol.xml.makeParsersNS(ol.format.KML.NAMESPACE_URIS_,{color:ol.xml.makeObjectPropertySetter(ol.format.KML.readColor_),fill:ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean),outline:ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean)}),ol.format.KML.SCHEMA_DATA_PARSERS_=ol.xml.makeParsersNS(ol.format.KML.NAMESPACE_URIS_,{SimpleData:ol.format.KML.SimpleDataParser_}),ol.format.KML.STYLE_PARSERS_=ol.xml.makeParsersNS(ol.format.KML.NAMESPACE_URIS_,{IconStyle:ol.format.KML.IconStyleParser_,LabelStyle:ol.format.KML.LabelStyleParser_,LineStyle:ol.format.KML.LineStyleParser_,PolyStyle:ol.format.KML.PolyStyleParser_}),ol.format.KML.STYLE_MAP_PARSERS_=ol.xml.makeParsersNS(ol.format.KML.NAMESPACE_URIS_,{Pair:ol.format.KML.PairDataParser_}),ol.format.KML.prototype.getExtensions=function(){return ol.format.KML.EXTENSIONS_},ol.format.KML.prototype.readDocumentOrFolder_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT");var t=ol.xml.getLocalName(e);goog.asserts.assert("Document"==t||"Folder"==t,"localName should be Document or Folder");var r=ol.xml.makeParsersNS(ol.format.KML.NAMESPACE_URIS_,{Folder:ol.xml.makeArrayExtender(this.readDocumentOrFolder_,this),Placemark:ol.xml.makeArrayPusher(this.readPlacemark_,this),Style:goog.bind(this.readSharedStyle_,this),StyleMap:goog.bind(this.readSharedStyleMap_,this)}),n=ol.xml.pushParseAndPop([],r,e,o,this);return goog.isDef(n)?n:void 0},ol.format.KML.prototype.readPlacemark_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("Placemark"==e.localName,"localName should be Placemark");var t=ol.xml.pushParseAndPop({geometry:null},ol.format.KML.PLACEMARK_PARSERS_,e,o);if(!goog.isDef(t))return void 0;var r=new ol.Feature,n=e.getAttribute("id");goog.isNull(n)||r.setId(n);var i=o[0];return goog.isDefAndNotNull(t.geometry)&&ol.format.Feature.transformWithOptions(t.geometry,!1,i),r.setProperties(t),this.extractStyles_&&r.setStyle(this.featureStyleFunction_),r},ol.format.KML.prototype.readSharedStyle_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("Style"==e.localName,"localName should be Style");var t=e.getAttribute("id");if(!goog.isNull(t)){var r=ol.format.KML.readStyle_(e,o);if(goog.isDef(r)){var n;n=goog.isDefAndNotNull(e.baseURI)?goog.Uri.resolve(e.baseURI,"#"+t).toString():"#"+t,this.sharedStyles_[n]=r}}},ol.format.KML.prototype.readSharedStyleMap_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("StyleMap"==e.localName,"localName should be StyleMap");var t=e.getAttribute("id");if(!goog.isNull(t)){var r=ol.format.KML.readStyleMapValue_(e,o);if(goog.isDef(r)){var n;n=goog.isDefAndNotNull(e.baseURI)?goog.Uri.resolve(e.baseURI,"#"+t).toString():"#"+t,this.sharedStyles_[n]=r}}},ol.format.KML.prototype.readFeature,ol.format.KML.prototype.readFeatureFromNode=function(e,o){if(goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),!goog.array.contains(ol.format.KML.NAMESPACE_URIS_,e.namespaceURI))return null;goog.asserts.assert("Placemark"==e.localName,"localName should be Placemark");var t=this.readPlacemark_(e,[this.getReadOptions(e,o)]);return goog.isDef(t)?t:null},ol.format.KML.prototype.readFeatures,ol.format.KML.prototype.readFeaturesFromNode=function(e,o){if(goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),!goog.array.contains(ol.format.KML.NAMESPACE_URIS_,e.namespaceURI))return[];var t,r=ol.xml.getLocalName(e);if("Document"==r||"Folder"==r)return t=this.readDocumentOrFolder_(e,[this.getReadOptions(e,o)]),goog.isDef(t)?t:[];if("Placemark"==r){var n=this.readPlacemark_(e,[this.getReadOptions(e,o)]);return goog.isDef(n)?[n]:[]}if("kml"==r){t=[];var i;for(i=e.firstElementChild;!goog.isNull(i);i=i.nextElementSibling){var a=this.readFeaturesFromNode(i,o);goog.isDef(a)&&goog.array.extend(t,a)}return t}return[]},ol.format.KML.prototype.readName=function(e){if(ol.xml.isDocument(e))return this.readNameFromDocument(e);if(ol.xml.isNode(e))return this.readNameFromNode(e);if(goog.isString(e)){var o=ol.xml.parse(e);return this.readNameFromDocument(o)}return void goog.asserts.fail("Unknown type for source")},ol.format.KML.prototype.readNameFromDocument=function(e){var o;for(o=e.firstChild;!goog.isNull(o);o=o.nextSibling)if(o.nodeType==goog.dom.NodeType.ELEMENT){var t=this.readNameFromNode(o);if(goog.isDef(t))return t}return void 0},ol.format.KML.prototype.readNameFromNode=function(e){var o;for(o=e.firstElementChild;!goog.isNull(o);o=o.nextElementSibling)if(goog.array.contains(ol.format.KML.NAMESPACE_URIS_,o.namespaceURI)&&"name"==o.localName)return ol.format.XSD.readString(o);for(o=e.firstElementChild;!goog.isNull(o);o=o.nextElementSibling){var t=ol.xml.getLocalName(o);if(goog.array.contains(ol.format.KML.NAMESPACE_URIS_,o.namespaceURI)&&("Document"==t||"Folder"==t||"Placemark"==t||"kml"==t)){var r=this.readNameFromNode(o);if(goog.isDef(r))return r}}return void 0},ol.format.KML.prototype.readNetworkLinks=function(e){var o=[];if(ol.xml.isDocument(e))goog.array.extend(o,this.readNetworkLinksFromDocument(e));else if(ol.xml.isNode(e))goog.array.extend(o,this.readNetworkLinksFromNode(e));else if(goog.isString(e)){var t=ol.xml.parse(e);goog.array.extend(o,this.readNetworkLinksFromDocument(t))}else goog.asserts.fail("unknown type for source");return o},ol.format.KML.prototype.readNetworkLinksFromDocument=function(e){var o,t=[];for(o=e.firstChild;!goog.isNull(o);o=o.nextSibling)o.nodeType==goog.dom.NodeType.ELEMENT&&goog.array.extend(t,this.readNetworkLinksFromNode(o));return t},ol.format.KML.prototype.readNetworkLinksFromNode=function(e){var o,t=[];for(o=e.firstElementChild;!goog.isNull(o);o=o.nextElementSibling)if(goog.array.contains(ol.format.KML.NAMESPACE_URIS_,o.namespaceURI)&&"NetworkLink"==o.localName){var r=ol.xml.pushParseAndPop({},ol.format.KML.NETWORK_LINK_PARSERS_,o,[]);t.push(r)}for(o=e.firstElementChild;!goog.isNull(o);o=o.nextElementSibling){var n=ol.xml.getLocalName(o);!goog.array.contains(ol.format.KML.NAMESPACE_URIS_,o.namespaceURI)||"Document"!=n&&"Folder"!=n&&"kml"!=n||goog.array.extend(t,this.readNetworkLinksFromNode(o))}return t},ol.format.KML.prototype.readProjection,ol.format.KML.writeColorTextNode_=function(e,o){var t,r=ol.color.asArray(o),n=4==r.length?r[3]:1,i=[255*n,r[2],r[1],r[0]];for(t=0;4>t;++t){var a=parseInt(i[t],10).toString(16);i[t]=1==a.length?"0"+a:a}ol.format.XSD.writeStringTextNode(e,i.join(""))},ol.format.KML.writeCoordinatesTextNode_=function(e,o,t){var r=t[t.length-1];goog.asserts.assert(goog.isObject(r),"context should be an Object");var n,i=r.layout,a=r.stride;i==ol.geom.GeometryLayout.XY||i==ol.geom.GeometryLayout.XYM?n=2:i==ol.geom.GeometryLayout.XYZ||i==ol.geom.GeometryLayout.XYZM?n=3:goog.asserts.fail("Unknown geometry layout");var s,g,l=o.length,p="";if(l>0){for(p+=o[0],s=1;n>s;++s)p+=","+o[s];for(g=a;l>g;g+=a)for(p+=" "+o[g],s=1;n>s;++s)p+=","+o[g+s]}ol.format.XSD.writeStringTextNode(e,p)},ol.format.KML.writeDocument_=function(e,o,t){var r={node:e};ol.xml.pushSerializeAndPop(r,ol.format.KML.DOCUMENT_SERIALIZERS_,ol.format.KML.DOCUMENT_NODE_FACTORY_,o,t)},ol.format.KML.writeIcon_=function(e,o,t){var r={node:e},n=t[t.length-1].node,i=ol.format.KML.ICON_SEQUENCE_[n.namespaceURI],a=ol.xml.makeSequence(o,i);ol.xml.pushSerializeAndPop(r,ol.format.KML.ICON_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,a,t,i),i=ol.format.KML.ICON_SEQUENCE_[ol.format.KML.GX_NAMESPACE_URIS_[0]],a=ol.xml.makeSequence(o,i),ol.xml.pushSerializeAndPop(r,ol.format.KML.ICON_SERIALIZERS_,ol.format.KML.GX_NODE_FACTORY_,a,t,i)},ol.format.KML.writeIconStyle_=function(e,o,t){var r={node:e},n={},i=o.getSrc(),a=o.getSize(),s=o.getImageSize(),g={href:i};if(!goog.isNull(a)){g.w=a[0],g.h=a[1];var l=o.getAnchor(),p=o.getOrigin();if(goog.isNull(p)||goog.isNull(s)||0===p[0]||p[1]===a[1]||(g.x=p[0],g.y=s[1]-(p[1]+a[1])),!goog.isNull(l)&&0!==l[0]&&l[1]!==a[1]){var u={x:l[0],xunits:ol.style.IconAnchorUnits.PIXELS,y:a[1]-l[1],yunits:ol.style.IconAnchorUnits.PIXELS};n.hotSpot=u}}n.Icon=g;var c=o.getScale();1!==c&&(n.scale=c);var d=o.getRotation();0!==d&&(n.heading=d);var h=t[t.length-1].node,m=ol.format.KML.ICON_STYLE_SEQUENCE_[h.namespaceURI],y=ol.xml.makeSequence(n,m);ol.xml.pushSerializeAndPop(r,ol.format.KML.ICON_STYLE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,y,t,m)},ol.format.KML.writeLabelStyle_=function(e,o,t){var r={node:e},n={},i=o.getFill();goog.isNull(i)||(n.color=i.getColor());var a=o.getScale();goog.isDef(a)&&1!==a&&(n.scale=a);var s=t[t.length-1].node,g=ol.format.KML.LABEL_STYLE_SEQUENCE_[s.namespaceURI],l=ol.xml.makeSequence(n,g);ol.xml.pushSerializeAndPop(r,ol.format.KML.LABEL_STYLE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,l,t,g)},ol.format.KML.writeLineStyle_=function(e,o,t){var r={node:e},n={color:o.getColor(),width:o.getWidth()},i=t[t.length-1].node,a=ol.format.KML.LINE_STYLE_SEQUENCE_[i.namespaceURI],s=ol.xml.makeSequence(n,a);ol.xml.pushSerializeAndPop(r,ol.format.KML.LINE_STYLE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,s,t,a)},ol.format.KML.writeMultiGeometry_=function(e,o,t){goog.asserts.assert(o instanceof ol.geom.MultiPoint||o instanceof ol.geom.MultiLineString||o instanceof ol.geom.MultiPolygon,"geometry should be one of: ol.geom.MultiPoint, ol.geom.MultiLineString or ol.geom.MultiPolygon");var r,n,i={node:e},a=o.getType();a==ol.geom.GeometryType.MULTI_POINT?(r=o.getPoints(),n=ol.format.KML.POINT_NODE_FACTORY_):a==ol.geom.GeometryType.MULTI_LINE_STRING?(r=o.getLineStrings(),n=ol.format.KML.LINE_STRING_NODE_FACTORY_):a==ol.geom.GeometryType.MULTI_POLYGON?(r=o.getPolygons(),n=ol.format.KML.POLYGON_NODE_FACTORY_):goog.asserts.fail("Unknown geometry type: "+a),ol.xml.pushSerializeAndPop(i,ol.format.KML.MULTI_GEOMETRY_SERIALIZERS_,n,r,t)},ol.format.KML.writeBoundaryIs_=function(e,o,t){var r={node:e};ol.xml.pushSerializeAndPop(r,ol.format.KML.BOUNDARY_IS_SERIALIZERS_,ol.format.KML.LINEAR_RING_NODE_FACTORY_,[o],t)},ol.format.KML.writePlacemark_=function(e,o,t){var r={node:e};goog.isDefAndNotNull(o.getId())&&e.setAttribute("id",o.getId());var n=o.getProperties(),i=o.getStyleFunction();if(goog.isDef(i)){var a=i.call(o,0);if(!goog.isNull(a)&&a.length>0){n.Style=a[0];var s=a[0].getText();goog.isNull(s)||(n.name=s.getText())}}var g=t[t.length-1].node,l=ol.format.KML.PLACEMARK_SEQUENCE_[g.namespaceURI],p=ol.xml.makeSequence(n,l);ol.xml.pushSerializeAndPop(r,ol.format.KML.PLACEMARK_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,p,t,l);var u=t[0],c=o.getGeometry();goog.isDefAndNotNull(c)&&(c=ol.format.Feature.transformWithOptions(c,!0,u)),ol.xml.pushSerializeAndPop(r,ol.format.KML.PLACEMARK_SERIALIZERS_,ol.format.KML.GEOMETRY_NODE_FACTORY_,[c],t)},ol.format.KML.writePrimitiveGeometry_=function(e,o,t){goog.asserts.assert(o instanceof ol.geom.Point||o instanceof ol.geom.LineString||o instanceof ol.geom.LinearRing,"geometry should be one of ol.geom.Point, ol.geom.LineString or ol.geom.LinearRing");var r=o.getFlatCoordinates(),n={node:e};n.layout=o.getLayout(),n.stride=o.getStride(),ol.xml.pushSerializeAndPop(n,ol.format.KML.PRIMITIVE_GEOMETRY_SERIALIZERS_,ol.format.KML.COORDINATES_NODE_FACTORY_,[r],t)},ol.format.KML.writePolygon_=function(e,o,t){goog.asserts.assertInstanceof(o,ol.geom.Polygon,"polygon should be an ol.geom.Polygon");var r=o.getLinearRings();goog.asserts.assert(r.length>0,"linearRings should not be empty");var n=r.shift(),i={node:e};ol.xml.pushSerializeAndPop(i,ol.format.KML.POLYGON_SERIALIZERS_,ol.format.KML.INNER_BOUNDARY_NODE_FACTORY_,r,t),ol.xml.pushSerializeAndPop(i,ol.format.KML.POLYGON_SERIALIZERS_,ol.format.KML.OUTER_BOUNDARY_NODE_FACTORY_,[n],t)},ol.format.KML.writePolyStyle_=function(e,o,t){var r={node:e};ol.xml.pushSerializeAndPop(r,ol.format.KML.POLY_STYLE_SERIALIZERS_,ol.format.KML.COLOR_NODE_FACTORY_,[o.getColor()],t)},ol.format.KML.writeScaleTextNode_=function(e,o){ol.format.XSD.writeDecimalTextNode(e,o*o)},ol.format.KML.writeStyle_=function(e,o,t){var r={node:e},n={},i=o.getFill(),a=o.getStroke(),s=o.getImage(),g=o.getText();goog.isNull(s)||(n.IconStyle=s),goog.isNull(g)||(n.LabelStyle=g),goog.isNull(a)||(n.LineStyle=a),goog.isNull(i)||(n.PolyStyle=i);var l=t[t.length-1].node,p=ol.format.KML.STYLE_SEQUENCE_[l.namespaceURI],u=ol.xml.makeSequence(n,p);ol.xml.pushSerializeAndPop(r,ol.format.KML.STYLE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,u,t,p)},ol.format.KML.writeVec2_=function(e,o){e.setAttribute("x",o.x),e.setAttribute("y",o.y),e.setAttribute("xunits",o.xunits),e.setAttribute("yunits",o.yunits)},ol.format.KML.KML_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,["Document","Placemark"]),ol.format.KML.KML_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{Document:ol.xml.makeChildAppender(ol.format.KML.writeDocument_),Placemark:ol.xml.makeChildAppender(ol.format.KML.writePlacemark_)}),ol.format.KML.DOCUMENT_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{Placemark:ol.xml.makeChildAppender(ol.format.KML.writePlacemark_)}),ol.format.KML.GEOMETRY_TYPE_TO_NODENAME_={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry"},ol.format.KML.ICON_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,["href"],ol.xml.makeStructureNS(ol.format.KML.GX_NAMESPACE_URIS_,["x","y","w","h"])),ol.format.KML.ICON_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{href:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode)},ol.xml.makeStructureNS(ol.format.KML.GX_NAMESPACE_URIS_,{x:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),y:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),w:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),h:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode)})),ol.format.KML.ICON_STYLE_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,["scale","heading","Icon","hotSpot"]),ol.format.KML.ICON_STYLE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{Icon:ol.xml.makeChildAppender(ol.format.KML.writeIcon_),heading:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),hotSpot:ol.xml.makeChildAppender(ol.format.KML.writeVec2_),scale:ol.xml.makeChildAppender(ol.format.KML.writeScaleTextNode_)}),ol.format.KML.LABEL_STYLE_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,["color","scale"]),ol.format.KML.LABEL_STYLE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{color:ol.xml.makeChildAppender(ol.format.KML.writeColorTextNode_),scale:ol.xml.makeChildAppender(ol.format.KML.writeScaleTextNode_)}),ol.format.KML.LINE_STYLE_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,["color","width"]),ol.format.KML.LINE_STYLE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{color:ol.xml.makeChildAppender(ol.format.KML.writeColorTextNode_),width:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode)}),ol.format.KML.BOUNDARY_IS_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{LinearRing:ol.xml.makeChildAppender(ol.format.KML.writePrimitiveGeometry_)}),ol.format.KML.MULTI_GEOMETRY_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{LineString:ol.xml.makeChildAppender(ol.format.KML.writePrimitiveGeometry_),Point:ol.xml.makeChildAppender(ol.format.KML.writePrimitiveGeometry_),Polygon:ol.xml.makeChildAppender(ol.format.KML.writePolygon_)}),ol.format.KML.PLACEMARK_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,["name","open","visibility","address","phoneNumber","description","styleUrl","Style"]),ol.format.KML.PLACEMARK_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{MultiGeometry:ol.xml.makeChildAppender(ol.format.KML.writeMultiGeometry_),LineString:ol.xml.makeChildAppender(ol.format.KML.writePrimitiveGeometry_),LinearRing:ol.xml.makeChildAppender(ol.format.KML.writePrimitiveGeometry_),Point:ol.xml.makeChildAppender(ol.format.KML.writePrimitiveGeometry_),Polygon:ol.xml.makeChildAppender(ol.format.KML.writePolygon_),Style:ol.xml.makeChildAppender(ol.format.KML.writeStyle_),address:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),description:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),name:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),open:ol.xml.makeChildAppender(ol.format.XSD.writeBooleanTextNode),phoneNumber:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),styleUrl:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),visibility:ol.xml.makeChildAppender(ol.format.XSD.writeBooleanTextNode)}),ol.format.KML.PRIMITIVE_GEOMETRY_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{coordinates:ol.xml.makeChildAppender(ol.format.KML.writeCoordinatesTextNode_)}),ol.format.KML.POLYGON_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{outerBoundaryIs:ol.xml.makeChildAppender(ol.format.KML.writeBoundaryIs_),innerBoundaryIs:ol.xml.makeChildAppender(ol.format.KML.writeBoundaryIs_)}),ol.format.KML.POLY_STYLE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{color:ol.xml.makeChildAppender(ol.format.KML.writeColorTextNode_)}),ol.format.KML.STYLE_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),ol.format.KML.STYLE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{IconStyle:ol.xml.makeChildAppender(ol.format.KML.writeIconStyle_),LabelStyle:ol.xml.makeChildAppender(ol.format.KML.writeLabelStyle_),LineStyle:ol.xml.makeChildAppender(ol.format.KML.writeLineStyle_),PolyStyle:ol.xml.makeChildAppender(ol.format.KML.writePolyStyle_)}),ol.format.KML.GX_NODE_FACTORY_=function(e,o,t){return ol.xml.createElementNS(ol.format.KML.GX_NAMESPACE_URIS_[0],"gx:"+t)},ol.format.KML.DOCUMENT_NODE_FACTORY_=function(e,o,t){goog.asserts.assertInstanceof(e,ol.Feature,"value should be an ol.Feature");var r=o[o.length-1].node;return goog.asserts.assert(ol.xml.isNode(r),"parentNode should be an XML node"),ol.xml.createElementNS(r.namespaceURI,"Placemark")},ol.format.KML.GEOMETRY_NODE_FACTORY_=function(e,o,t){if(goog.isDefAndNotNull(e)){goog.asserts.assertInstanceof(e,ol.geom.Geometry,"value should be an ol.geom.Geometry");var r=o[o.length-1].node;return goog.asserts.assert(ol.xml.isNode(r),"parentNode should be an XML node"),ol.xml.createElementNS(r.namespaceURI,ol.format.KML.GEOMETRY_TYPE_TO_NODENAME_[e.getType()])}},ol.format.KML.COLOR_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("color"),ol.format.KML.COORDINATES_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("coordinates"),ol.format.KML.INNER_BOUNDARY_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("innerBoundaryIs"),ol.format.KML.POINT_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("Point"),ol.format.KML.LINE_STRING_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("LineString"),ol.format.KML.LINEAR_RING_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("LinearRing"),ol.format.KML.POLYGON_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("Polygon"),ol.format.KML.OUTER_BOUNDARY_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("outerBoundaryIs"),ol.format.KML.prototype.writeFeatures,ol.format.KML.prototype.writeFeaturesNode=function(e,o){o=this.adaptOptions(o);var t=ol.xml.createElementNS(ol.format.KML.NAMESPACE_URIS_[4],"kml"),r="http://www.w3.org/2000/xmlns/",n="http://www.w3.org/2001/XMLSchema-instance";ol.xml.setAttributeNS(t,r,"xmlns:gx",ol.format.KML.GX_NAMESPACE_URIS_[0]),ol.xml.setAttributeNS(t,r,"xmlns:xsi",n),ol.xml.setAttributeNS(t,n,"xsi:schemaLocation",ol.format.KML.SCHEMA_LOCATION_);var i={node:t},a={};e.length>1?a.Document=e:1==e.length&&(a.Placemark=e[0]);var s=ol.format.KML.KML_SEQUENCE_[t.namespaceURI],g=ol.xml.makeSequence(a,s);return ol.xml.pushSerializeAndPop(i,ol.format.KML.KML_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,g,[o],s),t},goog.provide("ol.format.OSMXML"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.dom.NodeType"),goog.require("goog.object"),goog.require("ol.Feature"),goog.require("ol.format.Feature"),goog.require("ol.format.XMLFeature"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.LineString"),goog.require("ol.geom.Point"),goog.require("ol.geom.Polygon"),goog.require("ol.proj"),goog.require("ol.xml"),ol.format.OSMXML=function(){goog.base(this),this.defaultDataProjection=ol.proj.get("EPSG:4326")},goog.inherits(ol.format.OSMXML,ol.format.XMLFeature),ol.format.OSMXML.EXTENSIONS_=[".osm"],ol.format.OSMXML.prototype.getExtensions=function(){return ol.format.OSMXML.EXTENSIONS_},ol.format.OSMXML.readNode_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("node"==e.localName,"localName should be node");var t=o[0],r=o[o.length-1],n=e.getAttribute("id"),i=[parseFloat(e.getAttribute("lon")),parseFloat(e.getAttribute("lat"))];r.nodes[n]=i;var a=ol.xml.pushParseAndPop({tags:{}},ol.format.OSMXML.NODE_PARSERS_,e,o);if(!goog.object.isEmpty(a.tags)){var s=new ol.geom.Point(i);ol.format.Feature.transformWithOptions(s,!1,t);var g=new ol.Feature(s);g.setId(n),g.setProperties(a.tags),r.features.push(g)}},ol.format.OSMXML.readWay_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("way"==e.localName,"localName should be way");for(var t=o[0],r=e.getAttribute("id"),n=ol.xml.pushParseAndPop({ndrefs:[],tags:{}},ol.format.OSMXML.WAY_PARSERS_,e,o),i=o[o.length-1],a=[],s=0,g=n.ndrefs.length;g>s;s++){var l=i.nodes[n.ndrefs[s]];goog.array.extend(a,l)}var p;n.ndrefs[0]==n.ndrefs[n.ndrefs.length-1]?(p=new ol.geom.Polygon(null),p.setFlatCoordinates(ol.geom.GeometryLayout.XY,a,[a.length])):(p=new ol.geom.LineString(null),p.setFlatCoordinates(ol.geom.GeometryLayout.XY,a)),ol.format.Feature.transformWithOptions(p,!1,t);var u=new ol.Feature(p);u.setId(r),u.setProperties(n.tags),i.features.push(u)},ol.format.OSMXML.readNd_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("nd"==e.localName,"localName should be nd");var t=o[o.length-1];t.ndrefs.push(e.getAttribute("ref"))},ol.format.OSMXML.readTag_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("tag"==e.localName,"localName should be tag");var t=o[o.length-1];t.tags[e.getAttribute("k")]=e.getAttribute("v")},ol.format.OSMXML.NAMESPACE_URIS_=[null],ol.format.OSMXML.WAY_PARSERS_=ol.xml.makeParsersNS(ol.format.OSMXML.NAMESPACE_URIS_,{nd:ol.format.OSMXML.readNd_,tag:ol.format.OSMXML.readTag_}),ol.format.OSMXML.PARSERS_=ol.xml.makeParsersNS(ol.format.OSMXML.NAMESPACE_URIS_,{node:ol.format.OSMXML.readNode_,way:ol.format.OSMXML.readWay_}),ol.format.OSMXML.NODE_PARSERS_=ol.xml.makeParsersNS(ol.format.OSMXML.NAMESPACE_URIS_,{tag:ol.format.OSMXML.readTag_}),ol.format.OSMXML.prototype.readFeatures,ol.format.OSMXML.prototype.readFeaturesFromNode=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT");var t=this.getReadOptions(e,o);if("osm"==e.localName){var r=ol.xml.pushParseAndPop({nodes:{},features:[]},ol.format.OSMXML.PARSERS_,e,[t]);if(goog.isDef(r.features))return r.features}return[]},ol.format.OSMXML.prototype.readProjection,goog.provide("ol.format.XLink"),ol.format.XLink.NAMESPACE_URI="http://www.w3.org/1999/xlink",ol.format.XLink.readHref=function(e){return e.getAttributeNS(ol.format.XLink.NAMESPACE_URI,"href")},goog.provide("ol.format.XML"),goog.require("goog.asserts"),goog.require("ol.xml"),ol.format.XML=function(){},ol.format.XML.prototype.read=function(e){if(ol.xml.isDocument(e))return this.readFromDocument(e);if(ol.xml.isNode(e))return this.readFromNode(e);if(goog.isString(e)){var o=ol.xml.parse(e);return this.readFromDocument(o)}return goog.asserts.fail(),null},ol.format.XML.prototype.readFromDocument=goog.abstractMethod,ol.format.XML.prototype.readFromNode=goog.abstractMethod,goog.provide("ol.format.OWS"),goog.require("goog.asserts"),goog.require("goog.dom.NodeType"),goog.require("ol.format.XLink"),goog.require("ol.format.XML"),goog.require("ol.format.XSD"),goog.require("ol.xml"),ol.format.OWS=function(){goog.base(this)},goog.inherits(ol.format.OWS,ol.format.XML),ol.format.OWS.prototype.readFromDocument=function(e){goog.asserts.assert(e.nodeType==goog.dom.NodeType.DOCUMENT,"doc.nodeType should be DOCUMENT");for(var o=e.firstChild;!goog.isNull(o);o=o.nextSibling)if(o.nodeType==goog.dom.NodeType.ELEMENT)return this.readFromNode(o);return null},ol.format.OWS.prototype.readFromNode=function(e){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT");var o=ol.xml.pushParseAndPop({},ol.format.OWS.PARSERS_,e,[]);return goog.isDef(o)?o:null},ol.format.OWS.readAddress_=function(e,o){return goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("Address"==e.localName,"localName should be Address"),ol.xml.pushParseAndPop({},ol.format.OWS.ADDRESS_PARSERS_,e,o)},ol.format.OWS.readAllowedValues_=function(e,o){return goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("AllowedValues"==e.localName,"localName should be AllowedValues"),ol.xml.pushParseAndPop({},ol.format.OWS.ALLOWED_VALUES_PARSERS_,e,o)},ol.format.OWS.readConstraint_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("Constraint"==e.localName,"localName should be Constraint");var t=e.getAttribute("name");return goog.isDef(t)?ol.xml.pushParseAndPop({name:t},ol.format.OWS.CONSTRAINT_PARSERS_,e,o):void 0},ol.format.OWS.readContactInfo_=function(e,o){return goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("ContactInfo"==e.localName,"localName should be ContactInfo"),ol.xml.pushParseAndPop({},ol.format.OWS.CONTACT_INFO_PARSERS_,e,o)},ol.format.OWS.readDcp_=function(e,o){return goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("DCP"==e.localName,"localName should be DCP"),ol.xml.pushParseAndPop({},ol.format.OWS.DCP_PARSERS_,e,o)},ol.format.OWS.readGet_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("Get"==e.localName,"localName should be Get");var t=ol.format.XLink.readHref(e);return goog.isDef(t)?ol.xml.pushParseAndPop({href:t},ol.format.OWS.REQUEST_METHOD_PARSERS_,e,o):void 0},ol.format.OWS.readHttp_=function(e,o){return goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("HTTP"==e.localName,"localName should be HTTP"),ol.xml.pushParseAndPop({},ol.format.OWS.HTTP_PARSERS_,e,o)},ol.format.OWS.readOperation_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("Operation"==e.localName,"localName should be Operation");var t=e.getAttribute("name"),r=ol.xml.pushParseAndPop({},ol.format.OWS.OPERATION_PARSERS_,e,o);if(!goog.isDef(r))return void 0;var n=o[o.length-1];goog.asserts.assert(goog.isObject(n),"object should be an Object"),n[t]=r},ol.format.OWS.readOperationsMetadata_=function(e,o){return goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("OperationsMetadata"==e.localName,"localName should be OperationsMetadata"),ol.xml.pushParseAndPop({},ol.format.OWS.OPERATIONS_METADATA_PARSERS_,e,o);

},ol.format.OWS.readPhone_=function(e,o){return goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("Phone"==e.localName,"localName should be Phone"),ol.xml.pushParseAndPop({},ol.format.OWS.PHONE_PARSERS_,e,o)},ol.format.OWS.readServiceIdentification_=function(e,o){return goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("ServiceIdentification"==e.localName,"localName should be ServiceIdentification"),ol.xml.pushParseAndPop({},ol.format.OWS.SERVICE_IDENTIFICATION_PARSERS_,e,o)},ol.format.OWS.readServiceContact_=function(e,o){return goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("ServiceContact"==e.localName,"localName should be ServiceContact"),ol.xml.pushParseAndPop({},ol.format.OWS.SERVICE_CONTACT_PARSERS_,e,o)},ol.format.OWS.readServiceProvider_=function(e,o){return goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("ServiceProvider"==e.localName,"localName should be ServiceProvider"),ol.xml.pushParseAndPop({},ol.format.OWS.SERVICE_PROVIDER_PARSERS_,e,o)},ol.format.OWS.readValue_=function(e,o){return goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("Value"==e.localName,"localName should be Value"),ol.format.XSD.readString(e)},ol.format.OWS.NAMESPACE_URIS_=[null,"http://www.opengis.net/ows/1.1"],ol.format.OWS.PARSERS_=ol.xml.makeParsersNS(ol.format.OWS.NAMESPACE_URIS_,{ServiceIdentification:ol.xml.makeObjectPropertySetter(ol.format.OWS.readServiceIdentification_),ServiceProvider:ol.xml.makeObjectPropertySetter(ol.format.OWS.readServiceProvider_),OperationsMetadata:ol.xml.makeObjectPropertySetter(ol.format.OWS.readOperationsMetadata_)}),ol.format.OWS.ADDRESS_PARSERS_=ol.xml.makeParsersNS(ol.format.OWS.NAMESPACE_URIS_,{DeliveryPoint:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),City:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),AdministrativeArea:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),PostalCode:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Country:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ElectronicMailAddress:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)}),ol.format.OWS.ALLOWED_VALUES_PARSERS_=ol.xml.makeParsersNS(ol.format.OWS.NAMESPACE_URIS_,{Value:ol.xml.makeObjectPropertyPusher(ol.format.OWS.readValue_)}),ol.format.OWS.CONSTRAINT_PARSERS_=ol.xml.makeParsersNS(ol.format.OWS.NAMESPACE_URIS_,{AllowedValues:ol.xml.makeObjectPropertySetter(ol.format.OWS.readAllowedValues_)}),ol.format.OWS.CONTACT_INFO_PARSERS_=ol.xml.makeParsersNS(ol.format.OWS.NAMESPACE_URIS_,{Phone:ol.xml.makeObjectPropertySetter(ol.format.OWS.readPhone_),Address:ol.xml.makeObjectPropertySetter(ol.format.OWS.readAddress_)}),ol.format.OWS.DCP_PARSERS_=ol.xml.makeParsersNS(ol.format.OWS.NAMESPACE_URIS_,{HTTP:ol.xml.makeObjectPropertySetter(ol.format.OWS.readHttp_)}),ol.format.OWS.HTTP_PARSERS_=ol.xml.makeParsersNS(ol.format.OWS.NAMESPACE_URIS_,{Get:ol.xml.makeObjectPropertyPusher(ol.format.OWS.readGet_),Post:void 0}),ol.format.OWS.OPERATION_PARSERS_=ol.xml.makeParsersNS(ol.format.OWS.NAMESPACE_URIS_,{DCP:ol.xml.makeObjectPropertySetter(ol.format.OWS.readDcp_)}),ol.format.OWS.OPERATIONS_METADATA_PARSERS_=ol.xml.makeParsersNS(ol.format.OWS.NAMESPACE_URIS_,{Operation:ol.format.OWS.readOperation_}),ol.format.OWS.PHONE_PARSERS_=ol.xml.makeParsersNS(ol.format.OWS.NAMESPACE_URIS_,{Voice:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Facsimile:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)}),ol.format.OWS.REQUEST_METHOD_PARSERS_=ol.xml.makeParsersNS(ol.format.OWS.NAMESPACE_URIS_,{Constraint:ol.xml.makeObjectPropertyPusher(ol.format.OWS.readConstraint_)}),ol.format.OWS.SERVICE_CONTACT_PARSERS_=ol.xml.makeParsersNS(ol.format.OWS.NAMESPACE_URIS_,{IndividualName:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),PositionName:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ContactInfo:ol.xml.makeObjectPropertySetter(ol.format.OWS.readContactInfo_)}),ol.format.OWS.SERVICE_IDENTIFICATION_PARSERS_=ol.xml.makeParsersNS(ol.format.OWS.NAMESPACE_URIS_,{Title:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ServiceTypeVersion:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ServiceType:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)}),ol.format.OWS.SERVICE_PROVIDER_PARSERS_=ol.xml.makeParsersNS(ol.format.OWS.NAMESPACE_URIS_,{ProviderName:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ProviderSite:ol.xml.makeObjectPropertySetter(ol.format.XLink.readHref),ServiceContact:ol.xml.makeObjectPropertySetter(ol.format.OWS.readServiceContact_)}),goog.provide("ol.geom.flat.flip"),goog.require("goog.asserts"),ol.geom.flat.flip.flipXY=function(e,o,t,r,n,i){var a,s;goog.isDef(n)?(a=n,s=goog.isDef(i)?i:0):(goog.asserts.assert(!goog.isDef(i),"opt_destOffSet should be defined"),a=[],s=0);var g,l;for(g=o;t>g;){var p=e[g++];for(a[s++]=e[g++],a[s++]=p,l=2;r>l;++l)a[s++]=e[g++]}return a.length=s,a},goog.provide("ol.format.Polyline"),goog.require("goog.asserts"),goog.require("ol.Feature"),goog.require("ol.format.Feature"),goog.require("ol.format.TextFeature"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.LineString"),goog.require("ol.geom.SimpleGeometry"),goog.require("ol.geom.flat.flip"),goog.require("ol.geom.flat.inflate"),goog.require("ol.proj"),ol.format.Polyline=function(e){var o=goog.isDef(e)?e:{};goog.base(this),this.defaultDataProjection=ol.proj.get("EPSG:4326"),this.factor_=goog.isDef(o.factor)?o.factor:1e5,this.geometryLayout_=goog.isDef(o.geometryLayout)?o.geometryLayout:ol.geom.GeometryLayout.XY},goog.inherits(ol.format.Polyline,ol.format.TextFeature),ol.format.Polyline.encodeDeltas=function(e,o,t){var r,n=goog.isDef(t)?t:1e5,i=new Array(o);for(r=0;o>r;++r)i[r]=0;var a,s;for(a=0,s=e.length;s>a;)for(r=0;o>r;++r,++a){var g=e[a],l=g-i[r];i[r]=g,e[a]=l}return ol.format.Polyline.encodeFloats(e,n)},ol.format.Polyline.decodeDeltas=function(e,o,t){var r,n=goog.isDef(t)?t:1e5,i=new Array(o);for(r=0;o>r;++r)i[r]=0;var a,s,g=ol.format.Polyline.decodeFloats(e,n);for(a=0,s=g.length;s>a;)for(r=0;o>r;++r,++a)i[r]+=g[a],g[a]=i[r];return g},ol.format.Polyline.encodeFloats=function(e,o){var t,r,n=goog.isDef(o)?o:1e5;for(t=0,r=e.length;r>t;++t)e[t]=Math.round(e[t]*n);return ol.format.Polyline.encodeSignedIntegers(e)},ol.format.Polyline.decodeFloats=function(e,o){var t,r,n=goog.isDef(o)?o:1e5,i=ol.format.Polyline.decodeSignedIntegers(e);for(t=0,r=i.length;r>t;++t)i[t]/=n;return i},ol.format.Polyline.encodeSignedIntegers=function(e){var o,t;for(o=0,t=e.length;t>o;++o){var r=e[o];e[o]=0>r?~(r<<1):r<<1}return ol.format.Polyline.encodeUnsignedIntegers(e)},ol.format.Polyline.decodeSignedIntegers=function(e){var o,t,r=ol.format.Polyline.decodeUnsignedIntegers(e);for(o=0,t=r.length;t>o;++o){var n=r[o];r[o]=1&n?~(n>>1):n>>1}return r},ol.format.Polyline.encodeUnsignedIntegers=function(e){var o,t,r="";for(o=0,t=e.length;t>o;++o)r+=ol.format.Polyline.encodeUnsignedInteger(e[o]);return r},ol.format.Polyline.decodeUnsignedIntegers=function(e){var o,t,r=[],n=0,i=0;for(o=0,t=e.length;t>o;++o){var a=e.charCodeAt(o)-63;n|=(31&a)<<i,32>a?(r.push(n),n=0,i=0):i+=5}return r},ol.format.Polyline.encodeUnsignedInteger=function(e){for(var o,t="";e>=32;)o=(32|31&e)+63,t+=String.fromCharCode(o),e>>=5;return o=e+63,t+=String.fromCharCode(o)},ol.format.Polyline.prototype.readFeature,ol.format.Polyline.prototype.readFeatureFromText=function(e,o){var t=this.readGeometryFromText(e,o);return new ol.Feature(t)},ol.format.Polyline.prototype.readFeatures,ol.format.Polyline.prototype.readFeaturesFromText=function(e,o){var t=this.readFeatureFromText(e,o);return[t]},ol.format.Polyline.prototype.readGeometry,ol.format.Polyline.prototype.readGeometryFromText=function(e,o){var t=ol.geom.SimpleGeometry.getStrideForLayout(this.geometryLayout_),r=ol.format.Polyline.decodeDeltas(e,t,this.factor_);ol.geom.flat.flip.flipXY(r,0,r.length,t,r);var n=ol.geom.flat.inflate.coordinates(r,0,r.length,t);return ol.format.Feature.transformWithOptions(new ol.geom.LineString(n,this.geometryLayout_),!1,this.adaptOptions(o))},ol.format.Polyline.prototype.readProjection,ol.format.Polyline.prototype.writeFeatureText=function(e,o){var t=e.getGeometry();return goog.isDefAndNotNull(t)?this.writeGeometryText(t,o):(goog.asserts.fail("geometry needs to be defined"),"")},ol.format.Polyline.prototype.writeFeaturesText=function(e,o){return goog.asserts.assert(1==e.length,"features array should have 1 item"),this.writeFeatureText(e[0],o)},ol.format.Polyline.prototype.writeGeometry,ol.format.Polyline.prototype.writeGeometryText=function(e,o){goog.asserts.assertInstanceof(e,ol.geom.LineString,"geometry should be an ol.geom.LineString"),e=ol.format.Feature.transformWithOptions(e,!0,this.adaptOptions(o));var t=e.getFlatCoordinates(),r=e.getStride();return ol.geom.flat.flip.flipXY(t,0,t.length,r,t),ol.format.Polyline.encodeDeltas(t,r,this.factor_)},goog.provide("ol.format.TopoJSON"),goog.require("goog.asserts"),goog.require("goog.object"),goog.require("ol.Feature"),goog.require("ol.format.Feature"),goog.require("ol.format.JSONFeature"),goog.require("ol.geom.LineString"),goog.require("ol.geom.MultiLineString"),goog.require("ol.geom.MultiPoint"),goog.require("ol.geom.MultiPolygon"),goog.require("ol.geom.Point"),goog.require("ol.geom.Polygon"),goog.require("ol.proj"),ol.format.TopoJSON=function(e){var o=goog.isDef(e)?e:{};goog.base(this),this.defaultDataProjection=ol.proj.get(goog.isDefAndNotNull(o.defaultDataProjection)?o.defaultDataProjection:"EPSG:4326")},goog.inherits(ol.format.TopoJSON,ol.format.JSONFeature),ol.format.TopoJSON.EXTENSIONS_=[".topojson"],ol.format.TopoJSON.concatenateArcs_=function(e,o){var t,r,n,i,a,s,g=[];for(n=0,i=e.length;i>n;++n)t=e[n],n>0&&g.pop(),r=t>=0?o[t]:o[~t].slice().reverse(),g.push.apply(g,r);for(a=0,s=g.length;s>a;++a)g[a]=g[a].slice();return g},ol.format.TopoJSON.readPointGeometry_=function(e,o,t){var r=e.coordinates;return goog.isNull(o)||goog.isNull(t)||ol.format.TopoJSON.transformVertex_(r,o,t),new ol.geom.Point(r)},ol.format.TopoJSON.readMultiPointGeometry_=function(e,o,t){var r,n,i=e.coordinates;if(!goog.isNull(o)&&!goog.isNull(t))for(r=0,n=i.length;n>r;++r)ol.format.TopoJSON.transformVertex_(i[r],o,t);return new ol.geom.MultiPoint(i)},ol.format.TopoJSON.readLineStringGeometry_=function(e,o){var t=ol.format.TopoJSON.concatenateArcs_(e.arcs,o);return new ol.geom.LineString(t)},ol.format.TopoJSON.readMultiLineStringGeometry_=function(e,o){var t,r,n=[];for(t=0,r=e.arcs.length;r>t;++t)n[t]=ol.format.TopoJSON.concatenateArcs_(e.arcs[t],o);return new ol.geom.MultiLineString(n)},ol.format.TopoJSON.readPolygonGeometry_=function(e,o){var t,r,n=[];for(t=0,r=e.arcs.length;r>t;++t)n[t]=ol.format.TopoJSON.concatenateArcs_(e.arcs[t],o);return new ol.geom.Polygon(n)},ol.format.TopoJSON.readMultiPolygonGeometry_=function(e,o){var t,r,n,i,a,s,g=[];for(a=0,s=e.arcs.length;s>a;++a){for(t=e.arcs[a],r=[],n=0,i=t.length;i>n;++n)r[n]=ol.format.TopoJSON.concatenateArcs_(t[n],o);g[a]=r}return new ol.geom.MultiPolygon(g)},ol.format.TopoJSON.prototype.getExtensions=function(){return ol.format.TopoJSON.EXTENSIONS_},ol.format.TopoJSON.readFeaturesFromGeometryCollection_=function(e,o,t,r,n){var i,a,s=e.geometries,g=[];for(i=0,a=s.length;a>i;++i)g[i]=ol.format.TopoJSON.readFeatureFromGeometry_(s[i],o,t,r,n);return g},ol.format.TopoJSON.readFeatureFromGeometry_=function(e,o,t,r,n){var i,a=e.type,s=ol.format.TopoJSON.GEOMETRY_READERS_[a];goog.asserts.assert(goog.isDef(s),"geometryReader should be defined"),i="Point"===a||"MultiPoint"===a?s(e,t,r):s(e,o);var g=new ol.Feature;return g.setGeometry(ol.format.Feature.transformWithOptions(i,!1,n)),goog.isDef(e.id)&&g.setId(e.id),goog.isDef(e.properties)&&g.setProperties(e.properties),g},ol.format.TopoJSON.prototype.readFeatures,ol.format.TopoJSON.prototype.readFeaturesFromObject=function(e,o){if("Topology"==e.type){var t,r=e,n=null,i=null;goog.isDef(r.transform)&&(t=r.transform,n=t.scale,i=t.translate);var a=r.arcs;goog.isDef(t)&&ol.format.TopoJSON.transformArcs_(a,n,i);var s,g,l,p=[],u=goog.object.getValues(r.objects);for(s=0,g=u.length;g>s;++s)"GeometryCollection"===u[s].type?(l=u[s],p.push.apply(p,ol.format.TopoJSON.readFeaturesFromGeometryCollection_(l,a,n,i,o))):(l=u[s],p.push(ol.format.TopoJSON.readFeatureFromGeometry_(l,a,n,i,o)));return p}return[]},ol.format.TopoJSON.transformArcs_=function(e,o,t){var r,n;for(r=0,n=e.length;n>r;++r)ol.format.TopoJSON.transformArc_(e[r],o,t)},ol.format.TopoJSON.transformArc_=function(e,o,t){var r,n,i,a=0,s=0;for(n=0,i=e.length;i>n;++n)r=e[n],a+=r[0],s+=r[1],r[0]=a,r[1]=s,ol.format.TopoJSON.transformVertex_(r,o,t)},ol.format.TopoJSON.transformVertex_=function(e,o,t){e[0]=e[0]*o[0]+t[0],e[1]=e[1]*o[1]+t[1]},ol.format.TopoJSON.prototype.readProjection=function(e){return this.defaultDataProjection},ol.format.TopoJSON.GEOMETRY_READERS_={Point:ol.format.TopoJSON.readPointGeometry_,LineString:ol.format.TopoJSON.readLineStringGeometry_,Polygon:ol.format.TopoJSON.readPolygonGeometry_,MultiPoint:ol.format.TopoJSON.readMultiPointGeometry_,MultiLineString:ol.format.TopoJSON.readMultiLineStringGeometry_,MultiPolygon:ol.format.TopoJSON.readMultiPolygonGeometry_},goog.provide("ol.format.WFS"),goog.require("goog.asserts"),goog.require("goog.dom.NodeType"),goog.require("goog.object"),goog.require("ol.format.GML3"),goog.require("ol.format.GMLBase"),goog.require("ol.format.XMLFeature"),goog.require("ol.format.XSD"),goog.require("ol.geom.Geometry"),goog.require("ol.proj"),goog.require("ol.xml"),ol.format.WFS=function(e){var o=goog.isDef(e)?e:{};this.featureType_=o.featureType,this.featureNS_=o.featureNS,this.gmlFormat_=goog.isDef(o.gmlFormat)?o.gmlFormat:new ol.format.GML3,this.schemaLocation_=goog.isDef(o.schemaLocation)?o.schemaLocation:ol.format.WFS.SCHEMA_LOCATION,goog.base(this)},goog.inherits(ol.format.WFS,ol.format.XMLFeature),ol.format.WFS.FEATURE_PREFIX="feature",ol.format.WFS.XMLNS="http://www.w3.org/2000/xmlns/",ol.format.WFS.FeatureCollectionMetadata,ol.format.WFS.TransactionResponse,ol.format.WFS.SCHEMA_LOCATION="http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd",ol.format.WFS.prototype.readFeatures,ol.format.WFS.prototype.readFeaturesFromNode=function(e,o){var t={featureType:this.featureType_,featureNS:this.featureNS_};goog.object.extend(t,this.getReadOptions(e,goog.isDef(o)?o:{}));var r=[t];this.gmlFormat_.FEATURE_COLLECTION_PARSERS[ol.format.GMLBase.GMLNS].featureMember=ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.readFeaturesInternal);var n=ol.xml.pushParseAndPop([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,e,r,this.gmlFormat_);return goog.isDef(n)||(n=[]),n},ol.format.WFS.prototype.readTransactionResponse=function(e){if(ol.xml.isDocument(e))return this.readTransactionResponseFromDocument(e);if(ol.xml.isNode(e))return this.readTransactionResponseFromNode(e);if(goog.isString(e)){var o=ol.xml.parse(e);return this.readTransactionResponseFromDocument(o)}return void goog.asserts.fail("Unknown source type")},ol.format.WFS.prototype.readFeatureCollectionMetadata=function(e){if(ol.xml.isDocument(e))return this.readFeatureCollectionMetadataFromDocument(e);if(ol.xml.isNode(e))return this.readFeatureCollectionMetadataFromNode(e);if(goog.isString(e)){var o=ol.xml.parse(e);return this.readFeatureCollectionMetadataFromDocument(o)}return void goog.asserts.fail("Unknown source type")},ol.format.WFS.prototype.readFeatureCollectionMetadataFromDocument=function(e){goog.asserts.assert(e.nodeType==goog.dom.NodeType.DOCUMENT,"doc.nodeType should be DOCUMENT");for(var o=e.firstChild;!goog.isNull(o);o=o.nextSibling)if(o.nodeType==goog.dom.NodeType.ELEMENT)return this.readFeatureCollectionMetadataFromNode(o);return void 0},ol.format.WFS.FEATURE_COLLECTION_PARSERS_={"http://www.opengis.net/gml":{boundedBy:ol.xml.makeObjectPropertySetter(ol.format.GMLBase.prototype.readGeometryElement,"bounds")}},ol.format.WFS.prototype.readFeatureCollectionMetadataFromNode=function(e){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("FeatureCollection"==e.localName,"localName should be FeatureCollection");var o={},t=ol.format.XSD.readNonNegativeIntegerString(e.getAttribute("numberOfFeatures"));return o.numberOfFeatures=t,ol.xml.pushParseAndPop(o,ol.format.WFS.FEATURE_COLLECTION_PARSERS_,e,[],this.gmlFormat_)},ol.format.WFS.TRANSACTION_SUMMARY_PARSERS_={"http://www.opengis.net/wfs":{totalInserted:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),totalUpdated:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),totalDeleted:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger)}},ol.format.WFS.readTransactionSummary_=function(e,o){return ol.xml.pushParseAndPop({},ol.format.WFS.TRANSACTION_SUMMARY_PARSERS_,e,o)},ol.format.WFS.OGC_FID_PARSERS_={"http://www.opengis.net/ogc":{FeatureId:ol.xml.makeArrayPusher(function(e,o){return e.getAttribute("fid")})}},ol.format.WFS.fidParser_=function(e,o){ol.xml.parseNode(ol.format.WFS.OGC_FID_PARSERS_,e,o)},ol.format.WFS.INSERT_RESULTS_PARSERS_={"http://www.opengis.net/wfs":{Feature:ol.format.WFS.fidParser_}},ol.format.WFS.readInsertResults_=function(e,o){return ol.xml.pushParseAndPop([],ol.format.WFS.INSERT_RESULTS_PARSERS_,e,o)},ol.format.WFS.TRANSACTION_RESPONSE_PARSERS_={"http://www.opengis.net/wfs":{TransactionSummary:ol.xml.makeObjectPropertySetter(ol.format.WFS.readTransactionSummary_,"transactionSummary"),InsertResults:ol.xml.makeObjectPropertySetter(ol.format.WFS.readInsertResults_,"insertIds")}},ol.format.WFS.prototype.readTransactionResponseFromDocument=function(e){goog.asserts.assert(e.nodeType==goog.dom.NodeType.DOCUMENT,"doc.nodeType should be DOCUMENT");for(var o=e.firstChild;!goog.isNull(o);o=o.nextSibling)if(o.nodeType==goog.dom.NodeType.ELEMENT)return this.readTransactionResponseFromNode(o);return void 0},ol.format.WFS.prototype.readTransactionResponseFromNode=function(e){return goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should  be ELEMENT"),goog.asserts.assert("TransactionResponse"==e.localName,"localName should be TransactionResponse"),ol.xml.pushParseAndPop({},ol.format.WFS.TRANSACTION_RESPONSE_PARSERS_,e,[])},ol.format.WFS.QUERY_SERIALIZERS_={"http://www.opengis.net/wfs":{PropertyName:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode)}},ol.format.WFS.writeFeature_=function(e,o,t){var r=t[t.length-1];goog.asserts.assert(goog.isObject(r),"context should be an Object");var n=r.featureType,i=r.featureNS,a=ol.xml.createElementNS(i,n);e.appendChild(a),ol.format.GML3.prototype.writeFeatureElement(a,o,t)},ol.format.WFS.writeOgcFidFilter_=function(e,o,t){var r=ol.xml.createElementNS("http://www.opengis.net/ogc","Filter"),n=ol.xml.createElementNS("http://www.opengis.net/ogc","FeatureId");r.appendChild(n),n.setAttribute("fid",o),e.appendChild(r)},ol.format.WFS.writeDelete_=function(e,o,t){var r=t[t.length-1];goog.asserts.assert(goog.isObject(r),"context should be an Object");var n=r.featureType,i=r.featurePrefix;i=goog.isDef(i)?i:ol.format.WFS.FEATURE_PREFIX;var a=r.featureNS;e.setAttribute("typeName",i+":"+n),ol.xml.setAttributeNS(e,ol.format.WFS.XMLNS,"xmlns:"+i,a);var s=o.getId();goog.isDef(s)&&ol.format.WFS.writeOgcFidFilter_(e,s,t)},ol.format.WFS.writeUpdate_=function(e,o,t){var r=t[t.length-1];goog.asserts.assert(goog.isObject(r),"context should be an Object");var n=r.featureType,i=r.featurePrefix;i=goog.isDef(i)?i:ol.format.WFS.FEATURE_PREFIX;var a=r.featureNS;e.setAttribute("typeName",i+":"+n),ol.xml.setAttributeNS(e,ol.format.WFS.XMLNS,"xmlns:"+i,a);var s=o.getId();if(goog.isDef(s)){for(var g=o.getKeys(),l=[],p=0,u=g.length;u>p;p++){var c=o.get(g[p]);goog.isDef(c)&&l.push({name:g[p],value:c})}ol.xml.pushSerializeAndPop({node:e,srsName:r.srsName},ol.format.WFS.TRANSACTION_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("Property"),l,t),ol.format.WFS.writeOgcFidFilter_(e,s,t)}},ol.format.WFS.writeProperty_=function(e,o,t){var r=ol.xml.createElementNS("http://www.opengis.net/wfs","Name");if(e.appendChild(r),ol.format.XSD.writeStringTextNode(r,o.name),goog.isDefAndNotNull(o.value)){var n=ol.xml.createElementNS("http://www.opengis.net/wfs","Value");e.appendChild(n),o.value instanceof ol.geom.Geometry?ol.format.GML3.prototype.writeGeometryElement(n,o.value,t):ol.format.XSD.writeStringTextNode(n,o.value)}},ol.format.WFS.writeNative_=function(e,o,t){goog.isDef(o.vendorId)&&e.setAttribute("vendorId",o.vendorId),goog.isDef(o.safeToIgnore)&&e.setAttribute("safeToIgnore",o.safeToIgnore),goog.isDef(o.value)&&ol.format.XSD.writeStringTextNode(e,o.value)},ol.format.WFS.TRANSACTION_SERIALIZERS_={"http://www.opengis.net/wfs":{Insert:ol.xml.makeChildAppender(ol.format.WFS.writeFeature_),Update:ol.xml.makeChildAppender(ol.format.WFS.writeUpdate_),Delete:ol.xml.makeChildAppender(ol.format.WFS.writeDelete_),Property:ol.xml.makeChildAppender(ol.format.WFS.writeProperty_),Native:ol.xml.makeChildAppender(ol.format.WFS.writeNative_)}},ol.format.WFS.writeQuery_=function(e,o,t){var r=t[t.length-1];goog.asserts.assert(goog.isObject(r),"context should be an Object");var n=r.featurePrefix,i=r.featureNS,a=r.propertyNames,s=r.srsName,g=goog.isDef(n)?n+":":"";e.setAttribute("typeName",g+o),goog.isDef(s)&&e.setAttribute("srsName",s),goog.isDef(i)&&ol.xml.setAttributeNS(e,ol.format.WFS.XMLNS,"xmlns:"+n,i);var l=goog.object.clone(r);l.node=e,ol.xml.pushSerializeAndPop(l,ol.format.WFS.QUERY_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("PropertyName"),a,t);var p=r.bbox;if(goog.isDef(p)){var u=ol.xml.createElementNS("http://www.opengis.net/ogc","Filter");ol.format.WFS.writeOgcBBOX_(u,p,t),e.appendChild(u)}},ol.format.WFS.writeOgcPropertyName_=function(e,o,t){var r=ol.xml.createElementNS("http://www.opengis.net/ogc","PropertyName");ol.format.XSD.writeStringTextNode(r,o),e.appendChild(r)},ol.format.WFS.writeOgcBBOX_=function(e,o,t){var r=t[t.length-1];goog.asserts.assert(goog.isObject(r),"context should be an Object");var n=r.geometryName,i=ol.xml.createElementNS("http://www.opengis.net/ogc","BBOX");e.appendChild(i),ol.format.WFS.writeOgcPropertyName_(i,n,t),ol.format.GML3.prototype.writeGeometryElement(i,o,t)},ol.format.WFS.GETFEATURE_SERIALIZERS_={"http://www.opengis.net/wfs":{Query:ol.xml.makeChildAppender(ol.format.WFS.writeQuery_)}},ol.format.WFS.writeGetFeature_=function(e,o,t){var r=t[t.length-1];goog.asserts.assert(goog.isObject(r),"context should be an Object");var n=goog.object.clone(r);n.node=e,ol.xml.pushSerializeAndPop(n,ol.format.WFS.GETFEATURE_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("Query"),o,t)},ol.format.WFS.prototype.writeGetFeature=function(e){var o=ol.xml.createElementNS("http://www.opengis.net/wfs","GetFeature");o.setAttribute("service","WFS"),o.setAttribute("version","1.1.0"),goog.isDef(e)&&(goog.isDef(e.handle)&&o.setAttribute("handle",e.handle),goog.isDef(e.outputFormat)&&o.setAttribute("outputFormat",e.outputFormat),goog.isDef(e.maxFeatures)&&o.setAttribute("maxFeatures",e.maxFeatures),goog.isDef(e.resultType)&&o.setAttribute("resultType",e.resultType),goog.isDef(e.startIndex)&&o.setAttribute("startIndex",e.startIndex),goog.isDef(e.count)&&o.setAttribute("count",e.count)),ol.xml.setAttributeNS(o,"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.schemaLocation_);var t={node:o,srsName:e.srsName,featureNS:goog.isDef(e.featureNS)?e.featureNS:this.featureNS_,featurePrefix:e.featurePrefix,geometryName:e.geometryName,bbox:e.bbox,propertyNames:goog.isDef(e.propertyNames)?e.propertyNames:[]};return goog.asserts.assert(goog.isArray(e.featureTypes),"options.featureTypes should be an array"),ol.format.WFS.writeGetFeature_(o,e.featureTypes,[t]),o},ol.format.WFS.prototype.writeTransaction=function(e,o,t,r){var n=[],i=ol.xml.createElementNS("http://www.opengis.net/wfs","Transaction");i.setAttribute("service","WFS"),i.setAttribute("version","1.1.0");var a,s;return goog.isDef(r)&&(a=goog.isDef(r.gmlOptions)?r.gmlOptions:{},goog.isDef(r.handle)&&i.setAttribute("handle",r.handle)),ol.xml.setAttributeNS(i,"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.schemaLocation_),goog.isDefAndNotNull(e)&&(s={node:i,featureNS:r.featureNS,featureType:r.featureType,featurePrefix:r.featurePrefix},goog.object.extend(s,a),ol.xml.pushSerializeAndPop(s,ol.format.WFS.TRANSACTION_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("Insert"),e,n)),goog.isDefAndNotNull(o)&&(s={node:i,featureNS:r.featureNS,featureType:r.featureType,featurePrefix:r.featurePrefix},goog.object.extend(s,a),ol.xml.pushSerializeAndPop(s,ol.format.WFS.TRANSACTION_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("Update"),o,n)),goog.isDefAndNotNull(t)&&ol.xml.pushSerializeAndPop({node:i,featureNS:r.featureNS,featureType:r.featureType,featurePrefix:r.featurePrefix},ol.format.WFS.TRANSACTION_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("Delete"),t,n),goog.isDef(r.nativeElements)&&ol.xml.pushSerializeAndPop({node:i,featureNS:r.featureNS,featureType:r.featureType,featurePrefix:r.featurePrefix},ol.format.WFS.TRANSACTION_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("Native"),r.nativeElements,n),i},ol.format.WFS.prototype.readProjection,ol.format.WFS.prototype.readProjectionFromDocument=function(e){goog.asserts.assert(e.nodeType==goog.dom.NodeType.DOCUMENT,"doc.nodeType should be a DOCUMENT");for(var o=e.firstChild;!goog.isNull(o);o=o.nextSibling)if(o.nodeType==goog.dom.NodeType.ELEMENT)return this.readProjectionFromNode(o);return null},ol.format.WFS.prototype.readProjectionFromNode=function(e){if(goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("FeatureCollection"==e.localName,"localName should be FeatureCollection"),goog.isDefAndNotNull(e.firstElementChild)&&goog.isDefAndNotNull(e.firstElementChild.firstElementChild)){e=e.firstElementChild.firstElementChild;for(var o=e.firstElementChild;!goog.isNull(o);o=o.nextElementSibling)if(0!==o.childNodes.length&&(1!==o.childNodes.length||3!==o.firstChild.nodeType)){var t=[{}];return this.gmlFormat_.readGeometryElement(o,t),ol.proj.get(t.pop().srsName)}}return null},goog.provide("ol.format.WKT"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("ol.Feature"),goog.require("ol.format.Feature"),goog.require("ol.format.TextFeature"),goog.require("ol.geom.Geometry"),goog.require("ol.geom.GeometryCollection"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.LineString"),goog.require("ol.geom.MultiLineString"),goog.require("ol.geom.MultiPoint"),goog.require("ol.geom.MultiPolygon"),goog.require("ol.geom.Point"),goog.require("ol.geom.Polygon"),ol.format.WKT=function(e){var o=goog.isDef(e)?e:{};goog.base(this),this.splitCollection_=goog.isDef(o.splitCollection)?o.splitCollection:!1},goog.inherits(ol.format.WKT,ol.format.TextFeature),ol.format.WKT.EMPTY="EMPTY",ol.format.WKT.encodePointGeometry_=function(e){var o=e.getCoordinates();return goog.array.isEmpty(o)?"":o[0]+" "+o[1]},ol.format.WKT.encodeMultiPointGeometry_=function(e){for(var o=[],t=e.getPoints(),r=0,n=t.length;n>r;++r)o.push("("+ol.format.WKT.encodePointGeometry_(t[r])+")");return o.join(",")},ol.format.WKT.encodeGeometryCollectionGeometry_=function(e){for(var o=[],t=e.getGeometries(),r=0,n=t.length;n>r;++r)o.push(ol.format.WKT.encode_(t[r]));return o.join(",")},ol.format.WKT.encodeLineStringGeometry_=function(e){for(var o=e.getCoordinates(),t=[],r=0,n=o.length;n>r;++r)t.push(o[r][0]+" "+o[r][1]);return t.join(",")},ol.format.WKT.encodeMultiLineStringGeometry_=function(e){for(var o=[],t=e.getLineStrings(),r=0,n=t.length;n>r;++r)o.push("("+ol.format.WKT.encodeLineStringGeometry_(t[r])+")");return o.join(",")},ol.format.WKT.encodePolygonGeometry_=function(e){for(var o=[],t=e.getLinearRings(),r=0,n=t.length;n>r;++r)o.push("("+ol.format.WKT.encodeLineStringGeometry_(t[r])+")");return o.join(",")},ol.format.WKT.encodeMultiPolygonGeometry_=function(e){for(var o=[],t=e.getPolygons(),r=0,n=t.length;n>r;++r)o.push("("+ol.format.WKT.encodePolygonGeometry_(t[r])+")");return o.join(",")},ol.format.WKT.encode_=function(e){var o=e.getType(),t=ol.format.WKT.GeometryEncoder_[o];goog.asserts.assert(goog.isDef(t),"geometryEncoder should be defined");var r=t(e);return o=o.toUpperCase(),0===r.length?o+" "+ol.format.WKT.EMPTY:o+"("+r+")"},ol.format.WKT.GeometryEncoder_={Point:ol.format.WKT.encodePointGeometry_,LineString:ol.format.WKT.encodeLineStringGeometry_,Polygon:ol.format.WKT.encodePolygonGeometry_,MultiPoint:ol.format.WKT.encodeMultiPointGeometry_,MultiLineString:ol.format.WKT.encodeMultiLineStringGeometry_,MultiPolygon:ol.format.WKT.encodeMultiPolygonGeometry_,GeometryCollection:ol.format.WKT.encodeGeometryCollectionGeometry_},ol.format.WKT.prototype.parse_=function(e){var o=new ol.format.WKT.Lexer(e),t=new ol.format.WKT.Parser(o);return t.parse()},ol.format.WKT.prototype.readFeature,ol.format.WKT.prototype.readFeatureFromText=function(e,o){var t=this.readGeometryFromText(e,o);if(goog.isDef(t)){var r=new ol.Feature;return r.setGeometry(t),r}return null},ol.format.WKT.prototype.readFeatures,ol.format.WKT.prototype.readFeaturesFromText=function(e,o){var t=[],r=this.readGeometryFromText(e,o);t=this.splitCollection_&&r.getType()==ol.geom.GeometryType.GEOMETRY_COLLECTION?r.getGeometriesArray():[r];for(var n,i=[],a=0,s=t.length;s>a;++a)n=new ol.Feature,n.setGeometry(t[a]),i.push(n);return i},ol.format.WKT.prototype.readGeometry,ol.format.WKT.prototype.readGeometryFromText=function(e,o){var t=this.parse_(e);return goog.isDef(t)?ol.format.Feature.transformWithOptions(t,!1,o):null},ol.format.WKT.prototype.writeFeature,ol.format.WKT.prototype.writeFeatureText=function(e,o){var t=e.getGeometry();return goog.isDef(t)?this.writeGeometryText(t,o):""},ol.format.WKT.prototype.writeFeatures,ol.format.WKT.prototype.writeFeaturesText=function(e,o){if(1==e.length)return this.writeFeatureText(e[0],o);for(var t=[],r=0,n=e.length;n>r;++r)t.push(e[r].getGeometry());var i=new ol.geom.GeometryCollection(t);return this.writeGeometryText(i,o)},ol.format.WKT.prototype.writeGeometry,ol.format.WKT.prototype.writeGeometryText=function(e,o){return ol.format.WKT.encode_(ol.format.Feature.transformWithOptions(e,!0,o))},ol.format.WKT.Token,ol.format.WKT.TokenType={TEXT:1,LEFT_PAREN:2,RIGHT_PAREN:3,NUMBER:4,COMMA:5,EOF:6},ol.format.WKT.Lexer=function(e){this.wkt=e,this.index_=-1},ol.format.WKT.Lexer.prototype.isAlpha_=function(e){return e>="a"&&"z">=e||e>="A"&&"Z">=e},ol.format.WKT.Lexer.prototype.isNumeric_=function(e,o){var t=goog.isDef(o)?o:!1;return e>="0"&&"9">=e||"."==e&&!t},ol.format.WKT.Lexer.prototype.isWhiteSpace_=function(e){return" "==e||"	"==e||"\r"==e||"\n"==e},ol.format.WKT.Lexer.prototype.nextChar_=function(){return this.wkt.charAt(++this.index_)},ol.format.WKT.Lexer.prototype.nextToken=function(){var e=this.nextChar_(),o={position:this.index_,value:e};if("("==e)o.type=ol.format.WKT.TokenType.LEFT_PAREN;else if(","==e)o.type=ol.format.WKT.TokenType.COMMA;else if(")"==e)o.type=ol.format.WKT.TokenType.RIGHT_PAREN;else if(this.isNumeric_(e)||"-"==e)o.type=ol.format.WKT.TokenType.NUMBER,o.value=this.readNumber_();else if(this.isAlpha_(e))o.type=ol.format.WKT.TokenType.TEXT,o.value=this.readText_();else{if(this.isWhiteSpace_(e))return this.nextToken();if(""!==e)throw new Error("Unexpected character: "+e);o.type=ol.format.WKT.TokenType.EOF}return o},ol.format.WKT.Lexer.prototype.readNumber_=function(){var e,o=this.index_,t=!1,r=!1;do"."==e?t=!0:("e"==e||"E"==e)&&(r=!0),e=this.nextChar_();while(this.isNumeric_(e,t)||!r&&("e"==e||"E"==e)||r&&("-"==e||"+"==e));return parseFloat(this.wkt.substring(o,this.index_--))},ol.format.WKT.Lexer.prototype.readText_=function(){var e,o=this.index_;do e=this.nextChar_();while(this.isAlpha_(e));return this.wkt.substring(o,this.index_--).toUpperCase()},ol.format.WKT.Parser=function(e){
this.lexer_=e,this.token_,this.dimension_=2},ol.format.WKT.Parser.prototype.consume_=function(){this.token_=this.lexer_.nextToken()},ol.format.WKT.Parser.prototype.match=function(e){var o=this.token_.type==e;return o&&this.consume_(),o},ol.format.WKT.Parser.prototype.parse=function(){this.consume_();var e=this.parseGeometry_();return goog.asserts.assert(this.token_.type==ol.format.WKT.TokenType.EOF,"token type should be end of file"),e},ol.format.WKT.Parser.prototype.parseGeometry_=function(){var e=this.token_;if(this.match(ol.format.WKT.TokenType.TEXT)){var o=e.value;if(o==ol.geom.GeometryType.GEOMETRY_COLLECTION.toUpperCase()){var t=this.parseGeometryCollectionText_();return new ol.geom.GeometryCollection(t)}var r=ol.format.WKT.Parser.GeometryParser_[o],n=ol.format.WKT.Parser.GeometryConstructor_[o];if(!goog.isDef(r)||!goog.isDef(n))throw new Error("Invalid geometry type: "+o);var i=r.call(this);return new n(i)}throw new Error(this.formatErrorMessage_())},ol.format.WKT.Parser.prototype.parseGeometryCollectionText_=function(){if(this.match(ol.format.WKT.TokenType.LEFT_PAREN)){var e=[];do e.push(this.parseGeometry_());while(this.match(ol.format.WKT.TokenType.COMMA));if(this.match(ol.format.WKT.TokenType.RIGHT_PAREN))return e}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},ol.format.WKT.Parser.prototype.parsePointText_=function(){if(this.match(ol.format.WKT.TokenType.LEFT_PAREN)){var e=this.parsePoint_();if(this.match(ol.format.WKT.TokenType.RIGHT_PAREN))return e}else if(this.isEmptyGeometry_())return null;throw new Error(this.formatErrorMessage_())},ol.format.WKT.Parser.prototype.parseLineStringText_=function(){if(this.match(ol.format.WKT.TokenType.LEFT_PAREN)){var e=this.parsePointList_();if(this.match(ol.format.WKT.TokenType.RIGHT_PAREN))return e}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},ol.format.WKT.Parser.prototype.parsePolygonText_=function(){if(this.match(ol.format.WKT.TokenType.LEFT_PAREN)){var e=this.parseLineStringTextList_();if(this.match(ol.format.WKT.TokenType.RIGHT_PAREN))return e}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},ol.format.WKT.Parser.prototype.parseMultiPointText_=function(){if(this.match(ol.format.WKT.TokenType.LEFT_PAREN)){var e;if(e=this.token_.type==ol.format.WKT.TokenType.LEFT_PAREN?this.parsePointTextList_():this.parsePointList_(),this.match(ol.format.WKT.TokenType.RIGHT_PAREN))return e}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},ol.format.WKT.Parser.prototype.parseMultiLineStringText_=function(){if(this.match(ol.format.WKT.TokenType.LEFT_PAREN)){var e=this.parseLineStringTextList_();if(this.match(ol.format.WKT.TokenType.RIGHT_PAREN))return e}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},ol.format.WKT.Parser.prototype.parseMultiPolygonText_=function(){if(this.match(ol.format.WKT.TokenType.LEFT_PAREN)){var e=this.parsePolygonTextList_();if(this.match(ol.format.WKT.TokenType.RIGHT_PAREN))return e}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},ol.format.WKT.Parser.prototype.parsePoint_=function(){for(var e=[],o=0;o<this.dimension_;++o){var t=this.token_;if(!this.match(ol.format.WKT.TokenType.NUMBER))break;e.push(t.value)}if(e.length==this.dimension_)return e;throw new Error(this.formatErrorMessage_())},ol.format.WKT.Parser.prototype.parsePointList_=function(){for(var e=[this.parsePoint_()];this.match(ol.format.WKT.TokenType.COMMA);)e.push(this.parsePoint_());return e},ol.format.WKT.Parser.prototype.parsePointTextList_=function(){for(var e=[this.parsePointText_()];this.match(ol.format.WKT.TokenType.COMMA);)e.push(this.parsePointText_());return e},ol.format.WKT.Parser.prototype.parseLineStringTextList_=function(){for(var e=[this.parseLineStringText_()];this.match(ol.format.WKT.TokenType.COMMA);)e.push(this.parseLineStringText_());return e},ol.format.WKT.Parser.prototype.parsePolygonTextList_=function(){for(var e=[this.parsePolygonText_()];this.match(ol.format.WKT.TokenType.COMMA);)e.push(this.parsePolygonText_());return e},ol.format.WKT.Parser.prototype.isEmptyGeometry_=function(){var e=this.token_.type==ol.format.WKT.TokenType.TEXT&&this.token_.value==ol.format.WKT.EMPTY;return e&&this.consume_(),e},ol.format.WKT.Parser.prototype.formatErrorMessage_=function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"},ol.format.WKT.Parser.GeometryConstructor_={POINT:ol.geom.Point,LINESTRING:ol.geom.LineString,POLYGON:ol.geom.Polygon,MULTIPOINT:ol.geom.MultiPoint,MULTILINESTRING:ol.geom.MultiLineString,MULTIPOLYGON:ol.geom.MultiPolygon},ol.format.WKT.Parser.GeometryParser_={POINT:ol.format.WKT.Parser.prototype.parsePointText_,LINESTRING:ol.format.WKT.Parser.prototype.parseLineStringText_,POLYGON:ol.format.WKT.Parser.prototype.parsePolygonText_,MULTIPOINT:ol.format.WKT.Parser.prototype.parseMultiPointText_,MULTILINESTRING:ol.format.WKT.Parser.prototype.parseMultiLineStringText_,MULTIPOLYGON:ol.format.WKT.Parser.prototype.parseMultiPolygonText_},goog.provide("ol.format.WMSCapabilities"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.dom.NodeType"),goog.require("goog.object"),goog.require("goog.string"),goog.require("ol.format.XLink"),goog.require("ol.format.XML"),goog.require("ol.format.XSD"),goog.require("ol.xml"),ol.format.WMSCapabilities=function(){goog.base(this),this.version=void 0},goog.inherits(ol.format.WMSCapabilities,ol.format.XML),ol.format.WMSCapabilities.prototype.read,ol.format.WMSCapabilities.prototype.readFromDocument=function(e){goog.asserts.assert(e.nodeType==goog.dom.NodeType.DOCUMENT,"doc.nodeType should be DOCUMENT");for(var o=e.firstChild;!goog.isNull(o);o=o.nextSibling)if(o.nodeType==goog.dom.NodeType.ELEMENT)return this.readFromNode(o);return null},ol.format.WMSCapabilities.prototype.readFromNode=function(e){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("WMS_Capabilities"==e.localName||"WMT_MS_Capabilities"==e.localName,"localName should be WMS_Capabilities or WMT_MS_Capabilities"),this.version=goog.string.trim(e.getAttribute("version")),goog.asserts.assertString(this.version,"this.version should be a string");var o=ol.xml.pushParseAndPop({version:this.version},ol.format.WMSCapabilities.PARSERS_,e,[]);return goog.isDef(o)?o:null},ol.format.WMSCapabilities.readAttribution_=function(e,o){return goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("Attribution"==e.localName,"localName should be Attribution"),ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.ATTRIBUTION_PARSERS_,e,o)},ol.format.WMSCapabilities.readBoundingBox_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("BoundingBox"==e.localName,"localName should be BoundingBox");var t=[ol.format.XSD.readDecimalString(e.getAttribute("minx")),ol.format.XSD.readDecimalString(e.getAttribute("miny")),ol.format.XSD.readDecimalString(e.getAttribute("maxx")),ol.format.XSD.readDecimalString(e.getAttribute("maxy"))],r=[ol.format.XSD.readDecimalString(e.getAttribute("resx")),ol.format.XSD.readDecimalString(e.getAttribute("resy"))];return{crs:e.getAttribute("CRS"),extent:t,res:r}},ol.format.WMSCapabilities.readEXGeographicBoundingBox_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("EX_GeographicBoundingBox"==e.localName,"localName should be EX_GeographicBoundingBox");var t=ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.EX_GEOGRAPHIC_BOUNDING_BOX_PARSERS_,e,o);if(!goog.isDef(t))return void 0;var r=t.westBoundLongitude,n=t.southBoundLatitude,i=t.eastBoundLongitude,a=t.northBoundLatitude;return goog.isDef(r)&&goog.isDef(n)&&goog.isDef(i)&&goog.isDef(a)?[r,n,i,a]:void 0},ol.format.WMSCapabilities.readCapability_=function(e,o){return goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("Capability"==e.localName,"localName should be Capability"),ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.CAPABILITY_PARSERS_,e,o)},ol.format.WMSCapabilities.readService_=function(e,o){return goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("Service"==e.localName,"localName should be Service"),ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.SERVICE_PARSERS_,e,o)},ol.format.WMSCapabilities.readContactInformation_=function(e,o){return goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType shpuld be ELEMENT"),goog.asserts.assert("ContactInformation"==e.localName,"localName should be ContactInformation"),ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.CONTACT_INFORMATION_PARSERS_,e,o)},ol.format.WMSCapabilities.readContactPersonPrimary_=function(e,o){return goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("ContactPersonPrimary"==e.localName,"localName should be ContactPersonPrimary"),ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.CONTACT_PERSON_PARSERS_,e,o)},ol.format.WMSCapabilities.readContactAddress_=function(e,o){return goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("ContactAddress"==e.localName,"localName should be ContactAddress"),ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.CONTACT_ADDRESS_PARSERS_,e,o)},ol.format.WMSCapabilities.readException_=function(e,o){return goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("Exception"==e.localName,"localName should be Exception"),ol.xml.pushParseAndPop([],ol.format.WMSCapabilities.EXCEPTION_PARSERS_,e,o)},ol.format.WMSCapabilities.readCapabilityLayer_=function(e,o){return goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("Layer"==e.localName,"localName should be Layer"),ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.LAYER_PARSERS_,e,o)},ol.format.WMSCapabilities.readLayer_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("Layer"==e.localName,"localName should be Layer");var t=o[o.length-1],r=ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.LAYER_PARSERS_,e,o);if(!goog.isDef(r))return void 0;var n=ol.format.XSD.readBooleanString(e.getAttribute("queryable"));goog.isDef(n)||(n=t.queryable),r.queryable=goog.isDef(n)?n:!1;var i=ol.format.XSD.readNonNegativeIntegerString(e.getAttribute("cascaded"));goog.isDef(i)||(i=t.cascaded),r.cascaded=i;var a=ol.format.XSD.readBooleanString(e.getAttribute("opaque"));goog.isDef(a)||(a=t.opaque),r.opaque=goog.isDef(a)?a:!1;var s=ol.format.XSD.readBooleanString(e.getAttribute("noSubsets"));goog.isDef(s)||(s=t.noSubsets),r.noSubsets=goog.isDef(s)?s:!1;var g=ol.format.XSD.readDecimalString(e.getAttribute("fixedWidth"));goog.isDef(g)||(g=t.fixedWidth),r.fixedWidth=g;var l=ol.format.XSD.readDecimalString(e.getAttribute("fixedHeight"));goog.isDef(l)||(l=t.fixedHeight),r.fixedHeight=l;var p=["Style","CRS","AuthorityURL"];goog.array.forEach(p,function(e){var o=t[e];if(goog.isDef(o)){var n=goog.object.setIfUndefined(r,e,[]);n=n.concat(o),r[e]=n}});var u=["EX_GeographicBoundingBox","BoundingBox","Dimension","Attribution","MinScaleDenominator","MaxScaleDenominator"];return goog.array.forEach(u,function(e){var o=r[e];if(!goog.isDef(o)){var n=t[e];r[e]=n}}),r},ol.format.WMSCapabilities.readDimension_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("Dimension"==e.localName,"localName should be Dimension");var t={name:e.getAttribute("name"),units:e.getAttribute("units"),unitSymbol:e.getAttribute("unitSymbol"),"default":e.getAttribute("default"),multipleValues:ol.format.XSD.readBooleanString(e.getAttribute("multipleValues")),nearestValue:ol.format.XSD.readBooleanString(e.getAttribute("nearestValue")),current:ol.format.XSD.readBooleanString(e.getAttribute("current")),values:ol.format.XSD.readString(e)};return t},ol.format.WMSCapabilities.readFormatOnlineresource_=function(e,o){return goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.FORMAT_ONLINERESOURCE_PARSERS_,e,o)},ol.format.WMSCapabilities.readRequest_=function(e,o){return goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("Request"==e.localName,"localName should be Request"),ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.REQUEST_PARSERS_,e,o)},ol.format.WMSCapabilities.readDCPType_=function(e,o){return goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("DCPType"==e.localName,"localName should be DCPType"),ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.DCPTYPE_PARSERS_,e,o)},ol.format.WMSCapabilities.readHTTP_=function(e,o){return goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("HTTP"==e.localName,"localName should be HTTP"),ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.HTTP_PARSERS_,e,o)},ol.format.WMSCapabilities.readOperationType_=function(e,o){return goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.OPERATIONTYPE_PARSERS_,e,o)},ol.format.WMSCapabilities.readSizedFormatOnlineresource_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT");var t=ol.format.WMSCapabilities.readFormatOnlineresource_(e,o);if(goog.isDef(t)){var r=[ol.format.XSD.readNonNegativeIntegerString(e.getAttribute("width")),ol.format.XSD.readNonNegativeIntegerString(e.getAttribute("height"))];return t.size=r,t}return void 0},ol.format.WMSCapabilities.readAuthorityURL_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("AuthorityURL"==e.localName,"localName should be AuthorityURL");var t=ol.format.WMSCapabilities.readFormatOnlineresource_(e,o);return goog.isDef(t)?(t.name=e.getAttribute("name"),t):void 0},ol.format.WMSCapabilities.readMetadataURL_=function(e,o){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("MetadataURL"==e.localName,"localName should be MetadataURL");var t=ol.format.WMSCapabilities.readFormatOnlineresource_(e,o);return goog.isDef(t)?(t.type=e.getAttribute("type"),t):void 0},ol.format.WMSCapabilities.readStyle_=function(e,o){return goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("Style"==e.localName,"localName should be Style"),ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.STYLE_PARSERS_,e,o)},ol.format.WMSCapabilities.readKeywordList_=function(e,o){return goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("KeywordList"==e.localName,"localName should be KeywordList"),ol.xml.pushParseAndPop([],ol.format.WMSCapabilities.KEYWORDLIST_PARSERS_,e,o)},ol.format.WMSCapabilities.NAMESPACE_URIS_=[null,"http://www.opengis.net/wms"],ol.format.WMSCapabilities.PARSERS_=ol.xml.makeParsersNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Service:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readService_),Capability:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readCapability_)}),ol.format.WMSCapabilities.CAPABILITY_PARSERS_=ol.xml.makeParsersNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Request:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readRequest_),Exception:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readException_),Layer:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readCapabilityLayer_)}),ol.format.WMSCapabilities.SERVICE_PARSERS_=ol.xml.makeParsersNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Name:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Title:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Abstract:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),KeywordList:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readKeywordList_),OnlineResource:ol.xml.makeObjectPropertySetter(ol.format.XLink.readHref),ContactInformation:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readContactInformation_),Fees:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),AccessConstraints:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),LayerLimit:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),MaxWidth:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),MaxHeight:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger)}),ol.format.WMSCapabilities.CONTACT_INFORMATION_PARSERS_=ol.xml.makeParsersNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{ContactPersonPrimary:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readContactPersonPrimary_),ContactPosition:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ContactAddress:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readContactAddress_),ContactVoiceTelephone:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ContactFacsimileTelephone:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ContactElectronicMailAddress:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)}),ol.format.WMSCapabilities.CONTACT_PERSON_PARSERS_=ol.xml.makeParsersNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{ContactPerson:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ContactOrganization:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)}),ol.format.WMSCapabilities.CONTACT_ADDRESS_PARSERS_=ol.xml.makeParsersNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{AddressType:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Address:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),City:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),StateOrProvince:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),PostCode:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Country:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)}),ol.format.WMSCapabilities.EXCEPTION_PARSERS_=ol.xml.makeParsersNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Format:ol.xml.makeArrayPusher(ol.format.XSD.readString)}),ol.format.WMSCapabilities.LAYER_PARSERS_=ol.xml.makeParsersNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Name:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Title:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Abstract:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),KeywordList:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readKeywordList_),CRS:ol.xml.makeObjectPropertyPusher(ol.format.XSD.readString),EX_GeographicBoundingBox:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readEXGeographicBoundingBox_),BoundingBox:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readBoundingBox_),Dimension:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readDimension_),Attribution:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readAttribution_),AuthorityURL:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readAuthorityURL_),Identifier:ol.xml.makeObjectPropertyPusher(ol.format.XSD.readString),MetadataURL:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readMetadataURL_),DataURL:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readFormatOnlineresource_),FeatureListURL:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readFormatOnlineresource_),Style:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readStyle_),MinScaleDenominator:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),MaxScaleDenominator:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),Layer:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readLayer_)}),ol.format.WMSCapabilities.ATTRIBUTION_PARSERS_=ol.xml.makeParsersNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Title:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),OnlineResource:ol.xml.makeObjectPropertySetter(ol.format.XLink.readHref),LogoURL:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readSizedFormatOnlineresource_)}),ol.format.WMSCapabilities.EX_GEOGRAPHIC_BOUNDING_BOX_PARSERS_=ol.xml.makeParsersNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{westBoundLongitude:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),eastBoundLongitude:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),southBoundLatitude:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),northBoundLatitude:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal)}),ol.format.WMSCapabilities.REQUEST_PARSERS_=ol.xml.makeParsersNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{GetCapabilities:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readOperationType_),GetMap:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readOperationType_),GetFeatureInfo:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readOperationType_)}),ol.format.WMSCapabilities.OPERATIONTYPE_PARSERS_=ol.xml.makeParsersNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Format:ol.xml.makeObjectPropertyPusher(ol.format.XSD.readString),DCPType:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readDCPType_)}),ol.format.WMSCapabilities.DCPTYPE_PARSERS_=ol.xml.makeParsersNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{HTTP:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readHTTP_)}),ol.format.WMSCapabilities.HTTP_PARSERS_=ol.xml.makeParsersNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Get:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readFormatOnlineresource_),Post:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readFormatOnlineresource_)}),ol.format.WMSCapabilities.STYLE_PARSERS_=ol.xml.makeParsersNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Name:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Title:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Abstract:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),LegendURL:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readSizedFormatOnlineresource_),StyleSheetURL:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readFormatOnlineresource_),StyleURL:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readFormatOnlineresource_)}),ol.format.WMSCapabilities.FORMAT_ONLINERESOURCE_PARSERS_=ol.xml.makeParsersNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Format:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),OnlineResource:ol.xml.makeObjectPropertySetter(ol.format.XLink.readHref)}),ol.format.WMSCapabilities.KEYWORDLIST_PARSERS_=ol.xml.makeParsersNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Keyword:ol.xml.makeArrayPusher(ol.format.XSD.readString)}),goog.provide("ol.format.WMSGetFeatureInfo"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.dom.NodeType"),goog.require("goog.object"),goog.require("goog.string"),goog.require("ol.format.GML"),goog.require("ol.format.GML2"),goog.require("ol.format.XMLFeature"),goog.require("ol.xml"),ol.format.WMSGetFeatureInfo=function(){this.featureNS_="http://mapserver.gis.umn.edu/mapserver",this.gmlFormat_=new ol.format.GML2,goog.base(this)},goog.inherits(ol.format.WMSGetFeatureInfo,ol.format.XMLFeature),ol.format.WMSGetFeatureInfo.featureIdentifier_="_feature",ol.format.WMSGetFeatureInfo.layerIdentifier_="_layer",ol.format.WMSGetFeatureInfo.prototype.readFeatures_=function(e,o){e.namespaceURI=this.featureNS_,goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT");var t=ol.xml.getLocalName(e),r=[];if(0===e.childNodes.length)return r;if("msGMLOutput"==t&&goog.array.forEach(e.childNodes,function(e){if(e.nodeType===goog.dom.NodeType.ELEMENT){var t=o[0];goog.asserts.assert(goog.isObject(t),"context should be an Object"),goog.asserts.assert(e.localName.indexOf(ol.format.WMSGetFeatureInfo.layerIdentifier_)>=0,"localName of layer node should match layerIdentifier");var n=goog.string.remove(e.localName,ol.format.WMSGetFeatureInfo.layerIdentifier_)+ol.format.WMSGetFeatureInfo.featureIdentifier_;t.featureType=n,t.featureNS=this.featureNS_;var i={};i[n]=ol.xml.makeArrayPusher(this.gmlFormat_.readFeatureElement,this.gmlFormat_);var a=ol.xml.makeParsersNS([t.featureNS,null],i);e.namespaceURI=this.featureNS_;var s=ol.xml.pushParseAndPop([],a,e,o,this.gmlFormat_);goog.isDef(s)&&goog.array.extend(r,s)}},this),"FeatureCollection"==t){var n=ol.xml.pushParseAndPop([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,e,[{}],this.gmlFormat_);goog.isDef(n)&&(r=n)}return r},ol.format.WMSGetFeatureInfo.prototype.readFeatures,ol.format.WMSGetFeatureInfo.prototype.readFeaturesFromNode=function(e,o){var t={featureType:this.featureType,featureNS:this.featureNS};return goog.isDef(o)&&goog.object.extend(t,this.getReadOptions(e,o)),this.readFeatures_(e,[t])},goog.provide("ol.format.WMTSCapabilities"),goog.require("goog.asserts"),goog.require("goog.dom.NodeType"),goog.require("goog.object"),goog.require("goog.string"),goog.require("ol.extent"),goog.require("ol.format.OWS"),goog.require("ol.format.XLink"),goog.require("ol.format.XML"),goog.require("ol.format.XSD"),goog.require("ol.xml"),ol.format.WMTSCapabilities=function(){goog.base(this),this.owsParser_=new ol.format.OWS},goog.inherits(ol.format.WMTSCapabilities,ol.format.XML),ol.format.WMTSCapabilities.prototype.read,ol.format.WMTSCapabilities.prototype.readFromDocument=function(e){goog.asserts.assert(e.nodeType==goog.dom.NodeType.DOCUMENT,"doc.nodeType should be DOCUMENT");for(var o=e.firstChild;!goog.isNull(o);o=o.nextSibling)if(o.nodeType==goog.dom.NodeType.ELEMENT)return this.readFromNode(o);return null},ol.format.WMTSCapabilities.prototype.readFromNode=function(e){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("Capabilities"==e.localName,"localName should be Capabilities"),this.version=goog.string.trim(e.getAttribute("version")),goog.asserts.assertString(this.version,"this.version should be a string");var o=this.owsParser_.readFromNode(e);return goog.isDef(o)?(goog.object.set(o,"version",this.version),o=ol.xml.pushParseAndPop(o,ol.format.WMTSCapabilities.PARSERS_,e,[]),goog.isDef(o)?o:null):null},ol.format.WMTSCapabilities.readContents_=function(e,o){return goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("Contents"==e.localName,"localName should be Contents"),ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.CONTENTS_PARSERS_,e,o)},ol.format.WMTSCapabilities.readLayer_=function(e,o){return goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("Layer"==e.localName,"localName should be Layer"),ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.LAYER_PARSERS_,e,o)},ol.format.WMTSCapabilities.readTileMatrixSet_=function(e,o){return ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.TMS_PARSERS_,e,o)},ol.format.WMTSCapabilities.readStyle_=function(e,o){var t=ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.STYLE_PARSERS_,e,o);if(!goog.isDef(t))return void 0;var r="true"===e.getAttribute("isDefault");return t.isDefault=r,t},ol.format.WMTSCapabilities.readTileMatrixSetLink_=function(e,o){return ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.TMS_LINKS_PARSERS_,e,o)},ol.format.WMTSCapabilities.readResourceUrl_=function(e,o){var t=e.getAttribute("format"),r=e.getAttribute("template"),n=e.getAttribute("resourceType"),i={};return goog.isDef(t)&&(i.format=t),goog.isDef(r)&&(i.template=r),goog.isDef(n)&&(i.resourceType=n),i},ol.format.WMTSCapabilities.readWgs84BoundingBox_=function(e,o){var t=ol.xml.pushParseAndPop([],ol.format.WMTSCapabilities.WGS84_BBOX_READERS_,e,o);return 2!=t.length?void 0:ol.extent.boundingExtent(t)},ol.format.WMTSCapabilities.readLegendUrl_=function(e,o){var t={};return t.format=e.getAttribute("format"),t.href=ol.format.XLink.readHref(e),t},ol.format.WMTSCapabilities.readCoordinates_=function(e,o){var t=ol.format.XSD.readString(e).split(" ");if(!goog.isDef(t)||2!=t.length)return void 0;var r=+t[0],n=+t[1];return isNaN(r)||isNaN(n)?void 0:[r,n]},ol.format.WMTSCapabilities.readTileMatrix_=function(e,o){return ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.TM_PARSERS_,e,o)},ol.format.WMTSCapabilities.NAMESPACE_URIS_=[null,"http://www.opengis.net/wmts/1.0"],ol.format.WMTSCapabilities.OWS_NAMESPACE_URIS_=[null,"http://www.opengis.net/ows/1.1"],ol.format.WMTSCapabilities.PARSERS_=ol.xml.makeParsersNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{Contents:ol.xml.makeObjectPropertySetter(ol.format.WMTSCapabilities.readContents_)}),ol.format.WMTSCapabilities.CONTENTS_PARSERS_=ol.xml.makeParsersNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{Layer:ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readLayer_),TileMatrixSet:ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readTileMatrixSet_)}),ol.format.WMTSCapabilities.LAYER_PARSERS_=ol.xml.makeParsersNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{Style:ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readStyle_),Format:ol.xml.makeObjectPropertyPusher(ol.format.XSD.readString),TileMatrixSetLink:ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readTileMatrixSetLink_),ResourceURL:ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readResourceUrl_)},ol.xml.makeParsersNS(ol.format.WMTSCapabilities.OWS_NAMESPACE_URIS_,{Title:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Abstract:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),WGS84BoundingBox:ol.xml.makeObjectPropertySetter(ol.format.WMTSCapabilities.readWgs84BoundingBox_),Identifier:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)})),ol.format.WMTSCapabilities.STYLE_PARSERS_=ol.xml.makeParsersNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{LegendURL:ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readLegendUrl_)},ol.xml.makeParsersNS(ol.format.WMTSCapabilities.OWS_NAMESPACE_URIS_,{Title:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Identifier:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)})),ol.format.WMTSCapabilities.TMS_LINKS_PARSERS_=ol.xml.makeParsersNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{TileMatrixSet:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)}),ol.format.WMTSCapabilities.WGS84_BBOX_READERS_=ol.xml.makeParsersNS(ol.format.WMTSCapabilities.OWS_NAMESPACE_URIS_,{LowerCorner:ol.xml.makeArrayPusher(ol.format.WMTSCapabilities.readCoordinates_),UpperCorner:ol.xml.makeArrayPusher(ol.format.WMTSCapabilities.readCoordinates_)}),ol.format.WMTSCapabilities.TMS_PARSERS_=ol.xml.makeParsersNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{WellKnownScaleSet:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),TileMatrix:ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readTileMatrix_)},ol.xml.makeParsersNS(ol.format.WMTSCapabilities.OWS_NAMESPACE_URIS_,{SupportedCRS:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Identifier:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)})),ol.format.WMTSCapabilities.TM_PARSERS_=ol.xml.makeParsersNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{TopLeftCorner:ol.xml.makeObjectPropertySetter(ol.format.WMTSCapabilities.readCoordinates_),ScaleDenominator:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),TileWidth:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),TileHeight:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),
MatrixWidth:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),MatrixHeight:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger)},ol.xml.makeParsersNS(ol.format.WMTSCapabilities.OWS_NAMESPACE_URIS_,{Identifier:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)})),goog.provide("ol.sphere.WGS84"),goog.require("ol.Sphere"),ol.sphere.WGS84=new ol.Sphere(6378137),goog.provide("ol.Geolocation"),goog.provide("ol.GeolocationProperty"),goog.require("goog.events"),goog.require("goog.events.EventType"),goog.require("goog.math"),goog.require("ol.Coordinate"),goog.require("ol.Object"),goog.require("ol.geom.Geometry"),goog.require("ol.geom.Polygon"),goog.require("ol.has"),goog.require("ol.proj"),goog.require("ol.sphere.WGS84"),ol.GeolocationProperty={ACCURACY:"accuracy",ACCURACY_GEOMETRY:"accuracyGeometry",ALTITUDE:"altitude",ALTITUDE_ACCURACY:"altitudeAccuracy",HEADING:"heading",POSITION:"position",PROJECTION:"projection",SPEED:"speed",TRACKING:"tracking",TRACKING_OPTIONS:"trackingOptions"},ol.Geolocation=function(e){goog.base(this);var o=goog.isDef(e)?e:{};this.position_=null,this.transform_=ol.proj.identityTransform,this.watchId_=void 0,goog.events.listen(this,ol.Object.getChangeEventType(ol.GeolocationProperty.PROJECTION),this.handleProjectionChanged_,!1,this),goog.events.listen(this,ol.Object.getChangeEventType(ol.GeolocationProperty.TRACKING),this.handleTrackingChanged_,!1,this),goog.isDef(o.projection)&&this.setProjection(ol.proj.get(o.projection)),goog.isDef(o.trackingOptions)&&this.setTrackingOptions(o.trackingOptions),this.setTracking(goog.isDef(o.tracking)?o.tracking:!1)},goog.inherits(ol.Geolocation,ol.Object),ol.Geolocation.prototype.disposeInternal=function(){this.setTracking(!1),goog.base(this,"disposeInternal")},ol.Geolocation.prototype.handleProjectionChanged_=function(){var e=this.getProjection();goog.isDefAndNotNull(e)&&(this.transform_=ol.proj.getTransformFromProjections(ol.proj.get("EPSG:4326"),e),goog.isNull(this.position_)||this.set(ol.GeolocationProperty.POSITION,this.transform_(this.position_)))},ol.Geolocation.prototype.handleTrackingChanged_=function(){if(ol.has.GEOLOCATION){var e=this.getTracking();e&&!goog.isDef(this.watchId_)?this.watchId_=goog.global.navigator.geolocation.watchPosition(goog.bind(this.positionChange_,this),goog.bind(this.positionError_,this),this.getTrackingOptions()):!e&&goog.isDef(this.watchId_)&&(goog.global.navigator.geolocation.clearWatch(this.watchId_),this.watchId_=void 0)}},ol.Geolocation.prototype.positionChange_=function(e){var o=e.coords;this.set(ol.GeolocationProperty.ACCURACY,o.accuracy),this.set(ol.GeolocationProperty.ALTITUDE,goog.isNull(o.altitude)?void 0:o.altitude),this.set(ol.GeolocationProperty.ALTITUDE_ACCURACY,goog.isNull(o.altitudeAccuracy)?void 0:o.altitudeAccuracy),this.set(ol.GeolocationProperty.HEADING,goog.isNull(o.heading)?void 0:goog.math.toRadians(o.heading)),goog.isNull(this.position_)?this.position_=[o.longitude,o.latitude]:(this.position_[0]=o.longitude,this.position_[1]=o.latitude);var t=this.transform_(this.position_);this.set(ol.GeolocationProperty.POSITION,t),this.set(ol.GeolocationProperty.SPEED,goog.isNull(o.speed)?void 0:o.speed);var r=ol.geom.Polygon.circular(ol.sphere.WGS84,this.position_,o.accuracy);r.applyTransform(this.transform_),this.set(ol.GeolocationProperty.ACCURACY_GEOMETRY,r),this.changed()},ol.Geolocation.prototype.positionError_=function(e){e.type=goog.events.EventType.ERROR,this.setTracking(!1),this.dispatchEvent(e)},ol.Geolocation.prototype.getAccuracy=function(){return this.get(ol.GeolocationProperty.ACCURACY)},ol.Geolocation.prototype.getAccuracyGeometry=function(){return this.get(ol.GeolocationProperty.ACCURACY_GEOMETRY)||null},ol.Geolocation.prototype.getAltitude=function(){return this.get(ol.GeolocationProperty.ALTITUDE)},ol.Geolocation.prototype.getAltitudeAccuracy=function(){return this.get(ol.GeolocationProperty.ALTITUDE_ACCURACY)},ol.Geolocation.prototype.getHeading=function(){return this.get(ol.GeolocationProperty.HEADING)},ol.Geolocation.prototype.getPosition=function(){return this.get(ol.GeolocationProperty.POSITION)},ol.Geolocation.prototype.getProjection=function(){return this.get(ol.GeolocationProperty.PROJECTION)},ol.Geolocation.prototype.getSpeed=function(){return this.get(ol.GeolocationProperty.SPEED)},ol.Geolocation.prototype.getTracking=function(){return this.get(ol.GeolocationProperty.TRACKING)},ol.Geolocation.prototype.getTrackingOptions=function(){return this.get(ol.GeolocationProperty.TRACKING_OPTIONS)},ol.Geolocation.prototype.setProjection=function(e){this.set(ol.GeolocationProperty.PROJECTION,e)},ol.Geolocation.prototype.setTracking=function(e){this.set(ol.GeolocationProperty.TRACKING,e)},ol.Geolocation.prototype.setTrackingOptions=function(e){this.set(ol.GeolocationProperty.TRACKING_OPTIONS,e)},goog.provide("ol.geom.flat.geodesic"),goog.require("goog.asserts"),goog.require("goog.math"),goog.require("goog.object"),goog.require("ol.TransformFunction"),goog.require("ol.math"),goog.require("ol.proj"),ol.geom.flat.geodesic.line_=function(e,o,t){for(var r,n,i,a,s,g,l=[],p=e(0),u=e(1),c=o(p),d=o(u),h=[u,p],m=[d,c],y=[1,0],f={},v=1e5;--v>0&&y.length>0;)i=y.pop(),p=h.pop(),c=m.pop(),g=i.toString(),goog.object.containsKey(f,g)||(l.push(c[0],c[1]),f[g]=!0),a=y.pop(),u=h.pop(),d=m.pop(),s=(i+a)/2,r=e(s),n=o(r),ol.math.squaredSegmentDistance(n[0],n[1],c[0],c[1],d[0],d[1])<t?(l.push(d[0],d[1]),g=a.toString(),goog.asserts.assert(!goog.object.containsKey(f,g),"fractions object should contain key : "+g),f[g]=!0):(y.push(a,s,s,i),m.push(d,n,n,c),h.push(u,r,r,p));return goog.asserts.assert(v>0,"maxIterations should be more than 0"),l},ol.geom.flat.geodesic.greatCircleArc=function(e,o,t,r,n,i){var a=ol.proj.get("EPSG:4326"),s=Math.cos(goog.math.toRadians(o)),g=Math.sin(goog.math.toRadians(o)),l=Math.cos(goog.math.toRadians(r)),p=Math.sin(goog.math.toRadians(r)),u=Math.cos(goog.math.toRadians(t-e)),c=Math.sin(goog.math.toRadians(t-e)),d=g*p+s*l*u;return ol.geom.flat.geodesic.line_(function(o){if(d>=1)return[t,r];var n=o*Math.acos(d),i=Math.cos(n),a=Math.sin(n),h=c*l,m=s*p-g*l*u,y=Math.atan2(h,m),f=Math.asin(g*i+s*a*Math.cos(y)),v=goog.math.toRadians(e)+Math.atan2(Math.sin(y)*a*s,i-g*Math.sin(f));return[goog.math.toDegrees(v),goog.math.toDegrees(f)]},ol.proj.getTransform(a,n),i)},ol.geom.flat.geodesic.meridian=function(e,o,t,r,n){var i=ol.proj.get("EPSG:4326");return ol.geom.flat.geodesic.line_(function(r){return[e,o+(t-o)*r]},ol.proj.getTransform(i,r),n)},ol.geom.flat.geodesic.parallel=function(e,o,t,r,n){var i=ol.proj.get("EPSG:4326");return ol.geom.flat.geodesic.line_(function(r){return[o+(t-o)*r,e]},ol.proj.getTransform(i,r),n)},goog.provide("ol.Graticule"),goog.require("goog.asserts"),goog.require("goog.math"),goog.require("ol.extent"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.LineString"),goog.require("ol.geom.flat.geodesic"),goog.require("ol.proj"),goog.require("ol.render.EventType"),goog.require("ol.style.Stroke"),ol.Graticule=function(e){var o=goog.isDef(e)?e:{};this.map_=null,this.projection_=null,this.maxLat_=1/0,this.maxLon_=1/0,this.minLat_=-(1/0),this.minLon_=-(1/0),this.targetSize_=goog.isDef(o.targetSize)?o.targetSize:100,this.maxLines_=goog.isDef(o.maxLines)?o.maxLines:100,goog.asserts.assert(this.maxLines_>0,"this.maxLines_ should be more than 0"),this.meridians_=[],this.parallels_=[],this.strokeStyle_=goog.isDef(o.strokeStyle)?o.strokeStyle:ol.Graticule.DEFAULT_STROKE_STYLE_,this.fromLonLatTransform_=void 0,this.toLonLatTransform_=void 0,this.projectionCenterLonLat_=null,this.setMap(goog.isDef(o.map)?o.map:null)},ol.Graticule.DEFAULT_STROKE_STYLE_=new ol.style.Stroke({color:"rgba(0,0,0,0.2)"}),ol.Graticule.intervals_=[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001],ol.Graticule.prototype.addMeridian_=function(e,o,t,r){var n=this.getMeridian_(e,o,r);return ol.extent.intersects(n.getExtent(),t)&&(this.meridians_[r++]=n),r},ol.Graticule.prototype.addParallel_=function(e,o,t,r){var n=this.getParallel_(e,o,r);return ol.extent.intersects(n.getExtent(),t)&&(this.parallels_[r++]=n),r},ol.Graticule.prototype.createGraticule_=function(e,o,t,r){var n=this.getInterval_(t);if(-1==n)return void(this.meridians_.length=this.parallels_.length=0);var i,a,s,g,l=this.toLonLatTransform_(o),p=l[0],u=l[1],c=this.maxLines_;for(p=Math.floor(p/n)*n,g=goog.math.clamp(p,this.minLon_,this.maxLon_),a=this.addMeridian_(g,r,e,0),i=0;g!=this.minLon_&&i++<c;)g=Math.max(g-n,this.minLon_),a=this.addMeridian_(g,r,e,a);for(g=goog.math.clamp(p,this.minLon_,this.maxLon_),i=0;g!=this.maxLon_&&i++<c;)g=Math.min(g+n,this.maxLon_),a=this.addMeridian_(g,r,e,a);for(this.meridians_.length=a,u=Math.floor(u/n)*n,s=goog.math.clamp(u,this.minLat_,this.maxLat_),a=this.addParallel_(s,r,e,0),i=0;s!=this.minLat_&&i++<c;)s=Math.max(s-n,this.minLat_),a=this.addParallel_(s,r,e,a);for(s=goog.math.clamp(u,this.minLat_,this.maxLat_),i=0;s!=this.maxLat_&&i++<c;)s=Math.min(s+n,this.maxLat_),a=this.addParallel_(s,r,e,a);this.parallels_.length=a},ol.Graticule.prototype.getInterval_=function(e){var o,t,r,n,i=this.projectionCenterLonLat_[0],a=this.projectionCenterLonLat_[1],s=-1,g=Math.pow(this.targetSize_*e,2),l=[],p=[];for(o=0,t=ol.Graticule.intervals_.length;t>o&&(r=ol.Graticule.intervals_[o]/2,l[0]=i-r,l[1]=a-r,p[0]=i+r,p[1]=a+r,this.fromLonLatTransform_(l,l),this.fromLonLatTransform_(p,p),n=Math.pow(p[0]-l[0],2)+Math.pow(p[1]-l[1],2),!(g>=n));++o)s=ol.Graticule.intervals_[o];return s},ol.Graticule.prototype.getMap=function(){return this.map_},ol.Graticule.prototype.getMeridian_=function(e,o,t){goog.asserts.assert(e>=this.minLon_,"lon should be larger than or equal to this.minLon_"),goog.asserts.assert(e<=this.maxLon_,"lon should be smaller than or equal to this.maxLon_");var r=ol.geom.flat.geodesic.meridian(e,this.minLat_,this.maxLat_,this.projection_,o);goog.asserts.assert(r.length>0,"flatCoordinates cannot be empty");var n=goog.isDef(this.meridians_[t])?this.meridians_[t]:new ol.geom.LineString(null);return n.setFlatCoordinates(ol.geom.GeometryLayout.XY,r),n},ol.Graticule.prototype.getMeridians=function(){return this.meridians_},ol.Graticule.prototype.getParallel_=function(e,o,t){goog.asserts.assert(e>=this.minLat_,"lat should be larger than or equal to this.minLat_"),goog.asserts.assert(e<=this.maxLat_,"lat should be smaller than or equal to this.maxLat_");var r=ol.geom.flat.geodesic.parallel(e,this.minLon_,this.maxLon_,this.projection_,o);goog.asserts.assert(r.length>0,"flatCoordinates cannot be empty");var n=goog.isDef(this.parallels_[t])?this.parallels_[t]:new ol.geom.LineString(null);return n.setFlatCoordinates(ol.geom.GeometryLayout.XY,r),n},ol.Graticule.prototype.getParallels=function(){return this.parallels_},ol.Graticule.prototype.handlePostCompose_=function(e){var o=e.vectorContext,t=e.frameState,r=t.extent,n=t.viewState,i=n.center,a=n.projection,s=n.resolution,g=t.pixelRatio,l=s*s/(4*g*g),p=goog.isNull(this.projection_)||!ol.proj.equivalent(this.projection_,a);p&&this.updateProjectionInfo_(a),this.createGraticule_(r,i,s,l),o.setFillStrokeStyle(null,this.strokeStyle_);var u,c,d;for(u=0,c=this.meridians_.length;c>u;++u)d=this.meridians_[u],o.drawLineStringGeometry(d,null);for(u=0,c=this.parallels_.length;c>u;++u)d=this.parallels_[u],o.drawLineStringGeometry(d,null)},ol.Graticule.prototype.updateProjectionInfo_=function(e){goog.asserts.assert(!goog.isNull(e),"projection cannot be null");var o=e.getExtent(),t=e.getWorldExtent(),r=t[3],n=t[2],i=t[1],a=t[0];goog.asserts.assert(!goog.isNull(o),"extent cannot be null"),goog.asserts.assert(goog.isDef(r),"maxLat should be defined"),goog.asserts.assert(goog.isDef(n),"maxLon should be defined"),goog.asserts.assert(goog.isDef(i),"minLat should be defined"),goog.asserts.assert(goog.isDef(a),"minLon should be defined"),this.maxLat_=r,this.maxLon_=n,this.minLat_=i,this.minLon_=a;var s=ol.proj.get("EPSG:4326");this.fromLonLatTransform_=ol.proj.getTransform(s,e),this.toLonLatTransform_=ol.proj.getTransform(e,s),this.projectionCenterLonLat_=this.toLonLatTransform_(ol.extent.getCenter(o)),this.projection_=e},ol.Graticule.prototype.setMap=function(e){goog.isNull(this.map_)||(this.map_.un(ol.render.EventType.POSTCOMPOSE,this.handlePostCompose_,this),this.map_.render()),goog.isNull(e)||(e.on(ol.render.EventType.POSTCOMPOSE,this.handlePostCompose_,this),e.render()),this.map_=e},goog.provide("ol.Image"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.events"),goog.require("goog.events.EventType"),goog.require("goog.object"),goog.require("ol.ImageBase"),goog.require("ol.ImageState"),goog.require("ol.extent"),ol.Image=function(e,o,t,r,n,i,a){goog.base(this,e,o,t,ol.ImageState.IDLE,r),this.src_=n,this.image_=new Image,goog.isNull(i)||(this.image_.crossOrigin=i),this.imageByContext_={},this.imageListenerKeys_=null,this.state=ol.ImageState.IDLE,this.imageLoadFunction_=a},goog.inherits(ol.Image,ol.ImageBase),ol.Image.prototype.getImage=function(e){if(goog.isDef(e)){var o,t=goog.getUid(e);return t in this.imageByContext_?this.imageByContext_[t]:(o=goog.object.isEmpty(this.imageByContext_)?this.image_:this.image_.cloneNode(!1),this.imageByContext_[t]=o,o)}return this.image_},ol.Image.prototype.handleImageError_=function(){this.state=ol.ImageState.ERROR,this.unlistenImage_(),this.changed()},ol.Image.prototype.handleImageLoad_=function(){goog.isDef(this.resolution)||(this.resolution=ol.extent.getHeight(this.extent)/this.image_.height),this.state=ol.ImageState.LOADED,this.unlistenImage_(),this.changed()},ol.Image.prototype.load=function(){this.state==ol.ImageState.IDLE&&(this.state=ol.ImageState.LOADING,this.changed(),goog.asserts.assert(goog.isNull(this.imageListenerKeys_),"this.imageListenerKeys_ should be null"),this.imageListenerKeys_=[goog.events.listenOnce(this.image_,goog.events.EventType.ERROR,this.handleImageError_,!1,this),goog.events.listenOnce(this.image_,goog.events.EventType.LOAD,this.handleImageLoad_,!1,this)],this.imageLoadFunction_(this,this.src_))},ol.Image.prototype.unlistenImage_=function(){goog.asserts.assert(!goog.isNull(this.imageListenerKeys_),"this.imageListenerKeys_ should not be null"),goog.array.forEach(this.imageListenerKeys_,goog.events.unlistenByKey),this.imageListenerKeys_=null},goog.provide("ol.ImageLoadFunctionType"),ol.ImageLoadFunctionType,goog.provide("ol.TileLoadFunctionType"),goog.provide("ol.TileVectorLoadFunctionType"),ol.TileLoadFunctionType,ol.TileVectorLoadFunctionType,goog.provide("ol.ImageTile"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.events"),goog.require("goog.events.EventType"),goog.require("goog.object"),goog.require("ol.Tile"),goog.require("ol.TileCoord"),goog.require("ol.TileLoadFunctionType"),goog.require("ol.TileState"),ol.ImageTile=function(e,o,t,r,n){goog.base(this,e,o),this.src_=t,this.image_=new Image,goog.isNull(r)||(this.image_.crossOrigin=r),this.imageByContext_={},this.imageListenerKeys_=null,this.tileLoadFunction_=n},goog.inherits(ol.ImageTile,ol.Tile),ol.ImageTile.prototype.disposeInternal=function(){this.state==ol.TileState.LOADING&&this.unlistenImage_(),goog.base(this,"disposeInternal")},ol.ImageTile.prototype.getImage=function(e){if(goog.isDef(e)){var o,t=goog.getUid(e);return t in this.imageByContext_?this.imageByContext_[t]:(o=goog.object.isEmpty(this.imageByContext_)?this.image_:this.image_.cloneNode(!1),this.imageByContext_[t]=o,o)}return this.image_},ol.ImageTile.prototype.getKey=function(){return this.src_},ol.ImageTile.prototype.handleImageError_=function(){this.state=ol.TileState.ERROR,this.unlistenImage_(),this.changed()},ol.ImageTile.prototype.handleImageLoad_=function(){ol.LEGACY_IE_SUPPORT&&ol.IS_LEGACY_IE&&(goog.isDef(this.image_.naturalWidth)||(this.image_.naturalWidth=this.image_.width,this.image_.naturalHeight=this.image_.height)),this.state=this.image_.naturalWidth&&this.image_.naturalHeight?ol.TileState.LOADED:ol.TileState.EMPTY,this.unlistenImage_(),this.changed()},ol.ImageTile.prototype.load=function(){this.state==ol.TileState.IDLE&&(this.state=ol.TileState.LOADING,this.changed(),goog.asserts.assert(goog.isNull(this.imageListenerKeys_),"this.imageListenerKeys_ should be null"),this.imageListenerKeys_=[goog.events.listenOnce(this.image_,goog.events.EventType.ERROR,this.handleImageError_,!1,this),goog.events.listenOnce(this.image_,goog.events.EventType.LOAD,this.handleImageLoad_,!1,this)],this.tileLoadFunction_(this,this.src_))},ol.ImageTile.prototype.unlistenImage_=function(){goog.asserts.assert(!goog.isNull(this.imageListenerKeys_),"this.imageListenerKeys_ should not be null"),goog.array.forEach(this.imageListenerKeys_,goog.events.unlistenByKey),this.imageListenerKeys_=null},goog.provide("ol.ImageUrlFunction"),goog.provide("ol.ImageUrlFunctionType"),goog.require("ol.Size"),ol.ImageUrlFunctionType,ol.ImageUrlFunction.createFromParamsFunction=function(e,o,t){return function(r,n,i){return t(e,o,r,n,i)}},ol.ImageUrlFunction.nullImageUrlFunction=function(e,o){return void 0},goog.provide("goog.events.FileDropHandler"),goog.provide("goog.events.FileDropHandler.EventType"),goog.require("goog.array"),goog.require("goog.dom"),goog.require("goog.events.BrowserEvent"),goog.require("goog.events.EventHandler"),goog.require("goog.events.EventTarget"),goog.require("goog.events.EventType"),goog.require("goog.log"),goog.require("goog.log.Level"),goog.events.FileDropHandler=function(e,o){goog.events.EventTarget.call(this),this.eventHandler_=new goog.events.EventHandler(this);var t=e;o&&(t=goog.dom.getOwnerDocument(e)),this.eventHandler_.listen(t,goog.events.EventType.DRAGENTER,this.onDocDragEnter_),t!=e&&this.eventHandler_.listen(t,goog.events.EventType.DRAGOVER,this.onDocDragOver_),this.eventHandler_.listen(e,goog.events.EventType.DRAGOVER,this.onElemDragOver_),this.eventHandler_.listen(e,goog.events.EventType.DROP,this.onElemDrop_)},goog.inherits(goog.events.FileDropHandler,goog.events.EventTarget),goog.events.FileDropHandler.prototype.dndContainsFiles_=!1,goog.events.FileDropHandler.prototype.logger_=goog.log.getLogger("goog.events.FileDropHandler"),goog.events.FileDropHandler.EventType={DROP:goog.events.EventType.DROP},goog.events.FileDropHandler.prototype.disposeInternal=function(){goog.events.FileDropHandler.superClass_.disposeInternal.call(this),this.eventHandler_.dispose()},goog.events.FileDropHandler.prototype.dispatch_=function(e){goog.log.fine(this.logger_,"Firing DROP event...");var o=new goog.events.BrowserEvent(e.getBrowserEvent());o.type=goog.events.FileDropHandler.EventType.DROP,this.dispatchEvent(o)},goog.events.FileDropHandler.prototype.onDocDragEnter_=function(e){goog.log.log(this.logger_,goog.log.Level.FINER,'"'+e.target.id+'" ('+e.target+") dispatched: "+e.type);var o=e.getBrowserEvent().dataTransfer;this.dndContainsFiles_=!(!o||!(o.types&&(goog.array.contains(o.types,"Files")||goog.array.contains(o.types,"public.file-url"))||o.files&&o.files.length>0)),this.dndContainsFiles_&&e.preventDefault(),goog.log.log(this.logger_,goog.log.Level.FINER,"dndContainsFiles_: "+this.dndContainsFiles_)},goog.events.FileDropHandler.prototype.onDocDragOver_=function(e){if(goog.log.log(this.logger_,goog.log.Level.FINEST,'"'+e.target.id+'" ('+e.target+") dispatched: "+e.type),this.dndContainsFiles_){e.preventDefault();var o=e.getBrowserEvent().dataTransfer;o.dropEffect="none"}},goog.events.FileDropHandler.prototype.onElemDragOver_=function(e){if(goog.log.log(this.logger_,goog.log.Level.FINEST,'"'+e.target.id+'" ('+e.target+") dispatched: "+e.type),this.dndContainsFiles_){e.preventDefault(),e.stopPropagation();var o=e.getBrowserEvent().dataTransfer;o.effectAllowed="all",o.dropEffect="copy"}},goog.events.FileDropHandler.prototype.onElemDrop_=function(e){goog.log.log(this.logger_,goog.log.Level.FINER,'"'+e.target.id+'" ('+e.target+") dispatched: "+e.type),this.dndContainsFiles_&&(e.preventDefault(),e.stopPropagation(),this.dispatch_(e))},goog.provide("goog.async.Deferred"),goog.provide("goog.async.Deferred.AlreadyCalledError"),goog.provide("goog.async.Deferred.CanceledError"),goog.require("goog.Promise"),goog.require("goog.Thenable"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.debug.Error"),goog.async.Deferred=function(e,o){if(this.sequence_=[],this.onCancelFunction_=e,this.defaultScope_=o||null,this.fired_=!1,this.hadError_=!1,this.result_=void 0,this.blocked_=!1,this.blocking_=!1,this.silentlyCanceled_=!1,this.unhandledErrorId_=0,this.parent_=null,this.branches_=0,goog.async.Deferred.LONG_STACK_TRACES&&(this.constructorStack_=null,Error.captureStackTrace)){var t={stack:""};Error.captureStackTrace(t,goog.async.Deferred),"string"==typeof t.stack&&(this.constructorStack_=t.stack.replace(/^[^\n]*\n/,""))}},goog.define("goog.async.Deferred.STRICT_ERRORS",!1),goog.define("goog.async.Deferred.LONG_STACK_TRACES",!1),goog.async.Deferred.prototype.cancel=function(e){if(this.hasFired())this.result_ instanceof goog.async.Deferred&&this.result_.cancel();else{if(this.parent_){var o=this.parent_;delete this.parent_,e?o.cancel(e):o.branchCancel_()}this.onCancelFunction_?this.onCancelFunction_.call(this.defaultScope_,this):this.silentlyCanceled_=!0,this.hasFired()||this.errback(new goog.async.Deferred.CanceledError(this))}},goog.async.Deferred.prototype.branchCancel_=function(){this.branches_--,this.branches_<=0&&this.cancel()},goog.async.Deferred.prototype.continue_=function(e,o){this.blocked_=!1,this.updateResult_(e,o)},goog.async.Deferred.prototype.updateResult_=function(e,o){this.fired_=!0,this.result_=o,this.hadError_=!e,this.fire_()},goog.async.Deferred.prototype.check_=function(){if(this.hasFired()){if(!this.silentlyCanceled_)throw new goog.async.Deferred.AlreadyCalledError(this);this.silentlyCanceled_=!1}},goog.async.Deferred.prototype.callback=function(e){this.check_(),this.assertNotDeferred_(e),this.updateResult_(!0,e)},goog.async.Deferred.prototype.errback=function(e){this.check_(),this.assertNotDeferred_(e),this.makeStackTraceLong_(e),this.updateResult_(!1,e)},goog.async.Deferred.prototype.makeStackTraceLong_=function(e){goog.async.Deferred.LONG_STACK_TRACES&&this.constructorStack_&&goog.isObject(e)&&e.stack&&/^[^\n]+(\n   [^\n]+)+/.test(e.stack)&&(e.stack=e.stack+"\nDEFERRED OPERATION:\n"+this.constructorStack_)},goog.async.Deferred.prototype.assertNotDeferred_=function(e){goog.asserts.assert(!(e instanceof goog.async.Deferred),"An execution sequence may not be initiated with a blocking Deferred.")},goog.async.Deferred.prototype.addCallback=function(e,o){return this.addCallbacks(e,null,o)},goog.async.Deferred.prototype.addErrback=function(e,o){return this.addCallbacks(null,e,o)},goog.async.Deferred.prototype.addBoth=function(e,o){return this.addCallbacks(e,e,o)},goog.async.Deferred.prototype.addCallbacks=function(e,o,t){return goog.asserts.assert(!this.blocking_,"Blocking Deferreds can not be re-used"),this.sequence_.push([e,o,t]),this.hasFired()&&this.fire_(),this},goog.async.Deferred.prototype.then=function(e,o,t){var r,n,i=new goog.Promise(function(e,o){r=e,n=o});return this.addCallbacks(r,function(e){e instanceof goog.async.Deferred.CanceledError?i.cancel():n(e)}),i.then(e,o,t)},goog.Thenable.addImplementation(goog.async.Deferred),goog.async.Deferred.prototype.chainDeferred=function(e){return this.addCallbacks(e.callback,e.errback,e),this},goog.async.Deferred.prototype.awaitDeferred=function(e){return this.addCallback(e instanceof goog.async.Deferred?goog.bind(e.branch,e):function(){return e})},goog.async.Deferred.prototype.branch=function(e){var o=new goog.async.Deferred;return this.chainDeferred(o),e&&(o.parent_=this,this.branches_++),o},goog.async.Deferred.prototype.hasFired=function(){return this.fired_},goog.async.Deferred.prototype.isError=function(e){return e instanceof Error},goog.async.Deferred.prototype.hasErrback_=function(){return goog.array.some(this.sequence_,function(e){return goog.isFunction(e[1])})},goog.async.Deferred.prototype.fire_=function(){this.unhandledErrorId_&&this.hasFired()&&this.hasErrback_()&&(goog.async.Deferred.unscheduleError_(this.unhandledErrorId_),this.unhandledErrorId_=0),this.parent_&&(this.parent_.branches_--,delete this.parent_);for(var e=this.result_,o=!1,t=!1;this.sequence_.length&&!this.blocked_;){var r=this.sequence_.shift(),n=r[0],i=r[1],a=r[2],s=this.hadError_?i:n;if(s)try{var g=s.call(a||this.defaultScope_,e);goog.isDef(g)&&(this.hadError_=this.hadError_&&(g==e||this.isError(g)),this.result_=e=g),goog.Thenable.isImplementedBy(e)&&(t=!0,this.blocked_=!0)}catch(l){e=l,this.hadError_=!0,this.makeStackTraceLong_(e),this.hasErrback_()||(o=!0)}}if(this.result_=e,t){var p=goog.bind(this.continue_,this,!0),u=goog.bind(this.continue_,this,!1);e instanceof goog.async.Deferred?(e.addCallbacks(p,u),e.blocking_=!0):e.then(p,u)}else!goog.async.Deferred.STRICT_ERRORS||!this.isError(e)||e instanceof goog.async.Deferred.CanceledError||(this.hadError_=!0,o=!0);o&&(this.unhandledErrorId_=goog.async.Deferred.scheduleError_(e))},goog.async.Deferred.succeed=function(e){var o=new goog.async.Deferred;return o.callback(e),o},goog.async.Deferred.fromPromise=function(e){var o=new goog.async.Deferred;return o.callback(),o.addCallback(function(){return e}),o},goog.async.Deferred.fail=function(e){var o=new goog.async.Deferred;return o.errback(e),o},goog.async.Deferred.canceled=function(){var e=new goog.async.Deferred;return e.cancel(),e},goog.async.Deferred.when=function(e,o,t){return e instanceof goog.async.Deferred?e.branch(!0).addCallback(o,t):goog.async.Deferred.succeed(e).addCallback(o,t)},goog.async.Deferred.AlreadyCalledError=function(e){goog.debug.Error.call(this),this.deferred=e},goog.inherits(goog.async.Deferred.AlreadyCalledError,goog.debug.Error),goog.async.Deferred.AlreadyCalledError.prototype.message="Deferred has already fired",goog.async.Deferred.AlreadyCalledError.prototype.name="AlreadyCalledError",goog.async.Deferred.CanceledError=function(e){goog.debug.Error.call(this),this.deferred=e},goog.inherits(goog.async.Deferred.CanceledError,goog.debug.Error),goog.async.Deferred.CanceledError.prototype.message="Deferred was canceled",goog.async.Deferred.CanceledError.prototype.name="CanceledError",goog.async.Deferred.Error_=function(e){this.id_=goog.global.setTimeout(goog.bind(this.throwError,this),0),this.error_=e},goog.async.Deferred.Error_.prototype.throwError=function(){throw goog.asserts.assert(goog.async.Deferred.errorMap_[this.id_],"Cannot throw an error that is not scheduled."),delete goog.async.Deferred.errorMap_[this.id_],this.error_},goog.async.Deferred.Error_.prototype.resetTimer=function(){goog.global.clearTimeout(this.id_)},goog.async.Deferred.errorMap_={},goog.async.Deferred.scheduleError_=function(e){var o=new goog.async.Deferred.Error_(e);return goog.async.Deferred.errorMap_[o.id_]=o,o.id_},goog.async.Deferred.unscheduleError_=function(e){var o=goog.async.Deferred.errorMap_[e];o&&(o.resetTimer(),delete goog.async.Deferred.errorMap_[e])},goog.async.Deferred.assertNoErrors=function(){var e=goog.async.Deferred.errorMap_;for(var o in e){var t=e[o];t.resetTimer(),t.throwError()}},goog.provide("goog.fs.Error"),goog.provide("goog.fs.Error.ErrorCode"),goog.require("goog.debug.Error"),goog.require("goog.object"),goog.require("goog.string"),goog.fs.Error=function(e,o){this.name,this.code,goog.isDef(e.name)?(this.name=e.name,this.code=goog.fs.Error.getCodeFromName_(e.name)):(this.code=e.code,this.name=goog.fs.Error.getNameFromCode_(e.code)),goog.fs.Error.base(this,"constructor",goog.string.subs("%s %s",this.name,o))},goog.inherits(goog.fs.Error,goog.debug.Error),goog.fs.Error.ErrorName={ABORT:"AbortError",ENCODING:"EncodingError",INVALID_MODIFICATION:"InvalidModificationError",INVALID_STATE:"InvalidStateError",NOT_FOUND:"NotFoundError",NOT_READABLE:"NotReadableError",NO_MODIFICATION_ALLOWED:"NoModificationAllowedError",PATH_EXISTS:"PathExistsError",QUOTA_EXCEEDED:"QuotaExceededError",SECURITY:"SecurityError",SYNTAX:"SyntaxError",TYPE_MISMATCH:"TypeMismatchError"},goog.fs.Error.ErrorCode={NOT_FOUND:1,SECURITY:2,ABORT:3,NOT_READABLE:4,ENCODING:5,NO_MODIFICATION_ALLOWED:6,INVALID_STATE:7,SYNTAX:8,INVALID_MODIFICATION:9,QUOTA_EXCEEDED:10,TYPE_MISMATCH:11,PATH_EXISTS:12},goog.fs.Error.getNameFromCode_=function(e){var o=goog.object.findKey(goog.fs.Error.NameToCodeMap_,function(o){return e==o});if(!goog.isDef(o))throw new Error("Invalid code: "+e);return o},goog.fs.Error.getCodeFromName_=function(e){return goog.fs.Error.NameToCodeMap_[e]},goog.fs.Error.NameToCodeMap_=goog.object.create(goog.fs.Error.ErrorName.ABORT,goog.fs.Error.ErrorCode.ABORT,goog.fs.Error.ErrorName.ENCODING,goog.fs.Error.ErrorCode.ENCODING,goog.fs.Error.ErrorName.INVALID_MODIFICATION,goog.fs.Error.ErrorCode.INVALID_MODIFICATION,goog.fs.Error.ErrorName.INVALID_STATE,goog.fs.Error.ErrorCode.INVALID_STATE,goog.fs.Error.ErrorName.NOT_FOUND,goog.fs.Error.ErrorCode.NOT_FOUND,goog.fs.Error.ErrorName.NOT_READABLE,goog.fs.Error.ErrorCode.NOT_READABLE,goog.fs.Error.ErrorName.NO_MODIFICATION_ALLOWED,goog.fs.Error.ErrorCode.NO_MODIFICATION_ALLOWED,goog.fs.Error.ErrorName.PATH_EXISTS,goog.fs.Error.ErrorCode.PATH_EXISTS,goog.fs.Error.ErrorName.QUOTA_EXCEEDED,goog.fs.Error.ErrorCode.QUOTA_EXCEEDED,goog.fs.Error.ErrorName.SECURITY,goog.fs.Error.ErrorCode.SECURITY,goog.fs.Error.ErrorName.SYNTAX,goog.fs.Error.ErrorCode.SYNTAX,goog.fs.Error.ErrorName.TYPE_MISMATCH,goog.fs.Error.ErrorCode.TYPE_MISMATCH),goog.provide("goog.fs.ProgressEvent"),goog.require("goog.events.Event"),goog.fs.ProgressEvent=function(e,o){goog.fs.ProgressEvent.base(this,"constructor",e.type,o),this.event_=e},goog.inherits(goog.fs.ProgressEvent,goog.events.Event),goog.fs.ProgressEvent.prototype.isLengthComputable=function(){return this.event_.lengthComputable},goog.fs.ProgressEvent.prototype.getLoaded=function(){return this.event_.loaded},goog.fs.ProgressEvent.prototype.getTotal=function(){return this.event_.total},goog.provide("goog.fs.FileReader"),goog.provide("goog.fs.FileReader.EventType"),goog.provide("goog.fs.FileReader.ReadyState"),goog.require("goog.async.Deferred"),goog.require("goog.events.EventTarget"),goog.require("goog.fs.Error"),goog.require("goog.fs.ProgressEvent"),goog.fs.FileReader=function(){goog.fs.FileReader.base(this,"constructor"),this.reader_=new FileReader,this.reader_.onloadstart=goog.bind(this.dispatchProgressEvent_,this),this.reader_.onprogress=goog.bind(this.dispatchProgressEvent_,this),this.reader_.onload=goog.bind(this.dispatchProgressEvent_,this),this.reader_.onabort=goog.bind(this.dispatchProgressEvent_,this),this.reader_.onerror=goog.bind(this.dispatchProgressEvent_,this),this.reader_.onloadend=goog.bind(this.dispatchProgressEvent_,this)},goog.inherits(goog.fs.FileReader,goog.events.EventTarget),goog.fs.FileReader.ReadyState={INIT:0,LOADING:1,DONE:2},goog.fs.FileReader.EventType={LOAD_START:"loadstart",PROGRESS:"progress",LOAD:"load",ABORT:"abort",ERROR:"error",LOAD_END:"loadend"},goog.fs.FileReader.prototype.abort=function(){try{this.reader_.abort()}catch(e){throw new goog.fs.Error(e,"aborting read")}},goog.fs.FileReader.prototype.getReadyState=function(){return this.reader_.readyState},goog.fs.FileReader.prototype.getResult=function(){return this.reader_.result},goog.fs.FileReader.prototype.getError=function(){return this.reader_.error&&new goog.fs.Error(this.reader_.error,"reading file")},goog.fs.FileReader.prototype.dispatchProgressEvent_=function(e){this.dispatchEvent(new goog.fs.ProgressEvent(e,this))},goog.fs.FileReader.prototype.disposeInternal=function(){goog.fs.FileReader.base(this,"disposeInternal"),delete this.reader_},goog.fs.FileReader.prototype.readAsBinaryString=function(e){this.reader_.readAsBinaryString(e)},goog.fs.FileReader.readAsBinaryString=function(e){var o=new goog.fs.FileReader,t=goog.fs.FileReader.createDeferred_(o);return o.readAsBinaryString(e),t},goog.fs.FileReader.prototype.readAsArrayBuffer=function(e){this.reader_.readAsArrayBuffer(e)},goog.fs.FileReader.readAsArrayBuffer=function(e){var o=new goog.fs.FileReader,t=goog.fs.FileReader.createDeferred_(o);return o.readAsArrayBuffer(e),
t},goog.fs.FileReader.prototype.readAsText=function(e,o){this.reader_.readAsText(e,o)},goog.fs.FileReader.readAsText=function(e,o){var t=new goog.fs.FileReader,r=goog.fs.FileReader.createDeferred_(t);return t.readAsText(e,o),r},goog.fs.FileReader.prototype.readAsDataUrl=function(e){this.reader_.readAsDataURL(e)},goog.fs.FileReader.readAsDataUrl=function(e){var o=new goog.fs.FileReader,t=goog.fs.FileReader.createDeferred_(o);return o.readAsDataUrl(e),t},goog.fs.FileReader.createDeferred_=function(e){var o=new goog.async.Deferred;return e.listen(goog.fs.FileReader.EventType.LOAD_END,goog.partial(function(e,o,t){var r=o.getResult(),n=o.getError();null==r||n?e.errback(n):e.callback(r),o.dispose()},o,e)),o},goog.provide("ol.interaction.DragAndDrop"),goog.provide("ol.interaction.DragAndDropEvent"),goog.require("goog.asserts"),goog.require("goog.events"),goog.require("goog.events.Event"),goog.require("goog.events.FileDropHandler"),goog.require("goog.events.FileDropHandler.EventType"),goog.require("goog.fs.FileReader"),goog.require("goog.functions"),goog.require("ol.interaction.Interaction"),goog.require("ol.proj"),ol.interaction.DragAndDrop=function(e){var o=goog.isDef(e)?e:{};goog.base(this,{handleEvent:ol.interaction.DragAndDrop.handleEvent}),this.formatConstructors_=goog.isDef(o.formatConstructors)?o.formatConstructors:[],this.projection_=goog.isDef(o.projection)?ol.proj.get(o.projection):null,this.fileDropHandler_=null,this.dropListenKey_=void 0},goog.inherits(ol.interaction.DragAndDrop,ol.interaction.Interaction),ol.interaction.DragAndDrop.prototype.disposeInternal=function(){goog.isDef(this.dropListenKey_)&&goog.events.unlistenByKey(this.dropListenKey_),goog.base(this,"disposeInternal")},ol.interaction.DragAndDrop.prototype.handleDrop_=function(e){var o,t,r,n=e.getBrowserEvent().dataTransfer.files;for(o=0,t=n.length;t>o;++o){r=n[o];var i=goog.fs.FileReader.readAsText(r,"");i.addCallback(goog.partial(this.handleResult_,r),this)}},ol.interaction.DragAndDrop.prototype.handleResult_=function(e,o){var t=this.getMap();goog.asserts.assert(!goog.isNull(t),"map should not be null");var r=this.projection_;if(goog.isNull(r)){var n=t.getView();goog.asserts.assert(!goog.isNull(n),"view should not be null"),r=n.getProjection(),goog.asserts.assert(goog.isDef(r),"projection should be defined")}var i,a,s=this.formatConstructors_,g=[];for(i=0,a=s.length;a>i;++i){var l=s[i],p=new l,u=this.tryReadFeatures_(p,o);if(!goog.isNull(u)){var c,d,h=p.readProjection(o),m=ol.proj.getTransform(h,r);for(c=0,d=u.length;d>c;++c){var y=u[c],f=y.getGeometry();goog.isDefAndNotNull(f)&&f.applyTransform(m),g.push(y)}}}this.dispatchEvent(new ol.interaction.DragAndDropEvent(ol.interaction.DragAndDropEventType.ADD_FEATURES,this,e,g,r))},ol.interaction.DragAndDrop.handleEvent=goog.functions.TRUE,ol.interaction.DragAndDrop.prototype.setMap=function(e){goog.isDef(this.dropListenKey_)&&(goog.events.unlistenByKey(this.dropListenKey_),this.dropListenKey_=void 0),goog.isNull(this.fileDropHandler_)||(goog.dispose(this.fileDropHandler_),this.fileDropHandler_=null),goog.asserts.assert(!goog.isDef(this.dropListenKey_),"this.dropListenKey_ should be undefined"),goog.base(this,"setMap",e),goog.isNull(e)||(this.fileDropHandler_=new goog.events.FileDropHandler(e.getViewport()),this.dropListenKey_=goog.events.listen(this.fileDropHandler_,goog.events.FileDropHandler.EventType.DROP,this.handleDrop_,!1,this))},ol.interaction.DragAndDrop.prototype.tryReadFeatures_=function(e,o){try{return e.readFeatures(o)}catch(t){return null}},ol.interaction.DragAndDropEventType={ADD_FEATURES:"addfeatures"},ol.interaction.DragAndDropEvent=function(e,o,t,r,n){goog.base(this,e,o),this.features=r,this.file=t,this.projection=n},goog.inherits(ol.interaction.DragAndDropEvent,goog.events.Event),goog.provide("goog.math.Vec2"),goog.require("goog.math"),goog.require("goog.math.Coordinate"),goog.math.Vec2=function(e,o){this.x=e,this.y=o},goog.inherits(goog.math.Vec2,goog.math.Coordinate),goog.math.Vec2.randomUnit=function(){var e=Math.random()*Math.PI*2;return new goog.math.Vec2(Math.cos(e),Math.sin(e))},goog.math.Vec2.random=function(){var e=Math.sqrt(Math.random()),o=Math.random()*Math.PI*2;return new goog.math.Vec2(Math.cos(o)*e,Math.sin(o)*e)},goog.math.Vec2.fromCoordinate=function(e){return new goog.math.Vec2(e.x,e.y)},goog.math.Vec2.prototype.clone=function(){return new goog.math.Vec2(this.x,this.y)},goog.math.Vec2.prototype.magnitude=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},goog.math.Vec2.prototype.squaredMagnitude=function(){return this.x*this.x+this.y*this.y},goog.math.Vec2.prototype.scale=goog.math.Coordinate.prototype.scale,goog.math.Vec2.prototype.invert=function(){return this.x=-this.x,this.y=-this.y,this},goog.math.Vec2.prototype.normalize=function(){return this.scale(1/this.magnitude())},goog.math.Vec2.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this},goog.math.Vec2.prototype.subtract=function(e){return this.x-=e.x,this.y-=e.y,this},goog.math.Vec2.prototype.rotate=function(e){var o=Math.cos(e),t=Math.sin(e),r=this.x*o-this.y*t,n=this.y*o+this.x*t;return this.x=r,this.y=n,this},goog.math.Vec2.rotateAroundPoint=function(e,o,t){var r=e.clone();return r.subtract(o).rotate(t).add(o)},goog.math.Vec2.prototype.equals=function(e){return this==e||!!e&&this.x==e.x&&this.y==e.y},goog.math.Vec2.distance=goog.math.Coordinate.distance,goog.math.Vec2.squaredDistance=goog.math.Coordinate.squaredDistance,goog.math.Vec2.equals=goog.math.Coordinate.equals,goog.math.Vec2.sum=function(e,o){return new goog.math.Vec2(e.x+o.x,e.y+o.y)},goog.math.Vec2.difference=function(e,o){return new goog.math.Vec2(e.x-o.x,e.y-o.y)},goog.math.Vec2.dot=function(e,o){return e.x*o.x+e.y*o.y},goog.math.Vec2.lerp=function(e,o,t){return new goog.math.Vec2(goog.math.lerp(e.x,o.x,t),goog.math.lerp(e.y,o.y,t))},goog.provide("ol.interaction.DragRotateAndZoom"),goog.require("goog.math.Vec2"),goog.require("ol.ViewHint"),goog.require("ol.events.ConditionType"),goog.require("ol.events.condition"),goog.require("ol.interaction.Interaction"),goog.require("ol.interaction.Pointer"),ol.interaction.DragRotateAndZoom=function(e){var o=goog.isDef(e)?e:{};goog.base(this,{handleDownEvent:ol.interaction.DragRotateAndZoom.handleDownEvent_,handleDragEvent:ol.interaction.DragRotateAndZoom.handleDragEvent_,handleUpEvent:ol.interaction.DragRotateAndZoom.handleUpEvent_}),this.condition_=goog.isDef(o.condition)?o.condition:ol.events.condition.shiftKeyOnly,this.lastAngle_=void 0,this.lastMagnitude_=void 0,this.lastScaleDelta_=0,this.duration_=goog.isDef(o.duration)?o.duration:400},goog.inherits(ol.interaction.DragRotateAndZoom,ol.interaction.Pointer),ol.interaction.DragRotateAndZoom.handleDragEvent_=function(e){if(ol.events.condition.mouseOnly(e)){var o=e.map,t=o.getSize(),r=e.pixel,n=new goog.math.Vec2(r[0]-t[0]/2,t[1]/2-r[1]),i=Math.atan2(n.y,n.x),a=n.magnitude(),s=o.getView(),g=s.getState();if(o.render(),goog.isDef(this.lastAngle_)){var l=i-this.lastAngle_;ol.interaction.Interaction.rotateWithoutConstraints(o,s,g.rotation-l)}if(this.lastAngle_=i,goog.isDef(this.lastMagnitude_)){var p=this.lastMagnitude_*(g.resolution/a);ol.interaction.Interaction.zoomWithoutConstraints(o,s,p)}goog.isDef(this.lastMagnitude_)&&(this.lastScaleDelta_=this.lastMagnitude_/a),this.lastMagnitude_=a}},ol.interaction.DragRotateAndZoom.handleUpEvent_=function(e){if(!ol.events.condition.mouseOnly(e))return!0;var o=e.map,t=o.getView();t.setHint(ol.ViewHint.INTERACTING,-1);var r=t.getState(),n=this.lastScaleDelta_-1;return ol.interaction.Interaction.rotate(o,t,r.rotation),ol.interaction.Interaction.zoom(o,t,r.resolution,void 0,this.duration_,n),this.lastScaleDelta_=0,!1},ol.interaction.DragRotateAndZoom.handleDownEvent_=function(e){return ol.events.condition.mouseOnly(e)&&this.condition_(e)?(e.map.getView().setHint(ol.ViewHint.INTERACTING,1),this.lastAngle_=void 0,this.lastMagnitude_=void 0,!0):!1},goog.provide("ol.interaction.Draw"),goog.provide("ol.interaction.DrawEvent"),goog.provide("ol.interaction.DrawEventType"),goog.provide("ol.interaction.DrawGeometryFunctionType"),goog.provide("ol.interaction.DrawMode"),goog.require("goog.asserts"),goog.require("goog.events"),goog.require("goog.events.Event"),goog.require("ol.Collection"),goog.require("ol.Coordinate"),goog.require("ol.Feature"),goog.require("ol.MapBrowserEvent"),goog.require("ol.MapBrowserEvent.EventType"),goog.require("ol.Object"),goog.require("ol.coordinate"),goog.require("ol.events.condition"),goog.require("ol.geom.Circle"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.LineString"),goog.require("ol.geom.MultiLineString"),goog.require("ol.geom.MultiPoint"),goog.require("ol.geom.MultiPolygon"),goog.require("ol.geom.Point"),goog.require("ol.geom.Polygon"),goog.require("ol.geom.SimpleGeometry"),goog.require("ol.interaction.InteractionProperty"),goog.require("ol.interaction.Pointer"),goog.require("ol.layer.Vector"),goog.require("ol.source.Vector"),goog.require("ol.style.Style"),ol.interaction.DrawEventType={DRAWSTART:"drawstart",DRAWEND:"drawend"},ol.interaction.DrawEvent=function(e,o){goog.base(this,e),this.feature=o},goog.inherits(ol.interaction.DrawEvent,goog.events.Event),ol.interaction.Draw=function(e){goog.base(this,{handleDownEvent:ol.interaction.Draw.handleDownEvent_,handleEvent:ol.interaction.Draw.handleEvent,handleUpEvent:ol.interaction.Draw.handleUpEvent_}),this.downPx_=null,this.freehand_=!1,this.source_=goog.isDef(e.source)?e.source:null,this.features_=goog.isDef(e.features)?e.features:null,this.snapTolerance_=goog.isDef(e.snapTolerance)?e.snapTolerance:12,this.type_=e.type,this.mode_=ol.interaction.Draw.getMode_(this.type_),this.minPoints_=goog.isDef(e.minPoints)?e.minPoints:this.mode_===ol.interaction.DrawMode.POLYGON?3:2,this.maxPoints_=goog.isDef(e.maxPoints)?e.maxPoints:1/0;var o=e.geometryFunction;if(!goog.isDef(o))if(this.type_===ol.geom.GeometryType.CIRCLE)o=function(e,o){var t=goog.isDef(o)?o:new ol.geom.Circle([0/0,0/0]);goog.asserts.assertInstanceof(t,ol.geom.Circle,"geometry must be an ol.geom.Circle");var r=ol.coordinate.squaredDistance(e[0],e[1]);return t.setCenterAndRadius(e[0],Math.sqrt(r)),t};else{var t,r=this.mode_;r===ol.interaction.DrawMode.POINT?t=ol.geom.Point:r===ol.interaction.DrawMode.LINE_STRING?t=ol.geom.LineString:r===ol.interaction.DrawMode.POLYGON&&(t=ol.geom.Polygon),o=function(e,o){var r=o;return goog.isDef(r)?r.setCoordinates(e):r=new t(e),r}}this.geometryFunction_=o,this.finishCoordinate_=null,this.sketchFeature_=null,this.sketchPoint_=null,this.sketchCoords_=null,this.sketchLine_=null,this.sketchLineCoords_=null,this.squaredClickTolerance_=goog.isDef(e.clickTolerance)?e.clickTolerance*e.clickTolerance:36,this.overlay_=new ol.layer.Vector({source:new ol.source.Vector({useSpatialIndex:!1,wrapX:goog.isDef(e.wrapX)?e.wrapX:!1}),style:goog.isDef(e.style)?e.style:ol.interaction.Draw.getDefaultStyleFunction()}),this.geometryName_=e.geometryName,this.condition_=goog.isDef(e.condition)?e.condition:ol.events.condition.noModifierKeys,this.freehandCondition_=goog.isDef(e.freehandCondition)?e.freehandCondition:ol.events.condition.shiftKeyOnly,goog.events.listen(this,ol.Object.getChangeEventType(ol.interaction.InteractionProperty.ACTIVE),this.updateState_,!1,this)},goog.inherits(ol.interaction.Draw,ol.interaction.Pointer),ol.interaction.Draw.getDefaultStyleFunction=function(){var e=ol.style.createDefaultEditingStyles();return function(o,t){return e[o.getGeometry().getType()]}},ol.interaction.Draw.prototype.setMap=function(e){goog.base(this,"setMap",e),this.updateState_()},ol.interaction.Draw.handleEvent=function(e){var o=!this.freehand_;return this.freehand_&&e.type===ol.MapBrowserEvent.EventType.POINTERDRAG?(this.addToDrawing_(e),o=!1):e.type===ol.MapBrowserEvent.EventType.POINTERMOVE?o=this.handlePointerMove_(e):e.type===ol.MapBrowserEvent.EventType.DBLCLICK&&(o=!1),ol.interaction.Pointer.handleEvent.call(this,e)&&o},ol.interaction.Draw.handleDownEvent_=function(e){return this.condition_(e)?(this.downPx_=e.pixel,!0):this.mode_!==ol.interaction.DrawMode.LINE_STRING&&this.mode_!==ol.interaction.DrawMode.POLYGON||!this.freehandCondition_(e)?!1:(this.downPx_=e.pixel,this.freehand_=!0,goog.isNull(this.finishCoordinate_)&&this.startDrawing_(e),!0)},ol.interaction.Draw.handleUpEvent_=function(e){this.freehand_=!1;var o=this.downPx_,t=e.pixel,r=o[0]-t[0],n=o[1]-t[1],i=r*r+n*n,a=!0;return i<=this.squaredClickTolerance_&&(this.handlePointerMove_(e),goog.isNull(this.finishCoordinate_)?this.startDrawing_(e):(this.mode_===ol.interaction.DrawMode.POINT||this.mode_===ol.interaction.DrawMode.CIRCLE)&&!goog.isNull(this.finishCoordinate_)||this.atFinish_(e)?this.finishDrawing():this.addToDrawing_(e),a=!1),a},ol.interaction.Draw.prototype.handlePointerMove_=function(e){return this.mode_===ol.interaction.DrawMode.POINT&&goog.isNull(this.finishCoordinate_)?this.startDrawing_(e):goog.isNull(this.finishCoordinate_)?this.createOrUpdateSketchPoint_(e):this.modifyDrawing_(e),!0},ol.interaction.Draw.prototype.atFinish_=function(e){var o=!1;if(!goog.isNull(this.sketchFeature_)){var t=!1,r=[this.finishCoordinate_];if(this.mode_===ol.interaction.DrawMode.LINE_STRING?t=this.sketchCoords_.length>this.minPoints_:this.mode_===ol.interaction.DrawMode.POLYGON&&(t=this.sketchCoords_[0].length>this.minPoints_,r=[this.sketchCoords_[0][0],this.sketchCoords_[0][this.sketchCoords_[0].length-2]]),t)for(var n=e.map,i=0,a=r.length;a>i;i++){var s=r[i],g=n.getPixelFromCoordinate(s),l=e.pixel,p=l[0]-g[0],u=l[1]-g[1],c=this.freehand_&&this.freehandCondition_(e),d=c?1:this.snapTolerance_;if(o=Math.sqrt(p*p+u*u)<=d){this.finishCoordinate_=s;break}}}return o},ol.interaction.Draw.prototype.createOrUpdateSketchPoint_=function(e){var o=e.coordinate.slice();if(goog.isNull(this.sketchPoint_))this.sketchPoint_=new ol.Feature(new ol.geom.Point(o)),this.updateSketchFeatures_();else{var t=this.sketchPoint_.getGeometry();goog.asserts.assertInstanceof(t,ol.geom.Point,"sketchPointGeom should be an ol.geom.Point"),t.setCoordinates(o)}},ol.interaction.Draw.prototype.startDrawing_=function(e){var o=e.coordinate;this.finishCoordinate_=o,this.mode_===ol.interaction.DrawMode.POINT?this.sketchCoords_=o.slice():this.mode_===ol.interaction.DrawMode.POLYGON?(this.sketchCoords_=[[o.slice(),o.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):(this.sketchCoords_=[o.slice(),o.slice()],this.mode_===ol.interaction.DrawMode.CIRCLE&&(this.sketchLineCoords_=this.sketchCoords_)),goog.isNull(this.sketchLineCoords_)||(this.sketchLine_=new ol.Feature(new ol.geom.LineString(this.sketchLineCoords_)));var t=this.geometryFunction_(this.sketchCoords_);goog.asserts.assert(goog.isDef(t),"geometry should be defined"),this.sketchFeature_=new ol.Feature,goog.isDef(this.geometryName_)&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(t),this.updateSketchFeatures_(),this.dispatchEvent(new ol.interaction.DrawEvent(ol.interaction.DrawEventType.DRAWSTART,this.sketchFeature_))},ol.interaction.Draw.prototype.modifyDrawing_=function(e){var o=e.coordinate,t=this.sketchFeature_.getGeometry();goog.asserts.assertInstanceof(t,ol.geom.SimpleGeometry,"geometry should be ol.geom.SimpleGeometry or subclass");var r,n;if(this.mode_===ol.interaction.DrawMode.POINT?n=this.sketchCoords_:this.mode_===ol.interaction.DrawMode.POLYGON?(r=this.sketchCoords_[0],n=r[r.length-1],this.atFinish_(e)&&(o=this.finishCoordinate_.slice())):(r=this.sketchCoords_,n=r[r.length-1]),n[0]=o[0],n[1]=o[1],goog.asserts.assert(!goog.isNull(this.sketchCoords_),"sketchCoords_ must not be null"),this.geometryFunction_(this.sketchCoords_,t),!goog.isNull(this.sketchPoint_)){var i=this.sketchPoint_.getGeometry();goog.asserts.assertInstanceof(i,ol.geom.Point,"sketchPointGeom should be an ol.geom.Point"),i.setCoordinates(o)}var a;if(t instanceof ol.geom.Polygon&&this.mode_!==ol.interaction.DrawMode.POLYGON){goog.isNull(this.sketchLine_)&&(this.sketchLine_=new ol.Feature(new ol.geom.LineString(null)));var s=t.getLinearRing(0);a=this.sketchLine_.getGeometry(),goog.asserts.assertInstanceof(a,ol.geom.LineString,"sketchLineGeom must be an ol.geom.LineString"),a.setFlatCoordinates(s.getLayout(),s.getFlatCoordinates())}else goog.isNull(this.sketchLineCoords_)||(a=this.sketchLine_.getGeometry(),goog.asserts.assertInstanceof(a,ol.geom.LineString,"sketchLineGeom must be an ol.geom.LineString"),a.setCoordinates(this.sketchLineCoords_));this.updateSketchFeatures_()},ol.interaction.Draw.prototype.addToDrawing_=function(e){var o=e.coordinate,t=this.sketchFeature_.getGeometry();goog.asserts.assertInstanceof(t,ol.geom.SimpleGeometry,"geometry must be an ol.geom.SimpleGeometry");var r,n;this.mode_===ol.interaction.DrawMode.LINE_STRING?(this.finishCoordinate_=o.slice(),n=this.sketchCoords_,n.push(o.slice()),r=n.length>this.maxPoints_,this.geometryFunction_(n,t)):this.mode_===ol.interaction.DrawMode.POLYGON&&(n=this.sketchCoords_[0],n.push(o.slice()),r=n.length>this.maxPoints_,r&&(this.finishCoordinate_=n[0]),this.geometryFunction_(this.sketchCoords_,t)),this.updateSketchFeatures_(),r&&this.finishDrawing()},ol.interaction.Draw.prototype.finishDrawing=function(){var e=this.abortDrawing_();goog.asserts.assert(!goog.isNull(e),"sketchFeature should not be null");var o=this.sketchCoords_,t=e.getGeometry();goog.asserts.assertInstanceof(t,ol.geom.SimpleGeometry,"geometry must be an ol.geom.SimpleGeometry"),this.mode_===ol.interaction.DrawMode.LINE_STRING?(o.pop(),this.geometryFunction_(o,t)):this.mode_===ol.interaction.DrawMode.POLYGON&&(o[0].pop(),o[0].push(o[0][0]),this.geometryFunction_(o,t)),this.type_===ol.geom.GeometryType.MULTI_POINT?e.setGeometry(new ol.geom.MultiPoint([o])):this.type_===ol.geom.GeometryType.MULTI_LINE_STRING?e.setGeometry(new ol.geom.MultiLineString([o])):this.type_===ol.geom.GeometryType.MULTI_POLYGON&&e.setGeometry(new ol.geom.MultiPolygon([o])),this.dispatchEvent(new ol.interaction.DrawEvent(ol.interaction.DrawEventType.DRAWEND,e)),goog.isNull(this.features_)||this.features_.push(e),goog.isNull(this.source_)||this.source_.addFeature(e)},ol.interaction.Draw.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var e=this.sketchFeature_;return goog.isNull(e)||(this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0)),e},ol.interaction.Draw.prototype.shouldStopEvent=goog.functions.FALSE,ol.interaction.Draw.prototype.updateSketchFeatures_=function(){var e=[];goog.isNull(this.sketchFeature_)||e.push(this.sketchFeature_),goog.isNull(this.sketchLine_)||e.push(this.sketchLine_),goog.isNull(this.sketchPoint_)||e.push(this.sketchPoint_);var o=this.overlay_.getSource();o.clear(!0),o.addFeatures(e)},ol.interaction.Draw.prototype.updateState_=function(){var e=this.getMap(),o=this.getActive();(goog.isNull(e)||!o)&&this.abortDrawing_(),this.overlay_.setMap(o?e:null)},ol.interaction.Draw.createRegularPolygon=function(e,o){return function(t,r){var n=t[0],i=t[1],a=Math.sqrt(ol.coordinate.squaredDistance(n,i)),s=goog.isDef(r)?r:ol.geom.Polygon.fromCircle(new ol.geom.Circle(n),e);goog.asserts.assertInstanceof(s,ol.geom.Polygon,"geometry must be a polygon");var g=goog.isDef(o)?o:Math.atan((i[1]-n[1])/(i[0]-n[0]));return ol.geom.Polygon.makeRegular(s,n,a,g),s}},ol.interaction.Draw.getMode_=function(e){var o;return e===ol.geom.GeometryType.POINT||e===ol.geom.GeometryType.MULTI_POINT?o=ol.interaction.DrawMode.POINT:e===ol.geom.GeometryType.LINE_STRING||e===ol.geom.GeometryType.MULTI_LINE_STRING?o=ol.interaction.DrawMode.LINE_STRING:e===ol.geom.GeometryType.POLYGON||e===ol.geom.GeometryType.MULTI_POLYGON?o=ol.interaction.DrawMode.POLYGON:e===ol.geom.GeometryType.CIRCLE&&(o=ol.interaction.DrawMode.CIRCLE),goog.asserts.assert(goog.isDef(o),"mode should be defined"),o},ol.interaction.DrawGeometryFunctionType,ol.interaction.DrawMode={POINT:"Point",LINE_STRING:"LineString",POLYGON:"Polygon",CIRCLE:"Circle"},goog.provide("ol.interaction.Modify"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.events"),goog.require("goog.events.Event"),goog.require("goog.functions"),goog.require("ol.Collection"),goog.require("ol.CollectionEventType"),goog.require("ol.Feature"),goog.require("ol.MapBrowserEvent.EventType"),goog.require("ol.ViewHint"),goog.require("ol.coordinate"),goog.require("ol.events.condition"),goog.require("ol.extent"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.LineString"),goog.require("ol.geom.MultiLineString"),goog.require("ol.geom.MultiPoint"),goog.require("ol.geom.MultiPolygon"),goog.require("ol.geom.Point"),goog.require("ol.geom.Polygon"),goog.require("ol.interaction.Pointer"),goog.require("ol.layer.Vector"),goog.require("ol.source.Vector"),goog.require("ol.structs.RBush"),goog.require("ol.style.Style"),ol.ModifyEventType={MODIFYSTART:"modifystart",MODIFYEND:"modifyend"},ol.ModifyEvent=function(e,o,t){goog.base(this,e),this.features=o,this.mapBrowserPointerEvent=t},goog.inherits(ol.ModifyEvent,goog.events.Event),ol.interaction.SegmentDataType,ol.interaction.Modify=function(e){goog.base(this,{handleDownEvent:ol.interaction.Modify.handleDownEvent_,handleDragEvent:ol.interaction.Modify.handleDragEvent_,handleEvent:ol.interaction.Modify.handleEvent,handleUpEvent:ol.interaction.Modify.handleUpEvent_}),this.deleteCondition_=goog.isDef(e.deleteCondition)?e.deleteCondition:goog.functions.and(ol.events.condition.noModifierKeys,ol.events.condition.singleClick),this.vertexFeature_=null,this.vertexSegments_=null,this.lastPixel_=[0,0],this.lastNewVertexPixel_=[0/0,0/0],this.rBush_=new ol.structs.RBush,this.pixelTolerance_=goog.isDef(e.pixelTolerance)?e.pixelTolerance:10,this.snappedToVertex_=!1,this.dragSegments_=null,this.overlay_=new ol.layer.Vector({source:new ol.source.Vector({useSpatialIndex:!1,wrapX:goog.isDef(e.wrapX)?e.wrapX:!1}),style:goog.isDef(e.style)?e.style:ol.interaction.Modify.getDefaultStyleFunction(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.SEGMENT_WRITERS_={Point:this.writePointGeometry_,LineString:this.writeLineStringGeometry_,LinearRing:this.writeLineStringGeometry_,Polygon:this.writePolygonGeometry_,MultiPoint:this.writeMultiPointGeometry_,MultiLineString:this.writeMultiLineStringGeometry_,MultiPolygon:this.writeMultiPolygonGeometry_,GeometryCollection:this.writeGeometryCollectionGeometry_},this.features_=e.features,this.features_.forEach(this.addFeature_,this),goog.events.listen(this.features_,ol.CollectionEventType.ADD,this.handleFeatureAdd_,!1,this),goog.events.listen(this.features_,ol.CollectionEventType.REMOVE,this.handleFeatureRemove_,!1,this)},goog.inherits(ol.interaction.Modify,ol.interaction.Pointer),ol.interaction.Modify.prototype.addFeature_=function(e){var o=e.getGeometry();goog.isDef(this.SEGMENT_WRITERS_[o.getType()])&&this.SEGMENT_WRITERS_[o.getType()].call(this,e,o);var t=this.getMap();goog.isNull(t)||this.handlePointerAtPixel_(this.lastPixel_,t)},ol.interaction.Modify.prototype.setMap=function(e){this.overlay_.setMap(e),goog.base(this,"setMap",e)},ol.interaction.Modify.prototype.handleFeatureAdd_=function(e){var o=e.element;goog.asserts.assertInstanceof(o,ol.Feature,"feature should be an ol.Feature"),this.addFeature_(o)},ol.interaction.Modify.prototype.handleFeatureRemove_=function(e){var o,t=e.element,r=this.rBush_,n=[];for(r.forEachInExtent(t.getGeometry().getExtent(),function(e){t===e.feature&&n.push(e)}),o=n.length-1;o>=0;--o)r.remove(n[o]);goog.isNull(this.vertexFeature_)||0!==this.features_.getLength()||(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)},ol.interaction.Modify.prototype.writePointGeometry_=function(e,o){var t=o.getCoordinates(),r={feature:e,geometry:o,segment:[t,t]};this.rBush_.insert(o.getExtent(),r)},ol.interaction.Modify.prototype.writeMultiPointGeometry_=function(e,o){var t,r,n,i,a=o.getCoordinates();for(r=0,n=a.length;n>r;++r)t=a[r],i={feature:e,geometry:o,depth:[r],index:r,segment:[t,t]},this.rBush_.insert(o.getExtent(),i)},ol.interaction.Modify.prototype.writeLineStringGeometry_=function(e,o){var t,r,n,i,a=o.getCoordinates();for(t=0,r=a.length-1;r>t;++t)n=a.slice(t,t+2),i={feature:e,geometry:o,index:t,segment:n},this.rBush_.insert(ol.extent.boundingExtent(n),i)},ol.interaction.Modify.prototype.writeMultiLineStringGeometry_=function(e,o){var t,r,n,i,a,s,g,l=o.getCoordinates();for(i=0,a=l.length;a>i;++i)for(t=l[i],r=0,n=t.length-1;n>r;++r)s=t.slice(r,r+2),g={feature:e,geometry:o,depth:[i],index:r,segment:s},this.rBush_.insert(ol.extent.boundingExtent(s),g)},ol.interaction.Modify.prototype.writePolygonGeometry_=function(e,o){var t,r,n,i,a,s,g,l=o.getCoordinates();for(i=0,a=l.length;a>i;++i)for(t=l[i],r=0,n=t.length-1;n>r;++r)s=t.slice(r,r+2),g={feature:e,geometry:o,depth:[i],index:r,segment:s},this.rBush_.insert(ol.extent.boundingExtent(s),g)},ol.interaction.Modify.prototype.writeMultiPolygonGeometry_=function(e,o){var t,r,n,i,a,s,g,l,p,u,c=o.getCoordinates();for(s=0,g=c.length;g>s;++s)for(l=c[s],i=0,a=l.length;a>i;++i)for(t=l[i],r=0,n=t.length-1;n>r;++r)p=t.slice(r,r+2),u={feature:e,geometry:o,depth:[i,s],index:r,segment:p},this.rBush_.insert(ol.extent.boundingExtent(p),u)},ol.interaction.Modify.prototype.writeGeometryCollectionGeometry_=function(e,o){var t,r=o.getGeometriesArray();for(t=0;t<r.length;++t)this.SEGMENT_WRITERS_[r[t].getType()].call(this,e,r[t])},ol.interaction.Modify.prototype.createOrUpdateVertexFeature_=function(e){var o=this.vertexFeature_;if(goog.isNull(o))o=new ol.Feature(new ol.geom.Point(e)),this.vertexFeature_=o,this.overlay_.getSource().addFeature(o);else{var t=o.getGeometry();t.setCoordinates(e)}return o},ol.interaction.Modify.compareIndexes_=function(e,o){return e.index-o.index},ol.interaction.Modify.handleDownEvent_=function(e){this.handlePointerAtPixel_(e.pixel,e.map),this.dragSegments_=[];var o=this.vertexFeature_;if(!goog.isNull(o)){var t=[],r=o.getGeometry(),n=r.getCoordinates(),i=ol.extent.boundingExtent([n]),a=this.rBush_.getInExtent(i),s={};a.sort(ol.interaction.Modify.compareIndexes_);for(var g=0,l=a.length;l>g;++g){var p=a[g],u=p.segment,c=goog.getUid(p.feature),d=p.depth;if(d&&(c+="-"+d.join("-")),s[c]||(s[c]=new Array(2)),ol.coordinate.equals(u[0],n)&&!s[c][0])this.dragSegments_.push([p,0]),s[c][0]=p;else if(ol.coordinate.equals(u[1],n)&&!s[c][1]){if((p.geometry.getType()===ol.geom.GeometryType.LINE_STRING||p.geometry.getType()===ol.geom.GeometryType.MULTI_LINE_STRING)&&s[c][0]&&0===s[c][0].index)continue;this.dragSegments_.push([p,1]),s[c][1]=p}else goog.getUid(u)in this.vertexSegments_&&!s[c][0]&&!s[c][1]&&t.push([p,n])}for(g=t.length-1;g>=0;--g)this.insertVertex_.apply(this,t[g]);this.dispatchEvent(new ol.ModifyEvent(ol.ModifyEventType.MODIFYSTART,this.features_,e))}return!goog.isNull(this.vertexFeature_)},ol.interaction.Modify.handleDragEvent_=function(e){for(var o=e.coordinate,t=0,r=this.dragSegments_.length;r>t;++t){for(var n=this.dragSegments_[t],i=n[0],a=i.depth,s=i.geometry,g=s.getCoordinates(),l=i.segment,p=n[1];o.length<s.getStride();)o.push(0);switch(s.getType()){case ol.geom.GeometryType.POINT:g=o,l[0]=l[1]=o;break;case ol.geom.GeometryType.MULTI_POINT:g[i.index]=o,l[0]=l[1]=o;break;case ol.geom.GeometryType.LINE_STRING:g[i.index+p]=o,l[p]=o;break;case ol.geom.GeometryType.MULTI_LINE_STRING:g[a[0]][i.index+p]=o,l[p]=o;break;case ol.geom.GeometryType.POLYGON:g[a[0]][i.index+p]=o,l[p]=o;break;case ol.geom.GeometryType.MULTI_POLYGON:g[a[1]][a[0]][i.index+p]=o,l[p]=o}s.setCoordinates(g)}this.createOrUpdateVertexFeature_(o)},ol.interaction.Modify.handleUpEvent_=function(e){for(var o,t=this.dragSegments_.length-1;t>=0;--t)o=this.dragSegments_[t][0],this.rBush_.update(ol.extent.boundingExtent(o.segment),o);return this.dispatchEvent(new ol.ModifyEvent(ol.ModifyEventType.MODIFYEND,this.features_,e)),!1},ol.interaction.Modify.handleEvent=function(e){var o;if(e.map.getView().getHints()[ol.ViewHint.INTERACTING]||e.type!=ol.MapBrowserEvent.EventType.POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(e),!goog.isNull(this.vertexFeature_)&&this.deleteCondition_(e))if(this.lastNewVertexPixel_[0]!==this.lastPixel_[0]||this.lastNewVertexPixel_[1]!==this.lastPixel_[1]){var t=this.vertexFeature_.getGeometry();goog.asserts.assertInstanceof(t,ol.geom.Point,"geometry should be an ol.geom.Point"),o=this.removeVertex_()}else o=!0;return ol.interaction.Pointer.handleEvent.call(this,e)&&!o},ol.interaction.Modify.prototype.handlePointerMove_=function(e){this.lastPixel_=e.pixel,this.handlePointerAtPixel_(e.pixel,e.map)},ol.interaction.Modify.prototype.handlePointerAtPixel_=function(e,o){var t=o.getCoordinateFromPixel(e),r=function(e,o){return ol.coordinate.squaredDistanceToSegment(t,e.segment)-ol.coordinate.squaredDistanceToSegment(t,o.segment)},n=o.getCoordinateFromPixel([e[0]-this.pixelTolerance_,e[1]+this.pixelTolerance_]),i=o.getCoordinateFromPixel([e[0]+this.pixelTolerance_,e[1]-this.pixelTolerance_]),a=ol.extent.boundingExtent([n,i]),s=this.rBush_,g=s.getInExtent(a);if(g.length>0){g.sort(r);var l=g[0],p=l.segment,u=ol.coordinate.closestOnSegment(t,p),c=o.getPixelFromCoordinate(u);if(Math.sqrt(ol.coordinate.squaredDistance(e,c))<=this.pixelTolerance_){var d=o.getPixelFromCoordinate(p[0]),h=o.getPixelFromCoordinate(p[1]),m=ol.coordinate.squaredDistance(c,d),y=ol.coordinate.squaredDistance(c,h),f=Math.sqrt(Math.min(m,y));this.snappedToVertex_=f<=this.pixelTolerance_,this.snappedToVertex_&&(u=m>y?p[1]:p[0]),this.createOrUpdateVertexFeature_(u);var v={};v[goog.getUid(p)]=!0;for(var _,E=1,S=g.length;S>E&&(_=g[E].segment,ol.coordinate.equals(p[0],_[0])&&ol.coordinate.equals(p[1],_[1])||ol.coordinate.equals(p[0],_[1])&&ol.coordinate.equals(p[1],_[0]));++E)v[goog.getUid(_)]=!0;return void(this.vertexSegments_=v)}}goog.isNull(this.vertexFeature_)||(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)},ol.interaction.Modify.prototype.insertVertex_=function(e,o){for(var t,r=e.segment,n=e.feature,i=e.geometry,a=e.depth,s=e.index;o.length<i.getStride();)o.push(0);switch(i.getType()){case ol.geom.GeometryType.MULTI_LINE_STRING:goog.asserts.assertInstanceof(i,ol.geom.MultiLineString,"geometry should be an ol.geom.MultiLineString"),t=i.getCoordinates(),t[a[0]].splice(s+1,0,o);break;case ol.geom.GeometryType.POLYGON:goog.asserts.assertInstanceof(i,ol.geom.Polygon,"geometry should be an ol.geom.Polygon"),t=i.getCoordinates(),t[a[0]].splice(s+1,0,o);break;case ol.geom.GeometryType.MULTI_POLYGON:goog.asserts.assertInstanceof(i,ol.geom.MultiPolygon,"geometry should be an ol.geom.MultiPolygon"),t=i.getCoordinates(),t[a[1]][a[0]].splice(s+1,0,o);break;case ol.geom.GeometryType.LINE_STRING:goog.asserts.assertInstanceof(i,ol.geom.LineString,"geometry should be an ol.geom.LineString"),t=i.getCoordinates(),t.splice(s+1,0,o);break;default:return}i.setCoordinates(t);var g=this.rBush_;goog.asserts.assert(goog.isDef(r),"segment should be defined"),g.remove(e),goog.asserts.assert(goog.isDef(s),"index should be defined"),this.updateSegmentIndices_(i,s,a,1);var l={segment:[r[0],o],feature:n,geometry:i,depth:a,index:s};g.insert(ol.extent.boundingExtent(l.segment),l),this.dragSegments_.push([l,1]);var p={segment:[o,r[1]],feature:n,geometry:i,depth:a,index:s+1};g.insert(ol.extent.boundingExtent(p.segment),p),this.dragSegments_.push([p,0]),this.lastNewVertexPixel_=this.lastPixel_},ol.interaction.Modify.prototype.removeVertex_=function(){var e,o,t,r,n,i,a,s,g,l,p,u,c,d=this.dragSegments_,h={};for(n=d.length-1;n>=0;--n)if(t=d[n],p=t[0],r=p.geometry,o=r.getCoordinates(),u=goog.getUid(p.feature),p.depth&&(u+="-"+p.depth.join("-")),a=l=i=void 0,0===t[1]?(l=p,i=p.index):1==t[1]&&(a=p,i=p.index+1),u in h||(h[u]=[a,l,i]),g=h[u],goog.isDef(a)&&(g[0]=a),goog.isDef(l)&&(g[1]=l),goog.isDef(g[0])&&goog.isDef(g[1])){switch(e=o,c=!1,s=i-1,r.getType()){case ol.geom.GeometryType.MULTI_LINE_STRING:o[p.depth[0]].splice(i,1),c=!0;break;case ol.geom.GeometryType.LINE_STRING:o.splice(i,1),c=!0;break;case ol.geom.GeometryType.MULTI_POLYGON:e=e[p.depth[1]];case ol.geom.GeometryType.POLYGON:e=e[p.depth[0]],e.length>4&&(i==e.length-1&&(i=0),
e.splice(i,1),c=!0,0===i&&(e.pop(),e.push(e[0]),s=e.length-1))}if(c){this.rBush_.remove(g[0]),this.rBush_.remove(g[1]),r.setCoordinates(o),goog.asserts.assert(s>=0,"newIndex should be larger than 0");var m={depth:p.depth,feature:p.feature,geometry:p.geometry,index:s,segment:[g[0].segment[0],g[1].segment[1]]};this.rBush_.insert(ol.extent.boundingExtent(m.segment),m),this.updateSegmentIndices_(r,i,p.depth,-1),this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null}}return!0},ol.interaction.Modify.prototype.updateSegmentIndices_=function(e,o,t,r){this.rBush_.forEachInExtent(e.getExtent(),function(n){n.geometry===e&&(!goog.isDef(t)||goog.array.equals(n.depth,t))&&n.index>o&&(n.index+=r)})},ol.interaction.Modify.getDefaultStyleFunction=function(){var e=ol.style.createDefaultEditingStyles();return function(o,t){return e[ol.geom.GeometryType.POINT]}},goog.provide("ol.interaction.Select"),goog.provide("ol.interaction.SelectFilterFunction"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.events"),goog.require("goog.events.Event"),goog.require("goog.functions"),goog.require("ol.CollectionEventType"),goog.require("ol.Feature"),goog.require("ol.events.condition"),goog.require("ol.geom.GeometryType"),goog.require("ol.interaction.Interaction"),goog.require("ol.layer.Vector"),goog.require("ol.source.Vector"),goog.require("ol.style.Style"),ol.SelectEventType={SELECT:"select"},ol.interaction.SelectFilterFunction,ol.SelectEvent=function(e,o,t,r){goog.base(this,e),this.selected=o,this.deselected=t,this.mapBrowserEvent=r},goog.inherits(ol.SelectEvent,goog.events.Event),ol.interaction.Select=function(e){goog.base(this,{handleEvent:ol.interaction.Select.handleEvent});var o=goog.isDef(e)?e:{};this.condition_=goog.isDef(o.condition)?o.condition:ol.events.condition.singleClick,this.addCondition_=goog.isDef(o.addCondition)?o.addCondition:ol.events.condition.never,this.removeCondition_=goog.isDef(o.removeCondition)?o.removeCondition:ol.events.condition.never,this.toggleCondition_=goog.isDef(o.toggleCondition)?o.toggleCondition:ol.events.condition.shiftKeyOnly,this.multi_=goog.isDef(o.multi)?o.multi:!1,this.filter_=goog.isDef(o.filter)?o.filter:goog.functions.TRUE;var t;if(goog.isDef(o.layers))if(goog.isFunction(o.layers))t=o.layers;else{var r=o.layers;t=function(e){return goog.array.contains(r,e)}}else t=goog.functions.TRUE;this.layerFilter_=t,this.featureOverlay_=new ol.layer.Vector({source:new ol.source.Vector({useSpatialIndex:!1,wrapX:o.wrapX}),style:goog.isDef(o.style)?o.style:ol.interaction.Select.getDefaultStyleFunction(),updateWhileAnimating:!0,updateWhileInteracting:!0});var n=this.featureOverlay_.getSource().getFeaturesCollection();goog.events.listen(n,ol.CollectionEventType.ADD,this.addFeature_,!1,this),goog.events.listen(n,ol.CollectionEventType.REMOVE,this.removeFeature_,!1,this)},goog.inherits(ol.interaction.Select,ol.interaction.Interaction),ol.interaction.Select.prototype.getFeatures=function(){return this.featureOverlay_.getSource().getFeaturesCollection()},ol.interaction.Select.handleEvent=function(e){if(!this.condition_(e))return!0;var o=this.addCondition_(e),t=this.removeCondition_(e),r=this.toggleCondition_(e),n=!o&&!t&&!r,i=e.map,a=this.featureOverlay_.getSource().getFeaturesCollection(),s=[],g=[],l=!1;if(n)i.forEachFeatureAtPixel(e.pixel,function(e,o){return this.filter_(e,o)?(g.push(e),!this.multi_):void 0},this,this.layerFilter_),g.length>0&&1==a.getLength()&&a.item(0)==g[0]||(l=!0,0!==a.getLength()&&(s=Array.prototype.concat(a.getArray()),a.clear()),a.extend(g));else{i.forEachFeatureAtPixel(e.pixel,function(e,n){var i=goog.array.indexOf(a.getArray(),e);-1==i?(o||r)&&this.filter_(e,n)&&g.push(e):(t||r)&&s.push(e)},this,this.layerFilter_);var p;for(p=s.length-1;p>=0;--p)a.remove(s[p]);a.extend(g),(g.length>0||s.length>0)&&(l=!0)}return l&&this.dispatchEvent(new ol.SelectEvent(ol.SelectEventType.SELECT,g,s,e)),ol.events.condition.pointerMove(e)},ol.interaction.Select.prototype.setMap=function(e){var o=this.getMap(),t=this.featureOverlay_.getSource().getFeaturesCollection();goog.isNull(o)||t.forEach(o.unskipFeature,o),goog.base(this,"setMap",e),this.featureOverlay_.setMap(e),goog.isNull(e)||t.forEach(e.skipFeature,e)},ol.interaction.Select.getDefaultStyleFunction=function(){var e=ol.style.createDefaultEditingStyles();return goog.array.extend(e[ol.geom.GeometryType.POLYGON],e[ol.geom.GeometryType.LINE_STRING]),goog.array.extend(e[ol.geom.GeometryType.GEOMETRY_COLLECTION],e[ol.geom.GeometryType.LINE_STRING]),function(o,t){return e[o.getGeometry().getType()]}},ol.interaction.Select.prototype.addFeature_=function(e){var o=e.element,t=this.getMap();goog.asserts.assertInstanceof(o,ol.Feature,"feature should be an ol.Feature"),goog.isNull(t)||t.skipFeature(o)},ol.interaction.Select.prototype.removeFeature_=function(e){var o=e.element,t=this.getMap();goog.asserts.assertInstanceof(o,ol.Feature,"feature should be an ol.Feature"),goog.isNull(t)||t.unskipFeature(o)},goog.provide("ol.interaction.Snap"),goog.provide("ol.interaction.SnapProperty"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.events"),goog.require("goog.events.EventType"),goog.require("goog.object"),goog.require("ol.Collection"),goog.require("ol.CollectionEvent"),goog.require("ol.CollectionEventType"),goog.require("ol.Extent"),goog.require("ol.Feature"),goog.require("ol.Object"),goog.require("ol.Observable"),goog.require("ol.coordinate"),goog.require("ol.extent"),goog.require("ol.geom.Geometry"),goog.require("ol.interaction.Pointer"),goog.require("ol.source.Vector"),goog.require("ol.source.VectorEvent"),goog.require("ol.source.VectorEventType"),goog.require("ol.structs.RBush"),ol.interaction.Snap=function(e){goog.base(this,{handleEvent:ol.interaction.Snap.handleEvent_,handleDownEvent:goog.functions.TRUE,handleUpEvent:ol.interaction.Snap.handleUpEvent_});var o=goog.isDef(e)?e:{};this.source_=goog.isDef(o.source)?o.source:null,this.features_=goog.isDef(o.features)?o.features:null,this.featuresListenerKeys_=[],this.geometryChangeListenerKeys_={},this.geometryModifyListenerKeys_={},this.indexedFeaturesExtents_={},this.pendingFeatures_={},this.pixelCoordinate_=null,this.pixelTolerance_=goog.isDef(o.pixelTolerance)?o.pixelTolerance:10,this.sortByDistance_=goog.bind(ol.interaction.Snap.sortByDistance,this),this.rBush_=new ol.structs.RBush,this.SEGMENT_WRITERS_={Point:this.writePointGeometry_,LineString:this.writeLineStringGeometry_,LinearRing:this.writeLineStringGeometry_,Polygon:this.writePolygonGeometry_,MultiPoint:this.writeMultiPointGeometry_,MultiLineString:this.writeMultiLineStringGeometry_,MultiPolygon:this.writeMultiPolygonGeometry_,GeometryCollection:this.writeGeometryCollectionGeometry_}},goog.inherits(ol.interaction.Snap,ol.interaction.Pointer),ol.interaction.Snap.prototype.addFeature=function(e,o){var t=goog.isDef(o)?o:!0,r=e.getGeometry(),n=this.SEGMENT_WRITERS_[r.getType()];if(goog.isDef(n)){var i=goog.getUid(e);this.indexedFeaturesExtents_[i]=r.getExtent(ol.extent.createEmpty()),n.call(this,e,r),t&&(this.geometryModifyListenerKeys_[i]=r.on(goog.events.EventType.CHANGE,goog.bind(this.handleGeometryModify_,this,e),this),this.geometryChangeListenerKeys_[i]=e.on(ol.Object.getChangeEventType(e.getGeometryName()),this.handleGeometryChange_,this))}},ol.interaction.Snap.prototype.forEachFeatureAdd_=function(e){this.addFeature(e)},ol.interaction.Snap.prototype.forEachFeatureRemove_=function(e){this.removeFeature(e)},ol.interaction.Snap.prototype.getFeatures_=function(){var e;return goog.isNull(this.features_)?goog.isNull(this.source_)||(e=this.source_.getFeatures()):e=this.features_,goog.asserts.assert(goog.isDef(e),"features should be defined"),e},ol.interaction.Snap.prototype.handleFeatureAdd_=function(e){var o;e instanceof ol.source.VectorEvent?o=e.feature:e instanceof ol.CollectionEvent&&(o=e.element),goog.asserts.assertInstanceof(o,ol.Feature,"feature should be an ol.Feature"),this.addFeature(o)},ol.interaction.Snap.prototype.handleFeatureRemove_=function(e){var o;e instanceof ol.source.VectorEvent?o=e.feature:e instanceof ol.CollectionEvent&&(o=e.element),goog.asserts.assertInstanceof(o,ol.Feature,"feature should be an ol.Feature"),this.removeFeature(o)},ol.interaction.Snap.prototype.handleGeometryChange_=function(e){var o=e.currentTarget;goog.asserts.assertInstanceof(o,ol.Feature),this.removeFeature(o,!0),this.addFeature(o,!0)},ol.interaction.Snap.prototype.handleGeometryModify_=function(e,o){if(this.handlingDownUpSequence){var t=goog.getUid(e);t in this.pendingFeatures_||(this.pendingFeatures_[t]=e)}else this.updateFeature_(e)},ol.interaction.Snap.prototype.removeFeature=function(e,o){var t=goog.isDef(o)?o:!0,r=goog.getUid(e),n=this.indexedFeaturesExtents_[r];if(n){var i,a=this.rBush_,s=[];for(a.forEachInExtent(n,function(o){e===o.feature&&s.push(o)}),i=s.length-1;i>=0;--i)a.remove(s[i]);t&&(ol.Observable.unByKey(this.geometryModifyListenerKeys_[r]),delete this.geometryModifyListenerKeys_[r],ol.Observable.unByKey(this.geometryChangeListenerKeys_[r]),delete this.geometryChangeListenerKeys_[r])}},ol.interaction.Snap.prototype.setMap=function(e){var o=this.getMap(),t=this.featuresListenerKeys_,r=this.getFeatures_();o&&(goog.array.forEach(t,ol.Observable.unByKey),t.length=0,r.forEach(this.forEachFeatureRemove_,this)),goog.base(this,"setMap",e),e&&(goog.isNull(this.features_)?goog.isNull(this.source_)||(t.push(this.source_.on(ol.source.VectorEventType.ADDFEATURE,this.handleFeatureAdd_,this)),t.push(this.source_.on(ol.source.VectorEventType.REMOVEFEATURE,this.handleFeatureRemove_,this))):(t.push(this.features_.on(ol.CollectionEventType.ADD,this.handleFeatureAdd_,this)),t.push(this.features_.on(ol.CollectionEventType.REMOVE,this.handleFeatureRemove_,this))),r.forEach(this.forEachFeatureAdd_,this))},ol.interaction.Snap.prototype.shouldStopEvent=goog.functions.FALSE,ol.interaction.Snap.prototype.snapTo=function(e,o,t){var r=t.getCoordinateFromPixel([e[0]-this.pixelTolerance_,e[1]+this.pixelTolerance_]),n=t.getCoordinateFromPixel([e[0]+this.pixelTolerance_,e[1]-this.pixelTolerance_]),i=ol.extent.boundingExtent([r,n]),a=this.rBush_.getInExtent(i),s=!1,g=!1,l=null,p=null;if(a.length>0){this.pixelCoordinate_=o,a.sort(this.sortByDistance_);var u=a[0].segment;if(l=ol.coordinate.closestOnSegment(o,u),p=t.getPixelFromCoordinate(l),Math.sqrt(ol.coordinate.squaredDistance(e,p))<=this.pixelTolerance_){g=!0;var c=t.getPixelFromCoordinate(u[0]),d=t.getPixelFromCoordinate(u[1]),h=ol.coordinate.squaredDistance(p,c),m=ol.coordinate.squaredDistance(p,d),y=Math.sqrt(Math.min(h,m));s=y<=this.pixelTolerance_,s&&(l=h>m?u[1]:u[0],p=t.getPixelFromCoordinate(l),p=[Math.round(p[0]),Math.round(p[1])])}}return{snapped:g,vertex:l,vertexPixel:p}},ol.interaction.Snap.prototype.updateFeature_=function(e){this.removeFeature(e,!1),this.addFeature(e,!1)},ol.interaction.Snap.prototype.writeGeometryCollectionGeometry_=function(e,o){var t,r=o.getGeometriesArray();for(t=0;t<r.length;++t)this.SEGMENT_WRITERS_[r[t].getType()].call(this,e,r[t])},ol.interaction.Snap.prototype.writeLineStringGeometry_=function(e,o){var t,r,n,i,a=o.getCoordinates();for(t=0,r=a.length-1;r>t;++t)n=a.slice(t,t+2),i={feature:e,segment:n},this.rBush_.insert(ol.extent.boundingExtent(n),i)},ol.interaction.Snap.prototype.writeMultiLineStringGeometry_=function(e,o){var t,r,n,i,a,s,g,l=o.getCoordinates();for(i=0,a=l.length;a>i;++i)for(t=l[i],r=0,n=t.length-1;n>r;++r)s=t.slice(r,r+2),g={feature:e,segment:s},this.rBush_.insert(ol.extent.boundingExtent(s),g)},ol.interaction.Snap.prototype.writeMultiPointGeometry_=function(e,o){var t,r,n,i,a=o.getCoordinates();for(r=0,n=a.length;n>r;++r)t=a[r],i={feature:e,segment:[t,t]},this.rBush_.insert(o.getExtent(),i)},ol.interaction.Snap.prototype.writeMultiPolygonGeometry_=function(e,o){var t,r,n,i,a,s,g,l,p,u,c=o.getCoordinates();for(s=0,g=c.length;g>s;++s)for(l=c[s],i=0,a=l.length;a>i;++i)for(t=l[i],r=0,n=t.length-1;n>r;++r)p=t.slice(r,r+2),u={feature:e,segment:p},this.rBush_.insert(ol.extent.boundingExtent(p),u)},ol.interaction.Snap.prototype.writePointGeometry_=function(e,o){var t=o.getCoordinates(),r={feature:e,segment:[t,t]};this.rBush_.insert(o.getExtent(),r)},ol.interaction.Snap.prototype.writePolygonGeometry_=function(e,o){var t,r,n,i,a,s,g,l=o.getCoordinates();for(i=0,a=l.length;a>i;++i)for(t=l[i],r=0,n=t.length-1;n>r;++r)s=t.slice(r,r+2),g={feature:e,segment:s},this.rBush_.insert(ol.extent.boundingExtent(s),g)},ol.interaction.Snap.ResultType,ol.interaction.Snap.SegmentDataType,ol.interaction.Snap.handleEvent_=function(e){var o=this.snapTo(e.pixel,e.coordinate,e.map);return o.snapped&&(e.coordinate=o.vertex.slice(0,2),e.pixel=o.vertexPixel),ol.interaction.Pointer.handleEvent.call(this,e)},ol.interaction.Snap.handleUpEvent_=function(e){var o=goog.object.getValues(this.pendingFeatures_);return o.length&&(goog.array.forEach(o,this.updateFeature_,this),this.pendingFeatures_={}),!1},ol.interaction.Snap.sortByDistance=function(e,o){return ol.coordinate.squaredDistanceToSegment(this.pixelCoordinate_,e.segment)-ol.coordinate.squaredDistanceToSegment(this.pixelCoordinate_,o.segment)},goog.provide("ol.layer.Heatmap"),goog.require("goog.asserts"),goog.require("goog.events"),goog.require("goog.math"),goog.require("goog.object"),goog.require("ol.Object"),goog.require("ol.dom"),goog.require("ol.layer.Vector"),goog.require("ol.render.EventType"),goog.require("ol.style.Icon"),goog.require("ol.style.Style"),ol.layer.HeatmapLayerProperty={BLUR:"blur",GRADIENT:"gradient",RADIUS:"radius"},ol.layer.Heatmap=function(e){var o=goog.isDef(e)?e:{},t=goog.object.clone(o);delete t.gradient,delete t.radius,delete t.blur,delete t.shadow,delete t.weight,goog.base(this,t),this.gradient_=null,this.shadow_=goog.isDef(o.shadow)?o.shadow:250,this.circleImage_=void 0,this.styleCache_=null,goog.events.listen(this,ol.Object.getChangeEventType(ol.layer.HeatmapLayerProperty.GRADIENT),this.handleGradientChanged_,!1,this),this.setGradient(goog.isDef(o.gradient)?o.gradient:ol.layer.Heatmap.DEFAULT_GRADIENT),this.setBlur(goog.isDef(o.blur)?o.blur:15),this.setRadius(goog.isDef(o.radius)?o.radius:8),goog.events.listen(this,[ol.Object.getChangeEventType(ol.layer.HeatmapLayerProperty.BLUR),ol.Object.getChangeEventType(ol.layer.HeatmapLayerProperty.RADIUS)],this.handleStyleChanged_,!1,this),this.handleStyleChanged_();var r,n=goog.isDef(o.weight)?o.weight:"weight";r=goog.isString(n)?function(e){return e.get(n)}:n,goog.asserts.assert(goog.isFunction(r),"weightFunction should be a function"),this.setStyle(goog.bind(function(e,o){goog.asserts.assert(!goog.isNull(this.styleCache_),"this.styleCache_ should not be null"),goog.asserts.assert(goog.isDef(this.circleImage_),"this.circleImage_ should be defined");var t=r(e),n=goog.isDef(t)?goog.math.clamp(t,0,1):1,i=255*n|0,a=this.styleCache_[i];return goog.isDef(a)||(a=[new ol.style.Style({image:new ol.style.Icon({opacity:n,src:this.circleImage_})})],this.styleCache_[i]=a),a},this)),this.setRenderOrder(null),goog.events.listen(this,ol.render.EventType.RENDER,this.handleRender_,!1,this)},goog.inherits(ol.layer.Heatmap,ol.layer.Vector),ol.layer.Heatmap.DEFAULT_GRADIENT=["#00f","#0ff","#0f0","#ff0","#f00"],ol.layer.Heatmap.createGradient_=function(e){for(var o=1,t=256,r=ol.dom.createCanvasContext2D(o,t),n=r.createLinearGradient(0,0,o,t),i=1/(e.length-1),a=0,s=e.length;s>a;++a)n.addColorStop(a*i,e[a]);return r.fillStyle=n,r.fillRect(0,0,o,t),r.getImageData(0,0,o,t).data},ol.layer.Heatmap.prototype.createCircle_=function(){var e=this.getRadius(),o=this.getBlur();goog.asserts.assert(goog.isDef(e)&&goog.isDef(o),"radius and blur should be defined");var t=e+o+1,r=2*t,n=ol.dom.createCanvasContext2D(r,r);n.shadowOffsetX=n.shadowOffsetY=this.shadow_,n.shadowBlur=o,n.shadowColor="#000",n.beginPath();var i=t-this.shadow_;return n.arc(i,i,e,0,2*Math.PI,!0),n.fill(),n.canvas.toDataURL()},ol.layer.Heatmap.prototype.getBlur=function(){return this.get(ol.layer.HeatmapLayerProperty.BLUR)},ol.layer.Heatmap.prototype.getGradient=function(){return this.get(ol.layer.HeatmapLayerProperty.GRADIENT)},ol.layer.Heatmap.prototype.getRadius=function(){return this.get(ol.layer.HeatmapLayerProperty.RADIUS)},ol.layer.Heatmap.prototype.handleGradientChanged_=function(){this.gradient_=ol.layer.Heatmap.createGradient_(this.getGradient())},ol.layer.Heatmap.prototype.handleStyleChanged_=function(){this.circleImage_=this.createCircle_(),this.styleCache_=new Array(256),this.changed()},ol.layer.Heatmap.prototype.handleRender_=function(e){goog.asserts.assert(e.type==ol.render.EventType.RENDER,"event.type should be RENDER"),goog.asserts.assert(!goog.isNull(this.gradient_),"this.gradient_ should not be null");var o,t,r,n=e.context,i=n.canvas,a=n.getImageData(0,0,i.width,i.height),s=a.data;for(o=0,t=s.length;t>o;o+=4)r=4*s[o+3],r&&(s[o]=this.gradient_[r],s[o+1]=this.gradient_[r+1],s[o+2]=this.gradient_[r+2]);n.putImageData(a,0,0)},ol.layer.Heatmap.prototype.setBlur=function(e){this.set(ol.layer.HeatmapLayerProperty.BLUR,e)},ol.layer.Heatmap.prototype.setGradient=function(e){this.set(ol.layer.HeatmapLayerProperty.GRADIENT,e)},ol.layer.Heatmap.prototype.setRadius=function(e){this.set(ol.layer.HeatmapLayerProperty.RADIUS,e)},goog.provide("goog.net.jsloader"),goog.provide("goog.net.jsloader.Error"),goog.provide("goog.net.jsloader.ErrorCode"),goog.provide("goog.net.jsloader.Options"),goog.require("goog.array"),goog.require("goog.async.Deferred"),goog.require("goog.debug.Error"),goog.require("goog.dom"),goog.require("goog.dom.TagName"),goog.net.jsloader.GLOBAL_VERIFY_OBJS_="closure_verification",goog.net.jsloader.DEFAULT_TIMEOUT=5e3,goog.net.jsloader.Options,goog.net.jsloader.scriptsToLoad_=[],goog.net.jsloader.loadMany=function(e,o){if(e.length){var t=goog.net.jsloader.scriptsToLoad_.length;if(goog.array.extend(goog.net.jsloader.scriptsToLoad_,e),!t){e=goog.net.jsloader.scriptsToLoad_;var r=function(){var t=e.shift(),n=goog.net.jsloader.load(t,o);e.length&&n.addBoth(r)};r()}}},goog.net.jsloader.load=function(e,o){var t=o||{},r=t.document||document,n=goog.dom.createElement(goog.dom.TagName.SCRIPT),i={script_:n,timeout_:void 0},a=new goog.async.Deferred(goog.net.jsloader.cancel_,i),s=null,g=goog.isDefAndNotNull(t.timeout)?t.timeout:goog.net.jsloader.DEFAULT_TIMEOUT;g>0&&(s=window.setTimeout(function(){goog.net.jsloader.cleanup_(n,!0),a.errback(new goog.net.jsloader.Error(goog.net.jsloader.ErrorCode.TIMEOUT,"Timeout reached for loading script "+e))},g),i.timeout_=s),n.onload=n.onreadystatechange=function(){if(!n.readyState||"loaded"==n.readyState||"complete"==n.readyState){var e=t.cleanupWhenDone||!1;goog.net.jsloader.cleanup_(n,e,s),a.callback(null)}},n.onerror=function(){goog.net.jsloader.cleanup_(n,!0,s),a.errback(new goog.net.jsloader.Error(goog.net.jsloader.ErrorCode.LOAD_ERROR,"Error while loading script "+e))},goog.dom.setProperties(n,{type:"text/javascript",charset:"UTF-8",src:e});var l=goog.net.jsloader.getScriptParentElement_(r);return l.appendChild(n),a},goog.net.jsloader.loadAndVerify=function(e,o,t){goog.global[goog.net.jsloader.GLOBAL_VERIFY_OBJS_]||(goog.global[goog.net.jsloader.GLOBAL_VERIFY_OBJS_]={});var r=goog.global[goog.net.jsloader.GLOBAL_VERIFY_OBJS_];if(goog.isDef(r[o]))return goog.async.Deferred.fail(new goog.net.jsloader.Error(goog.net.jsloader.ErrorCode.VERIFY_OBJECT_ALREADY_EXISTS,"Verification object "+o+" already defined."));var n=goog.net.jsloader.load(e,t),i=new goog.async.Deferred(goog.bind(n.cancel,n));return n.addCallback(function(){var t=r[o];goog.isDef(t)?(i.callback(t),delete r[o]):i.errback(new goog.net.jsloader.Error(goog.net.jsloader.ErrorCode.VERIFY_ERROR,"Script "+e+" loaded, but verification object "+o+" was not defined."))}),n.addErrback(function(e){goog.isDef(r[o])&&delete r[o],i.errback(e)}),i},goog.net.jsloader.getScriptParentElement_=function(e){var o=e.getElementsByTagName(goog.dom.TagName.HEAD);return!o||goog.array.isEmpty(o)?e.documentElement:o[0]},goog.net.jsloader.cancel_=function(){var e=this;if(e&&e.script_){var o=e.script_;o&&"SCRIPT"==o.tagName&&goog.net.jsloader.cleanup_(o,!0,e.timeout_)}},goog.net.jsloader.cleanup_=function(e,o,t){goog.isDefAndNotNull(t)&&goog.global.clearTimeout(t),e.onload=goog.nullFunction,e.onerror=goog.nullFunction,e.onreadystatechange=goog.nullFunction,o&&window.setTimeout(function(){goog.dom.removeNode(e)},0)},goog.net.jsloader.ErrorCode={LOAD_ERROR:0,TIMEOUT:1,VERIFY_ERROR:2,VERIFY_OBJECT_ALREADY_EXISTS:3},goog.net.jsloader.Error=function(e,o){var t="Jsloader error (code #"+e+")";o&&(t+=": "+o),goog.net.jsloader.Error.base(this,"constructor",t),this.code=e},goog.inherits(goog.net.jsloader.Error,goog.debug.Error),goog.provide("goog.net.Jsonp"),goog.require("goog.Uri"),goog.require("goog.net.jsloader"),goog.net.Jsonp=function(e,o){this.uri_=new goog.Uri(e),this.callbackParamName_=o?o:"callback",this.timeout_=5e3},goog.net.Jsonp.CALLBACKS="_callbacks_",goog.net.Jsonp.scriptCounter_=0,goog.net.Jsonp.prototype.setRequestTimeout=function(e){this.timeout_=e},goog.net.Jsonp.prototype.getRequestTimeout=function(){return this.timeout_},goog.net.Jsonp.prototype.send=function(e,o,t,r){var n=e||null,i=r||"_"+(goog.net.Jsonp.scriptCounter_++).toString(36)+goog.now().toString(36);goog.global[goog.net.Jsonp.CALLBACKS]||(goog.global[goog.net.Jsonp.CALLBACKS]={});var a=this.uri_.clone();if(n&&goog.net.Jsonp.addPayloadToUri_(n,a),o){var s=goog.net.Jsonp.newReplyHandler_(i,o);goog.global[goog.net.Jsonp.CALLBACKS][i]=s,a.setParameterValues(this.callbackParamName_,goog.net.Jsonp.CALLBACKS+"."+i)}var g=goog.net.jsloader.load(a.toString(),{timeout:this.timeout_,cleanupWhenDone:!0}),l=goog.net.Jsonp.newErrorHandler_(i,n,t);return g.addErrback(l),{id_:i,deferred_:g}},goog.net.Jsonp.prototype.cancel=function(e){e&&(e.deferred_&&e.deferred_.cancel(),e.id_&&goog.net.Jsonp.cleanup_(e.id_,!1))},goog.net.Jsonp.newErrorHandler_=function(e,o,t){return function(){goog.net.Jsonp.cleanup_(e,!1),t&&t(o)}},goog.net.Jsonp.newReplyHandler_=function(e,o){var t=function(t){goog.net.Jsonp.cleanup_(e,!0),o.apply(void 0,arguments)};return t},goog.net.Jsonp.cleanup_=function(e,o){goog.global[goog.net.Jsonp.CALLBACKS][e]&&(o?delete goog.global[goog.net.Jsonp.CALLBACKS][e]:goog.global[goog.net.Jsonp.CALLBACKS][e]=goog.nullFunction)},goog.net.Jsonp.addPayloadToUri_=function(e,o){for(var t in e)(!e.hasOwnProperty||e.hasOwnProperty(t))&&o.setParameterValues(t,e[t]);return o},goog.provide("ol.TileUrlFunction"),goog.provide("ol.TileUrlFunctionType"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.math"),goog.require("ol.TileCoord"),goog.require("ol.tilecoord"),ol.TileUrlFunctionType,ol.TileCoordTransformType,ol.TileUrlFunction.createFromTemplate=function(e){var o=/\{z\}/g,t=/\{x\}/g,r=/\{y\}/g,n=/\{-y\}/g;return function(i,a,s){return goog.isNull(i)?void 0:e.replace(o,i[0].toString()).replace(t,i[1].toString()).replace(r,function(){var e=-i[2]-1;return e.toString()}).replace(n,function(){var e=(1<<i[0])+i[2];return e.toString()})}},ol.TileUrlFunction.createFromTemplates=function(e){return ol.TileUrlFunction.createFromTileUrlFunctions(goog.array.map(e,ol.TileUrlFunction.createFromTemplate))},ol.TileUrlFunction.createFromTileUrlFunctions=function(e){return goog.asserts.assert(e.length>0,"Length of tile url functions should be greater than 0"),1===e.length?e[0]:function(o,t,r){if(goog.isNull(o))return void 0;var n=ol.tilecoord.hash(o),i=goog.math.modulo(n,e.length);return e[i](o,t,r)}},ol.TileUrlFunction.nullTileUrlFunction=function(e,o,t){return void 0},ol.TileUrlFunction.expandUrl=function(e){var o=[],t=/\{(\d)-(\d)\}/.exec(e)||/\{([a-z])-([a-z])\}/.exec(e);if(t){var r,n=t[1].charCodeAt(0),i=t[2].charCodeAt(0);for(r=n;i>=r;++r)o.push(e.replace(t[0],String.fromCharCode(r)))}else o.push(e);return o},goog.provide("ol.source.TileImage"),goog.require("goog.asserts"),goog.require("goog.events"),goog.require("goog.events.EventType"),goog.require("ol.ImageTile"),goog.require("ol.TileCoord"),goog.require("ol.TileLoadFunctionType"),goog.require("ol.TileState"),goog.require("ol.TileUrlFunction"),goog.require("ol.TileUrlFunctionType"),goog.require("ol.source.Tile"),goog.require("ol.source.TileEvent"),ol.source.TileImage=function(e){goog.base(this,{attributions:e.attributions,extent:e.extent,logo:e.logo,opaque:e.opaque,projection:e.projection,state:goog.isDef(e.state)?e.state:void 0,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX}),this.tileUrlFunction=goog.isDef(e.tileUrlFunction)?e.tileUrlFunction:ol.TileUrlFunction.nullTileUrlFunction,this.crossOrigin=goog.isDef(e.crossOrigin)?e.crossOrigin:null,this.tileLoadFunction=goog.isDef(e.tileLoadFunction)?e.tileLoadFunction:ol.source.TileImage.defaultTileLoadFunction,this.tileClass=goog.isDef(e.tileClass)?e.tileClass:ol.ImageTile},goog.inherits(ol.source.TileImage,ol.source.Tile),ol.source.TileImage.defaultTileLoadFunction=function(e,o){e.getImage().src=o},ol.source.TileImage.prototype.getTile=function(e,o,t,r,n){var i=this.getKeyZXY(e,o,t);if(this.tileCache.containsKey(i))return this.tileCache.get(i);goog.asserts.assert(n,"argument projection is truthy");var a=[e,o,t],s=this.getTileCoordForTileUrlFunction(a,n),g=goog.isNull(s)?void 0:this.tileUrlFunction(s,r,n),l=new this.tileClass(a,goog.isDef(g)?ol.TileState.IDLE:ol.TileState.EMPTY,goog.isDef(g)?g:"",this.crossOrigin,this.tileLoadFunction);return goog.events.listen(l,goog.events.EventType.CHANGE,this.handleTileChange_,!1,this),this.tileCache.set(i,l),l},ol.source.TileImage.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},ol.source.TileImage.prototype.getTileUrlFunction=function(){return this.tileUrlFunction},ol.source.TileImage.prototype.handleTileChange_=function(e){var o=e.target;switch(o.getState()){case ol.TileState.LOADING:this.dispatchEvent(new ol.source.TileEvent(ol.source.TileEventType.TILELOADSTART,o));break;case ol.TileState.LOADED:this.dispatchEvent(new ol.source.TileEvent(ol.source.TileEventType.TILELOADEND,o));break;case ol.TileState.ERROR:this.dispatchEvent(new ol.source.TileEvent(ol.source.TileEventType.TILELOADERROR,o))}},ol.source.TileImage.prototype.setTileLoadFunction=function(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()},ol.source.TileImage.prototype.setTileUrlFunction=function(e){this.tileCache.clear(),this.tileUrlFunction=e,this.changed()},ol.source.TileImage.prototype.useTile=function(e,o,t){var r=this.getKeyZXY(e,o,t);this.tileCache.containsKey(r)&&this.tileCache.get(r)},goog.provide("ol.source.BingMaps"),goog.require("goog.Uri"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.net.Jsonp"),goog.require("ol.Attribution"),goog.require("ol.TileRange"),goog.require("ol.TileUrlFunction"),goog.require("ol.extent"),goog.require("ol.proj"),goog.require("ol.source.State"),goog.require("ol.source.TileImage"),goog.require("ol.tilecoord"),ol.source.BingMaps=function(e){goog.base(this,{crossOrigin:"anonymous",opaque:!0,projection:ol.proj.get("EPSG:3857"),state:ol.source.State.LOADING,tileLoadFunction:e.tileLoadFunction,wrapX:goog.isDef(e.wrapX)?e.wrapX:!0}),this.culture_=goog.isDef(e.culture)?e.culture:"en-us",this.maxZoom_=goog.isDef(e.maxZoom)?e.maxZoom:-1;var o=new goog.Uri("https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+e.imagerySet),t=new goog.net.Jsonp(o,"jsonp");t.send({include:"ImageryProviders",uriScheme:"https",key:e.key},goog.bind(this.handleImageryMetadataResponse,this))},goog.inherits(ol.source.BingMaps,ol.source.TileImage),ol.source.BingMaps.TOS_ATTRIBUTION=new ol.Attribution({html:'<a class="ol-attribution-bing-tos" href="http://www.microsoft.com/maps/product/terms.html">Terms of Use</a>'}),ol.source.BingMaps.prototype.handleImageryMetadataResponse=function(e){if(200!=e.statusCode||"OK"!=e.statusDescription||"ValidCredentials"!=e.authenticationResultCode||1!=e.resourceSets.length||1!=e.resourceSets[0].resources.length)return void this.setState(ol.source.State.ERROR);var o=e.brandLogoUri;-1==o.indexOf("https")&&(o=o.replace("http","https"));var t=e.resourceSets[0].resources[0];goog.asserts.assert(t.imageWidth==t.imageHeight,"resource has imageWidth equal to imageHeight, i.e. is square");var r=-1==this.maxZoom_?t.zoomMax:this.maxZoom_,n=this.getProjection(),i=ol.tilegrid.extentFromProjection(n),a=t.imageWidth==t.imageHeight?t.imageWidth:[t.imageWidth,t.imageHeight],s=ol.tilegrid.createXYZ({extent:i,minZoom:t.zoomMin,maxZoom:r,tileSize:a});this.tileGrid=s;var g=this.culture_;if(this.tileUrlFunction=ol.TileUrlFunction.createFromTileUrlFunctions(goog.array.map(t.imageUrlSubdomains,function(e){var o=[0,0,0],r=t.imageUrl.replace("{subdomain}",e).replace("{culture}",g);return function(e,t,i){return goog.asserts.assert(ol.proj.equivalent(i,n),"projections are equivalent"),goog.isNull(e)?void 0:(ol.tilecoord.createOrUpdate(e[0],e[1],-e[2]-1,o),r.replace("{quadkey}",ol.tilecoord.quadKey(o)))}})),t.imageryProviders){var l=ol.proj.getTransformFromProjections(ol.proj.get("EPSG:4326"),this.getProjection()),p=goog.array.map(t.imageryProviders,function(e){var o=e.attribution,t={};return goog.array.forEach(e.coverageAreas,function(e){var o,n,i,a=e.zoomMin,g=Math.min(e.zoomMax,r),p=e.bbox,u=[p[1],p[0],p[3],p[2]],c=ol.extent.applyTransform(u,l);for(n=a;g>=n;++n)i=n.toString(),o=s.getTileRangeForExtentAndZ(c,n),i in t?t[i].push(o):t[i]=[o]}),new ol.Attribution({html:o,tileRanges:t})});p.push(ol.source.BingMaps.TOS_ATTRIBUTION),this.setAttributions(p)}this.setLogo(o),this.setState(ol.source.State.READY)},goog.provide("ol.source.Cluster"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.events.EventType"),goog.require("goog.object"),goog.require("ol.Feature"),goog.require("ol.coordinate"),goog.require("ol.extent"),goog.require("ol.geom.Point"),goog.require("ol.source.Vector"),ol.source.Cluster=function(e){goog.base(this,{attributions:e.attributions,extent:e.extent,logo:e.logo,projection:e.projection}),this.resolution_=void 0,this.distance_=goog.isDef(e.distance)?e.distance:20,this.features_=[],this.source_=e.source,this.source_.on(goog.events.EventType.CHANGE,ol.source.Cluster.prototype.onSourceChange_,this)},goog.inherits(ol.source.Cluster,ol.source.Vector),ol.source.Cluster.prototype.getSource=function(){return this.source_},ol.source.Cluster.prototype.loadFeatures=function(e,o,t){o!==this.resolution_&&(this.clear(),this.resolution_=o,this.source_.loadFeatures(e,o,t),this.cluster_(),this.addFeatures(this.features_))},ol.source.Cluster.prototype.onSourceChange_=function(){this.clear(),this.cluster_(),this.addFeatures(this.features_),this.changed()},ol.source.Cluster.prototype.cluster_=function(){if(goog.isDef(this.resolution_)){this.features_.length=0;for(var e=ol.extent.createEmpty(),o=this.distance_*this.resolution_,t=this.source_.getFeatures(),r={},n=0,i=t.length;i>n;n++){var a=t[n];if(!goog.object.containsKey(r,goog.getUid(a).toString())){var s=a.getGeometry();goog.asserts.assert(s instanceof ol.geom.Point,"feature geometry is a ol.geom.Point instance");var g=s.getCoordinates();ol.extent.createOrUpdateFromCoordinate(g,e),ol.extent.buffer(e,o,e);var l=this.source_.getFeaturesInExtent(e);goog.asserts.assert(l.length>=1,"at least one neighbor found"),l=goog.array.filter(l,function(e){var o=goog.getUid(e).toString();return goog.object.containsKey(r,o)?!1:(r[o]=!0,!0)}),this.features_.push(this.createCluster_(l))}}goog.asserts.assert(goog.object.getCount(r)==this.source_.getFeatures().length,"number of clustered equals number of features in the source")}},ol.source.Cluster.prototype.createCluster_=function(e){for(var o=e.length,t=[0,0],r=0;o>r;r++){var n=e[r].getGeometry();goog.asserts.assert(n instanceof ol.geom.Point,"feature geometry is a ol.geom.Point instance");var i=n.getCoordinates();ol.coordinate.add(t,i)}ol.coordinate.scale(t,1/o);var a=new ol.Feature(new ol.geom.Point(t));return a.set("features",e),a},goog.provide("ol.source.ImageMapGuide"),goog.require("goog.events"),goog.require("goog.events.EventType"),goog.require("goog.object"),goog.require("goog.uri.utils"),
goog.require("ol.Image"),goog.require("ol.ImageLoadFunctionType"),goog.require("ol.ImageUrlFunction"),goog.require("ol.extent"),goog.require("ol.source.Image"),ol.source.ImageMapGuide=function(e){goog.base(this,{projection:e.projection,resolutions:e.resolutions}),this.crossOrigin_=goog.isDef(e.crossOrigin)?e.crossOrigin:null,this.displayDpi_=goog.isDef(e.displayDpi)?e.displayDpi:96,this.params_=goog.isDef(e.params)?e.params:{};var o;o=goog.isDef(e.url)?ol.ImageUrlFunction.createFromParamsFunction(e.url,this.params_,goog.bind(this.getUrl,this)):ol.ImageUrlFunction.nullImageUrlFunction,this.imageUrlFunction_=o,this.imageLoadFunction_=goog.isDef(e.imageLoadFunction)?e.imageLoadFunction:ol.source.Image.defaultImageLoadFunction,this.hidpi_=goog.isDef(e.hidpi)?e.hidpi:!0,this.metersPerUnit_=goog.isDef(e.metersPerUnit)?e.metersPerUnit:1,this.ratio_=goog.isDef(e.ratio)?e.ratio:1,this.useOverlay_=goog.isDef(e.useOverlay)?e.useOverlay:!1,this.image_=null,this.renderedRevision_=0},goog.inherits(ol.source.ImageMapGuide,ol.source.Image),ol.source.ImageMapGuide.prototype.getParams=function(){return this.params_},ol.source.ImageMapGuide.prototype.getImage=function(e,o,t,r){o=this.findNearestResolution(o),t=this.hidpi_?t:1;var n=this.image_;if(!goog.isNull(n)&&this.renderedRevision_==this.getRevision()&&n.getResolution()==o&&n.getPixelRatio()==t&&ol.extent.containsExtent(n.getExtent(),e))return n;1!=this.ratio_&&(e=e.slice(),ol.extent.scaleFromCenter(e,this.ratio_));var i=ol.extent.getWidth(e)/o,a=ol.extent.getHeight(e)/o,s=[i*t,a*t],g=this.imageUrlFunction_(e,s,r);return goog.isDef(g)?(n=new ol.Image(e,o,t,this.getAttributions(),g,this.crossOrigin_,this.imageLoadFunction_),goog.events.listen(n,goog.events.EventType.CHANGE,this.handleImageChange,!1,this)):n=null,this.image_=n,this.renderedRevision_=this.getRevision(),n},ol.source.ImageMapGuide.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},ol.source.ImageMapGuide.getScale=function(e,o,t,r){var n=ol.extent.getWidth(e),i=ol.extent.getHeight(e),a=o[0],s=o[1],g=.0254/r;return s*n>a*i?n*t/(a*g):i*t/(s*g)},ol.source.ImageMapGuide.prototype.updateParams=function(e){goog.object.extend(this.params_,e),this.changed()},ol.source.ImageMapGuide.prototype.getUrl=function(e,o,t,r,n){var i=ol.source.ImageMapGuide.getScale(t,r,this.metersPerUnit_,this.displayDpi_),a=ol.extent.getCenter(t),s={OPERATION:this.useOverlay_?"GETDYNAMICMAPOVERLAYIMAGE":"GETMAPIMAGE",VERSION:"2.0.0",LOCALE:"en",CLIENTAGENT:"ol.source.ImageMapGuide source",CLIP:"1",SETDISPLAYDPI:this.displayDpi_,SETDISPLAYWIDTH:Math.round(r[0]),SETDISPLAYHEIGHT:Math.round(r[1]),SETVIEWSCALE:i,SETVIEWCENTERX:a[0],SETVIEWCENTERY:a[1]};return goog.object.extend(s,o),goog.uri.utils.appendParamsFromMap(e,s)},ol.source.ImageMapGuide.prototype.setImageLoadFunction=function(e){this.image_=null,this.imageLoadFunction_=e,this.changed()},goog.provide("ol.source.ImageStatic"),goog.require("goog.events"),goog.require("goog.events.EventType"),goog.require("ol.Image"),goog.require("ol.extent"),goog.require("ol.proj"),goog.require("ol.source.Image"),ol.source.ImageStatic=function(e){var o,t,r=goog.isDef(e.attributions)?e.attributions:null,n=e.imageExtent;goog.isDef(e.imageSize)&&(o=ol.extent.getHeight(n)/e.imageSize[1],t=[o]);var i=goog.isDef(e.crossOrigin)?e.crossOrigin:null,a=goog.isDef(e.imageLoadFunction)?e.imageLoadFunction:ol.source.Image.defaultImageLoadFunction;goog.base(this,{attributions:r,logo:e.logo,projection:ol.proj.get(e.projection),resolutions:t}),this.image_=new ol.Image(n,o,1,r,e.url,i,a),goog.events.listen(this.image_,goog.events.EventType.CHANGE,this.handleImageChange,!1,this)},goog.inherits(ol.source.ImageStatic,ol.source.Image),ol.source.ImageStatic.prototype.getImage=function(e,o,t,r){return ol.extent.intersects(e,this.image_.getExtent())?this.image_:null},goog.provide("ol.source.wms"),goog.provide("ol.source.wms.ServerType"),ol.source.wms.ServerType={CARMENTA_SERVER:"carmentaserver",GEOSERVER:"geoserver",MAPSERVER:"mapserver",QGIS:"qgis"},goog.provide("ol.source.ImageWMS"),goog.require("goog.asserts"),goog.require("goog.events"),goog.require("goog.events.EventType"),goog.require("goog.object"),goog.require("goog.string"),goog.require("goog.uri.utils"),goog.require("ol"),goog.require("ol.Image"),goog.require("ol.ImageLoadFunctionType"),goog.require("ol.extent"),goog.require("ol.proj"),goog.require("ol.source.Image"),goog.require("ol.source.wms"),goog.require("ol.source.wms.ServerType"),ol.source.ImageWMS=function(e){var o=goog.isDef(e)?e:{};goog.base(this,{attributions:o.attributions,logo:o.logo,projection:o.projection,resolutions:o.resolutions}),this.crossOrigin_=goog.isDef(o.crossOrigin)?o.crossOrigin:null,this.url_=o.url,this.imageLoadFunction_=goog.isDef(o.imageLoadFunction)?o.imageLoadFunction:ol.source.Image.defaultImageLoadFunction,this.params_=o.params,this.v13_=!0,this.updateV13_(),this.serverType_=o.serverType,this.hidpi_=goog.isDef(o.hidpi)?o.hidpi:!0,this.image_=null,this.imageSize_=[0,0],this.renderedRevision_=0,this.ratio_=goog.isDef(o.ratio)?o.ratio:1.5},goog.inherits(ol.source.ImageWMS,ol.source.Image),ol.source.ImageWMS.GETFEATUREINFO_IMAGE_SIZE_=[101,101],ol.source.ImageWMS.prototype.getGetFeatureInfoUrl=function(e,o,t,r){if(goog.asserts.assert(!("VERSION"in r),"key VERSION is not allowed in params"),!goog.isDef(this.url_))return void 0;var n=ol.extent.getForViewAndSize(e,o,0,ol.source.ImageWMS.GETFEATUREINFO_IMAGE_SIZE_),i={SERVICE:"WMS",VERSION:ol.DEFAULT_WMS_VERSION,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};goog.object.extend(i,this.params_,r);var a=Math.floor((e[0]-n[0])/o),s=Math.floor((n[3]-e[1])/o);return i[this.v13_?"I":"X"]=a,i[this.v13_?"J":"Y"]=s,this.getRequestUrl_(n,ol.source.ImageWMS.GETFEATUREINFO_IMAGE_SIZE_,1,ol.proj.get(t),i)},ol.source.ImageWMS.prototype.getParams=function(){return this.params_},ol.source.ImageWMS.prototype.getImage=function(e,o,t,r){if(!goog.isDef(this.url_))return null;o=this.findNearestResolution(o),1==t||this.hidpi_&&goog.isDef(this.serverType_)||(t=1);var n=this.image_;if(!goog.isNull(n)&&this.renderedRevision_==this.getRevision()&&n.getResolution()==o&&n.getPixelRatio()==t&&ol.extent.containsExtent(n.getExtent(),e))return n;var i={SERVICE:"WMS",VERSION:ol.DEFAULT_WMS_VERSION,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};goog.object.extend(i,this.params_),e=e.slice();var a=(e[0]+e[2])/2,s=(e[1]+e[3])/2;if(1!=this.ratio_){var g=this.ratio_*ol.extent.getWidth(e)/2,l=this.ratio_*ol.extent.getHeight(e)/2;e[0]=a-g,e[1]=s-l,e[2]=a+g,e[3]=s+l}var p=o/t,u=Math.ceil(ol.extent.getWidth(e)/p),c=Math.ceil(ol.extent.getHeight(e)/p);e[0]=a-p*u/2,e[2]=a+p*u/2,e[1]=s-p*c/2,e[3]=s+p*c/2,this.imageSize_[0]=u,this.imageSize_[1]=c;var d=this.getRequestUrl_(e,this.imageSize_,t,r,i);return this.image_=new ol.Image(e,o,t,this.getAttributions(),d,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),goog.events.listen(this.image_,goog.events.EventType.CHANGE,this.handleImageChange,!1,this),this.image_},ol.source.ImageWMS.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},ol.source.ImageWMS.prototype.getRequestUrl_=function(e,o,t,r,n){if(goog.asserts.assert(goog.isDef(this.url_),"url is defined"),n[this.v13_?"CRS":"SRS"]=r.getCode(),"STYLES"in this.params_||(n.STYLES=new String("")),1!=t)switch(this.serverType_){case ol.source.wms.ServerType.GEOSERVER:var i=90*t+.5|0;goog.isDef(n.FORMAT_OPTIONS)?n.FORMAT_OPTIONS+=";dpi:"+i:n.FORMAT_OPTIONS="dpi:"+i;break;case ol.source.wms.ServerType.MAPSERVER:n.MAP_RESOLUTION=90*t;break;case ol.source.wms.ServerType.CARMENTA_SERVER:case ol.source.wms.ServerType.QGIS:n.DPI=90*t;break;default:goog.asserts.fail("unknown serverType configured")}n.WIDTH=o[0],n.HEIGHT=o[1];var a,s=r.getAxisOrientation();return a=this.v13_&&"ne"==s.substr(0,2)?[e[1],e[0],e[3],e[2]]:e,n.BBOX=a.join(","),goog.uri.utils.appendParamsFromMap(this.url_,n)},ol.source.ImageWMS.prototype.getUrl=function(){return this.url_},ol.source.ImageWMS.prototype.setImageLoadFunction=function(e){this.image_=null,this.imageLoadFunction_=e,this.changed()},ol.source.ImageWMS.prototype.setUrl=function(e){e!=this.url_&&(this.url_=e,this.image_=null,this.changed())},ol.source.ImageWMS.prototype.updateParams=function(e){goog.object.extend(this.params_,e),this.updateV13_(),this.image_=null,this.changed()},ol.source.ImageWMS.prototype.updateV13_=function(){var e=goog.object.get(this.params_,"VERSION",ol.DEFAULT_WMS_VERSION);this.v13_=goog.string.compareVersions(e,"1.3")>=0},goog.provide("ol.source.XYZ"),goog.require("ol.Attribution"),goog.require("ol.TileUrlFunction"),goog.require("ol.source.TileImage"),ol.source.XYZ=function(e){var o=goog.isDef(e.projection)?e.projection:"EPSG:3857",t=goog.isDef(e.tileGrid)?e.tileGrid:ol.tilegrid.createXYZ({extent:ol.tilegrid.extentFromProjection(o),maxZoom:e.maxZoom,tileSize:e.tileSize});goog.base(this,{attributions:e.attributions,crossOrigin:e.crossOrigin,logo:e.logo,projection:o,tileGrid:t,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:ol.TileUrlFunction.nullTileUrlFunction,wrapX:goog.isDef(e.wrapX)?e.wrapX:!0}),goog.isDef(e.tileUrlFunction)?this.setTileUrlFunction(e.tileUrlFunction):goog.isDef(e.urls)?this.setUrls(e.urls):goog.isDef(e.url)&&this.setUrl(e.url)},goog.inherits(ol.source.XYZ,ol.source.TileImage),ol.source.XYZ.prototype.setUrl=function(e){this.setTileUrlFunction(ol.TileUrlFunction.createFromTemplates(ol.TileUrlFunction.expandUrl(e)))},ol.source.XYZ.prototype.setUrls=function(e){this.setTileUrlFunction(ol.TileUrlFunction.createFromTemplates(e))},goog.provide("ol.source.OSM"),goog.require("ol.Attribution"),goog.require("ol.source.XYZ"),ol.source.OSM=function(e){var o,t=goog.isDef(e)?e:{};o=goog.isDef(t.attributions)?t.attributions:[ol.source.OSM.ATTRIBUTION];var r=goog.isDef(t.crossOrigin)?t.crossOrigin:"anonymous",n=goog.isDef(t.url)?t.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";goog.base(this,{attributions:o,crossOrigin:r,opaque:!0,maxZoom:goog.isDef(t.maxZoom)?t.maxZoom:19,tileLoadFunction:t.tileLoadFunction,url:n,wrapX:t.wrapX})},goog.inherits(ol.source.OSM,ol.source.XYZ),ol.source.OSM.ATTRIBUTION=new ol.Attribution({html:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.'}),goog.provide("ol.source.MapQuest"),goog.require("goog.asserts"),goog.require("ol.Attribution"),goog.require("ol.source.OSM"),goog.require("ol.source.XYZ"),ol.source.MapQuest=function(e){var o=goog.isDef(e)?e:{};goog.asserts.assert(o.layer in ol.source.MapQuestConfig,"known layer configured");var t=ol.source.MapQuestConfig[o.layer];this.layer_=o.layer;var r=goog.isDef(o.url)?o.url:"https://otile{1-4}-s.mqcdn.com/tiles/1.0.0/"+this.layer_+"/{z}/{x}/{y}.jpg";goog.base(this,{attributions:t.attributions,crossOrigin:"anonymous",logo:"https://developer.mapquest.com/content/osm/mq_logo.png",maxZoom:t.maxZoom,opaque:!0,tileLoadFunction:o.tileLoadFunction,url:r})},goog.inherits(ol.source.MapQuest,ol.source.XYZ),ol.source.MapQuest.TILE_ATTRIBUTION=new ol.Attribution({html:'Tiles Courtesy of <a href="http://www.mapquest.com/">MapQuest</a>'}),ol.source.MapQuestConfig={osm:{maxZoom:19,attributions:[ol.source.MapQuest.TILE_ATTRIBUTION,ol.source.OSM.ATTRIBUTION]},sat:{maxZoom:18,attributions:[ol.source.MapQuest.TILE_ATTRIBUTION,new ol.Attribution({html:"Portions Courtesy NASA/JPL-Caltech and U.S. Depart. of Agriculture, Farm Service Agency"})]},hyb:{maxZoom:18,attributions:[ol.source.MapQuest.TILE_ATTRIBUTION,ol.source.OSM.ATTRIBUTION]}},ol.source.MapQuest.prototype.getLayer=function(){return this.layer_},goog.provide("ol.source.Stamen"),goog.require("goog.asserts"),goog.require("ol.Attribution"),goog.require("ol.source.OSM"),goog.require("ol.source.XYZ"),ol.source.StamenLayerConfig={terrain:{extension:"jpg",opaque:!0},"terrain-background":{extension:"jpg",opaque:!0},"terrain-labels":{extension:"png",opaque:!1},"terrain-lines":{extension:"png",opaque:!1},"toner-background":{extension:"png",opaque:!0},toner:{extension:"png",opaque:!0},"toner-hybrid":{extension:"png",opaque:!1},"toner-labels":{extension:"png",opaque:!1},"toner-lines":{extension:"png",opaque:!1},"toner-lite":{extension:"png",opaque:!0},watercolor:{extension:"jpg",opaque:!0}},ol.source.StamenProviderConfig={terrain:{minZoom:4,maxZoom:18},toner:{minZoom:0,maxZoom:20},watercolor:{minZoom:3,maxZoom:16}},ol.source.Stamen=function(e){var o=e.layer.indexOf("-"),t=-1==o?e.layer:e.layer.slice(0,o);goog.asserts.assert(t in ol.source.StamenProviderConfig,"known provider configured");var r=ol.source.StamenProviderConfig[t];goog.asserts.assert(e.layer in ol.source.StamenLayerConfig,"known layer configured");var n=ol.source.StamenLayerConfig[e.layer],i=goog.isDef(e.url)?e.url:"https://stamen-tiles-{a-d}.a.ssl.fastly.net/"+e.layer+"/{z}/{x}/{y}."+n.extension;goog.base(this,{attributions:ol.source.Stamen.ATTRIBUTIONS,crossOrigin:"anonymous",maxZoom:r.maxZoom,opaque:n.opaque,tileLoadFunction:e.tileLoadFunction,url:i})},goog.inherits(ol.source.Stamen,ol.source.XYZ),ol.source.Stamen.ATTRIBUTIONS=[new ol.Attribution({html:'Map tiles by <a href="http://stamen.com/">Stamen Design</a>, under <a href="http://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.'}),ol.source.OSM.ATTRIBUTION],goog.provide("ol.source.TileArcGISRest"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.math"),goog.require("goog.object"),goog.require("goog.string"),goog.require("goog.uri.utils"),goog.require("ol"),goog.require("ol.TileCoord"),goog.require("ol.TileUrlFunction"),goog.require("ol.extent"),goog.require("ol.proj"),goog.require("ol.size"),goog.require("ol.source.TileImage"),goog.require("ol.tilecoord"),ol.source.TileArcGISRest=function(e){var o=goog.isDef(e)?e:{},t=goog.isDef(o.params)?o.params:{};goog.base(this,{attributions:o.attributions,logo:o.logo,projection:o.projection,tileGrid:o.tileGrid,tileLoadFunction:o.tileLoadFunction,tileUrlFunction:goog.bind(this.tileUrlFunction_,this),wrapX:goog.isDef(o.wrapX)?o.wrapX:!0});var r=o.urls;!goog.isDef(r)&&goog.isDef(o.url)&&(r=ol.TileUrlFunction.expandUrl(o.url)),this.urls_=goog.isDefAndNotNull(r)?r:[],this.params_=t,this.tmpExtent_=ol.extent.createEmpty()},goog.inherits(ol.source.TileArcGISRest,ol.source.TileImage),ol.source.TileArcGISRest.prototype.getParams=function(){return this.params_},ol.source.TileArcGISRest.prototype.getRequestUrl_=function(e,o,t,r,n,i){var a=this.urls_;if(goog.array.isEmpty(a))return void 0;var s=n.getCode().split(":").pop();i.SIZE=o[0]+","+o[1],i.BBOX=t.join(","),i.BBOXSR=s,i.IMAGESR=s,i.DPI=Math.round(90*r);var g;if(1==a.length)g=a[0];else{var l=goog.math.modulo(ol.tilecoord.hash(e),a.length);g=a[l]}return goog.string.endsWith(g,"/")||(g+="/"),goog.string.endsWith(g,"MapServer/")?g+="export":goog.string.endsWith(g,"ImageServer/")?g+="exportImage":goog.asserts.fail("Unknown Rest Service",g),goog.uri.utils.appendParamsFromMap(g,i)},ol.source.TileArcGISRest.prototype.getTilePixelSize=function(e,o,t){var r=goog.base(this,"getTilePixelSize",e,o,t);return 1==o?r:ol.size.scale(r,o,this.tmpSize)},ol.source.TileArcGISRest.prototype.getUrls=function(){return this.urls_},ol.source.TileArcGISRest.prototype.setUrl=function(e){var o=goog.isDef(e)?ol.TileUrlFunction.expandUrl(e):null;this.setUrls(o)},ol.source.TileArcGISRest.prototype.setUrls=function(e){this.urls_=goog.isDefAndNotNull(e)?e:[],this.changed()},ol.source.TileArcGISRest.prototype.tileUrlFunction_=function(e,o,t){var r=this.getTileGrid();if(goog.isNull(r)&&(r=this.getTileGridForProjection(t)),r.getResolutions().length<=e[0])return void 0;var n=r.getTileCoordExtent(e,this.tmpExtent_),i=ol.size.toSize(r.getTileSize(e[0]),this.tmpSize);1!=o&&(i=ol.size.scale(i,o,this.tmpSize));var a={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};return goog.object.extend(a,this.params_),this.getRequestUrl_(e,i,n,o,t,a)},ol.source.TileArcGISRest.prototype.updateParams=function(e){goog.object.extend(this.params_,e),this.changed()},goog.provide("ol.source.TileDebug"),goog.require("ol.Tile"),goog.require("ol.TileCoord"),goog.require("ol.TileState"),goog.require("ol.dom"),goog.require("ol.size"),goog.require("ol.source.Tile"),goog.require("ol.tilecoord"),ol.DebugTile_=function(e,o,t){goog.base(this,e,ol.TileState.LOADED),this.tileSize_=o,this.text_=t,this.canvasByContext_={}},goog.inherits(ol.DebugTile_,ol.Tile),ol.DebugTile_.prototype.getImage=function(e){var o=goog.isDef(e)?goog.getUid(e):-1;if(o in this.canvasByContext_)return this.canvasByContext_[o];var t=this.tileSize_,r=ol.dom.createCanvasContext2D(t[0],t[1]);return r.strokeStyle="black",r.strokeRect(.5,.5,t[0]+.5,t[1]+.5),r.fillStyle="black",r.textAlign="center",r.textBaseline="middle",r.font="24px sans-serif",r.fillText(this.text_,t[0]/2,t[1]/2),this.canvasByContext_[o]=r.canvas,r.canvas},ol.source.TileDebug=function(e){goog.base(this,{opaque:!1,projection:e.projection,tileGrid:e.tileGrid,wrapX:goog.isDef(e.wrapX)?e.wrapX:!0})},goog.inherits(ol.source.TileDebug,ol.source.Tile),ol.source.TileDebug.prototype.getTile=function(e,o,t){var r=this.getKeyZXY(e,o,t);if(this.tileCache.containsKey(r))return this.tileCache.get(r);var n=ol.size.toSize(this.tileGrid.getTileSize(e)),i=[e,o,t],a=this.getTileCoordForTileUrlFunction(i),s=goog.isNull(a)?"":ol.tilecoord.toString(this.getTileCoordForTileUrlFunction(a)),g=new ol.DebugTile_(i,n,s);return this.tileCache.set(r,g),g},goog.provide("ol.source.TileJSON"),goog.provide("ol.tilejson"),goog.require("goog.asserts"),goog.require("goog.net.Jsonp"),goog.require("ol.Attribution"),goog.require("ol.TileRange"),goog.require("ol.TileUrlFunction"),goog.require("ol.extent"),goog.require("ol.proj"),goog.require("ol.source.State"),goog.require("ol.source.TileImage"),ol.source.TileJSON=function(e){goog.base(this,{attributions:e.attributions,crossOrigin:e.crossOrigin,projection:ol.proj.get("EPSG:3857"),state:ol.source.State.LOADING,tileLoadFunction:e.tileLoadFunction,wrapX:goog.isDef(e.wrapX)?e.wrapX:!0});var o=new goog.net.Jsonp(e.url);o.send(void 0,goog.bind(this.handleTileJSONResponse,this))},goog.inherits(ol.source.TileJSON,ol.source.TileImage),ol.source.TileJSON.prototype.handleTileJSONResponse=function(e){var o,t=ol.proj.get("EPSG:4326"),r=this.getProjection();if(goog.isDef(e.bounds)){var n=ol.proj.getTransformFromProjections(t,r);o=ol.extent.applyTransform(e.bounds,n)}goog.isDef(e.scheme)&&goog.asserts.assert("xyz"==e.scheme,'tileJSON-scheme is "xyz"');var i=e.minzoom||0,a=e.maxzoom||22,s=ol.tilegrid.createXYZ({extent:ol.tilegrid.extentFromProjection(r),maxZoom:a,minZoom:i});if(this.tileGrid=s,this.tileUrlFunction=ol.TileUrlFunction.createFromTemplates(e.tiles),goog.isDef(e.attribution)&&goog.isNull(this.getAttributions())){var g,l,p=goog.isDef(o)?o:t.getExtent(),u={};for(g=i;a>=g;++g)l=g.toString(),u[l]=[s.getTileRangeForExtentAndZ(p,g)];this.setAttributions([new ol.Attribution({html:e.attribution,tileRanges:u})])}this.setState(ol.source.State.READY)},goog.provide("ol.source.TileUTFGrid"),goog.require("goog.asserts"),goog.require("goog.async.nextTick"),goog.require("goog.events"),goog.require("goog.events.EventType"),goog.require("goog.net.Jsonp"),goog.require("ol.Attribution"),goog.require("ol.Tile"),goog.require("ol.TileState"),goog.require("ol.TileUrlFunction"),goog.require("ol.extent"),goog.require("ol.proj"),goog.require("ol.source.State"),goog.require("ol.source.Tile"),ol.source.TileUTFGrid=function(e){goog.base(this,{projection:ol.proj.get("EPSG:3857"),state:ol.source.State.LOADING}),this.preemptive_=goog.isDef(e.preemptive)?e.preemptive:!0,this.tileUrlFunction_=ol.TileUrlFunction.nullTileUrlFunction,this.template_=void 0;var o=new goog.net.Jsonp(e.url);o.send(void 0,goog.bind(this.handleTileJSONResponse,this))},goog.inherits(ol.source.TileUTFGrid,ol.source.Tile),ol.source.TileUTFGrid.prototype.getTemplate=function(){return this.template_},ol.source.TileUTFGrid.prototype.forDataAtCoordinateAndResolution=function(e,o,t,r,n){if(goog.isNull(this.tileGrid))n===!0?goog.async.nextTick(function(){t.call(r,null)}):t.call(r,null);else{var i=this.tileGrid.getTileCoordForCoordAndResolution(e,o),a=this.getTile(i[0],i[1],i[2],1,this.getProjection());a.forDataAtCoordinate(e,t,r,n)}},ol.source.TileUTFGrid.prototype.handleTileJSONResponse=function(e){var o,t=ol.proj.get("EPSG:4326"),r=this.getProjection();if(goog.isDef(e.bounds)){var n=ol.proj.getTransformFromProjections(t,r);o=ol.extent.applyTransform(e.bounds,n)}goog.isDef(e.scheme)&&goog.asserts.assert("xyz"==e.scheme,'tileJSON-scheme is "xyz"');var i=e.minzoom||0,a=e.maxzoom||22,s=ol.tilegrid.createXYZ({extent:ol.tilegrid.extentFromProjection(r),maxZoom:a,minZoom:i});this.tileGrid=s,this.template_=e.template;var g=e.grids;if(!goog.isDefAndNotNull(g))return void this.setState(ol.source.State.ERROR);if(this.tileUrlFunction_=ol.TileUrlFunction.createFromTemplates(g),goog.isDef(e.attribution)){var l,p,u=goog.isDef(o)?o:t.getExtent(),c={};for(l=i;a>=l;++l)p=l.toString(),c[p]=[s.getTileRangeForExtentAndZ(u,l)];this.setAttributions([new ol.Attribution({html:e.attribution,tileRanges:c})])}this.setState(ol.source.State.READY)},ol.source.TileUTFGrid.prototype.getTile=function(e,o,t,r,n){var i=this.getKeyZXY(e,o,t);if(this.tileCache.containsKey(i))return this.tileCache.get(i);goog.asserts.assert(n,"argument projection is truthy");var a=[e,o,t],s=this.getTileCoordForTileUrlFunction(a,n),g=this.tileUrlFunction_(s,r,n),l=new ol.source.TileUTFGridTile_(a,goog.isDef(g)?ol.TileState.IDLE:ol.TileState.EMPTY,goog.isDef(g)?g:"",this.tileGrid.getTileCoordExtent(a),this.preemptive_);return this.tileCache.set(i,l),l},ol.source.TileUTFGrid.prototype.useTile=function(e,o,t){var r=this.getKeyZXY(e,o,t);this.tileCache.containsKey(r)&&this.tileCache.get(r)},ol.source.TileUTFGridTile_=function(e,o,t,r,n){goog.base(this,e,o),this.src_=t,this.extent_=r,this.preemptive_=n,this.grid_=null,this.keys_=null,this.data_=null},goog.inherits(ol.source.TileUTFGridTile_,ol.Tile),ol.source.TileUTFGridTile_.prototype.getImage=function(e){return null},ol.source.TileUTFGridTile_.prototype.getData=function(e){if(goog.isNull(this.grid_)||goog.isNull(this.keys_)||!goog.isDefAndNotNull(this.data_))return null;var o=(e[0]-this.extent_[0])/(this.extent_[2]-this.extent_[0]),t=(e[1]-this.extent_[1])/(this.extent_[3]-this.extent_[1]),r=this.grid_[Math.floor((1-t)*this.grid_.length)];if(!goog.isString(r))return null;var n=r.charCodeAt(Math.floor(o*r.length));n>=93&&n--,n>=35&&n--,n-=32;var i=this.keys_[n];return goog.isDefAndNotNull(i)?this.data_[i]:null},ol.source.TileUTFGridTile_.prototype.forDataAtCoordinate=function(e,o,t,r){this.state==ol.TileState.IDLE&&r===!0?(goog.events.listenOnce(this,goog.events.EventType.CHANGE,function(r){o.call(t,this.getData(e))},!1,this),this.loadInternal_()):r===!0?goog.async.nextTick(function(){o.call(t,this.getData(e))},this):o.call(t,this.getData(e))},ol.source.TileUTFGridTile_.prototype.getKey=function(){return this.src_},ol.source.TileUTFGridTile_.prototype.handleError_=function(){this.state=ol.TileState.ERROR,this.changed()},ol.source.TileUTFGridTile_.prototype.handleLoad_=function(e){this.grid_=e.grid,this.keys_=e.keys,this.data_=e.data,this.state=ol.TileState.EMPTY,this.changed()},ol.source.TileUTFGridTile_.prototype.loadInternal_=function(){if(this.state==ol.TileState.IDLE){this.state=ol.TileState.LOADING;var e=new goog.net.Jsonp(this.src_);e.send(void 0,goog.bind(this.handleLoad_,this),goog.bind(this.handleError_,this))}},ol.source.TileUTFGridTile_.prototype.load=function(){this.preemptive_&&this.loadInternal_()},goog.provide("ol.source.TileVector"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.object"),goog.require("ol.TileUrlFunction"),goog.require("ol.featureloader"),goog.require("ol.source.State"),goog.require("ol.source.Vector"),goog.require("ol.tilecoord"),goog.require("ol.tilegrid.TileGrid"),ol.source.TileVector=function(e){goog.base(this,{attributions:e.attributions,logo:e.logo,projection:void 0,state:ol.source.State.READY,wrapX:e.wrapX}),this.format_=goog.isDef(e.format)?e.format:null,this.tileGrid_=e.tileGrid,this.tileUrlFunction_=ol.TileUrlFunction.nullTileUrlFunction,this.tileLoadFunction_=goog.isDef(e.tileLoadFunction)?e.tileLoadFunction:null,goog.asserts.assert(!goog.isNull(this.format_)||!goog.isNull(this.tileLoadFunction_),"Either format or tileLoadFunction are required"),this.tiles_={},goog.isDef(e.tileUrlFunction)?this.setTileUrlFunction(e.tileUrlFunction):goog.isDef(e.urls)?this.setUrls(e.urls):goog.isDef(e.url)&&this.setUrl(e.url)},goog.inherits(ol.source.TileVector,ol.source.Vector),ol.source.TileVector.prototype.addFeature=goog.abstractMethod,ol.source.TileVector.prototype.addFeatures=goog.abstractMethod,ol.source.TileVector.prototype.clear=function(){goog.object.clear(this.tiles_)},ol.source.TileVector.prototype.forEachFeature=goog.abstractMethod,ol.source.TileVector.prototype.forEachFeatureAtCoordinateAndResolution=function(e,o,t,r){var n=this.tileGrid_,i=this.tiles_,a=n.getTileCoordForCoordAndResolution(e,o),s=this.getTileKeyZXY_(a[0],a[1],a[2]),g=i[s];if(goog.isDef(g)){var l,p;for(l=0,p=g.length;p>l;++l){var u=g[l],c=u.getGeometry();if(goog.asserts.assert(goog.isDefAndNotNull(c),"feature geometry is defined and not null"),c.containsCoordinate(e)){var d=t.call(r,u);if(d)return d}}}return void 0},ol.source.TileVector.prototype.forEachFeatureInExtent=goog.abstractMethod,ol.source.TileVector.prototype.forEachFeatureInExtentAtResolution=function(e,o,t,r){var n,i,a=this.tileGrid_,s=this.tiles_,g=a.getZForResolution(o),l=a.getTileRangeForExtentAndZ(e,g);for(n=l.minX;n<=l.maxX;++n)for(i=l.minY;i<=l.maxY;++i){var p=this.getTileKeyZXY_(g,n,i),u=s[p];if(goog.isDef(u)){var c,d;for(c=0,d=u.length;d>c;++c){var h=t.call(r,u[c]);if(h)return h}}}return void 0},ol.source.TileVector.prototype.getClosestFeatureToCoordinate=goog.abstractMethod,ol.source.TileVector.prototype.getExtent=goog.abstractMethod,ol.source.TileVector.prototype.getFeatures=function(){var e,o=this.tiles_,t=[];for(e in o)goog.array.extend(t,o[e]);return t},ol.source.TileVector.prototype.getFeaturesAtCoordinateAndResolution=function(e,o){var t=[];return this.forEachFeatureAtCoordinateAndResolution(e,o,function(e){t.push(e)}),t},ol.source.TileVector.prototype.getFeaturesInExtent=goog.abstractMethod,ol.source.TileVector.prototype.getTileCoordForTileUrlFunction=function(e,o){var t=this.tileGrid_;return goog.asserts.assert(!goog.isNull(t),"tile grid needed"),this.getWrapX()&&o.isGlobal()&&(e=ol.tilecoord.wrapX(e,t,o)),ol.tilecoord.withinExtentAndZ(e,t)?e:null},ol.source.TileVector.prototype.getTileKeyZXY_=function(e,o,t){return e+"/"+o+"/"+t},ol.source.TileVector.prototype.loadFeatures=function(e,o,t){function r(e,o){g[e]=o,this.changed()}var n,i,a=this.tileGrid_,s=this.tileUrlFunction_,g=this.tiles_,l=a.getZForResolution(o),p=a.getTileRangeForExtentAndZ(e,l),u=[l,0,0];for(n=p.minX;n<=p.maxX;++n)for(i=p.minY;i<=p.maxY;++i){var c=this.getTileKeyZXY_(l,n,i);if(!(c in g)){u[1]=n,u[2]=i;var d=this.getTileCoordForTileUrlFunction(u,t),h=goog.isNull(d)?void 0:s(d,1,t);if(goog.isDef(h)){g[c]=[];var m=goog.partial(r,c);if(goog.isNull(this.tileLoadFunction_)){var y=ol.featureloader.loadFeaturesXhr(h,this.format_,m);y.call(this,e,o,t)}else this.tileLoadFunction_(h,goog.bind(m,this))}}}},ol.source.TileVector.prototype.removeFeature=goog.abstractMethod,ol.source.TileVector.prototype.setTileUrlFunction=function(e){this.tileUrlFunction_=e,this.changed()},ol.source.TileVector.prototype.setUrl=function(e){this.setTileUrlFunction(ol.TileUrlFunction.createFromTemplates(ol.TileUrlFunction.expandUrl(e)))},ol.source.TileVector.prototype.setUrls=function(e){this.setTileUrlFunction(ol.TileUrlFunction.createFromTemplates(e))},goog.provide("ol.source.TileWMS"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.math"),goog.require("goog.object"),goog.require("goog.string"),goog.require("goog.uri.utils"),goog.require("ol"),goog.require("ol.TileCoord"),goog.require("ol.TileUrlFunction"),goog.require("ol.extent"),goog.require("ol.proj"),goog.require("ol.size"),goog.require("ol.source.TileImage"),goog.require("ol.source.wms"),goog.require("ol.source.wms.ServerType"),goog.require("ol.tilecoord"),ol.source.TileWMS=function(e){var o=goog.isDef(e)?e:{},t=goog.isDef(o.params)?o.params:{},r=goog.object.get(t,"TRANSPARENT",!0);goog.base(this,{attributions:o.attributions,crossOrigin:o.crossOrigin,logo:o.logo,opaque:!r,projection:o.projection,tileGrid:o.tileGrid,tileLoadFunction:o.tileLoadFunction,tileUrlFunction:goog.bind(this.tileUrlFunction_,this),wrapX:goog.isDef(o.wrapX)?o.wrapX:!0});var n=o.urls;!goog.isDef(n)&&goog.isDef(o.url)&&(n=ol.TileUrlFunction.expandUrl(o.url)),this.urls_=goog.isDefAndNotNull(n)?n:[],this.gutter_=goog.isDef(o.gutter)?o.gutter:0,this.params_=t,this.v13_=!0,this.serverType_=o.serverType,this.hidpi_=goog.isDef(o.hidpi)?o.hidpi:!0,this.coordKeyPrefix_="",this.resetCoordKeyPrefix_(),this.tmpExtent_=ol.extent.createEmpty(),this.updateV13_()},goog.inherits(ol.source.TileWMS,ol.source.TileImage),ol.source.TileWMS.prototype.getGetFeatureInfoUrl=function(e,o,t,r){goog.asserts.assert(!("VERSION"in r),"key VERSION is not allowed in params");var n=ol.proj.get(t),i=this.getTileGrid();goog.isNull(i)&&(i=this.getTileGridForProjection(n));var a=i.getTileCoordForCoordAndResolution(e,o);if(i.getResolutions().length<=a[0])return void 0;var s=i.getResolution(a[0]),g=i.getTileCoordExtent(a,this.tmpExtent_),l=ol.size.toSize(i.getTileSize(a[0]),this.tmpSize),p=this.gutter_;0!==p&&(l=ol.size.buffer(l,p,this.tmpSize),g=ol.extent.buffer(g,s*p,g));var u={SERVICE:"WMS",VERSION:ol.DEFAULT_WMS_VERSION,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};goog.object.extend(u,this.params_,r);var c=Math.floor((e[0]-g[0])/s),d=Math.floor((g[3]-e[1])/s);return u[this.v13_?"I":"X"]=c,u[this.v13_?"J":"Y"]=d,this.getRequestUrl_(a,l,g,1,n,u)},ol.source.TileWMS.prototype.getGutter=function(){return this.gutter_},ol.source.TileWMS.prototype.getKeyZXY=function(e,o,t){return this.coordKeyPrefix_+goog.base(this,"getKeyZXY",e,o,t)},ol.source.TileWMS.prototype.getParams=function(){return this.params_},ol.source.TileWMS.prototype.getRequestUrl_=function(e,o,t,r,n,i){var a=this.urls_;if(goog.array.isEmpty(a))return void 0;if(i.WIDTH=o[0],i.HEIGHT=o[1],i[this.v13_?"CRS":"SRS"]=n.getCode(),"STYLES"in this.params_||(i.STYLES=new String("")),1!=r)switch(this.serverType_){case ol.source.wms.ServerType.GEOSERVER:var s=90*r+.5|0;goog.isDef(i.FORMAT_OPTIONS)?i.FORMAT_OPTIONS+=";dpi:"+s:i.FORMAT_OPTIONS="dpi:"+s;break;case ol.source.wms.ServerType.MAPSERVER:i.MAP_RESOLUTION=90*r;break;case ol.source.wms.ServerType.CARMENTA_SERVER:case ol.source.wms.ServerType.QGIS:i.DPI=90*r;break;default:goog.asserts.fail("unknown serverType configured")}var g=n.getAxisOrientation(),l=t;if(this.v13_&&"ne"==g.substr(0,2)){var p;p=t[0],l[0]=t[1],l[1]=p,p=t[2],l[2]=t[3],l[3]=p}i.BBOX=l.join(",");var u;if(1==a.length)u=a[0];else{var c=goog.math.modulo(ol.tilecoord.hash(e),a.length);u=a[c]}return goog.uri.utils.appendParamsFromMap(u,i)},ol.source.TileWMS.prototype.getTilePixelSize=function(e,o,t){var r=goog.base(this,"getTilePixelSize",e,o,t);return 1!=o&&this.hidpi_&&goog.isDef(this.serverType_)?ol.size.scale(r,o,this.tmpSize):r},ol.source.TileWMS.prototype.getUrls=function(){return this.urls_},ol.source.TileWMS.prototype.resetCoordKeyPrefix_=function(){var e,o,t=0,r=[];for(e=0,o=this.urls_.length;o>e;++e)r[t++]=this.urls_[e];var n;for(n in this.params_)r[t++]=n+"-"+this.params_[n];this.coordKeyPrefix_=r.join("#")},ol.source.TileWMS.prototype.setUrl=function(e){var o=goog.isDef(e)?ol.TileUrlFunction.expandUrl(e):null;this.setUrls(o)},ol.source.TileWMS.prototype.setUrls=function(e){this.urls_=goog.isDefAndNotNull(e)?e:[],this.resetCoordKeyPrefix_(),this.changed()},ol.source.TileWMS.prototype.tileUrlFunction_=function(e,o,t){var r=this.getTileGrid();if(goog.isNull(r)&&(r=this.getTileGridForProjection(t)),r.getResolutions().length<=e[0])return void 0;

1==o||this.hidpi_&&goog.isDef(this.serverType_)||(o=1);var n=r.getResolution(e[0]),i=r.getTileCoordExtent(e,this.tmpExtent_),a=ol.size.toSize(r.getTileSize(e[0]),this.tmpSize),s=this.gutter_;0!==s&&(a=ol.size.buffer(a,s,this.tmpSize),i=ol.extent.buffer(i,n*s,i)),1!=o&&(a=ol.size.scale(a,o,this.tmpSize));var g={SERVICE:"WMS",VERSION:ol.DEFAULT_WMS_VERSION,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};return goog.object.extend(g,this.params_),this.getRequestUrl_(e,a,i,o,t,g)},ol.source.TileWMS.prototype.updateParams=function(e){goog.object.extend(this.params_,e),this.resetCoordKeyPrefix_(),this.updateV13_(),this.changed()},ol.source.TileWMS.prototype.updateV13_=function(){var e=goog.object.get(this.params_,"VERSION",ol.DEFAULT_WMS_VERSION);this.v13_=goog.string.compareVersions(e,"1.3")>=0},goog.provide("ol.tilegrid.WMTS"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("ol.proj"),goog.require("ol.tilegrid.TileGrid"),ol.tilegrid.WMTS=function(e){goog.asserts.assert(e.resolutions.length==e.matrixIds.length,"options resolutions and matrixIds must have equal length (%s == %s)",e.resolutions.length,e.matrixIds.length),this.matrixIds_=e.matrixIds,goog.base(this,{extent:e.extent,origin:e.origin,origins:e.origins,resolutions:e.resolutions,tileSize:e.tileSize,tileSizes:e.tileSizes,sizes:e.sizes})},goog.inherits(ol.tilegrid.WMTS,ol.tilegrid.TileGrid),ol.tilegrid.WMTS.prototype.getMatrixId=function(e){return goog.asserts.assert(e>=0&&e<this.matrixIds_.length,"attempted to retrive matrixId for illegal z (%s)",e),this.matrixIds_[e]},ol.tilegrid.WMTS.prototype.getMatrixIds=function(){return this.matrixIds_},ol.tilegrid.WMTS.createFromCapabilitiesMatrixSet=function(e,o){var t,r=[],n=[],i=[],a=[],s=[],g="SupportedCRS",l="TileMatrix",p="Identifier",u="ScaleDenominator",c="TopLeftCorner",d="TileWidth",h="TileHeight";t=ol.proj.get(e[g].replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"));var m=t.getMetersPerUnit(),y="ne"==t.getAxisOrientation().substr(0,2);return goog.array.sort(e[l],function(e,o){return o[u]-e[u]}),goog.array.forEach(e[l],function(e,o,t){n.push(e[p]);var g=28e-5*e[u]/m,l=e[d],f=e[h];i.push(y?[e[c][1],e[c][0]]:e[c]),r.push(g),a.push(l==f?l:[l,f]),s.push([e.MatrixWidth,-e.MatrixHeight])}),new ol.tilegrid.WMTS({extent:o,origins:i,resolutions:r,matrixIds:n,tileSizes:a,sizes:s})},goog.provide("ol.source.WMTS"),goog.provide("ol.source.WMTSRequestEncoding"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.object"),goog.require("goog.string"),goog.require("goog.uri.utils"),goog.require("ol.TileUrlFunction"),goog.require("ol.TileUrlFunctionType"),goog.require("ol.extent"),goog.require("ol.proj"),goog.require("ol.source.TileImage"),goog.require("ol.tilegrid.WMTS"),ol.source.WMTSRequestEncoding={KVP:"KVP",REST:"REST"},ol.source.WMTS=function(e){function o(e){return e=r==ol.source.WMTSRequestEncoding.KVP?goog.uri.utils.appendParamsFromMap(e,i):e.replace(/\{(\w+?)\}/g,function(e,o){return o.toLowerCase()in i?i[o.toLowerCase()]:e}),function(o,t,i){if(goog.isNull(o))return void 0;var s={TileMatrix:n.getMatrixId(o[0]),TileCol:o[1],TileRow:-o[2]-1};goog.object.extend(s,a);var g=e;return g=r==ol.source.WMTSRequestEncoding.KVP?goog.uri.utils.appendParamsFromMap(g,s):g.replace(/\{(\w+?)\}/g,function(e,o){return s[o]})}}this.version_=goog.isDef(e.version)?e.version:"1.0.0",this.format_=goog.isDef(e.format)?e.format:"image/jpeg",this.dimensions_=goog.isDef(e.dimensions)?e.dimensions:{},this.coordKeyPrefix_="",this.resetCoordKeyPrefix_(),this.layer_=e.layer,this.matrixSet_=e.matrixSet,this.style_=e.style;var t=e.urls;!goog.isDef(t)&&goog.isDef(e.url)&&(t=ol.TileUrlFunction.expandUrl(e.url)),this.urls_=goog.isDefAndNotNull(t)?t:[],this.requestEncoding_=goog.isDef(e.requestEncoding)?e.requestEncoding:ol.source.WMTSRequestEncoding.KVP;var r=this.requestEncoding_,n=e.tileGrid,i={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};r==ol.source.WMTSRequestEncoding.KVP&&goog.object.extend(i,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_});var a=this.dimensions_,s=this.urls_.length>0?ol.TileUrlFunction.createFromTileUrlFunctions(goog.array.map(this.urls_,o)):ol.TileUrlFunction.nullTileUrlFunction;goog.base(this,{attributions:e.attributions,crossOrigin:e.crossOrigin,logo:e.logo,projection:e.projection,tileClass:e.tileClass,tileGrid:n,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:s,wrapX:goog.isDef(e.wrapX)?e.wrapX:!1})},goog.inherits(ol.source.WMTS,ol.source.TileImage),ol.source.WMTS.prototype.getDimensions=function(){return this.dimensions_},ol.source.WMTS.prototype.getFormat=function(){return this.format_},ol.source.WMTS.prototype.getKeyZXY=function(e,o,t){return this.coordKeyPrefix_+goog.base(this,"getKeyZXY",e,o,t)},ol.source.WMTS.prototype.getLayer=function(){return this.layer_},ol.source.WMTS.prototype.getMatrixSet=function(){return this.matrixSet_},ol.source.WMTS.prototype.getRequestEncoding=function(){return this.requestEncoding_},ol.source.WMTS.prototype.getStyle=function(){return this.style_},ol.source.WMTS.prototype.getUrls=function(){return this.urls_},ol.source.WMTS.prototype.getVersion=function(){return this.version_},ol.source.WMTS.prototype.resetCoordKeyPrefix_=function(){var e=0,o=[];for(var t in this.dimensions_)o[e++]=t+"-"+this.dimensions_[t];this.coordKeyPrefix_=o.join("/")},ol.source.WMTS.prototype.updateDimensions=function(e){goog.object.extend(this.dimensions_,e),this.resetCoordKeyPrefix_(),this.changed()},ol.source.WMTS.optionsFromCapabilities=function(e,o){goog.asserts.assert(!goog.isNull(o.layer),'config "layer" must not be null');var t=e.Contents.Layer,r=goog.array.find(t,function(e,t,r){return e.Identifier==o.layer});goog.asserts.assert(!goog.isNull(r),"found a matching layer in Contents/Layer"),goog.asserts.assert(r.TileMatrixSetLink.length>0,"layer has TileMatrixSetLink");var n,i;n=r.TileMatrixSetLink.length>1?goog.array.findIndex(r.TileMatrixSetLink,function(e,t,r){return e.TileMatrixSet==o.matrixSet}):goog.isDef(o.projection)?goog.array.findIndex(r.TileMatrixSetLink,function(e,t,r){return e.TileMatrixSet.SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3")==o.projection}):0,0>n&&(n=0),i=r.TileMatrixSetLink[n].TileMatrixSet,goog.asserts.assert(!goog.isNull(i),"TileMatrixSet must not be null");var a=r.Format[0];goog.isDef(o.format)&&(a=o.format),n=goog.array.findIndex(r.Style,function(e,t,r){return goog.isDef(o.style)?e.Title==o.style:e.isDefault}),0>n&&(n=0);var s=r.Style[n].Identifier,g={};goog.isDef(r.Dimension)&&goog.array.forEach(r.Dimension,function(e,o,t){var r=e.Identifier,n=e["default"];goog.isDef(n)?goog.asserts.assert(goog.array.contains(e.values,n),"default value contained in values"):n=e.values[0],goog.asserts.assert(goog.isDef(n),"value could be found"),g[r]=n});var l=e.Contents.TileMatrixSet,p=goog.array.find(l,function(e,o,t){return e.Identifier==i});goog.asserts.assert(!goog.isNull(p),"found matrixSet in Contents/TileMatrixSet");var u;u=ol.proj.get(goog.isDef(o.projection)?o.projection:p.SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"));var c,d,h=r.WGS84BoundingBox;if(goog.isDef(h)){var m=ol.proj.get("EPSG:4326").getExtent();d=h[0]==m[0]&&h[2]==m[2],c=ol.proj.transformExtent(h,"EPSG:4326",u);var y=u.getExtent();goog.isNull(y)||ol.extent.containsExtent(y,c)||(c=void 0)}var f=ol.tilegrid.WMTS.createFromCapabilitiesMatrixSet(p,c),v=[],_=o.requestEncoding;if(_=goog.isDef(_)?_:"",goog.asserts.assert(goog.array.contains(["REST","RESTful","KVP",""],_),'requestEncoding (%s) is one of "REST", "RESTful", "KVP" or ""',_),e.hasOwnProperty("OperationsMetadata")&&e.OperationsMetadata.hasOwnProperty("GetTile")&&!goog.string.startsWith(_,"REST"))for(var E=e.OperationsMetadata.GetTile.DCP.HTTP.Get,S=0,T=E.length;T>S;++S){var x=goog.array.find(E[S].Constraint,function(e,o,t){return"GetEncoding"==e.name}),b=x.AllowedValues.Value;b.length>0&&goog.array.contains(b,"KVP")&&(_=ol.source.WMTSRequestEncoding.KVP,v.push(E[S].href))}else _=ol.source.WMTSRequestEncoding.REST,goog.array.forEach(r.ResourceURL,function(e,o,t){"tile"==e.resourceType&&(a=e.format,v.push(e.template))});return goog.asserts.assert(v.length>0,"At least one URL found"),{urls:v,layer:o.layer,matrixSet:i,format:a,projection:u,requestEncoding:_,tileGrid:f,style:s,dimensions:g,wrapX:d}},goog.provide("ol.source.Zoomify"),goog.require("goog.asserts"),goog.require("ol"),goog.require("ol.ImageTile"),goog.require("ol.TileCoord"),goog.require("ol.TileState"),goog.require("ol.dom"),goog.require("ol.extent"),goog.require("ol.proj"),goog.require("ol.source.TileImage"),goog.require("ol.tilegrid.TileGrid"),ol.source.ZoomifyTierSizeCalculation={DEFAULT:"default",TRUNCATED:"truncated"},ol.source.Zoomify=function(e){function o(e,o,t){if(goog.isNull(e))return void 0;var r=e[0],n=e[1],i=-e[2]-1,a=n+i*s[r][0]+h[r],g=a/ol.DEFAULT_TILE_SIZE|0;return f+"TileGroup"+g+"/"+r+"-"+n+"-"+i+".jpg"}var t=goog.isDef(e)?e:{},r=t.size,n=goog.isDef(t.tierSizeCalculation)?t.tierSizeCalculation:ol.source.ZoomifyTierSizeCalculation.DEFAULT,i=r[0],a=r[1],s=[],g=ol.DEFAULT_TILE_SIZE;switch(n){case ol.source.ZoomifyTierSizeCalculation.DEFAULT:for(;i>g||a>g;)s.push([Math.ceil(i/g),Math.ceil(a/g)]),g+=g;break;case ol.source.ZoomifyTierSizeCalculation.TRUNCATED:for(var l=i,p=a;l>g||p>g;)s.push([Math.ceil(l/g),Math.ceil(p/g)]),l>>=1,p>>=1;break;default:goog.asserts.fail()}s.push([1,1]),s.reverse();var u,c,d=[1],h=[0];for(u=1,c=s.length;c>u;u++)d.push(1<<u),h.push(s[u-1][0]*s[u-1][1]+h[u-1]);d.reverse();var m=[0,-r[1],r[0],0],y=new ol.tilegrid.TileGrid({extent:m,origin:ol.extent.getTopLeft(m),resolutions:d}),f=t.url;goog.base(this,{attributions:t.attributions,crossOrigin:t.crossOrigin,logo:t.logo,tileClass:ol.source.ZoomifyTile_,tileGrid:y,tileUrlFunction:o})},goog.inherits(ol.source.Zoomify,ol.source.TileImage),ol.source.ZoomifyTile_=function(e,o,t,r,n){goog.base(this,e,o,t,r,n),this.zoomifyImageByContext_={}},goog.inherits(ol.source.ZoomifyTile_,ol.ImageTile),ol.source.ZoomifyTile_.prototype.getImage=function(e){var o=ol.DEFAULT_TILE_SIZE,t=goog.isDef(e)?goog.getUid(e).toString():"";if(t in this.zoomifyImageByContext_)return this.zoomifyImageByContext_[t];var r=goog.base(this,"getImage",e);if(this.state==ol.TileState.LOADED){if(r.width==o&&r.height==o)return this.zoomifyImageByContext_[t]=r,r;var n=ol.dom.createCanvasContext2D(o,o);return n.drawImage(r,0,0),this.zoomifyImageByContext_[t]=n.canvas,n.canvas}return r},goog.provide("ol.style.Atlas"),goog.provide("ol.style.AtlasManager"),goog.require("goog.asserts"),goog.require("goog.dom"),goog.require("goog.dom.TagName"),goog.require("goog.functions"),goog.require("goog.object"),goog.require("ol"),ol.style.AtlasManagerInfo,ol.style.AtlasManager=function(e){var o=goog.isDef(e)?e:{};this.currentSize_=goog.isDef(o.initialSize)?o.initialSize:ol.INITIAL_ATLAS_SIZE,this.maxSize_=goog.isDef(o.maxSize)?o.maxSize:-1!=ol.MAX_ATLAS_SIZE?ol.MAX_ATLAS_SIZE:goog.isDef(ol.WEBGL_MAX_TEXTURE_SIZE)?ol.WEBGL_MAX_TEXTURE_SIZE:2048,this.space_=goog.isDef(o.space)?o.space:1,this.atlases_=[new ol.style.Atlas(this.currentSize_,this.space_)],this.currentHitSize_=this.currentSize_,this.hitAtlases_=[new ol.style.Atlas(this.currentHitSize_,this.space_)]},ol.style.AtlasManager.prototype.getInfo=function(e){var o=this.getInfo_(this.atlases_,e);if(goog.isNull(o))return null;var t=this.getInfo_(this.hitAtlases_,e);return goog.asserts.assert(!goog.isNull(t),"hitInfo must not be null"),this.mergeInfos_(o,t)},ol.style.AtlasManager.prototype.getInfo_=function(e,o){var t,r,n,i;for(n=0,i=e.length;i>n;++n)if(t=e[n],r=t.get(o),!goog.isNull(r))return r;return null},ol.style.AtlasManager.prototype.mergeInfos_=function(e,o){return goog.asserts.assert(e.offsetX===o.offsetX,"in order to merge, offsetX of info and hitInfo must be equal"),goog.asserts.assert(e.offsetY===o.offsetY,"in order to merge, offsetY of info and hitInfo must be equal"),{offsetX:e.offsetX,offsetY:e.offsetY,image:e.image,hitImage:o.image}},ol.style.AtlasManager.prototype.add=function(e,o,t,r,n,i){if(o+this.space_>this.maxSize_||t+this.space_>this.maxSize_)return null;var a=this.add_(!1,e,o,t,r,i);if(goog.isNull(a))return null;var s=goog.isDef(n)?n:goog.functions.NULL,g=this.add_(!0,e,o,t,s,i);return goog.asserts.assert(!goog.isNull(g),"hitInfo must not be null"),this.mergeInfos_(a,g)},ol.style.AtlasManager.prototype.add_=function(e,o,t,r,n,i){var a,s,g,l,p=e?this.hitAtlases_:this.atlases_;for(g=0,l=p.length;l>g;++g){if(a=p[g],s=a.add(o,t,r,n,i),!goog.isNull(s))return s;if(goog.isNull(s)&&g===l-1){var u;e?(u=Math.min(2*this.currentHitSize_,this.maxSize_),this.currentHitSize_=u):(u=Math.min(2*this.currentSize_,this.maxSize_),this.currentSize_=u),a=new ol.style.Atlas(u,this.space_),p.push(a),++l}}goog.asserts.fail("Failed to add to atlasmanager")},ol.style.AtlasInfo,ol.style.Atlas=function(e,o){this.space_=o,this.emptyBlocks_=[{x:0,y:0,width:e,height:e}],this.entries_={},this.canvas_=goog.dom.createElement(goog.dom.TagName.CANVAS),this.canvas_.width=e,this.canvas_.height=e,this.context_=this.canvas_.getContext("2d")},ol.style.Atlas.prototype.get=function(e){return goog.object.get(this.entries_,e,null)},ol.style.Atlas.prototype.add=function(e,o,t,r,n){var i,a,s;for(a=0,s=this.emptyBlocks_.length;s>a;++a)if(i=this.emptyBlocks_[a],i.width>=o+this.space_&&i.height>=t+this.space_){var g={offsetX:i.x+this.space_,offsetY:i.y+this.space_,image:this.canvas_};return this.entries_[e]=g,r.call(n,this.context_,i.x+this.space_,i.y+this.space_),this.split_(a,i,o+this.space_,t+this.space_),g}return null},ol.style.Atlas.prototype.split_=function(e,o,t,r){var n,i,a=o.width-t,s=o.height-r;a>s?(n={x:o.x+t,y:o.y,width:o.width-t,height:o.height},i={x:o.x,y:o.y+r,width:t,height:o.height-r},this.updateBlocks_(e,n,i)):(n={x:o.x+t,y:o.y,width:o.width-t,height:r},i={x:o.x,y:o.y+r,width:o.width,height:o.height-r},this.updateBlocks_(e,n,i))},ol.style.Atlas.prototype.updateBlocks_=function(e,o,t){var r=[e,1];o.width>0&&o.height>0&&r.push(o),t.width>0&&t.height>0&&r.push(t),this.emptyBlocks_.splice.apply(this.emptyBlocks_,r)},ol.style.Atlas.Block,goog.provide("ol.style.RegularShape"),goog.require("goog.asserts"),goog.require("goog.dom"),goog.require("goog.dom.TagName"),goog.require("ol.color"),goog.require("ol.has"),goog.require("ol.render.canvas"),goog.require("ol.structs.IHasChecksum"),goog.require("ol.style.AtlasManager"),goog.require("ol.style.Fill"),goog.require("ol.style.Image"),goog.require("ol.style.ImageState"),goog.require("ol.style.Stroke"),ol.style.RegularShape=function(e){goog.asserts.assert(goog.isDef(e.radius)||goog.isDef(e.radius1),'must provide either "radius" or "radius1"'),this.checksums_=null,this.canvas_=null,this.hitDetectionCanvas_=null,this.fill_=goog.isDef(e.fill)?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius_=goog.isDef(e.radius)?e.radius:e.radius1,this.radius2_=goog.isDef(e.radius2)?e.radius2:this.radius_,this.angle_=goog.isDef(e.angle)?e.angle:0,this.stroke_=goog.isDef(e.stroke)?e.stroke:null,this.anchor_=null,this.size_=null,this.imageSize_=null,this.hitDetectionImageSize_=null,this.render_(e.atlasManager);var o=goog.isDef(e.snapToPixel)?e.snapToPixel:!0;goog.base(this,{opacity:1,rotateWithView:!1,rotation:goog.isDef(e.rotation)?e.rotation:0,scale:1,snapToPixel:o})},goog.inherits(ol.style.RegularShape,ol.style.Image),ol.style.RegularShape.prototype.getAnchor=function(){return this.anchor_},ol.style.RegularShape.prototype.getAngle=function(){return this.angle_},ol.style.RegularShape.prototype.getFill=function(){return this.fill_},ol.style.RegularShape.prototype.getHitDetectionImage=function(e){return this.hitDetectionCanvas_},ol.style.RegularShape.prototype.getImage=function(e){return this.canvas_},ol.style.RegularShape.prototype.getImageSize=function(){return this.imageSize_},ol.style.RegularShape.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},ol.style.RegularShape.prototype.getImageState=function(){return ol.style.ImageState.LOADED},ol.style.RegularShape.prototype.getOrigin=function(){return this.origin_},ol.style.RegularShape.prototype.getPoints=function(){return this.points_},ol.style.RegularShape.prototype.getRadius=function(){return this.radius_},ol.style.RegularShape.prototype.getRadius2=function(){return this.radius2_},ol.style.RegularShape.prototype.getSize=function(){return this.size_},ol.style.RegularShape.prototype.getStroke=function(){return this.stroke_},ol.style.RegularShape.prototype.listenImageChange=goog.nullFunction,ol.style.RegularShape.prototype.load=goog.nullFunction,ol.style.RegularShape.prototype.unlistenImageChange=goog.nullFunction,ol.style.RegularShape.RenderOptions,ol.style.RegularShape.prototype.render_=function(e){var o,t,r="",n="",i=0,a=null,s=0;goog.isNull(this.stroke_)||(t=ol.color.asString(this.stroke_.getColor()),s=this.stroke_.getWidth(),goog.isDef(s)||(s=ol.render.canvas.defaultLineWidth),a=this.stroke_.getLineDash(),ol.has.CANVAS_LINE_DASH||(a=null),n=this.stroke_.getLineJoin(),goog.isDef(n)||(n=ol.render.canvas.defaultLineJoin),r=this.stroke_.getLineCap(),goog.isDef(r)||(r=ol.render.canvas.defaultLineCap),i=this.stroke_.getMiterLimit(),goog.isDef(i)||(i=ol.render.canvas.defaultMiterLimit));var g=2*(this.radius_+s)+1,l={strokeStyle:t,strokeWidth:s,size:g,lineCap:r,lineDash:a,lineJoin:n,miterLimit:i};if(goog.isDef(e)){g=Math.round(g);var p,u=goog.isNull(this.fill_);u&&(p=goog.bind(this.drawHitDetectionCanvas_,this,l));var c=this.getChecksum(),d=e.add(c,g,g,goog.bind(this.draw_,this,l),p);goog.asserts.assert(!goog.isNull(d),"shape size is too large"),this.canvas_=d.image,this.origin_=[d.offsetX,d.offsetY],o=d.image.width,u?(this.hitDetectionCanvas_=d.hitImage,this.hitDetectionImageSize_=[d.hitImage.width,d.hitImage.height]):(this.hitDetectionCanvas_=this.canvas_,this.hitDetectionImageSize_=[o,o])}else{this.canvas_=goog.dom.createElement(goog.dom.TagName.CANVAS),this.canvas_.height=g,this.canvas_.width=g,g=this.canvas_.width,o=g;var h=this.canvas_.getContext("2d");this.draw_(l,h,0,0),this.createHitDetectionCanvas_(l)}this.anchor_=[g/2,g/2],this.size_=[g,g],this.imageSize_=[o,o]},ol.style.RegularShape.prototype.draw_=function(e,o,t,r){var n,i,a;for(o.setTransform(1,0,0,1,0,0),o.translate(t,r),o.beginPath(),this.radius2_!==this.radius_&&(this.points_=2*this.points_),n=0;n<=this.points_;n++)i=2*n*Math.PI/this.points_-Math.PI/2+this.angle_,a=n%2===0?this.radius_:this.radius2_,o.lineTo(e.size/2+a*Math.cos(i),e.size/2+a*Math.sin(i));goog.isNull(this.fill_)||(o.fillStyle=ol.color.asString(this.fill_.getColor()),o.fill()),goog.isNull(this.stroke_)||(o.strokeStyle=e.strokeStyle,o.lineWidth=e.strokeWidth,goog.isNull(e.lineDash)||o.setLineDash(e.lineDash),o.lineCap=e.lineCap,o.lineJoin=e.lineJoin,o.miterLimit=e.miterLimit,o.stroke()),o.closePath()},ol.style.RegularShape.prototype.createHitDetectionCanvas_=function(e){if(this.hitDetectionImageSize_=[e.size,e.size],!goog.isNull(this.fill_))return void(this.hitDetectionCanvas_=this.canvas_);this.hitDetectionCanvas_=goog.dom.createElement(goog.dom.TagName.CANVAS);var o=this.hitDetectionCanvas_;o.height=e.size,o.width=e.size;var t=o.getContext("2d");this.drawHitDetectionCanvas_(e,t,0,0)},ol.style.RegularShape.prototype.drawHitDetectionCanvas_=function(e,o,t,r){o.setTransform(1,0,0,1,0,0),o.translate(t,r),o.beginPath(),this.radius2_!==this.radius_&&(this.points_=2*this.points_);var n,i,a;for(n=0;n<=this.points_;n++)a=2*n*Math.PI/this.points_-Math.PI/2+this.angle_,i=n%2===0?this.radius_:this.radius2_,o.lineTo(e.size/2+i*Math.cos(a),e.size/2+i*Math.sin(a));o.fillStyle=ol.render.canvas.defaultFillStyle,o.fill(),goog.isNull(this.stroke_)||(o.strokeStyle=e.strokeStyle,o.lineWidth=e.strokeWidth,goog.isNull(e.lineDash)||o.setLineDash(e.lineDash),o.stroke()),o.closePath()},ol.style.RegularShape.prototype.getChecksum=function(){var e=goog.isNull(this.stroke_)?"-":this.stroke_.getChecksum(),o=goog.isNull(this.fill_)?"-":this.fill_.getChecksum(),t=goog.isNull(this.checksums_)||e!=this.checksums_[1]||o!=this.checksums_[2]||this.radius_!=this.checksums_[3]||this.radius2_!=this.checksums_[4]||this.angle_!=this.checksums_[5]||this.points_!=this.checksums_[6];if(t){var r="r"+e+o+(goog.isDef(this.radius_)?this.radius_.toString():"-")+(goog.isDef(this.radius2_)?this.radius2_.toString():"-")+(goog.isDef(this.angle_)?this.angle_.toString():"-")+(goog.isDef(this.points_)?this.points_.toString():"-");this.checksums_=[r,e,o,this.radius_,this.radius2_,this.angle_,this.points_]}return this.checksums_[0]},goog.addDependency("demos/editor/equationeditor.js",["goog.demos.editor.EquationEditor"],["goog.ui.equation.EquationEditorDialog"]),goog.addDependency("demos/editor/helloworld.js",["goog.demos.editor.HelloWorld"],["goog.dom","goog.dom.TagName","goog.editor.Plugin"]),goog.addDependency("demos/editor/helloworlddialog.js",["goog.demos.editor.HelloWorldDialog","goog.demos.editor.HelloWorldDialog.OkEvent"],["goog.dom.TagName","goog.events.Event","goog.string","goog.ui.editor.AbstractDialog","goog.ui.editor.AbstractDialog.Builder","goog.ui.editor.AbstractDialog.EventType"]),goog.addDependency("demos/editor/helloworlddialogplugin.js",["goog.demos.editor.HelloWorldDialogPlugin","goog.demos.editor.HelloWorldDialogPlugin.Command"],["goog.demos.editor.HelloWorldDialog","goog.dom.TagName","goog.editor.plugins.AbstractDialogPlugin","goog.editor.range","goog.functions","goog.ui.editor.AbstractDialog.EventType"]),goog.require("ol"),goog.require("ol.Attribution"),goog.require("ol.Collection"),goog.require("ol.CollectionEvent"),goog.require("ol.CollectionEventType"),goog.require("ol.Color"),goog.require("ol.Coordinate"),goog.require("ol.CoordinateFormatType"),goog.require("ol.DeviceOrientation"),goog.require("ol.DeviceOrientationProperty"),goog.require("ol.DragBoxEvent"),goog.require("ol.Extent"),goog.require("ol.Feature"),goog.require("ol.FeatureLoader"),goog.require("ol.FeatureStyleFunction"),goog.require("ol.Geolocation"),goog.require("ol.GeolocationProperty"),goog.require("ol.Graticule"),goog.require("ol.Image"),goog.require("ol.ImageTile"),goog.require("ol.Kinetic"),goog.require("ol.LoadingStrategy"),goog.require("ol.Map"),goog.require("ol.MapBrowserEvent"),goog.require("ol.MapBrowserEvent.EventType"),goog.require("ol.MapBrowserEventHandler"),goog.require("ol.MapBrowserPointerEvent"),goog.require("ol.MapEvent"),goog.require("ol.MapEventType"),goog.require("ol.MapProperty"),goog.require("ol.Object"),goog.require("ol.ObjectEvent"),goog.require("ol.ObjectEventType"),goog.require("ol.Observable"),goog.require("ol.Overlay"),goog.require("ol.OverlayPositioning"),goog.require("ol.OverlayProperty"),goog.require("ol.Size"),goog.require("ol.Sphere"),goog.require("ol.Tile"),goog.require("ol.TileState"),goog.require("ol.View"),goog.require("ol.ViewHint"),goog.require("ol.ViewProperty"),goog.require("ol.animation"),goog.require("ol.color"),goog.require("ol.control"),goog.require("ol.control.Attribution"),goog.require("ol.control.Control"),goog.require("ol.control.FullScreen"),goog.require("ol.control.MousePosition"),goog.require("ol.control.OverviewMap"),goog.require("ol.control.Rotate"),goog.require("ol.control.ScaleLine"),goog.require("ol.control.ScaleLineProperty"),goog.require("ol.control.ScaleLineUnits"),goog.require("ol.control.Zoom"),goog.require("ol.control.ZoomSlider"),goog.require("ol.control.ZoomToExtent"),goog.require("ol.coordinate"),goog.require("ol.easing"),goog.require("ol.events.ConditionType"),goog.require("ol.events.condition"),goog.require("ol.extent"),goog.require("ol.extent.Corner"),goog.require("ol.extent.Relationship"),goog.require("ol.featureloader"),goog.require("ol.format.EsriJSON"),goog.require("ol.format.Feature"),goog.require("ol.format.GML"),goog.require("ol.format.GML2"),goog.require("ol.format.GML3"),goog.require("ol.format.GMLBase"),goog.require("ol.format.GPX"),goog.require("ol.format.GeoJSON"),goog.require("ol.format.IGC"),goog.require("ol.format.IGCZ"),goog.require("ol.format.KML"),goog.require("ol.format.OSMXML"),goog.require("ol.format.Polyline"),goog.require("ol.format.TopoJSON"),goog.require("ol.format.WFS"),goog.require("ol.format.WKT"),goog.require("ol.format.WMSCapabilities"),goog.require("ol.format.WMSGetFeatureInfo"),goog.require("ol.format.WMTSCapabilities"),goog.require("ol.geom.Circle"),goog.require("ol.geom.Geometry"),goog.require("ol.geom.GeometryCollection"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.LineString"),goog.require("ol.geom.LinearRing"),goog.require("ol.geom.MultiLineString"),goog.require("ol.geom.MultiPoint"),goog.require("ol.geom.MultiPolygon"),goog.require("ol.geom.Point"),goog.require("ol.geom.Polygon"),goog.require("ol.geom.SimpleGeometry"),goog.require("ol.has"),goog.require("ol.interaction"),goog.require("ol.interaction.DoubleClickZoom"),goog.require("ol.interaction.DragAndDrop"),goog.require("ol.interaction.DragAndDropEvent"),goog.require("ol.interaction.DragBox"),goog.require("ol.interaction.DragPan"),goog.require("ol.interaction.DragRotate"),goog.require("ol.interaction.DragRotateAndZoom"),goog.require("ol.interaction.DragZoom"),goog.require("ol.interaction.Draw"),goog.require("ol.interaction.DrawEvent"),goog.require("ol.interaction.DrawEventType"),goog.require("ol.interaction.DrawGeometryFunctionType"),goog.require("ol.interaction.DrawMode"),goog.require("ol.interaction.Interaction"),goog.require("ol.interaction.InteractionProperty"),goog.require("ol.interaction.KeyboardPan"),goog.require("ol.interaction.KeyboardZoom"),goog.require("ol.interaction.Modify"),goog.require("ol.interaction.MouseWheelZoom"),goog.require("ol.interaction.PinchRotate"),goog.require("ol.interaction.PinchZoom"),goog.require("ol.interaction.Pointer"),goog.require("ol.interaction.Select"),goog.require("ol.interaction.SelectFilterFunction"),goog.require("ol.interaction.Snap"),goog.require("ol.interaction.SnapProperty"),goog.require("ol.layer.Base"),goog.require("ol.layer.Group"),goog.require("ol.layer.Heatmap"),goog.require("ol.layer.Image"),goog.require("ol.layer.Layer"),goog.require("ol.layer.LayerProperty"),goog.require("ol.layer.LayerState"),goog.require("ol.layer.Tile"),goog.require("ol.layer.Vector"),goog.require("ol.loadingstrategy"),goog.require("ol.proj"),goog.require("ol.proj.METERS_PER_UNIT"),goog.require("ol.proj.Projection"),goog.require("ol.proj.ProjectionLike"),goog.require("ol.proj.Units"),goog.require("ol.proj.common"),goog.require("ol.render.Event"),goog.require("ol.render.EventType"),goog.require("ol.render.VectorContext"),goog.require("ol.render.canvas.Immediate"),goog.require("ol.render.webgl.Immediate"),goog.require("ol.size"),goog.require("ol.source.BingMaps"),goog.require("ol.source.Cluster"),goog.require("ol.source.Image"),goog.require("ol.source.ImageCanvas"),goog.require("ol.source.ImageMapGuide"),goog.require("ol.source.ImageStatic"),goog.require("ol.source.ImageVector"),goog.require("ol.source.ImageWMS"),goog.require("ol.source.MapQuest"),goog.require("ol.source.OSM"),goog.require("ol.source.Source"),goog.require("ol.source.Stamen"),goog.require("ol.source.State"),goog.require("ol.source.Tile"),goog.require("ol.source.TileArcGISRest"),goog.require("ol.source.TileDebug"),goog.require("ol.source.TileEvent"),goog.require("ol.source.TileImage"),goog.require("ol.source.TileJSON"),goog.require("ol.source.TileOptions"),goog.require("ol.source.TileUTFGrid"),goog.require("ol.source.TileVector"),goog.require("ol.source.TileWMS"),goog.require("ol.source.Vector"),goog.require("ol.source.VectorEvent"),goog.require("ol.source.VectorEventType"),goog.require("ol.source.WMTS"),goog.require("ol.source.WMTSRequestEncoding"),goog.require("ol.source.XYZ"),goog.require("ol.source.Zoomify"),goog.require("ol.style.Atlas"),goog.require("ol.style.AtlasManager"),goog.require("ol.style.Circle"),goog.require("ol.style.Fill"),goog.require("ol.style.GeometryFunction"),goog.require("ol.style.Icon"),goog.require("ol.style.IconAnchorUnits"),goog.require("ol.style.IconImageCache"),goog.require("ol.style.IconOrigin"),goog.require("ol.style.Image"),goog.require("ol.style.ImageState"),goog.require("ol.style.RegularShape"),goog.require("ol.style.Stroke"),goog.require("ol.style.Style"),goog.require("ol.style.StyleFunction"),goog.require("ol.style.Text"),goog.require("ol.style.defaultGeometryFunction"),goog.require("ol.tilegrid.TileGrid"),goog.require("ol.tilegrid.WMTS"),goog.require("ol.tilejson"),goog.require("ol.webgl.Context"),goog.require("ol.xml"),goog.exportSymbol("ol.animation.bounce",ol.animation.bounce,OPENLAYERS),goog.exportSymbol("ol.animation.pan",ol.animation.pan,OPENLAYERS),goog.exportSymbol("ol.animation.rotate",ol.animation.rotate,OPENLAYERS),goog.exportSymbol("ol.animation.zoom",ol.animation.zoom,OPENLAYERS),goog.exportSymbol("ol.Attribution",ol.Attribution,OPENLAYERS),goog.exportProperty(ol.Attribution.prototype,"getHTML",ol.Attribution.prototype.getHTML),goog.exportProperty(ol.CollectionEvent.prototype,"element",ol.CollectionEvent.prototype.element),goog.exportSymbol("ol.Collection",ol.Collection,OPENLAYERS),goog.exportProperty(ol.Collection.prototype,"clear",ol.Collection.prototype.clear),goog.exportProperty(ol.Collection.prototype,"extend",ol.Collection.prototype.extend),goog.exportProperty(ol.Collection.prototype,"forEach",ol.Collection.prototype.forEach),goog.exportProperty(ol.Collection.prototype,"getArray",ol.Collection.prototype.getArray),goog.exportProperty(ol.Collection.prototype,"item",ol.Collection.prototype.item),goog.exportProperty(ol.Collection.prototype,"getLength",ol.Collection.prototype.getLength),goog.exportProperty(ol.Collection.prototype,"insertAt",ol.Collection.prototype.insertAt),goog.exportProperty(ol.Collection.prototype,"pop",ol.Collection.prototype.pop),goog.exportProperty(ol.Collection.prototype,"push",ol.Collection.prototype.push),goog.exportProperty(ol.Collection.prototype,"remove",ol.Collection.prototype.remove),goog.exportProperty(ol.Collection.prototype,"removeAt",ol.Collection.prototype.removeAt),goog.exportProperty(ol.Collection.prototype,"setAt",ol.Collection.prototype.setAt),goog.exportSymbol("ol.coordinate.add",ol.coordinate.add,OPENLAYERS),goog.exportSymbol("ol.coordinate.createStringXY",ol.coordinate.createStringXY,OPENLAYERS),goog.exportSymbol("ol.coordinate.format",ol.coordinate.format,OPENLAYERS),goog.exportSymbol("ol.coordinate.rotate",ol.coordinate.rotate,OPENLAYERS),goog.exportSymbol("ol.coordinate.toStringHDMS",ol.coordinate.toStringHDMS,OPENLAYERS),goog.exportSymbol("ol.coordinate.toStringXY",ol.coordinate.toStringXY,OPENLAYERS),goog.exportSymbol("ol.DeviceOrientation",ol.DeviceOrientation,OPENLAYERS),goog.exportProperty(ol.DeviceOrientation.prototype,"getAlpha",ol.DeviceOrientation.prototype.getAlpha),goog.exportProperty(ol.DeviceOrientation.prototype,"getBeta",ol.DeviceOrientation.prototype.getBeta),goog.exportProperty(ol.DeviceOrientation.prototype,"getGamma",ol.DeviceOrientation.prototype.getGamma),goog.exportProperty(ol.DeviceOrientation.prototype,"getHeading",ol.DeviceOrientation.prototype.getHeading),goog.exportProperty(ol.DeviceOrientation.prototype,"getTracking",ol.DeviceOrientation.prototype.getTracking),goog.exportProperty(ol.DeviceOrientation.prototype,"setTracking",ol.DeviceOrientation.prototype.setTracking),goog.exportSymbol("ol.easing.easeIn",ol.easing.easeIn,OPENLAYERS),goog.exportSymbol("ol.easing.easeOut",ol.easing.easeOut,OPENLAYERS),goog.exportSymbol("ol.easing.inAndOut",ol.easing.inAndOut,OPENLAYERS),goog.exportSymbol("ol.easing.linear",ol.easing.linear,OPENLAYERS),goog.exportSymbol("ol.easing.upAndDown",ol.easing.upAndDown,OPENLAYERS),goog.exportSymbol("ol.extent.boundingExtent",ol.extent.boundingExtent,OPENLAYERS),goog.exportSymbol("ol.extent.buffer",ol.extent.buffer,OPENLAYERS),goog.exportSymbol("ol.extent.containsCoordinate",ol.extent.containsCoordinate,OPENLAYERS),goog.exportSymbol("ol.extent.containsExtent",ol.extent.containsExtent,OPENLAYERS),goog.exportSymbol("ol.extent.containsXY",ol.extent.containsXY,OPENLAYERS),
goog.exportSymbol("ol.extent.createEmpty",ol.extent.createEmpty,OPENLAYERS),goog.exportSymbol("ol.extent.equals",ol.extent.equals,OPENLAYERS),goog.exportSymbol("ol.extent.extend",ol.extent.extend,OPENLAYERS),goog.exportSymbol("ol.extent.getBottomLeft",ol.extent.getBottomLeft,OPENLAYERS),goog.exportSymbol("ol.extent.getBottomRight",ol.extent.getBottomRight,OPENLAYERS),goog.exportSymbol("ol.extent.getCenter",ol.extent.getCenter,OPENLAYERS),goog.exportSymbol("ol.extent.getHeight",ol.extent.getHeight,OPENLAYERS),goog.exportSymbol("ol.extent.getIntersection",ol.extent.getIntersection,OPENLAYERS),goog.exportSymbol("ol.extent.getSize",ol.extent.getSize,OPENLAYERS),goog.exportSymbol("ol.extent.getTopLeft",ol.extent.getTopLeft,OPENLAYERS),goog.exportSymbol("ol.extent.getTopRight",ol.extent.getTopRight,OPENLAYERS),goog.exportSymbol("ol.extent.getWidth",ol.extent.getWidth,OPENLAYERS),goog.exportSymbol("ol.extent.intersects",ol.extent.intersects,OPENLAYERS),goog.exportSymbol("ol.extent.isEmpty",ol.extent.isEmpty,OPENLAYERS),goog.exportSymbol("ol.extent.applyTransform",ol.extent.applyTransform,OPENLAYERS),goog.exportSymbol("ol.Feature",ol.Feature,OPENLAYERS),goog.exportProperty(ol.Feature.prototype,"clone",ol.Feature.prototype.clone),goog.exportProperty(ol.Feature.prototype,"getGeometry",ol.Feature.prototype.getGeometry),goog.exportProperty(ol.Feature.prototype,"getId",ol.Feature.prototype.getId),goog.exportProperty(ol.Feature.prototype,"getGeometryName",ol.Feature.prototype.getGeometryName),goog.exportProperty(ol.Feature.prototype,"getStyle",ol.Feature.prototype.getStyle),goog.exportProperty(ol.Feature.prototype,"getStyleFunction",ol.Feature.prototype.getStyleFunction),goog.exportProperty(ol.Feature.prototype,"setGeometry",ol.Feature.prototype.setGeometry),goog.exportProperty(ol.Feature.prototype,"setStyle",ol.Feature.prototype.setStyle),goog.exportProperty(ol.Feature.prototype,"setId",ol.Feature.prototype.setId),goog.exportProperty(ol.Feature.prototype,"setGeometryName",ol.Feature.prototype.setGeometryName),goog.exportSymbol("ol.featureloader.xhr",ol.featureloader.xhr,OPENLAYERS),goog.exportSymbol("ol.Geolocation",ol.Geolocation,OPENLAYERS),goog.exportProperty(ol.Geolocation.prototype,"getAccuracy",ol.Geolocation.prototype.getAccuracy),goog.exportProperty(ol.Geolocation.prototype,"getAccuracyGeometry",ol.Geolocation.prototype.getAccuracyGeometry),goog.exportProperty(ol.Geolocation.prototype,"getAltitude",ol.Geolocation.prototype.getAltitude),goog.exportProperty(ol.Geolocation.prototype,"getAltitudeAccuracy",ol.Geolocation.prototype.getAltitudeAccuracy),goog.exportProperty(ol.Geolocation.prototype,"getHeading",ol.Geolocation.prototype.getHeading),goog.exportProperty(ol.Geolocation.prototype,"getPosition",ol.Geolocation.prototype.getPosition),goog.exportProperty(ol.Geolocation.prototype,"getProjection",ol.Geolocation.prototype.getProjection),goog.exportProperty(ol.Geolocation.prototype,"getSpeed",ol.Geolocation.prototype.getSpeed),goog.exportProperty(ol.Geolocation.prototype,"getTracking",ol.Geolocation.prototype.getTracking),goog.exportProperty(ol.Geolocation.prototype,"getTrackingOptions",ol.Geolocation.prototype.getTrackingOptions),goog.exportProperty(ol.Geolocation.prototype,"setProjection",ol.Geolocation.prototype.setProjection),goog.exportProperty(ol.Geolocation.prototype,"setTracking",ol.Geolocation.prototype.setTracking),goog.exportProperty(ol.Geolocation.prototype,"setTrackingOptions",ol.Geolocation.prototype.setTrackingOptions),goog.exportSymbol("ol.Graticule",ol.Graticule,OPENLAYERS),goog.exportProperty(ol.Graticule.prototype,"getMap",ol.Graticule.prototype.getMap),goog.exportProperty(ol.Graticule.prototype,"getMeridians",ol.Graticule.prototype.getMeridians),goog.exportProperty(ol.Graticule.prototype,"getParallels",ol.Graticule.prototype.getParallels),goog.exportProperty(ol.Graticule.prototype,"setMap",ol.Graticule.prototype.setMap),goog.exportSymbol("ol.has.DEVICE_PIXEL_RATIO",ol.has.DEVICE_PIXEL_RATIO,OPENLAYERS),goog.exportSymbol("ol.has.CANVAS",ol.has.CANVAS,OPENLAYERS),goog.exportSymbol("ol.has.DEVICE_ORIENTATION",ol.has.DEVICE_ORIENTATION,OPENLAYERS),goog.exportSymbol("ol.has.GEOLOCATION",ol.has.GEOLOCATION,OPENLAYERS),goog.exportSymbol("ol.has.TOUCH",ol.has.TOUCH,OPENLAYERS),goog.exportSymbol("ol.has.WEBGL",ol.has.WEBGL,OPENLAYERS),goog.exportProperty(ol.Image.prototype,"getImage",ol.Image.prototype.getImage),goog.exportProperty(ol.ImageTile.prototype,"getImage",ol.ImageTile.prototype.getImage),goog.exportSymbol("ol.Kinetic",ol.Kinetic,OPENLAYERS),goog.exportSymbol("ol.loadingstrategy.all",ol.loadingstrategy.all,OPENLAYERS),goog.exportSymbol("ol.loadingstrategy.bbox",ol.loadingstrategy.bbox,OPENLAYERS),goog.exportSymbol("ol.loadingstrategy.tile",ol.loadingstrategy.tile,OPENLAYERS),goog.exportSymbol("ol.Map",ol.Map,OPENLAYERS),goog.exportProperty(ol.Map.prototype,"addControl",ol.Map.prototype.addControl),goog.exportProperty(ol.Map.prototype,"addInteraction",ol.Map.prototype.addInteraction),goog.exportProperty(ol.Map.prototype,"addLayer",ol.Map.prototype.addLayer),goog.exportProperty(ol.Map.prototype,"addOverlay",ol.Map.prototype.addOverlay),goog.exportProperty(ol.Map.prototype,"beforeRender",ol.Map.prototype.beforeRender),goog.exportProperty(ol.Map.prototype,"forEachFeatureAtPixel",ol.Map.prototype.forEachFeatureAtPixel),goog.exportProperty(ol.Map.prototype,"forEachLayerAtPixel",ol.Map.prototype.forEachLayerAtPixel),goog.exportProperty(ol.Map.prototype,"hasFeatureAtPixel",ol.Map.prototype.hasFeatureAtPixel),goog.exportProperty(ol.Map.prototype,"getEventCoordinate",ol.Map.prototype.getEventCoordinate),goog.exportProperty(ol.Map.prototype,"getEventPixel",ol.Map.prototype.getEventPixel),goog.exportProperty(ol.Map.prototype,"getTarget",ol.Map.prototype.getTarget),goog.exportProperty(ol.Map.prototype,"getTargetElement",ol.Map.prototype.getTargetElement),goog.exportProperty(ol.Map.prototype,"getCoordinateFromPixel",ol.Map.prototype.getCoordinateFromPixel),goog.exportProperty(ol.Map.prototype,"getControls",ol.Map.prototype.getControls),goog.exportProperty(ol.Map.prototype,"getOverlays",ol.Map.prototype.getOverlays),goog.exportProperty(ol.Map.prototype,"getInteractions",ol.Map.prototype.getInteractions),goog.exportProperty(ol.Map.prototype,"getLayerGroup",ol.Map.prototype.getLayerGroup),goog.exportProperty(ol.Map.prototype,"getLayers",ol.Map.prototype.getLayers),goog.exportProperty(ol.Map.prototype,"getPixelFromCoordinate",ol.Map.prototype.getPixelFromCoordinate),goog.exportProperty(ol.Map.prototype,"getSize",ol.Map.prototype.getSize),goog.exportProperty(ol.Map.prototype,"getView",ol.Map.prototype.getView),goog.exportProperty(ol.Map.prototype,"getViewport",ol.Map.prototype.getViewport),goog.exportProperty(ol.Map.prototype,"renderSync",ol.Map.prototype.renderSync),goog.exportProperty(ol.Map.prototype,"render",ol.Map.prototype.render),goog.exportProperty(ol.Map.prototype,"removeControl",ol.Map.prototype.removeControl),goog.exportProperty(ol.Map.prototype,"removeInteraction",ol.Map.prototype.removeInteraction),goog.exportProperty(ol.Map.prototype,"removeLayer",ol.Map.prototype.removeLayer),goog.exportProperty(ol.Map.prototype,"removeOverlay",ol.Map.prototype.removeOverlay),goog.exportProperty(ol.Map.prototype,"setLayerGroup",ol.Map.prototype.setLayerGroup),goog.exportProperty(ol.Map.prototype,"setSize",ol.Map.prototype.setSize),goog.exportProperty(ol.Map.prototype,"setTarget",ol.Map.prototype.setTarget),goog.exportProperty(ol.Map.prototype,"setView",ol.Map.prototype.setView),goog.exportProperty(ol.Map.prototype,"updateSize",ol.Map.prototype.updateSize),goog.exportProperty(ol.MapBrowserEvent.prototype,"originalEvent",ol.MapBrowserEvent.prototype.originalEvent),goog.exportProperty(ol.MapBrowserEvent.prototype,"pixel",ol.MapBrowserEvent.prototype.pixel),goog.exportProperty(ol.MapBrowserEvent.prototype,"coordinate",ol.MapBrowserEvent.prototype.coordinate),goog.exportProperty(ol.MapBrowserEvent.prototype,"dragging",ol.MapBrowserEvent.prototype.dragging),goog.exportProperty(ol.MapBrowserEvent.prototype,"preventDefault",ol.MapBrowserEvent.prototype.preventDefault),goog.exportProperty(ol.MapBrowserEvent.prototype,"stopPropagation",ol.MapBrowserEvent.prototype.stopPropagation),goog.exportProperty(ol.MapEvent.prototype,"map",ol.MapEvent.prototype.map),goog.exportProperty(ol.MapEvent.prototype,"frameState",ol.MapEvent.prototype.frameState),goog.exportProperty(ol.ObjectEvent.prototype,"key",ol.ObjectEvent.prototype.key),goog.exportProperty(ol.ObjectEvent.prototype,"oldValue",ol.ObjectEvent.prototype.oldValue),goog.exportSymbol("ol.Object",ol.Object,OPENLAYERS),goog.exportProperty(ol.Object.prototype,"get",ol.Object.prototype.get),goog.exportProperty(ol.Object.prototype,"getKeys",ol.Object.prototype.getKeys),goog.exportProperty(ol.Object.prototype,"getProperties",ol.Object.prototype.getProperties),goog.exportProperty(ol.Object.prototype,"set",ol.Object.prototype.set),goog.exportProperty(ol.Object.prototype,"setProperties",ol.Object.prototype.setProperties),goog.exportProperty(ol.Object.prototype,"unset",ol.Object.prototype.unset),goog.exportSymbol("ol.Observable",ol.Observable,OPENLAYERS),goog.exportSymbol("ol.Observable.unByKey",ol.Observable.unByKey,OPENLAYERS),goog.exportProperty(ol.Observable.prototype,"changed",ol.Observable.prototype.changed),goog.exportProperty(ol.Observable.prototype,"getRevision",ol.Observable.prototype.getRevision),goog.exportProperty(ol.Observable.prototype,"on",ol.Observable.prototype.on),goog.exportProperty(ol.Observable.prototype,"once",ol.Observable.prototype.once),goog.exportProperty(ol.Observable.prototype,"un",ol.Observable.prototype.un),goog.exportProperty(ol.Observable.prototype,"unByKey",ol.Observable.prototype.unByKey),goog.exportSymbol("ol.inherits",ol.inherits,OPENLAYERS),goog.exportSymbol("ol.Overlay",ol.Overlay,OPENLAYERS),goog.exportProperty(ol.Overlay.prototype,"getElement",ol.Overlay.prototype.getElement),goog.exportProperty(ol.Overlay.prototype,"getMap",ol.Overlay.prototype.getMap),goog.exportProperty(ol.Overlay.prototype,"getOffset",ol.Overlay.prototype.getOffset),goog.exportProperty(ol.Overlay.prototype,"getPosition",ol.Overlay.prototype.getPosition),goog.exportProperty(ol.Overlay.prototype,"getPositioning",ol.Overlay.prototype.getPositioning),goog.exportProperty(ol.Overlay.prototype,"setElement",ol.Overlay.prototype.setElement),goog.exportProperty(ol.Overlay.prototype,"setMap",ol.Overlay.prototype.setMap),goog.exportProperty(ol.Overlay.prototype,"setOffset",ol.Overlay.prototype.setOffset),goog.exportProperty(ol.Overlay.prototype,"setPosition",ol.Overlay.prototype.setPosition),goog.exportProperty(ol.Overlay.prototype,"setPositioning",ol.Overlay.prototype.setPositioning),goog.exportSymbol("ol.size.toSize",ol.size.toSize,OPENLAYERS),goog.exportProperty(ol.Tile.prototype,"getTileCoord",ol.Tile.prototype.getTileCoord),goog.exportSymbol("ol.View",ol.View,OPENLAYERS),goog.exportProperty(ol.View.prototype,"constrainCenter",ol.View.prototype.constrainCenter),goog.exportProperty(ol.View.prototype,"constrainResolution",ol.View.prototype.constrainResolution),goog.exportProperty(ol.View.prototype,"constrainRotation",ol.View.prototype.constrainRotation),goog.exportProperty(ol.View.prototype,"getCenter",ol.View.prototype.getCenter),goog.exportProperty(ol.View.prototype,"calculateExtent",ol.View.prototype.calculateExtent),goog.exportProperty(ol.View.prototype,"getProjection",ol.View.prototype.getProjection),goog.exportProperty(ol.View.prototype,"getResolution",ol.View.prototype.getResolution),goog.exportProperty(ol.View.prototype,"getRotation",ol.View.prototype.getRotation),goog.exportProperty(ol.View.prototype,"getZoom",ol.View.prototype.getZoom),goog.exportProperty(ol.View.prototype,"fit",ol.View.prototype.fit),goog.exportProperty(ol.View.prototype,"centerOn",ol.View.prototype.centerOn),goog.exportProperty(ol.View.prototype,"rotate",ol.View.prototype.rotate),goog.exportProperty(ol.View.prototype,"setCenter",ol.View.prototype.setCenter),goog.exportProperty(ol.View.prototype,"setResolution",ol.View.prototype.setResolution),goog.exportProperty(ol.View.prototype,"setRotation",ol.View.prototype.setRotation),goog.exportProperty(ol.View.prototype,"setZoom",ol.View.prototype.setZoom),goog.exportSymbol("ol.xml.getAllTextContent",ol.xml.getAllTextContent,OPENLAYERS),goog.exportSymbol("ol.xml.parse",ol.xml.parse,OPENLAYERS),goog.exportSymbol("ol.webgl.Context",ol.webgl.Context,OPENLAYERS),goog.exportProperty(ol.webgl.Context.prototype,"getGL",ol.webgl.Context.prototype.getGL),goog.exportProperty(ol.webgl.Context.prototype,"getHitDetectionFramebuffer",ol.webgl.Context.prototype.getHitDetectionFramebuffer),goog.exportProperty(ol.webgl.Context.prototype,"useProgram",ol.webgl.Context.prototype.useProgram),goog.exportSymbol("ol.tilegrid.TileGrid",ol.tilegrid.TileGrid,OPENLAYERS),goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getMaxZoom",ol.tilegrid.TileGrid.prototype.getMaxZoom),goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getMinZoom",ol.tilegrid.TileGrid.prototype.getMinZoom),goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getOrigin",ol.tilegrid.TileGrid.prototype.getOrigin),goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getResolution",ol.tilegrid.TileGrid.prototype.getResolution),goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getResolutions",ol.tilegrid.TileGrid.prototype.getResolutions),goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getTileCoordForCoordAndResolution",ol.tilegrid.TileGrid.prototype.getTileCoordForCoordAndResolution),goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getTileCoordForCoordAndZ",ol.tilegrid.TileGrid.prototype.getTileCoordForCoordAndZ),goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getTileSize",ol.tilegrid.TileGrid.prototype.getTileSize),goog.exportSymbol("ol.tilegrid.createXYZ",ol.tilegrid.createXYZ,OPENLAYERS),goog.exportSymbol("ol.tilegrid.WMTS",ol.tilegrid.WMTS,OPENLAYERS),goog.exportProperty(ol.tilegrid.WMTS.prototype,"getMatrixIds",ol.tilegrid.WMTS.prototype.getMatrixIds),goog.exportSymbol("ol.tilegrid.WMTS.createFromCapabilitiesMatrixSet",ol.tilegrid.WMTS.createFromCapabilitiesMatrixSet,OPENLAYERS),goog.exportSymbol("ol.style.AtlasManager",ol.style.AtlasManager,OPENLAYERS),goog.exportSymbol("ol.style.Circle",ol.style.Circle,OPENLAYERS),goog.exportProperty(ol.style.Circle.prototype,"getAnchor",ol.style.Circle.prototype.getAnchor),goog.exportProperty(ol.style.Circle.prototype,"getFill",ol.style.Circle.prototype.getFill),goog.exportProperty(ol.style.Circle.prototype,"getImage",ol.style.Circle.prototype.getImage),goog.exportProperty(ol.style.Circle.prototype,"getOrigin",ol.style.Circle.prototype.getOrigin),goog.exportProperty(ol.style.Circle.prototype,"getRadius",ol.style.Circle.prototype.getRadius),goog.exportProperty(ol.style.Circle.prototype,"getSize",ol.style.Circle.prototype.getSize),goog.exportProperty(ol.style.Circle.prototype,"getStroke",ol.style.Circle.prototype.getStroke),goog.exportSymbol("ol.style.Fill",ol.style.Fill,OPENLAYERS),goog.exportProperty(ol.style.Fill.prototype,"getColor",ol.style.Fill.prototype.getColor),goog.exportProperty(ol.style.Fill.prototype,"setColor",ol.style.Fill.prototype.setColor),goog.exportSymbol("ol.style.Icon",ol.style.Icon,OPENLAYERS),goog.exportProperty(ol.style.Icon.prototype,"getAnchor",ol.style.Icon.prototype.getAnchor),goog.exportProperty(ol.style.Icon.prototype,"getImage",ol.style.Icon.prototype.getImage),goog.exportProperty(ol.style.Icon.prototype,"getOrigin",ol.style.Icon.prototype.getOrigin),goog.exportProperty(ol.style.Icon.prototype,"getSrc",ol.style.Icon.prototype.getSrc),goog.exportProperty(ol.style.Icon.prototype,"getSize",ol.style.Icon.prototype.getSize),goog.exportSymbol("ol.style.Image",ol.style.Image,OPENLAYERS),goog.exportProperty(ol.style.Image.prototype,"getOpacity",ol.style.Image.prototype.getOpacity),goog.exportProperty(ol.style.Image.prototype,"getRotateWithView",ol.style.Image.prototype.getRotateWithView),goog.exportProperty(ol.style.Image.prototype,"getRotation",ol.style.Image.prototype.getRotation),goog.exportProperty(ol.style.Image.prototype,"getScale",ol.style.Image.prototype.getScale),goog.exportProperty(ol.style.Image.prototype,"getSnapToPixel",ol.style.Image.prototype.getSnapToPixel),goog.exportProperty(ol.style.Image.prototype,"setRotation",ol.style.Image.prototype.setRotation),goog.exportProperty(ol.style.Image.prototype,"setScale",ol.style.Image.prototype.setScale),goog.exportSymbol("ol.style.RegularShape",ol.style.RegularShape,OPENLAYERS),goog.exportProperty(ol.style.RegularShape.prototype,"getAnchor",ol.style.RegularShape.prototype.getAnchor),goog.exportProperty(ol.style.RegularShape.prototype,"getAngle",ol.style.RegularShape.prototype.getAngle),goog.exportProperty(ol.style.RegularShape.prototype,"getFill",ol.style.RegularShape.prototype.getFill),goog.exportProperty(ol.style.RegularShape.prototype,"getImage",ol.style.RegularShape.prototype.getImage),goog.exportProperty(ol.style.RegularShape.prototype,"getOrigin",ol.style.RegularShape.prototype.getOrigin),goog.exportProperty(ol.style.RegularShape.prototype,"getPoints",ol.style.RegularShape.prototype.getPoints),goog.exportProperty(ol.style.RegularShape.prototype,"getRadius",ol.style.RegularShape.prototype.getRadius),goog.exportProperty(ol.style.RegularShape.prototype,"getRadius2",ol.style.RegularShape.prototype.getRadius2),goog.exportProperty(ol.style.RegularShape.prototype,"getSize",ol.style.RegularShape.prototype.getSize),goog.exportProperty(ol.style.RegularShape.prototype,"getStroke",ol.style.RegularShape.prototype.getStroke),goog.exportSymbol("ol.style.Stroke",ol.style.Stroke,OPENLAYERS),goog.exportProperty(ol.style.Stroke.prototype,"getColor",ol.style.Stroke.prototype.getColor),goog.exportProperty(ol.style.Stroke.prototype,"getLineCap",ol.style.Stroke.prototype.getLineCap),goog.exportProperty(ol.style.Stroke.prototype,"getLineDash",ol.style.Stroke.prototype.getLineDash),goog.exportProperty(ol.style.Stroke.prototype,"getLineJoin",ol.style.Stroke.prototype.getLineJoin),goog.exportProperty(ol.style.Stroke.prototype,"getMiterLimit",ol.style.Stroke.prototype.getMiterLimit),goog.exportProperty(ol.style.Stroke.prototype,"getWidth",ol.style.Stroke.prototype.getWidth),goog.exportProperty(ol.style.Stroke.prototype,"setColor",ol.style.Stroke.prototype.setColor),goog.exportProperty(ol.style.Stroke.prototype,"setLineCap",ol.style.Stroke.prototype.setLineCap),goog.exportProperty(ol.style.Stroke.prototype,"setLineDash",ol.style.Stroke.prototype.setLineDash),goog.exportProperty(ol.style.Stroke.prototype,"setLineJoin",ol.style.Stroke.prototype.setLineJoin),goog.exportProperty(ol.style.Stroke.prototype,"setMiterLimit",ol.style.Stroke.prototype.setMiterLimit),goog.exportProperty(ol.style.Stroke.prototype,"setWidth",ol.style.Stroke.prototype.setWidth),goog.exportSymbol("ol.style.Style",ol.style.Style,OPENLAYERS),goog.exportProperty(ol.style.Style.prototype,"getGeometry",ol.style.Style.prototype.getGeometry),goog.exportProperty(ol.style.Style.prototype,"getGeometryFunction",ol.style.Style.prototype.getGeometryFunction),goog.exportProperty(ol.style.Style.prototype,"getFill",ol.style.Style.prototype.getFill),goog.exportProperty(ol.style.Style.prototype,"getImage",ol.style.Style.prototype.getImage),goog.exportProperty(ol.style.Style.prototype,"getStroke",ol.style.Style.prototype.getStroke),goog.exportProperty(ol.style.Style.prototype,"getText",ol.style.Style.prototype.getText),goog.exportProperty(ol.style.Style.prototype,"getZIndex",ol.style.Style.prototype.getZIndex),goog.exportProperty(ol.style.Style.prototype,"setGeometry",ol.style.Style.prototype.setGeometry),goog.exportProperty(ol.style.Style.prototype,"setZIndex",ol.style.Style.prototype.setZIndex),goog.exportSymbol("ol.style.Text",ol.style.Text,OPENLAYERS),goog.exportProperty(ol.style.Text.prototype,"getFont",ol.style.Text.prototype.getFont),goog.exportProperty(ol.style.Text.prototype,"getOffsetX",ol.style.Text.prototype.getOffsetX),goog.exportProperty(ol.style.Text.prototype,"getOffsetY",ol.style.Text.prototype.getOffsetY),goog.exportProperty(ol.style.Text.prototype,"getFill",ol.style.Text.prototype.getFill),goog.exportProperty(ol.style.Text.prototype,"getRotation",ol.style.Text.prototype.getRotation),goog.exportProperty(ol.style.Text.prototype,"getScale",ol.style.Text.prototype.getScale),goog.exportProperty(ol.style.Text.prototype,"getStroke",ol.style.Text.prototype.getStroke),goog.exportProperty(ol.style.Text.prototype,"getText",ol.style.Text.prototype.getText),goog.exportProperty(ol.style.Text.prototype,"getTextAlign",ol.style.Text.prototype.getTextAlign),goog.exportProperty(ol.style.Text.prototype,"getTextBaseline",ol.style.Text.prototype.getTextBaseline),goog.exportProperty(ol.style.Text.prototype,"setFont",ol.style.Text.prototype.setFont),goog.exportProperty(ol.style.Text.prototype,"setFill",ol.style.Text.prototype.setFill),goog.exportProperty(ol.style.Text.prototype,"setRotation",ol.style.Text.prototype.setRotation),goog.exportProperty(ol.style.Text.prototype,"setScale",ol.style.Text.prototype.setScale),goog.exportProperty(ol.style.Text.prototype,"setStroke",ol.style.Text.prototype.setStroke),goog.exportProperty(ol.style.Text.prototype,"setText",ol.style.Text.prototype.setText),goog.exportProperty(ol.style.Text.prototype,"setTextAlign",ol.style.Text.prototype.setTextAlign),goog.exportProperty(ol.style.Text.prototype,"setTextBaseline",ol.style.Text.prototype.setTextBaseline),goog.exportSymbol("ol.Sphere",ol.Sphere,OPENLAYERS),goog.exportProperty(ol.Sphere.prototype,"geodesicArea",ol.Sphere.prototype.geodesicArea),goog.exportProperty(ol.Sphere.prototype,"haversineDistance",ol.Sphere.prototype.haversineDistance),goog.exportSymbol("ol.source.BingMaps",ol.source.BingMaps,OPENLAYERS),goog.exportSymbol("ol.source.BingMaps.TOS_ATTRIBUTION",ol.source.BingMaps.TOS_ATTRIBUTION,OPENLAYERS),goog.exportSymbol("ol.source.Cluster",ol.source.Cluster,OPENLAYERS),goog.exportProperty(ol.source.Cluster.prototype,"getSource",ol.source.Cluster.prototype.getSource),goog.exportSymbol("ol.source.ImageCanvas",ol.source.ImageCanvas,OPENLAYERS),goog.exportSymbol("ol.source.ImageMapGuide",ol.source.ImageMapGuide,OPENLAYERS),goog.exportProperty(ol.source.ImageMapGuide.prototype,"getParams",ol.source.ImageMapGuide.prototype.getParams),goog.exportProperty(ol.source.ImageMapGuide.prototype,"getImageLoadFunction",ol.source.ImageMapGuide.prototype.getImageLoadFunction),goog.exportProperty(ol.source.ImageMapGuide.prototype,"updateParams",ol.source.ImageMapGuide.prototype.updateParams),goog.exportProperty(ol.source.ImageMapGuide.prototype,"setImageLoadFunction",ol.source.ImageMapGuide.prototype.setImageLoadFunction),goog.exportSymbol("ol.source.Image",ol.source.Image,OPENLAYERS),goog.exportProperty(ol.source.ImageEvent.prototype,"image",ol.source.ImageEvent.prototype.image),goog.exportSymbol("ol.source.ImageStatic",ol.source.ImageStatic,OPENLAYERS),goog.exportSymbol("ol.source.ImageVector",ol.source.ImageVector,OPENLAYERS),goog.exportProperty(ol.source.ImageVector.prototype,"getSource",ol.source.ImageVector.prototype.getSource),goog.exportProperty(ol.source.ImageVector.prototype,"getStyle",ol.source.ImageVector.prototype.getStyle),goog.exportProperty(ol.source.ImageVector.prototype,"getStyleFunction",ol.source.ImageVector.prototype.getStyleFunction),goog.exportProperty(ol.source.ImageVector.prototype,"setStyle",ol.source.ImageVector.prototype.setStyle),goog.exportSymbol("ol.source.ImageWMS",ol.source.ImageWMS,OPENLAYERS),goog.exportProperty(ol.source.ImageWMS.prototype,"getGetFeatureInfoUrl",ol.source.ImageWMS.prototype.getGetFeatureInfoUrl),goog.exportProperty(ol.source.ImageWMS.prototype,"getParams",ol.source.ImageWMS.prototype.getParams),goog.exportProperty(ol.source.ImageWMS.prototype,"getImageLoadFunction",ol.source.ImageWMS.prototype.getImageLoadFunction),goog.exportProperty(ol.source.ImageWMS.prototype,"getUrl",ol.source.ImageWMS.prototype.getUrl),goog.exportProperty(ol.source.ImageWMS.prototype,"setImageLoadFunction",ol.source.ImageWMS.prototype.setImageLoadFunction),goog.exportProperty(ol.source.ImageWMS.prototype,"setUrl",ol.source.ImageWMS.prototype.setUrl),goog.exportProperty(ol.source.ImageWMS.prototype,"updateParams",ol.source.ImageWMS.prototype.updateParams),goog.exportSymbol("ol.source.MapQuest",ol.source.MapQuest,OPENLAYERS),goog.exportProperty(ol.source.MapQuest.prototype,"getLayer",ol.source.MapQuest.prototype.getLayer),goog.exportSymbol("ol.source.OSM",ol.source.OSM,OPENLAYERS),goog.exportSymbol("ol.source.OSM.ATTRIBUTION",ol.source.OSM.ATTRIBUTION,OPENLAYERS),goog.exportSymbol("ol.source.Source",ol.source.Source,OPENLAYERS),goog.exportProperty(ol.source.Source.prototype,"getAttributions",ol.source.Source.prototype.getAttributions),goog.exportProperty(ol.source.Source.prototype,"getLogo",ol.source.Source.prototype.getLogo),goog.exportProperty(ol.source.Source.prototype,"getProjection",ol.source.Source.prototype.getProjection),goog.exportProperty(ol.source.Source.prototype,"getState",ol.source.Source.prototype.getState),goog.exportSymbol("ol.source.Stamen",ol.source.Stamen,OPENLAYERS),goog.exportSymbol("ol.source.TileArcGISRest",ol.source.TileArcGISRest,OPENLAYERS),goog.exportProperty(ol.source.TileArcGISRest.prototype,"getParams",ol.source.TileArcGISRest.prototype.getParams),goog.exportProperty(ol.source.TileArcGISRest.prototype,"getUrls",ol.source.TileArcGISRest.prototype.getUrls),goog.exportProperty(ol.source.TileArcGISRest.prototype,"setUrl",ol.source.TileArcGISRest.prototype.setUrl),goog.exportProperty(ol.source.TileArcGISRest.prototype,"setUrls",ol.source.TileArcGISRest.prototype.setUrls),goog.exportProperty(ol.source.TileArcGISRest.prototype,"updateParams",ol.source.TileArcGISRest.prototype.updateParams),goog.exportSymbol("ol.source.TileDebug",ol.source.TileDebug,OPENLAYERS),goog.exportSymbol("ol.source.TileImage",ol.source.TileImage,OPENLAYERS),goog.exportProperty(ol.source.TileImage.prototype,"getTileLoadFunction",ol.source.TileImage.prototype.getTileLoadFunction),goog.exportProperty(ol.source.TileImage.prototype,"getTileUrlFunction",ol.source.TileImage.prototype.getTileUrlFunction),goog.exportProperty(ol.source.TileImage.prototype,"setTileLoadFunction",ol.source.TileImage.prototype.setTileLoadFunction),goog.exportProperty(ol.source.TileImage.prototype,"setTileUrlFunction",ol.source.TileImage.prototype.setTileUrlFunction),goog.exportSymbol("ol.source.TileJSON",ol.source.TileJSON,OPENLAYERS),goog.exportSymbol("ol.source.Tile",ol.source.Tile,OPENLAYERS),goog.exportProperty(ol.source.Tile.prototype,"getTileGrid",ol.source.Tile.prototype.getTileGrid),goog.exportProperty(ol.source.TileEvent.prototype,"tile",ol.source.TileEvent.prototype.tile),goog.exportSymbol("ol.source.TileUTFGrid",ol.source.TileUTFGrid,OPENLAYERS),goog.exportProperty(ol.source.TileUTFGrid.prototype,"getTemplate",ol.source.TileUTFGrid.prototype.getTemplate),goog.exportProperty(ol.source.TileUTFGrid.prototype,"forDataAtCoordinateAndResolution",ol.source.TileUTFGrid.prototype.forDataAtCoordinateAndResolution),goog.exportSymbol("ol.source.TileVector",ol.source.TileVector,OPENLAYERS),goog.exportProperty(ol.source.TileVector.prototype,"getFeatures",ol.source.TileVector.prototype.getFeatures),goog.exportProperty(ol.source.TileVector.prototype,"getFeaturesAtCoordinateAndResolution",ol.source.TileVector.prototype.getFeaturesAtCoordinateAndResolution),goog.exportSymbol("ol.source.TileWMS",ol.source.TileWMS,OPENLAYERS),goog.exportProperty(ol.source.TileWMS.prototype,"getGetFeatureInfoUrl",ol.source.TileWMS.prototype.getGetFeatureInfoUrl),goog.exportProperty(ol.source.TileWMS.prototype,"getParams",ol.source.TileWMS.prototype.getParams),goog.exportProperty(ol.source.TileWMS.prototype,"getUrls",ol.source.TileWMS.prototype.getUrls),goog.exportProperty(ol.source.TileWMS.prototype,"setUrl",ol.source.TileWMS.prototype.setUrl),goog.exportProperty(ol.source.TileWMS.prototype,"setUrls",ol.source.TileWMS.prototype.setUrls),goog.exportProperty(ol.source.TileWMS.prototype,"updateParams",ol.source.TileWMS.prototype.updateParams),goog.exportSymbol("ol.source.Vector",ol.source.Vector,OPENLAYERS),goog.exportProperty(ol.source.Vector.prototype,"addFeature",ol.source.Vector.prototype.addFeature),goog.exportProperty(ol.source.Vector.prototype,"addFeatures",ol.source.Vector.prototype.addFeatures),goog.exportProperty(ol.source.Vector.prototype,"clear",ol.source.Vector.prototype.clear),goog.exportProperty(ol.source.Vector.prototype,"forEachFeature",ol.source.Vector.prototype.forEachFeature),goog.exportProperty(ol.source.Vector.prototype,"forEachFeatureInExtent",ol.source.Vector.prototype.forEachFeatureInExtent),goog.exportProperty(ol.source.Vector.prototype,"forEachFeatureIntersectingExtent",ol.source.Vector.prototype.forEachFeatureIntersectingExtent),goog.exportProperty(ol.source.Vector.prototype,"getFeaturesCollection",ol.source.Vector.prototype.getFeaturesCollection),goog.exportProperty(ol.source.Vector.prototype,"getFeatures",ol.source.Vector.prototype.getFeatures),goog.exportProperty(ol.source.Vector.prototype,"getFeaturesAtCoordinate",ol.source.Vector.prototype.getFeaturesAtCoordinate),goog.exportProperty(ol.source.Vector.prototype,"getFeaturesInExtent",ol.source.Vector.prototype.getFeaturesInExtent),goog.exportProperty(ol.source.Vector.prototype,"getClosestFeatureToCoordinate",ol.source.Vector.prototype.getClosestFeatureToCoordinate),goog.exportProperty(ol.source.Vector.prototype,"getExtent",ol.source.Vector.prototype.getExtent),goog.exportProperty(ol.source.Vector.prototype,"getFeatureById",ol.source.Vector.prototype.getFeatureById),goog.exportProperty(ol.source.Vector.prototype,"removeFeature",ol.source.Vector.prototype.removeFeature),goog.exportProperty(ol.source.VectorEvent.prototype,"feature",ol.source.VectorEvent.prototype.feature),goog.exportSymbol("ol.source.WMTS",ol.source.WMTS,OPENLAYERS),goog.exportProperty(ol.source.WMTS.prototype,"getDimensions",ol.source.WMTS.prototype.getDimensions),goog.exportProperty(ol.source.WMTS.prototype,"getFormat",ol.source.WMTS.prototype.getFormat),goog.exportProperty(ol.source.WMTS.prototype,"getLayer",ol.source.WMTS.prototype.getLayer),goog.exportProperty(ol.source.WMTS.prototype,"getMatrixSet",ol.source.WMTS.prototype.getMatrixSet),goog.exportProperty(ol.source.WMTS.prototype,"getRequestEncoding",ol.source.WMTS.prototype.getRequestEncoding),goog.exportProperty(ol.source.WMTS.prototype,"getStyle",ol.source.WMTS.prototype.getStyle),goog.exportProperty(ol.source.WMTS.prototype,"getUrls",ol.source.WMTS.prototype.getUrls),goog.exportProperty(ol.source.WMTS.prototype,"getVersion",ol.source.WMTS.prototype.getVersion),goog.exportProperty(ol.source.WMTS.prototype,"updateDimensions",ol.source.WMTS.prototype.updateDimensions),goog.exportSymbol("ol.source.WMTS.optionsFromCapabilities",ol.source.WMTS.optionsFromCapabilities,OPENLAYERS),goog.exportSymbol("ol.source.XYZ",ol.source.XYZ,OPENLAYERS),goog.exportProperty(ol.source.XYZ.prototype,"setUrl",ol.source.XYZ.prototype.setUrl),goog.exportSymbol("ol.source.Zoomify",ol.source.Zoomify,OPENLAYERS),goog.exportProperty(ol.render.Event.prototype,"vectorContext",ol.render.Event.prototype.vectorContext),goog.exportProperty(ol.render.Event.prototype,"frameState",ol.render.Event.prototype.frameState),goog.exportProperty(ol.render.Event.prototype,"context",ol.render.Event.prototype.context),goog.exportProperty(ol.render.Event.prototype,"glContext",ol.render.Event.prototype.glContext),goog.exportSymbol("ol.render.VectorContext",ol.render.VectorContext,OPENLAYERS),goog.exportProperty(ol.render.webgl.Immediate.prototype,"drawAsync",ol.render.webgl.Immediate.prototype.drawAsync),goog.exportProperty(ol.render.webgl.Immediate.prototype,"drawCircleGeometry",ol.render.webgl.Immediate.prototype.drawCircleGeometry),goog.exportProperty(ol.render.webgl.Immediate.prototype,"drawFeature",ol.render.webgl.Immediate.prototype.drawFeature),goog.exportProperty(ol.render.webgl.Immediate.prototype,"drawGeometryCollectionGeometry",ol.render.webgl.Immediate.prototype.drawGeometryCollectionGeometry),
goog.exportProperty(ol.render.webgl.Immediate.prototype,"drawPointGeometry",ol.render.webgl.Immediate.prototype.drawPointGeometry),goog.exportProperty(ol.render.webgl.Immediate.prototype,"drawLineStringGeometry",ol.render.webgl.Immediate.prototype.drawLineStringGeometry),goog.exportProperty(ol.render.webgl.Immediate.prototype,"drawMultiLineStringGeometry",ol.render.webgl.Immediate.prototype.drawMultiLineStringGeometry),goog.exportProperty(ol.render.webgl.Immediate.prototype,"drawMultiPointGeometry",ol.render.webgl.Immediate.prototype.drawMultiPointGeometry),goog.exportProperty(ol.render.webgl.Immediate.prototype,"drawMultiPolygonGeometry",ol.render.webgl.Immediate.prototype.drawMultiPolygonGeometry),goog.exportProperty(ol.render.webgl.Immediate.prototype,"drawPolygonGeometry",ol.render.webgl.Immediate.prototype.drawPolygonGeometry),goog.exportProperty(ol.render.webgl.Immediate.prototype,"drawText",ol.render.webgl.Immediate.prototype.drawText),goog.exportProperty(ol.render.webgl.Immediate.prototype,"setFillStrokeStyle",ol.render.webgl.Immediate.prototype.setFillStrokeStyle),goog.exportProperty(ol.render.webgl.Immediate.prototype,"setImageStyle",ol.render.webgl.Immediate.prototype.setImageStyle),goog.exportProperty(ol.render.webgl.Immediate.prototype,"setTextStyle",ol.render.webgl.Immediate.prototype.setTextStyle),goog.exportProperty(ol.render.canvas.Immediate.prototype,"drawAsync",ol.render.canvas.Immediate.prototype.drawAsync),goog.exportProperty(ol.render.canvas.Immediate.prototype,"drawCircleGeometry",ol.render.canvas.Immediate.prototype.drawCircleGeometry),goog.exportProperty(ol.render.canvas.Immediate.prototype,"drawFeature",ol.render.canvas.Immediate.prototype.drawFeature),goog.exportProperty(ol.render.canvas.Immediate.prototype,"drawPointGeometry",ol.render.canvas.Immediate.prototype.drawPointGeometry),goog.exportProperty(ol.render.canvas.Immediate.prototype,"drawMultiPointGeometry",ol.render.canvas.Immediate.prototype.drawMultiPointGeometry),goog.exportProperty(ol.render.canvas.Immediate.prototype,"drawLineStringGeometry",ol.render.canvas.Immediate.prototype.drawLineStringGeometry),goog.exportProperty(ol.render.canvas.Immediate.prototype,"drawMultiLineStringGeometry",ol.render.canvas.Immediate.prototype.drawMultiLineStringGeometry),goog.exportProperty(ol.render.canvas.Immediate.prototype,"drawPolygonGeometry",ol.render.canvas.Immediate.prototype.drawPolygonGeometry),goog.exportProperty(ol.render.canvas.Immediate.prototype,"drawMultiPolygonGeometry",ol.render.canvas.Immediate.prototype.drawMultiPolygonGeometry),goog.exportProperty(ol.render.canvas.Immediate.prototype,"setFillStrokeStyle",ol.render.canvas.Immediate.prototype.setFillStrokeStyle),goog.exportProperty(ol.render.canvas.Immediate.prototype,"setImageStyle",ol.render.canvas.Immediate.prototype.setImageStyle),goog.exportProperty(ol.render.canvas.Immediate.prototype,"setTextStyle",ol.render.canvas.Immediate.prototype.setTextStyle),goog.exportSymbol("ol.proj.common.add",ol.proj.common.add,OPENLAYERS),goog.exportSymbol("ol.proj.METERS_PER_UNIT",ol.proj.METERS_PER_UNIT,OPENLAYERS),goog.exportSymbol("ol.proj.Projection",ol.proj.Projection,OPENLAYERS),goog.exportProperty(ol.proj.Projection.prototype,"getCode",ol.proj.Projection.prototype.getCode),goog.exportProperty(ol.proj.Projection.prototype,"getExtent",ol.proj.Projection.prototype.getExtent),goog.exportProperty(ol.proj.Projection.prototype,"getUnits",ol.proj.Projection.prototype.getUnits),goog.exportProperty(ol.proj.Projection.prototype,"getMetersPerUnit",ol.proj.Projection.prototype.getMetersPerUnit),goog.exportProperty(ol.proj.Projection.prototype,"getWorldExtent",ol.proj.Projection.prototype.getWorldExtent),goog.exportProperty(ol.proj.Projection.prototype,"isGlobal",ol.proj.Projection.prototype.isGlobal),goog.exportProperty(ol.proj.Projection.prototype,"setGlobal",ol.proj.Projection.prototype.setGlobal),goog.exportProperty(ol.proj.Projection.prototype,"setExtent",ol.proj.Projection.prototype.setExtent),goog.exportProperty(ol.proj.Projection.prototype,"setWorldExtent",ol.proj.Projection.prototype.setWorldExtent),goog.exportProperty(ol.proj.Projection.prototype,"setGetPointResolution",ol.proj.Projection.prototype.setGetPointResolution),goog.exportProperty(ol.proj.Projection.prototype,"getPointResolution",ol.proj.Projection.prototype.getPointResolution),goog.exportSymbol("ol.proj.addEquivalentProjections",ol.proj.addEquivalentProjections,OPENLAYERS),goog.exportSymbol("ol.proj.addProjection",ol.proj.addProjection,OPENLAYERS),goog.exportSymbol("ol.proj.addCoordinateTransforms",ol.proj.addCoordinateTransforms,OPENLAYERS),goog.exportSymbol("ol.proj.fromLonLat",ol.proj.fromLonLat,OPENLAYERS),goog.exportSymbol("ol.proj.toLonLat",ol.proj.toLonLat,OPENLAYERS),goog.exportSymbol("ol.proj.get",ol.proj.get,OPENLAYERS),goog.exportSymbol("ol.proj.getTransform",ol.proj.getTransform,OPENLAYERS),goog.exportSymbol("ol.proj.transform",ol.proj.transform,OPENLAYERS),goog.exportSymbol("ol.proj.transformExtent",ol.proj.transformExtent,OPENLAYERS),goog.exportSymbol("ol.layer.Heatmap",ol.layer.Heatmap,OPENLAYERS),goog.exportProperty(ol.layer.Heatmap.prototype,"getBlur",ol.layer.Heatmap.prototype.getBlur),goog.exportProperty(ol.layer.Heatmap.prototype,"getGradient",ol.layer.Heatmap.prototype.getGradient),goog.exportProperty(ol.layer.Heatmap.prototype,"getRadius",ol.layer.Heatmap.prototype.getRadius),goog.exportProperty(ol.layer.Heatmap.prototype,"setBlur",ol.layer.Heatmap.prototype.setBlur),goog.exportProperty(ol.layer.Heatmap.prototype,"setGradient",ol.layer.Heatmap.prototype.setGradient),goog.exportProperty(ol.layer.Heatmap.prototype,"setRadius",ol.layer.Heatmap.prototype.setRadius),goog.exportSymbol("ol.layer.Image",ol.layer.Image,OPENLAYERS),goog.exportProperty(ol.layer.Image.prototype,"getSource",ol.layer.Image.prototype.getSource),goog.exportSymbol("ol.layer.Layer",ol.layer.Layer,OPENLAYERS),goog.exportProperty(ol.layer.Layer.prototype,"getSource",ol.layer.Layer.prototype.getSource),goog.exportProperty(ol.layer.Layer.prototype,"setMap",ol.layer.Layer.prototype.setMap),goog.exportProperty(ol.layer.Layer.prototype,"setSource",ol.layer.Layer.prototype.setSource),goog.exportSymbol("ol.layer.Base",ol.layer.Base,OPENLAYERS),goog.exportProperty(ol.layer.Base.prototype,"getBrightness",ol.layer.Base.prototype.getBrightness),goog.exportProperty(ol.layer.Base.prototype,"getContrast",ol.layer.Base.prototype.getContrast),goog.exportProperty(ol.layer.Base.prototype,"getHue",ol.layer.Base.prototype.getHue),goog.exportProperty(ol.layer.Base.prototype,"getExtent",ol.layer.Base.prototype.getExtent),goog.exportProperty(ol.layer.Base.prototype,"getMaxResolution",ol.layer.Base.prototype.getMaxResolution),goog.exportProperty(ol.layer.Base.prototype,"getMinResolution",ol.layer.Base.prototype.getMinResolution),goog.exportProperty(ol.layer.Base.prototype,"getOpacity",ol.layer.Base.prototype.getOpacity),goog.exportProperty(ol.layer.Base.prototype,"getSaturation",ol.layer.Base.prototype.getSaturation),goog.exportProperty(ol.layer.Base.prototype,"getVisible",ol.layer.Base.prototype.getVisible),goog.exportProperty(ol.layer.Base.prototype,"setBrightness",ol.layer.Base.prototype.setBrightness),goog.exportProperty(ol.layer.Base.prototype,"setContrast",ol.layer.Base.prototype.setContrast),goog.exportProperty(ol.layer.Base.prototype,"setHue",ol.layer.Base.prototype.setHue),goog.exportProperty(ol.layer.Base.prototype,"setExtent",ol.layer.Base.prototype.setExtent),goog.exportProperty(ol.layer.Base.prototype,"setMaxResolution",ol.layer.Base.prototype.setMaxResolution),goog.exportProperty(ol.layer.Base.prototype,"setMinResolution",ol.layer.Base.prototype.setMinResolution),goog.exportProperty(ol.layer.Base.prototype,"setOpacity",ol.layer.Base.prototype.setOpacity),goog.exportProperty(ol.layer.Base.prototype,"setSaturation",ol.layer.Base.prototype.setSaturation),goog.exportProperty(ol.layer.Base.prototype,"setVisible",ol.layer.Base.prototype.setVisible),goog.exportSymbol("ol.layer.Group",ol.layer.Group,OPENLAYERS),goog.exportProperty(ol.layer.Group.prototype,"getLayers",ol.layer.Group.prototype.getLayers),goog.exportProperty(ol.layer.Group.prototype,"setLayers",ol.layer.Group.prototype.setLayers),goog.exportSymbol("ol.layer.Tile",ol.layer.Tile,OPENLAYERS),goog.exportProperty(ol.layer.Tile.prototype,"getPreload",ol.layer.Tile.prototype.getPreload),goog.exportProperty(ol.layer.Tile.prototype,"getSource",ol.layer.Tile.prototype.getSource),goog.exportProperty(ol.layer.Tile.prototype,"setPreload",ol.layer.Tile.prototype.setPreload),goog.exportProperty(ol.layer.Tile.prototype,"getUseInterimTilesOnError",ol.layer.Tile.prototype.getUseInterimTilesOnError),goog.exportProperty(ol.layer.Tile.prototype,"setUseInterimTilesOnError",ol.layer.Tile.prototype.setUseInterimTilesOnError),goog.exportSymbol("ol.layer.Vector",ol.layer.Vector,OPENLAYERS),goog.exportProperty(ol.layer.Vector.prototype,"getSource",ol.layer.Vector.prototype.getSource),goog.exportProperty(ol.layer.Vector.prototype,"getStyle",ol.layer.Vector.prototype.getStyle),goog.exportProperty(ol.layer.Vector.prototype,"getStyleFunction",ol.layer.Vector.prototype.getStyleFunction),goog.exportProperty(ol.layer.Vector.prototype,"setStyle",ol.layer.Vector.prototype.setStyle),goog.exportSymbol("ol.interaction.DoubleClickZoom",ol.interaction.DoubleClickZoom,OPENLAYERS),goog.exportSymbol("ol.interaction.DoubleClickZoom.handleEvent",ol.interaction.DoubleClickZoom.handleEvent,OPENLAYERS),goog.exportSymbol("ol.interaction.DragAndDrop",ol.interaction.DragAndDrop,OPENLAYERS),goog.exportSymbol("ol.interaction.DragAndDrop.handleEvent",ol.interaction.DragAndDrop.handleEvent,OPENLAYERS),goog.exportProperty(ol.interaction.DragAndDropEvent.prototype,"features",ol.interaction.DragAndDropEvent.prototype.features),goog.exportProperty(ol.interaction.DragAndDropEvent.prototype,"file",ol.interaction.DragAndDropEvent.prototype.file),goog.exportProperty(ol.interaction.DragAndDropEvent.prototype,"projection",ol.interaction.DragAndDropEvent.prototype.projection),goog.exportProperty(ol.DragBoxEvent.prototype,"coordinate",ol.DragBoxEvent.prototype.coordinate),goog.exportSymbol("ol.interaction.DragBox",ol.interaction.DragBox,OPENLAYERS),goog.exportProperty(ol.interaction.DragBox.prototype,"getGeometry",ol.interaction.DragBox.prototype.getGeometry),goog.exportSymbol("ol.interaction.DragPan",ol.interaction.DragPan,OPENLAYERS),goog.exportSymbol("ol.interaction.DragRotateAndZoom",ol.interaction.DragRotateAndZoom,OPENLAYERS),goog.exportSymbol("ol.interaction.DragRotate",ol.interaction.DragRotate,OPENLAYERS),goog.exportSymbol("ol.interaction.DragZoom",ol.interaction.DragZoom,OPENLAYERS),goog.exportProperty(ol.interaction.DrawEvent.prototype,"feature",ol.interaction.DrawEvent.prototype.feature),goog.exportSymbol("ol.interaction.Draw",ol.interaction.Draw,OPENLAYERS),goog.exportSymbol("ol.interaction.Draw.handleEvent",ol.interaction.Draw.handleEvent,OPENLAYERS),goog.exportProperty(ol.interaction.Draw.prototype,"finishDrawing",ol.interaction.Draw.prototype.finishDrawing),goog.exportSymbol("ol.interaction.Draw.createRegularPolygon",ol.interaction.Draw.createRegularPolygon,OPENLAYERS),goog.exportSymbol("ol.interaction.Interaction",ol.interaction.Interaction,OPENLAYERS),goog.exportProperty(ol.interaction.Interaction.prototype,"getActive",ol.interaction.Interaction.prototype.getActive),goog.exportProperty(ol.interaction.Interaction.prototype,"setActive",ol.interaction.Interaction.prototype.setActive),goog.exportSymbol("ol.interaction.defaults",ol.interaction.defaults,OPENLAYERS),goog.exportSymbol("ol.interaction.KeyboardPan",ol.interaction.KeyboardPan,OPENLAYERS),goog.exportSymbol("ol.interaction.KeyboardPan.handleEvent",ol.interaction.KeyboardPan.handleEvent,OPENLAYERS),goog.exportSymbol("ol.interaction.KeyboardZoom",ol.interaction.KeyboardZoom,OPENLAYERS),goog.exportSymbol("ol.interaction.KeyboardZoom.handleEvent",ol.interaction.KeyboardZoom.handleEvent,OPENLAYERS),goog.exportProperty(ol.ModifyEvent.prototype,"features",ol.ModifyEvent.prototype.features),goog.exportProperty(ol.ModifyEvent.prototype,"mapBrowserPointerEvent",ol.ModifyEvent.prototype.mapBrowserPointerEvent),goog.exportSymbol("ol.interaction.Modify",ol.interaction.Modify,OPENLAYERS),goog.exportSymbol("ol.interaction.Modify.handleEvent",ol.interaction.Modify.handleEvent,OPENLAYERS),goog.exportSymbol("ol.interaction.MouseWheelZoom",ol.interaction.MouseWheelZoom,OPENLAYERS),goog.exportSymbol("ol.interaction.MouseWheelZoom.handleEvent",ol.interaction.MouseWheelZoom.handleEvent,OPENLAYERS),goog.exportSymbol("ol.interaction.PinchRotate",ol.interaction.PinchRotate,OPENLAYERS),goog.exportSymbol("ol.interaction.PinchZoom",ol.interaction.PinchZoom,OPENLAYERS),goog.exportSymbol("ol.interaction.Pointer",ol.interaction.Pointer,OPENLAYERS),goog.exportSymbol("ol.interaction.Pointer.handleEvent",ol.interaction.Pointer.handleEvent,OPENLAYERS),goog.exportProperty(ol.SelectEvent.prototype,"selected",ol.SelectEvent.prototype.selected),goog.exportProperty(ol.SelectEvent.prototype,"deselected",ol.SelectEvent.prototype.deselected),goog.exportProperty(ol.SelectEvent.prototype,"mapBrowserEvent",ol.SelectEvent.prototype.mapBrowserEvent),goog.exportSymbol("ol.interaction.Select",ol.interaction.Select,OPENLAYERS),goog.exportProperty(ol.interaction.Select.prototype,"getFeatures",ol.interaction.Select.prototype.getFeatures),goog.exportSymbol("ol.interaction.Select.handleEvent",ol.interaction.Select.handleEvent,OPENLAYERS),goog.exportProperty(ol.interaction.Select.prototype,"setMap",ol.interaction.Select.prototype.setMap),goog.exportSymbol("ol.interaction.Snap",ol.interaction.Snap,OPENLAYERS),goog.exportProperty(ol.interaction.Snap.prototype,"addFeature",ol.interaction.Snap.prototype.addFeature),goog.exportProperty(ol.interaction.Snap.prototype,"removeFeature",ol.interaction.Snap.prototype.removeFeature),goog.exportSymbol("ol.geom.Circle",ol.geom.Circle,OPENLAYERS),goog.exportProperty(ol.geom.Circle.prototype,"clone",ol.geom.Circle.prototype.clone),goog.exportProperty(ol.geom.Circle.prototype,"getCenter",ol.geom.Circle.prototype.getCenter),goog.exportProperty(ol.geom.Circle.prototype,"getRadius",ol.geom.Circle.prototype.getRadius),goog.exportProperty(ol.geom.Circle.prototype,"getType",ol.geom.Circle.prototype.getType),goog.exportProperty(ol.geom.Circle.prototype,"intersectsExtent",ol.geom.Circle.prototype.intersectsExtent),goog.exportProperty(ol.geom.Circle.prototype,"setCenter",ol.geom.Circle.prototype.setCenter),goog.exportProperty(ol.geom.Circle.prototype,"setCenterAndRadius",ol.geom.Circle.prototype.setCenterAndRadius),goog.exportProperty(ol.geom.Circle.prototype,"setRadius",ol.geom.Circle.prototype.setRadius),goog.exportProperty(ol.geom.Circle.prototype,"transform",ol.geom.Circle.prototype.transform),goog.exportSymbol("ol.geom.Geometry",ol.geom.Geometry,OPENLAYERS),goog.exportProperty(ol.geom.Geometry.prototype,"getClosestPoint",ol.geom.Geometry.prototype.getClosestPoint),goog.exportProperty(ol.geom.Geometry.prototype,"getExtent",ol.geom.Geometry.prototype.getExtent),goog.exportProperty(ol.geom.Geometry.prototype,"transform",ol.geom.Geometry.prototype.transform),goog.exportSymbol("ol.geom.GeometryCollection",ol.geom.GeometryCollection,OPENLAYERS),goog.exportProperty(ol.geom.GeometryCollection.prototype,"clone",ol.geom.GeometryCollection.prototype.clone),goog.exportProperty(ol.geom.GeometryCollection.prototype,"getGeometries",ol.geom.GeometryCollection.prototype.getGeometries),goog.exportProperty(ol.geom.GeometryCollection.prototype,"getType",ol.geom.GeometryCollection.prototype.getType),goog.exportProperty(ol.geom.GeometryCollection.prototype,"intersectsExtent",ol.geom.GeometryCollection.prototype.intersectsExtent),goog.exportProperty(ol.geom.GeometryCollection.prototype,"setGeometries",ol.geom.GeometryCollection.prototype.setGeometries),goog.exportProperty(ol.geom.GeometryCollection.prototype,"applyTransform",ol.geom.GeometryCollection.prototype.applyTransform),goog.exportProperty(ol.geom.GeometryCollection.prototype,"translate",ol.geom.GeometryCollection.prototype.translate),goog.exportSymbol("ol.geom.LinearRing",ol.geom.LinearRing,OPENLAYERS),goog.exportProperty(ol.geom.LinearRing.prototype,"clone",ol.geom.LinearRing.prototype.clone),goog.exportProperty(ol.geom.LinearRing.prototype,"getArea",ol.geom.LinearRing.prototype.getArea),goog.exportProperty(ol.geom.LinearRing.prototype,"getCoordinates",ol.geom.LinearRing.prototype.getCoordinates),goog.exportProperty(ol.geom.LinearRing.prototype,"getType",ol.geom.LinearRing.prototype.getType),goog.exportProperty(ol.geom.LinearRing.prototype,"setCoordinates",ol.geom.LinearRing.prototype.setCoordinates),goog.exportSymbol("ol.geom.LineString",ol.geom.LineString,OPENLAYERS),goog.exportProperty(ol.geom.LineString.prototype,"appendCoordinate",ol.geom.LineString.prototype.appendCoordinate),goog.exportProperty(ol.geom.LineString.prototype,"clone",ol.geom.LineString.prototype.clone),goog.exportProperty(ol.geom.LineString.prototype,"forEachSegment",ol.geom.LineString.prototype.forEachSegment),goog.exportProperty(ol.geom.LineString.prototype,"getCoordinateAtM",ol.geom.LineString.prototype.getCoordinateAtM),goog.exportProperty(ol.geom.LineString.prototype,"getCoordinates",ol.geom.LineString.prototype.getCoordinates),goog.exportProperty(ol.geom.LineString.prototype,"getLength",ol.geom.LineString.prototype.getLength),goog.exportProperty(ol.geom.LineString.prototype,"getType",ol.geom.LineString.prototype.getType),goog.exportProperty(ol.geom.LineString.prototype,"intersectsExtent",ol.geom.LineString.prototype.intersectsExtent),goog.exportProperty(ol.geom.LineString.prototype,"setCoordinates",ol.geom.LineString.prototype.setCoordinates),goog.exportSymbol("ol.geom.MultiLineString",ol.geom.MultiLineString,OPENLAYERS),goog.exportProperty(ol.geom.MultiLineString.prototype,"appendLineString",ol.geom.MultiLineString.prototype.appendLineString),goog.exportProperty(ol.geom.MultiLineString.prototype,"clone",ol.geom.MultiLineString.prototype.clone),goog.exportProperty(ol.geom.MultiLineString.prototype,"getCoordinateAtM",ol.geom.MultiLineString.prototype.getCoordinateAtM),goog.exportProperty(ol.geom.MultiLineString.prototype,"getCoordinates",ol.geom.MultiLineString.prototype.getCoordinates),goog.exportProperty(ol.geom.MultiLineString.prototype,"getLineString",ol.geom.MultiLineString.prototype.getLineString),goog.exportProperty(ol.geom.MultiLineString.prototype,"getLineStrings",ol.geom.MultiLineString.prototype.getLineStrings),goog.exportProperty(ol.geom.MultiLineString.prototype,"getType",ol.geom.MultiLineString.prototype.getType),goog.exportProperty(ol.geom.MultiLineString.prototype,"intersectsExtent",ol.geom.MultiLineString.prototype.intersectsExtent),goog.exportProperty(ol.geom.MultiLineString.prototype,"setCoordinates",ol.geom.MultiLineString.prototype.setCoordinates),goog.exportSymbol("ol.geom.MultiPoint",ol.geom.MultiPoint,OPENLAYERS),goog.exportProperty(ol.geom.MultiPoint.prototype,"appendPoint",ol.geom.MultiPoint.prototype.appendPoint),goog.exportProperty(ol.geom.MultiPoint.prototype,"clone",ol.geom.MultiPoint.prototype.clone),goog.exportProperty(ol.geom.MultiPoint.prototype,"getCoordinates",ol.geom.MultiPoint.prototype.getCoordinates),goog.exportProperty(ol.geom.MultiPoint.prototype,"getPoint",ol.geom.MultiPoint.prototype.getPoint),goog.exportProperty(ol.geom.MultiPoint.prototype,"getPoints",ol.geom.MultiPoint.prototype.getPoints),goog.exportProperty(ol.geom.MultiPoint.prototype,"getType",ol.geom.MultiPoint.prototype.getType),goog.exportProperty(ol.geom.MultiPoint.prototype,"intersectsExtent",ol.geom.MultiPoint.prototype.intersectsExtent),goog.exportProperty(ol.geom.MultiPoint.prototype,"setCoordinates",ol.geom.MultiPoint.prototype.setCoordinates),goog.exportSymbol("ol.geom.MultiPolygon",ol.geom.MultiPolygon,OPENLAYERS),goog.exportProperty(ol.geom.MultiPolygon.prototype,"appendPolygon",ol.geom.MultiPolygon.prototype.appendPolygon),goog.exportProperty(ol.geom.MultiPolygon.prototype,"clone",ol.geom.MultiPolygon.prototype.clone),goog.exportProperty(ol.geom.MultiPolygon.prototype,"getArea",ol.geom.MultiPolygon.prototype.getArea),goog.exportProperty(ol.geom.MultiPolygon.prototype,"getCoordinates",ol.geom.MultiPolygon.prototype.getCoordinates),goog.exportProperty(ol.geom.MultiPolygon.prototype,"getInteriorPoints",ol.geom.MultiPolygon.prototype.getInteriorPoints),goog.exportProperty(ol.geom.MultiPolygon.prototype,"getPolygon",ol.geom.MultiPolygon.prototype.getPolygon),goog.exportProperty(ol.geom.MultiPolygon.prototype,"getPolygons",ol.geom.MultiPolygon.prototype.getPolygons),goog.exportProperty(ol.geom.MultiPolygon.prototype,"getType",ol.geom.MultiPolygon.prototype.getType),goog.exportProperty(ol.geom.MultiPolygon.prototype,"intersectsExtent",ol.geom.MultiPolygon.prototype.intersectsExtent),goog.exportProperty(ol.geom.MultiPolygon.prototype,"setCoordinates",ol.geom.MultiPolygon.prototype.setCoordinates),goog.exportSymbol("ol.geom.Point",ol.geom.Point,OPENLAYERS),goog.exportProperty(ol.geom.Point.prototype,"clone",ol.geom.Point.prototype.clone),goog.exportProperty(ol.geom.Point.prototype,"getCoordinates",ol.geom.Point.prototype.getCoordinates),goog.exportProperty(ol.geom.Point.prototype,"getType",ol.geom.Point.prototype.getType),goog.exportProperty(ol.geom.Point.prototype,"intersectsExtent",ol.geom.Point.prototype.intersectsExtent),goog.exportProperty(ol.geom.Point.prototype,"setCoordinates",ol.geom.Point.prototype.setCoordinates),goog.exportSymbol("ol.geom.Polygon",ol.geom.Polygon,OPENLAYERS),goog.exportProperty(ol.geom.Polygon.prototype,"appendLinearRing",ol.geom.Polygon.prototype.appendLinearRing),goog.exportProperty(ol.geom.Polygon.prototype,"clone",ol.geom.Polygon.prototype.clone),goog.exportProperty(ol.geom.Polygon.prototype,"getArea",ol.geom.Polygon.prototype.getArea),goog.exportProperty(ol.geom.Polygon.prototype,"getCoordinates",ol.geom.Polygon.prototype.getCoordinates),goog.exportProperty(ol.geom.Polygon.prototype,"getInteriorPoint",ol.geom.Polygon.prototype.getInteriorPoint),goog.exportProperty(ol.geom.Polygon.prototype,"getLinearRingCount",ol.geom.Polygon.prototype.getLinearRingCount),goog.exportProperty(ol.geom.Polygon.prototype,"getLinearRing",ol.geom.Polygon.prototype.getLinearRing),goog.exportProperty(ol.geom.Polygon.prototype,"getLinearRings",ol.geom.Polygon.prototype.getLinearRings),goog.exportProperty(ol.geom.Polygon.prototype,"getType",ol.geom.Polygon.prototype.getType),goog.exportProperty(ol.geom.Polygon.prototype,"intersectsExtent",ol.geom.Polygon.prototype.intersectsExtent),goog.exportProperty(ol.geom.Polygon.prototype,"setCoordinates",ol.geom.Polygon.prototype.setCoordinates),goog.exportSymbol("ol.geom.Polygon.circular",ol.geom.Polygon.circular,OPENLAYERS),goog.exportSymbol("ol.geom.Polygon.fromExtent",ol.geom.Polygon.fromExtent,OPENLAYERS),goog.exportSymbol("ol.geom.Polygon.fromCircle",ol.geom.Polygon.fromCircle,OPENLAYERS),goog.exportSymbol("ol.geom.SimpleGeometry",ol.geom.SimpleGeometry,OPENLAYERS),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"getFirstCoordinate",ol.geom.SimpleGeometry.prototype.getFirstCoordinate),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"getLastCoordinate",ol.geom.SimpleGeometry.prototype.getLastCoordinate),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"getLayout",ol.geom.SimpleGeometry.prototype.getLayout),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"applyTransform",ol.geom.SimpleGeometry.prototype.applyTransform),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"translate",ol.geom.SimpleGeometry.prototype.translate),goog.exportSymbol("ol.format.EsriJSON",ol.format.EsriJSON,OPENLAYERS),goog.exportProperty(ol.format.EsriJSON.prototype,"readFeature",ol.format.EsriJSON.prototype.readFeature),goog.exportProperty(ol.format.EsriJSON.prototype,"readFeatures",ol.format.EsriJSON.prototype.readFeatures),goog.exportProperty(ol.format.EsriJSON.prototype,"readGeometry",ol.format.EsriJSON.prototype.readGeometry),goog.exportProperty(ol.format.EsriJSON.prototype,"readProjection",ol.format.EsriJSON.prototype.readProjection),goog.exportProperty(ol.format.EsriJSON.prototype,"writeGeometry",ol.format.EsriJSON.prototype.writeGeometry),goog.exportProperty(ol.format.EsriJSON.prototype,"writeGeometryObject",ol.format.EsriJSON.prototype.writeGeometryObject),goog.exportProperty(ol.format.EsriJSON.prototype,"writeFeature",ol.format.EsriJSON.prototype.writeFeature),goog.exportProperty(ol.format.EsriJSON.prototype,"writeFeatureObject",ol.format.EsriJSON.prototype.writeFeatureObject),goog.exportProperty(ol.format.EsriJSON.prototype,"writeFeatures",ol.format.EsriJSON.prototype.writeFeatures),goog.exportProperty(ol.format.EsriJSON.prototype,"writeFeaturesObject",ol.format.EsriJSON.prototype.writeFeaturesObject),goog.exportSymbol("ol.format.Feature",ol.format.Feature,OPENLAYERS),goog.exportSymbol("ol.format.GeoJSON",ol.format.GeoJSON,OPENLAYERS),goog.exportProperty(ol.format.GeoJSON.prototype,"readFeature",ol.format.GeoJSON.prototype.readFeature),goog.exportProperty(ol.format.GeoJSON.prototype,"readFeatures",ol.format.GeoJSON.prototype.readFeatures),goog.exportProperty(ol.format.GeoJSON.prototype,"readGeometry",ol.format.GeoJSON.prototype.readGeometry),goog.exportProperty(ol.format.GeoJSON.prototype,"readProjection",ol.format.GeoJSON.prototype.readProjection),goog.exportProperty(ol.format.GeoJSON.prototype,"writeFeature",ol.format.GeoJSON.prototype.writeFeature),goog.exportProperty(ol.format.GeoJSON.prototype,"writeFeatureObject",ol.format.GeoJSON.prototype.writeFeatureObject),goog.exportProperty(ol.format.GeoJSON.prototype,"writeFeatures",ol.format.GeoJSON.prototype.writeFeatures),goog.exportProperty(ol.format.GeoJSON.prototype,"writeFeaturesObject",ol.format.GeoJSON.prototype.writeFeaturesObject),goog.exportProperty(ol.format.GeoJSON.prototype,"writeGeometry",ol.format.GeoJSON.prototype.writeGeometry),goog.exportProperty(ol.format.GeoJSON.prototype,"writeGeometryObject",ol.format.GeoJSON.prototype.writeGeometryObject),goog.exportSymbol("ol.format.GPX",ol.format.GPX,OPENLAYERS),goog.exportProperty(ol.format.GPX.prototype,"readFeature",ol.format.GPX.prototype.readFeature),goog.exportProperty(ol.format.GPX.prototype,"readFeatures",ol.format.GPX.prototype.readFeatures),goog.exportProperty(ol.format.GPX.prototype,"readProjection",ol.format.GPX.prototype.readProjection),goog.exportProperty(ol.format.GPX.prototype,"writeFeatures",ol.format.GPX.prototype.writeFeatures),goog.exportProperty(ol.format.GPX.prototype,"writeFeaturesNode",ol.format.GPX.prototype.writeFeaturesNode),goog.exportSymbol("ol.format.IGC",ol.format.IGC,OPENLAYERS),goog.exportProperty(ol.format.IGC.prototype,"readFeature",ol.format.IGC.prototype.readFeature),goog.exportProperty(ol.format.IGC.prototype,"readFeatures",ol.format.IGC.prototype.readFeatures),goog.exportProperty(ol.format.IGC.prototype,"readProjection",ol.format.IGC.prototype.readProjection),goog.exportSymbol("ol.format.KML",ol.format.KML,OPENLAYERS),goog.exportProperty(ol.format.KML.prototype,"readFeature",ol.format.KML.prototype.readFeature),goog.exportProperty(ol.format.KML.prototype,"readFeatures",ol.format.KML.prototype.readFeatures),goog.exportProperty(ol.format.KML.prototype,"readName",ol.format.KML.prototype.readName),goog.exportProperty(ol.format.KML.prototype,"readNetworkLinks",ol.format.KML.prototype.readNetworkLinks),goog.exportProperty(ol.format.KML.prototype,"readProjection",ol.format.KML.prototype.readProjection),goog.exportProperty(ol.format.KML.prototype,"writeFeatures",ol.format.KML.prototype.writeFeatures),goog.exportProperty(ol.format.KML.prototype,"writeFeaturesNode",ol.format.KML.prototype.writeFeaturesNode),goog.exportSymbol("ol.format.OSMXML",ol.format.OSMXML,OPENLAYERS),goog.exportProperty(ol.format.OSMXML.prototype,"readFeatures",ol.format.OSMXML.prototype.readFeatures),goog.exportProperty(ol.format.OSMXML.prototype,"readProjection",ol.format.OSMXML.prototype.readProjection),goog.exportSymbol("ol.format.Polyline",ol.format.Polyline,OPENLAYERS),goog.exportSymbol("ol.format.Polyline.encodeDeltas",ol.format.Polyline.encodeDeltas,OPENLAYERS),goog.exportSymbol("ol.format.Polyline.decodeDeltas",ol.format.Polyline.decodeDeltas,OPENLAYERS),goog.exportSymbol("ol.format.Polyline.encodeFloats",ol.format.Polyline.encodeFloats,OPENLAYERS),goog.exportSymbol("ol.format.Polyline.decodeFloats",ol.format.Polyline.decodeFloats,OPENLAYERS),goog.exportProperty(ol.format.Polyline.prototype,"readFeature",ol.format.Polyline.prototype.readFeature),goog.exportProperty(ol.format.Polyline.prototype,"readFeatures",ol.format.Polyline.prototype.readFeatures),goog.exportProperty(ol.format.Polyline.prototype,"readGeometry",ol.format.Polyline.prototype.readGeometry),goog.exportProperty(ol.format.Polyline.prototype,"readProjection",ol.format.Polyline.prototype.readProjection),goog.exportProperty(ol.format.Polyline.prototype,"writeGeometry",ol.format.Polyline.prototype.writeGeometry),goog.exportSymbol("ol.format.TopoJSON",ol.format.TopoJSON,OPENLAYERS),goog.exportProperty(ol.format.TopoJSON.prototype,"readFeatures",ol.format.TopoJSON.prototype.readFeatures),goog.exportProperty(ol.format.TopoJSON.prototype,"readProjection",ol.format.TopoJSON.prototype.readProjection),goog.exportSymbol("ol.format.WFS",ol.format.WFS,OPENLAYERS),goog.exportProperty(ol.format.WFS.prototype,"readFeatures",ol.format.WFS.prototype.readFeatures),goog.exportProperty(ol.format.WFS.prototype,"readTransactionResponse",ol.format.WFS.prototype.readTransactionResponse),goog.exportProperty(ol.format.WFS.prototype,"readFeatureCollectionMetadata",ol.format.WFS.prototype.readFeatureCollectionMetadata),goog.exportProperty(ol.format.WFS.prototype,"writeGetFeature",ol.format.WFS.prototype.writeGetFeature),goog.exportProperty(ol.format.WFS.prototype,"writeTransaction",ol.format.WFS.prototype.writeTransaction),goog.exportProperty(ol.format.WFS.prototype,"readProjection",ol.format.WFS.prototype.readProjection),goog.exportSymbol("ol.format.WKT",ol.format.WKT,OPENLAYERS),goog.exportProperty(ol.format.WKT.prototype,"readFeature",ol.format.WKT.prototype.readFeature),goog.exportProperty(ol.format.WKT.prototype,"readFeatures",ol.format.WKT.prototype.readFeatures),goog.exportProperty(ol.format.WKT.prototype,"readGeometry",ol.format.WKT.prototype.readGeometry),goog.exportProperty(ol.format.WKT.prototype,"writeFeature",ol.format.WKT.prototype.writeFeature),goog.exportProperty(ol.format.WKT.prototype,"writeFeatures",ol.format.WKT.prototype.writeFeatures),goog.exportProperty(ol.format.WKT.prototype,"writeGeometry",ol.format.WKT.prototype.writeGeometry),goog.exportSymbol("ol.format.WMSCapabilities",ol.format.WMSCapabilities,OPENLAYERS),goog.exportProperty(ol.format.WMSCapabilities.prototype,"read",ol.format.WMSCapabilities.prototype.read),goog.exportSymbol("ol.format.WMSGetFeatureInfo",ol.format.WMSGetFeatureInfo,OPENLAYERS),goog.exportProperty(ol.format.WMSGetFeatureInfo.prototype,"readFeatures",ol.format.WMSGetFeatureInfo.prototype.readFeatures),goog.exportSymbol("ol.format.WMTSCapabilities",ol.format.WMTSCapabilities,OPENLAYERS),goog.exportProperty(ol.format.WMTSCapabilities.prototype,"read",ol.format.WMTSCapabilities.prototype.read),goog.exportSymbol("ol.format.GML2",ol.format.GML2,OPENLAYERS),goog.exportSymbol("ol.format.GML3",ol.format.GML3,OPENLAYERS),goog.exportProperty(ol.format.GML3.prototype,"writeGeometryNode",ol.format.GML3.prototype.writeGeometryNode),goog.exportProperty(ol.format.GML3.prototype,"writeFeatures",ol.format.GML3.prototype.writeFeatures),goog.exportProperty(ol.format.GML3.prototype,"writeFeaturesNode",ol.format.GML3.prototype.writeFeaturesNode),goog.exportSymbol("ol.format.GML",ol.format.GML,OPENLAYERS),goog.exportProperty(ol.format.GML.prototype,"writeFeatures",ol.format.GML.prototype.writeFeatures),goog.exportProperty(ol.format.GML.prototype,"writeFeaturesNode",ol.format.GML.prototype.writeFeaturesNode),goog.exportProperty(ol.format.GMLBase.prototype,"readFeatures",ol.format.GMLBase.prototype.readFeatures),goog.exportSymbol("ol.events.condition.altKeyOnly",ol.events.condition.altKeyOnly,OPENLAYERS),
goog.exportSymbol("ol.events.condition.altShiftKeysOnly",ol.events.condition.altShiftKeysOnly,OPENLAYERS),goog.exportSymbol("ol.events.condition.always",ol.events.condition.always,OPENLAYERS),goog.exportSymbol("ol.events.condition.click",ol.events.condition.click,OPENLAYERS),goog.exportSymbol("ol.events.condition.never",ol.events.condition.never,OPENLAYERS),goog.exportSymbol("ol.events.condition.pointerMove",ol.events.condition.pointerMove,OPENLAYERS),goog.exportSymbol("ol.events.condition.singleClick",ol.events.condition.singleClick,OPENLAYERS),goog.exportSymbol("ol.events.condition.noModifierKeys",ol.events.condition.noModifierKeys,OPENLAYERS),goog.exportSymbol("ol.events.condition.platformModifierKeyOnly",ol.events.condition.platformModifierKeyOnly,OPENLAYERS),goog.exportSymbol("ol.events.condition.shiftKeyOnly",ol.events.condition.shiftKeyOnly,OPENLAYERS),goog.exportSymbol("ol.events.condition.targetNotEditable",ol.events.condition.targetNotEditable,OPENLAYERS),goog.exportSymbol("ol.events.condition.mouseOnly",ol.events.condition.mouseOnly,OPENLAYERS),goog.exportSymbol("ol.control.Attribution",ol.control.Attribution,OPENLAYERS),goog.exportSymbol("ol.control.Attribution.render",ol.control.Attribution.render,OPENLAYERS),goog.exportProperty(ol.control.Attribution.prototype,"getCollapsible",ol.control.Attribution.prototype.getCollapsible),goog.exportProperty(ol.control.Attribution.prototype,"setCollapsible",ol.control.Attribution.prototype.setCollapsible),goog.exportProperty(ol.control.Attribution.prototype,"setCollapsed",ol.control.Attribution.prototype.setCollapsed),goog.exportProperty(ol.control.Attribution.prototype,"getCollapsed",ol.control.Attribution.prototype.getCollapsed),goog.exportSymbol("ol.control.Control",ol.control.Control,OPENLAYERS),goog.exportProperty(ol.control.Control.prototype,"getMap",ol.control.Control.prototype.getMap),goog.exportProperty(ol.control.Control.prototype,"setMap",ol.control.Control.prototype.setMap),goog.exportProperty(ol.control.Control.prototype,"setTarget",ol.control.Control.prototype.setTarget),goog.exportSymbol("ol.control.defaults",ol.control.defaults,OPENLAYERS),goog.exportSymbol("ol.control.FullScreen",ol.control.FullScreen,OPENLAYERS),goog.exportSymbol("ol.control.MousePosition",ol.control.MousePosition,OPENLAYERS),goog.exportSymbol("ol.control.MousePosition.render",ol.control.MousePosition.render,OPENLAYERS),goog.exportProperty(ol.control.MousePosition.prototype,"getCoordinateFormat",ol.control.MousePosition.prototype.getCoordinateFormat),goog.exportProperty(ol.control.MousePosition.prototype,"getProjection",ol.control.MousePosition.prototype.getProjection),goog.exportProperty(ol.control.MousePosition.prototype,"setMap",ol.control.MousePosition.prototype.setMap),goog.exportProperty(ol.control.MousePosition.prototype,"setCoordinateFormat",ol.control.MousePosition.prototype.setCoordinateFormat),goog.exportProperty(ol.control.MousePosition.prototype,"setProjection",ol.control.MousePosition.prototype.setProjection),goog.exportSymbol("ol.control.OverviewMap",ol.control.OverviewMap,OPENLAYERS),goog.exportProperty(ol.control.OverviewMap.prototype,"setMap",ol.control.OverviewMap.prototype.setMap),goog.exportSymbol("ol.control.OverviewMap.render",ol.control.OverviewMap.render,OPENLAYERS),goog.exportProperty(ol.control.OverviewMap.prototype,"getCollapsible",ol.control.OverviewMap.prototype.getCollapsible),goog.exportProperty(ol.control.OverviewMap.prototype,"setCollapsible",ol.control.OverviewMap.prototype.setCollapsible),goog.exportProperty(ol.control.OverviewMap.prototype,"setCollapsed",ol.control.OverviewMap.prototype.setCollapsed),goog.exportProperty(ol.control.OverviewMap.prototype,"getCollapsed",ol.control.OverviewMap.prototype.getCollapsed),goog.exportSymbol("ol.control.Rotate",ol.control.Rotate,OPENLAYERS),goog.exportSymbol("ol.control.Rotate.render",ol.control.Rotate.render,OPENLAYERS),goog.exportSymbol("ol.control.ScaleLine",ol.control.ScaleLine,OPENLAYERS),goog.exportProperty(ol.control.ScaleLine.prototype,"getUnits",ol.control.ScaleLine.prototype.getUnits),goog.exportSymbol("ol.control.ScaleLine.render",ol.control.ScaleLine.render,OPENLAYERS),goog.exportProperty(ol.control.ScaleLine.prototype,"setUnits",ol.control.ScaleLine.prototype.setUnits),goog.exportSymbol("ol.control.Zoom",ol.control.Zoom,OPENLAYERS),goog.exportSymbol("ol.control.ZoomSlider",ol.control.ZoomSlider,OPENLAYERS),goog.exportSymbol("ol.control.ZoomSlider.render",ol.control.ZoomSlider.render,OPENLAYERS),goog.exportSymbol("ol.control.ZoomToExtent",ol.control.ZoomToExtent,OPENLAYERS),goog.exportSymbol("ol.color.asArray",ol.color.asArray,OPENLAYERS),goog.exportSymbol("ol.color.asString",ol.color.asString,OPENLAYERS),goog.exportProperty(ol.Object.prototype,"changed",ol.Object.prototype.changed),goog.exportProperty(ol.Object.prototype,"getRevision",ol.Object.prototype.getRevision),goog.exportProperty(ol.Object.prototype,"on",ol.Object.prototype.on),goog.exportProperty(ol.Object.prototype,"once",ol.Object.prototype.once),goog.exportProperty(ol.Object.prototype,"un",ol.Object.prototype.un),goog.exportProperty(ol.Object.prototype,"unByKey",ol.Object.prototype.unByKey),goog.exportProperty(ol.Collection.prototype,"get",ol.Collection.prototype.get),goog.exportProperty(ol.Collection.prototype,"getKeys",ol.Collection.prototype.getKeys),goog.exportProperty(ol.Collection.prototype,"getProperties",ol.Collection.prototype.getProperties),goog.exportProperty(ol.Collection.prototype,"set",ol.Collection.prototype.set),goog.exportProperty(ol.Collection.prototype,"setProperties",ol.Collection.prototype.setProperties),goog.exportProperty(ol.Collection.prototype,"unset",ol.Collection.prototype.unset),goog.exportProperty(ol.Collection.prototype,"changed",ol.Collection.prototype.changed),goog.exportProperty(ol.Collection.prototype,"getRevision",ol.Collection.prototype.getRevision),goog.exportProperty(ol.Collection.prototype,"on",ol.Collection.prototype.on),goog.exportProperty(ol.Collection.prototype,"once",ol.Collection.prototype.once),goog.exportProperty(ol.Collection.prototype,"un",ol.Collection.prototype.un),goog.exportProperty(ol.Collection.prototype,"unByKey",ol.Collection.prototype.unByKey),goog.exportProperty(ol.DeviceOrientation.prototype,"get",ol.DeviceOrientation.prototype.get),goog.exportProperty(ol.DeviceOrientation.prototype,"getKeys",ol.DeviceOrientation.prototype.getKeys),goog.exportProperty(ol.DeviceOrientation.prototype,"getProperties",ol.DeviceOrientation.prototype.getProperties),goog.exportProperty(ol.DeviceOrientation.prototype,"set",ol.DeviceOrientation.prototype.set),goog.exportProperty(ol.DeviceOrientation.prototype,"setProperties",ol.DeviceOrientation.prototype.setProperties),goog.exportProperty(ol.DeviceOrientation.prototype,"unset",ol.DeviceOrientation.prototype.unset),goog.exportProperty(ol.DeviceOrientation.prototype,"changed",ol.DeviceOrientation.prototype.changed),goog.exportProperty(ol.DeviceOrientation.prototype,"getRevision",ol.DeviceOrientation.prototype.getRevision),goog.exportProperty(ol.DeviceOrientation.prototype,"on",ol.DeviceOrientation.prototype.on),goog.exportProperty(ol.DeviceOrientation.prototype,"once",ol.DeviceOrientation.prototype.once),goog.exportProperty(ol.DeviceOrientation.prototype,"un",ol.DeviceOrientation.prototype.un),goog.exportProperty(ol.DeviceOrientation.prototype,"unByKey",ol.DeviceOrientation.prototype.unByKey),goog.exportProperty(ol.Feature.prototype,"get",ol.Feature.prototype.get),goog.exportProperty(ol.Feature.prototype,"getKeys",ol.Feature.prototype.getKeys),goog.exportProperty(ol.Feature.prototype,"getProperties",ol.Feature.prototype.getProperties),goog.exportProperty(ol.Feature.prototype,"set",ol.Feature.prototype.set),goog.exportProperty(ol.Feature.prototype,"setProperties",ol.Feature.prototype.setProperties),goog.exportProperty(ol.Feature.prototype,"unset",ol.Feature.prototype.unset),goog.exportProperty(ol.Feature.prototype,"changed",ol.Feature.prototype.changed),goog.exportProperty(ol.Feature.prototype,"getRevision",ol.Feature.prototype.getRevision),goog.exportProperty(ol.Feature.prototype,"on",ol.Feature.prototype.on),goog.exportProperty(ol.Feature.prototype,"once",ol.Feature.prototype.once),goog.exportProperty(ol.Feature.prototype,"un",ol.Feature.prototype.un),goog.exportProperty(ol.Feature.prototype,"unByKey",ol.Feature.prototype.unByKey),goog.exportProperty(ol.Geolocation.prototype,"get",ol.Geolocation.prototype.get),goog.exportProperty(ol.Geolocation.prototype,"getKeys",ol.Geolocation.prototype.getKeys),goog.exportProperty(ol.Geolocation.prototype,"getProperties",ol.Geolocation.prototype.getProperties),goog.exportProperty(ol.Geolocation.prototype,"set",ol.Geolocation.prototype.set),goog.exportProperty(ol.Geolocation.prototype,"setProperties",ol.Geolocation.prototype.setProperties),goog.exportProperty(ol.Geolocation.prototype,"unset",ol.Geolocation.prototype.unset),goog.exportProperty(ol.Geolocation.prototype,"changed",ol.Geolocation.prototype.changed),goog.exportProperty(ol.Geolocation.prototype,"getRevision",ol.Geolocation.prototype.getRevision),goog.exportProperty(ol.Geolocation.prototype,"on",ol.Geolocation.prototype.on),goog.exportProperty(ol.Geolocation.prototype,"once",ol.Geolocation.prototype.once),goog.exportProperty(ol.Geolocation.prototype,"un",ol.Geolocation.prototype.un),goog.exportProperty(ol.Geolocation.prototype,"unByKey",ol.Geolocation.prototype.unByKey),goog.exportProperty(ol.ImageTile.prototype,"getTileCoord",ol.ImageTile.prototype.getTileCoord),goog.exportProperty(ol.Map.prototype,"get",ol.Map.prototype.get),goog.exportProperty(ol.Map.prototype,"getKeys",ol.Map.prototype.getKeys),goog.exportProperty(ol.Map.prototype,"getProperties",ol.Map.prototype.getProperties),goog.exportProperty(ol.Map.prototype,"set",ol.Map.prototype.set),goog.exportProperty(ol.Map.prototype,"setProperties",ol.Map.prototype.setProperties),goog.exportProperty(ol.Map.prototype,"unset",ol.Map.prototype.unset),goog.exportProperty(ol.Map.prototype,"changed",ol.Map.prototype.changed),goog.exportProperty(ol.Map.prototype,"getRevision",ol.Map.prototype.getRevision),goog.exportProperty(ol.Map.prototype,"on",ol.Map.prototype.on),goog.exportProperty(ol.Map.prototype,"once",ol.Map.prototype.once),goog.exportProperty(ol.Map.prototype,"un",ol.Map.prototype.un),goog.exportProperty(ol.Map.prototype,"unByKey",ol.Map.prototype.unByKey),goog.exportProperty(ol.MapBrowserEvent.prototype,"map",ol.MapBrowserEvent.prototype.map),goog.exportProperty(ol.MapBrowserEvent.prototype,"frameState",ol.MapBrowserEvent.prototype.frameState),goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"originalEvent",ol.MapBrowserPointerEvent.prototype.originalEvent),goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"pixel",ol.MapBrowserPointerEvent.prototype.pixel),goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"coordinate",ol.MapBrowserPointerEvent.prototype.coordinate),goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"dragging",ol.MapBrowserPointerEvent.prototype.dragging),goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"preventDefault",ol.MapBrowserPointerEvent.prototype.preventDefault),goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"stopPropagation",ol.MapBrowserPointerEvent.prototype.stopPropagation),goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"map",ol.MapBrowserPointerEvent.prototype.map),goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"frameState",ol.MapBrowserPointerEvent.prototype.frameState),goog.exportProperty(ol.Overlay.prototype,"get",ol.Overlay.prototype.get),goog.exportProperty(ol.Overlay.prototype,"getKeys",ol.Overlay.prototype.getKeys),goog.exportProperty(ol.Overlay.prototype,"getProperties",ol.Overlay.prototype.getProperties),goog.exportProperty(ol.Overlay.prototype,"set",ol.Overlay.prototype.set),goog.exportProperty(ol.Overlay.prototype,"setProperties",ol.Overlay.prototype.setProperties),goog.exportProperty(ol.Overlay.prototype,"unset",ol.Overlay.prototype.unset),goog.exportProperty(ol.Overlay.prototype,"changed",ol.Overlay.prototype.changed),goog.exportProperty(ol.Overlay.prototype,"getRevision",ol.Overlay.prototype.getRevision),goog.exportProperty(ol.Overlay.prototype,"on",ol.Overlay.prototype.on),goog.exportProperty(ol.Overlay.prototype,"once",ol.Overlay.prototype.once),goog.exportProperty(ol.Overlay.prototype,"un",ol.Overlay.prototype.un),goog.exportProperty(ol.Overlay.prototype,"unByKey",ol.Overlay.prototype.unByKey),goog.exportProperty(ol.View.prototype,"get",ol.View.prototype.get),goog.exportProperty(ol.View.prototype,"getKeys",ol.View.prototype.getKeys),goog.exportProperty(ol.View.prototype,"getProperties",ol.View.prototype.getProperties),goog.exportProperty(ol.View.prototype,"set",ol.View.prototype.set),goog.exportProperty(ol.View.prototype,"setProperties",ol.View.prototype.setProperties),goog.exportProperty(ol.View.prototype,"unset",ol.View.prototype.unset),goog.exportProperty(ol.View.prototype,"changed",ol.View.prototype.changed),goog.exportProperty(ol.View.prototype,"getRevision",ol.View.prototype.getRevision),goog.exportProperty(ol.View.prototype,"on",ol.View.prototype.on),goog.exportProperty(ol.View.prototype,"once",ol.View.prototype.once),goog.exportProperty(ol.View.prototype,"un",ol.View.prototype.un),goog.exportProperty(ol.View.prototype,"unByKey",ol.View.prototype.unByKey),goog.exportProperty(ol.tilegrid.WMTS.prototype,"getMaxZoom",ol.tilegrid.WMTS.prototype.getMaxZoom),goog.exportProperty(ol.tilegrid.WMTS.prototype,"getMinZoom",ol.tilegrid.WMTS.prototype.getMinZoom),goog.exportProperty(ol.tilegrid.WMTS.prototype,"getOrigin",ol.tilegrid.WMTS.prototype.getOrigin),goog.exportProperty(ol.tilegrid.WMTS.prototype,"getResolution",ol.tilegrid.WMTS.prototype.getResolution),goog.exportProperty(ol.tilegrid.WMTS.prototype,"getResolutions",ol.tilegrid.WMTS.prototype.getResolutions),goog.exportProperty(ol.tilegrid.WMTS.prototype,"getTileCoordForCoordAndResolution",ol.tilegrid.WMTS.prototype.getTileCoordForCoordAndResolution),goog.exportProperty(ol.tilegrid.WMTS.prototype,"getTileCoordForCoordAndZ",ol.tilegrid.WMTS.prototype.getTileCoordForCoordAndZ),goog.exportProperty(ol.tilegrid.WMTS.prototype,"getTileSize",ol.tilegrid.WMTS.prototype.getTileSize),goog.exportProperty(ol.style.Circle.prototype,"getOpacity",ol.style.Circle.prototype.getOpacity),goog.exportProperty(ol.style.Circle.prototype,"getRotateWithView",ol.style.Circle.prototype.getRotateWithView),goog.exportProperty(ol.style.Circle.prototype,"getRotation",ol.style.Circle.prototype.getRotation),goog.exportProperty(ol.style.Circle.prototype,"getScale",ol.style.Circle.prototype.getScale),goog.exportProperty(ol.style.Circle.prototype,"getSnapToPixel",ol.style.Circle.prototype.getSnapToPixel),goog.exportProperty(ol.style.Circle.prototype,"setRotation",ol.style.Circle.prototype.setRotation),goog.exportProperty(ol.style.Circle.prototype,"setScale",ol.style.Circle.prototype.setScale),goog.exportProperty(ol.style.Icon.prototype,"getOpacity",ol.style.Icon.prototype.getOpacity),goog.exportProperty(ol.style.Icon.prototype,"getRotateWithView",ol.style.Icon.prototype.getRotateWithView),goog.exportProperty(ol.style.Icon.prototype,"getRotation",ol.style.Icon.prototype.getRotation),goog.exportProperty(ol.style.Icon.prototype,"getScale",ol.style.Icon.prototype.getScale),goog.exportProperty(ol.style.Icon.prototype,"getSnapToPixel",ol.style.Icon.prototype.getSnapToPixel),goog.exportProperty(ol.style.Icon.prototype,"setRotation",ol.style.Icon.prototype.setRotation),goog.exportProperty(ol.style.Icon.prototype,"setScale",ol.style.Icon.prototype.setScale),goog.exportProperty(ol.style.RegularShape.prototype,"getOpacity",ol.style.RegularShape.prototype.getOpacity),goog.exportProperty(ol.style.RegularShape.prototype,"getRotateWithView",ol.style.RegularShape.prototype.getRotateWithView),goog.exportProperty(ol.style.RegularShape.prototype,"getRotation",ol.style.RegularShape.prototype.getRotation),goog.exportProperty(ol.style.RegularShape.prototype,"getScale",ol.style.RegularShape.prototype.getScale),goog.exportProperty(ol.style.RegularShape.prototype,"getSnapToPixel",ol.style.RegularShape.prototype.getSnapToPixel),goog.exportProperty(ol.style.RegularShape.prototype,"setRotation",ol.style.RegularShape.prototype.setRotation),goog.exportProperty(ol.style.RegularShape.prototype,"setScale",ol.style.RegularShape.prototype.setScale),goog.exportProperty(ol.source.Source.prototype,"get",ol.source.Source.prototype.get),goog.exportProperty(ol.source.Source.prototype,"getKeys",ol.source.Source.prototype.getKeys),goog.exportProperty(ol.source.Source.prototype,"getProperties",ol.source.Source.prototype.getProperties),goog.exportProperty(ol.source.Source.prototype,"set",ol.source.Source.prototype.set),goog.exportProperty(ol.source.Source.prototype,"setProperties",ol.source.Source.prototype.setProperties),goog.exportProperty(ol.source.Source.prototype,"unset",ol.source.Source.prototype.unset),goog.exportProperty(ol.source.Source.prototype,"changed",ol.source.Source.prototype.changed),goog.exportProperty(ol.source.Source.prototype,"getRevision",ol.source.Source.prototype.getRevision),goog.exportProperty(ol.source.Source.prototype,"on",ol.source.Source.prototype.on),goog.exportProperty(ol.source.Source.prototype,"once",ol.source.Source.prototype.once),goog.exportProperty(ol.source.Source.prototype,"un",ol.source.Source.prototype.un),goog.exportProperty(ol.source.Source.prototype,"unByKey",ol.source.Source.prototype.unByKey),goog.exportProperty(ol.source.Tile.prototype,"getAttributions",ol.source.Tile.prototype.getAttributions),goog.exportProperty(ol.source.Tile.prototype,"getLogo",ol.source.Tile.prototype.getLogo),goog.exportProperty(ol.source.Tile.prototype,"getProjection",ol.source.Tile.prototype.getProjection),goog.exportProperty(ol.source.Tile.prototype,"getState",ol.source.Tile.prototype.getState),goog.exportProperty(ol.source.Tile.prototype,"get",ol.source.Tile.prototype.get),goog.exportProperty(ol.source.Tile.prototype,"getKeys",ol.source.Tile.prototype.getKeys),goog.exportProperty(ol.source.Tile.prototype,"getProperties",ol.source.Tile.prototype.getProperties),goog.exportProperty(ol.source.Tile.prototype,"set",ol.source.Tile.prototype.set),goog.exportProperty(ol.source.Tile.prototype,"setProperties",ol.source.Tile.prototype.setProperties),goog.exportProperty(ol.source.Tile.prototype,"unset",ol.source.Tile.prototype.unset),goog.exportProperty(ol.source.Tile.prototype,"changed",ol.source.Tile.prototype.changed),goog.exportProperty(ol.source.Tile.prototype,"getRevision",ol.source.Tile.prototype.getRevision),goog.exportProperty(ol.source.Tile.prototype,"on",ol.source.Tile.prototype.on),goog.exportProperty(ol.source.Tile.prototype,"once",ol.source.Tile.prototype.once),goog.exportProperty(ol.source.Tile.prototype,"un",ol.source.Tile.prototype.un),goog.exportProperty(ol.source.Tile.prototype,"unByKey",ol.source.Tile.prototype.unByKey),goog.exportProperty(ol.source.TileImage.prototype,"getTileGrid",ol.source.TileImage.prototype.getTileGrid),goog.exportProperty(ol.source.TileImage.prototype,"getAttributions",ol.source.TileImage.prototype.getAttributions),goog.exportProperty(ol.source.TileImage.prototype,"getLogo",ol.source.TileImage.prototype.getLogo),goog.exportProperty(ol.source.TileImage.prototype,"getProjection",ol.source.TileImage.prototype.getProjection),goog.exportProperty(ol.source.TileImage.prototype,"getState",ol.source.TileImage.prototype.getState),goog.exportProperty(ol.source.TileImage.prototype,"get",ol.source.TileImage.prototype.get),goog.exportProperty(ol.source.TileImage.prototype,"getKeys",ol.source.TileImage.prototype.getKeys),goog.exportProperty(ol.source.TileImage.prototype,"getProperties",ol.source.TileImage.prototype.getProperties),goog.exportProperty(ol.source.TileImage.prototype,"set",ol.source.TileImage.prototype.set),goog.exportProperty(ol.source.TileImage.prototype,"setProperties",ol.source.TileImage.prototype.setProperties),goog.exportProperty(ol.source.TileImage.prototype,"unset",ol.source.TileImage.prototype.unset),goog.exportProperty(ol.source.TileImage.prototype,"changed",ol.source.TileImage.prototype.changed),goog.exportProperty(ol.source.TileImage.prototype,"getRevision",ol.source.TileImage.prototype.getRevision),goog.exportProperty(ol.source.TileImage.prototype,"on",ol.source.TileImage.prototype.on),goog.exportProperty(ol.source.TileImage.prototype,"once",ol.source.TileImage.prototype.once),goog.exportProperty(ol.source.TileImage.prototype,"un",ol.source.TileImage.prototype.un),goog.exportProperty(ol.source.TileImage.prototype,"unByKey",ol.source.TileImage.prototype.unByKey),goog.exportProperty(ol.source.BingMaps.prototype,"getTileLoadFunction",ol.source.BingMaps.prototype.getTileLoadFunction),goog.exportProperty(ol.source.BingMaps.prototype,"getTileUrlFunction",ol.source.BingMaps.prototype.getTileUrlFunction),goog.exportProperty(ol.source.BingMaps.prototype,"setTileLoadFunction",ol.source.BingMaps.prototype.setTileLoadFunction),goog.exportProperty(ol.source.BingMaps.prototype,"setTileUrlFunction",ol.source.BingMaps.prototype.setTileUrlFunction),goog.exportProperty(ol.source.BingMaps.prototype,"getTileGrid",ol.source.BingMaps.prototype.getTileGrid),goog.exportProperty(ol.source.BingMaps.prototype,"getAttributions",ol.source.BingMaps.prototype.getAttributions),goog.exportProperty(ol.source.BingMaps.prototype,"getLogo",ol.source.BingMaps.prototype.getLogo),goog.exportProperty(ol.source.BingMaps.prototype,"getProjection",ol.source.BingMaps.prototype.getProjection),goog.exportProperty(ol.source.BingMaps.prototype,"getState",ol.source.BingMaps.prototype.getState),goog.exportProperty(ol.source.BingMaps.prototype,"get",ol.source.BingMaps.prototype.get),goog.exportProperty(ol.source.BingMaps.prototype,"getKeys",ol.source.BingMaps.prototype.getKeys),goog.exportProperty(ol.source.BingMaps.prototype,"getProperties",ol.source.BingMaps.prototype.getProperties),goog.exportProperty(ol.source.BingMaps.prototype,"set",ol.source.BingMaps.prototype.set),goog.exportProperty(ol.source.BingMaps.prototype,"setProperties",ol.source.BingMaps.prototype.setProperties),goog.exportProperty(ol.source.BingMaps.prototype,"unset",ol.source.BingMaps.prototype.unset),goog.exportProperty(ol.source.BingMaps.prototype,"changed",ol.source.BingMaps.prototype.changed),goog.exportProperty(ol.source.BingMaps.prototype,"getRevision",ol.source.BingMaps.prototype.getRevision),goog.exportProperty(ol.source.BingMaps.prototype,"on",ol.source.BingMaps.prototype.on),goog.exportProperty(ol.source.BingMaps.prototype,"once",ol.source.BingMaps.prototype.once),goog.exportProperty(ol.source.BingMaps.prototype,"un",ol.source.BingMaps.prototype.un),goog.exportProperty(ol.source.BingMaps.prototype,"unByKey",ol.source.BingMaps.prototype.unByKey),goog.exportProperty(ol.source.Vector.prototype,"getAttributions",ol.source.Vector.prototype.getAttributions),goog.exportProperty(ol.source.Vector.prototype,"getLogo",ol.source.Vector.prototype.getLogo),goog.exportProperty(ol.source.Vector.prototype,"getProjection",ol.source.Vector.prototype.getProjection),goog.exportProperty(ol.source.Vector.prototype,"getState",ol.source.Vector.prototype.getState),goog.exportProperty(ol.source.Vector.prototype,"get",ol.source.Vector.prototype.get),goog.exportProperty(ol.source.Vector.prototype,"getKeys",ol.source.Vector.prototype.getKeys),goog.exportProperty(ol.source.Vector.prototype,"getProperties",ol.source.Vector.prototype.getProperties),goog.exportProperty(ol.source.Vector.prototype,"set",ol.source.Vector.prototype.set),goog.exportProperty(ol.source.Vector.prototype,"setProperties",ol.source.Vector.prototype.setProperties),goog.exportProperty(ol.source.Vector.prototype,"unset",ol.source.Vector.prototype.unset),goog.exportProperty(ol.source.Vector.prototype,"changed",ol.source.Vector.prototype.changed),goog.exportProperty(ol.source.Vector.prototype,"getRevision",ol.source.Vector.prototype.getRevision),goog.exportProperty(ol.source.Vector.prototype,"on",ol.source.Vector.prototype.on),goog.exportProperty(ol.source.Vector.prototype,"once",ol.source.Vector.prototype.once),goog.exportProperty(ol.source.Vector.prototype,"un",ol.source.Vector.prototype.un),goog.exportProperty(ol.source.Vector.prototype,"unByKey",ol.source.Vector.prototype.unByKey),goog.exportProperty(ol.source.Cluster.prototype,"addFeature",ol.source.Cluster.prototype.addFeature),goog.exportProperty(ol.source.Cluster.prototype,"addFeatures",ol.source.Cluster.prototype.addFeatures),goog.exportProperty(ol.source.Cluster.prototype,"clear",ol.source.Cluster.prototype.clear),goog.exportProperty(ol.source.Cluster.prototype,"forEachFeature",ol.source.Cluster.prototype.forEachFeature),goog.exportProperty(ol.source.Cluster.prototype,"forEachFeatureInExtent",ol.source.Cluster.prototype.forEachFeatureInExtent),goog.exportProperty(ol.source.Cluster.prototype,"forEachFeatureIntersectingExtent",ol.source.Cluster.prototype.forEachFeatureIntersectingExtent),goog.exportProperty(ol.source.Cluster.prototype,"getFeaturesCollection",ol.source.Cluster.prototype.getFeaturesCollection),goog.exportProperty(ol.source.Cluster.prototype,"getFeatures",ol.source.Cluster.prototype.getFeatures),goog.exportProperty(ol.source.Cluster.prototype,"getFeaturesAtCoordinate",ol.source.Cluster.prototype.getFeaturesAtCoordinate),goog.exportProperty(ol.source.Cluster.prototype,"getFeaturesInExtent",ol.source.Cluster.prototype.getFeaturesInExtent),goog.exportProperty(ol.source.Cluster.prototype,"getClosestFeatureToCoordinate",ol.source.Cluster.prototype.getClosestFeatureToCoordinate),goog.exportProperty(ol.source.Cluster.prototype,"getExtent",ol.source.Cluster.prototype.getExtent),goog.exportProperty(ol.source.Cluster.prototype,"getFeatureById",ol.source.Cluster.prototype.getFeatureById),goog.exportProperty(ol.source.Cluster.prototype,"removeFeature",ol.source.Cluster.prototype.removeFeature),goog.exportProperty(ol.source.Cluster.prototype,"getAttributions",ol.source.Cluster.prototype.getAttributions),goog.exportProperty(ol.source.Cluster.prototype,"getLogo",ol.source.Cluster.prototype.getLogo),goog.exportProperty(ol.source.Cluster.prototype,"getProjection",ol.source.Cluster.prototype.getProjection),goog.exportProperty(ol.source.Cluster.prototype,"getState",ol.source.Cluster.prototype.getState),goog.exportProperty(ol.source.Cluster.prototype,"get",ol.source.Cluster.prototype.get),goog.exportProperty(ol.source.Cluster.prototype,"getKeys",ol.source.Cluster.prototype.getKeys),goog.exportProperty(ol.source.Cluster.prototype,"getProperties",ol.source.Cluster.prototype.getProperties),goog.exportProperty(ol.source.Cluster.prototype,"set",ol.source.Cluster.prototype.set),goog.exportProperty(ol.source.Cluster.prototype,"setProperties",ol.source.Cluster.prototype.setProperties),goog.exportProperty(ol.source.Cluster.prototype,"unset",ol.source.Cluster.prototype.unset),goog.exportProperty(ol.source.Cluster.prototype,"changed",ol.source.Cluster.prototype.changed),goog.exportProperty(ol.source.Cluster.prototype,"getRevision",ol.source.Cluster.prototype.getRevision),goog.exportProperty(ol.source.Cluster.prototype,"on",ol.source.Cluster.prototype.on),goog.exportProperty(ol.source.Cluster.prototype,"once",ol.source.Cluster.prototype.once),goog.exportProperty(ol.source.Cluster.prototype,"un",ol.source.Cluster.prototype.un),goog.exportProperty(ol.source.Cluster.prototype,"unByKey",ol.source.Cluster.prototype.unByKey),goog.exportProperty(ol.source.Image.prototype,"getAttributions",ol.source.Image.prototype.getAttributions),goog.exportProperty(ol.source.Image.prototype,"getLogo",ol.source.Image.prototype.getLogo),goog.exportProperty(ol.source.Image.prototype,"getProjection",ol.source.Image.prototype.getProjection),goog.exportProperty(ol.source.Image.prototype,"getState",ol.source.Image.prototype.getState),goog.exportProperty(ol.source.Image.prototype,"get",ol.source.Image.prototype.get),goog.exportProperty(ol.source.Image.prototype,"getKeys",ol.source.Image.prototype.getKeys),goog.exportProperty(ol.source.Image.prototype,"getProperties",ol.source.Image.prototype.getProperties),goog.exportProperty(ol.source.Image.prototype,"set",ol.source.Image.prototype.set),goog.exportProperty(ol.source.Image.prototype,"setProperties",ol.source.Image.prototype.setProperties),goog.exportProperty(ol.source.Image.prototype,"unset",ol.source.Image.prototype.unset),goog.exportProperty(ol.source.Image.prototype,"changed",ol.source.Image.prototype.changed),goog.exportProperty(ol.source.Image.prototype,"getRevision",ol.source.Image.prototype.getRevision),goog.exportProperty(ol.source.Image.prototype,"on",ol.source.Image.prototype.on),goog.exportProperty(ol.source.Image.prototype,"once",ol.source.Image.prototype.once),goog.exportProperty(ol.source.Image.prototype,"un",ol.source.Image.prototype.un),goog.exportProperty(ol.source.Image.prototype,"unByKey",ol.source.Image.prototype.unByKey),goog.exportProperty(ol.source.ImageCanvas.prototype,"getAttributions",ol.source.ImageCanvas.prototype.getAttributions),goog.exportProperty(ol.source.ImageCanvas.prototype,"getLogo",ol.source.ImageCanvas.prototype.getLogo),goog.exportProperty(ol.source.ImageCanvas.prototype,"getProjection",ol.source.ImageCanvas.prototype.getProjection),goog.exportProperty(ol.source.ImageCanvas.prototype,"getState",ol.source.ImageCanvas.prototype.getState),goog.exportProperty(ol.source.ImageCanvas.prototype,"get",ol.source.ImageCanvas.prototype.get),goog.exportProperty(ol.source.ImageCanvas.prototype,"getKeys",ol.source.ImageCanvas.prototype.getKeys),goog.exportProperty(ol.source.ImageCanvas.prototype,"getProperties",ol.source.ImageCanvas.prototype.getProperties),goog.exportProperty(ol.source.ImageCanvas.prototype,"set",ol.source.ImageCanvas.prototype.set),goog.exportProperty(ol.source.ImageCanvas.prototype,"setProperties",ol.source.ImageCanvas.prototype.setProperties),goog.exportProperty(ol.source.ImageCanvas.prototype,"unset",ol.source.ImageCanvas.prototype.unset),goog.exportProperty(ol.source.ImageCanvas.prototype,"changed",ol.source.ImageCanvas.prototype.changed),goog.exportProperty(ol.source.ImageCanvas.prototype,"getRevision",ol.source.ImageCanvas.prototype.getRevision),goog.exportProperty(ol.source.ImageCanvas.prototype,"on",ol.source.ImageCanvas.prototype.on),goog.exportProperty(ol.source.ImageCanvas.prototype,"once",ol.source.ImageCanvas.prototype.once),goog.exportProperty(ol.source.ImageCanvas.prototype,"un",ol.source.ImageCanvas.prototype.un),goog.exportProperty(ol.source.ImageCanvas.prototype,"unByKey",ol.source.ImageCanvas.prototype.unByKey),goog.exportProperty(ol.source.ImageMapGuide.prototype,"getAttributions",ol.source.ImageMapGuide.prototype.getAttributions),goog.exportProperty(ol.source.ImageMapGuide.prototype,"getLogo",ol.source.ImageMapGuide.prototype.getLogo),goog.exportProperty(ol.source.ImageMapGuide.prototype,"getProjection",ol.source.ImageMapGuide.prototype.getProjection),goog.exportProperty(ol.source.ImageMapGuide.prototype,"getState",ol.source.ImageMapGuide.prototype.getState),goog.exportProperty(ol.source.ImageMapGuide.prototype,"get",ol.source.ImageMapGuide.prototype.get),goog.exportProperty(ol.source.ImageMapGuide.prototype,"getKeys",ol.source.ImageMapGuide.prototype.getKeys),goog.exportProperty(ol.source.ImageMapGuide.prototype,"getProperties",ol.source.ImageMapGuide.prototype.getProperties),goog.exportProperty(ol.source.ImageMapGuide.prototype,"set",ol.source.ImageMapGuide.prototype.set),goog.exportProperty(ol.source.ImageMapGuide.prototype,"setProperties",ol.source.ImageMapGuide.prototype.setProperties),goog.exportProperty(ol.source.ImageMapGuide.prototype,"unset",ol.source.ImageMapGuide.prototype.unset),goog.exportProperty(ol.source.ImageMapGuide.prototype,"changed",ol.source.ImageMapGuide.prototype.changed),goog.exportProperty(ol.source.ImageMapGuide.prototype,"getRevision",ol.source.ImageMapGuide.prototype.getRevision),goog.exportProperty(ol.source.ImageMapGuide.prototype,"on",ol.source.ImageMapGuide.prototype.on),goog.exportProperty(ol.source.ImageMapGuide.prototype,"once",ol.source.ImageMapGuide.prototype.once),
goog.exportProperty(ol.source.ImageMapGuide.prototype,"un",ol.source.ImageMapGuide.prototype.un),goog.exportProperty(ol.source.ImageMapGuide.prototype,"unByKey",ol.source.ImageMapGuide.prototype.unByKey),goog.exportProperty(ol.source.ImageStatic.prototype,"getAttributions",ol.source.ImageStatic.prototype.getAttributions),goog.exportProperty(ol.source.ImageStatic.prototype,"getLogo",ol.source.ImageStatic.prototype.getLogo),goog.exportProperty(ol.source.ImageStatic.prototype,"getProjection",ol.source.ImageStatic.prototype.getProjection),goog.exportProperty(ol.source.ImageStatic.prototype,"getState",ol.source.ImageStatic.prototype.getState),goog.exportProperty(ol.source.ImageStatic.prototype,"get",ol.source.ImageStatic.prototype.get),goog.exportProperty(ol.source.ImageStatic.prototype,"getKeys",ol.source.ImageStatic.prototype.getKeys),goog.exportProperty(ol.source.ImageStatic.prototype,"getProperties",ol.source.ImageStatic.prototype.getProperties),goog.exportProperty(ol.source.ImageStatic.prototype,"set",ol.source.ImageStatic.prototype.set),goog.exportProperty(ol.source.ImageStatic.prototype,"setProperties",ol.source.ImageStatic.prototype.setProperties),goog.exportProperty(ol.source.ImageStatic.prototype,"unset",ol.source.ImageStatic.prototype.unset),goog.exportProperty(ol.source.ImageStatic.prototype,"changed",ol.source.ImageStatic.prototype.changed),goog.exportProperty(ol.source.ImageStatic.prototype,"getRevision",ol.source.ImageStatic.prototype.getRevision),goog.exportProperty(ol.source.ImageStatic.prototype,"on",ol.source.ImageStatic.prototype.on),goog.exportProperty(ol.source.ImageStatic.prototype,"once",ol.source.ImageStatic.prototype.once),goog.exportProperty(ol.source.ImageStatic.prototype,"un",ol.source.ImageStatic.prototype.un),goog.exportProperty(ol.source.ImageStatic.prototype,"unByKey",ol.source.ImageStatic.prototype.unByKey),goog.exportProperty(ol.source.ImageVector.prototype,"getAttributions",ol.source.ImageVector.prototype.getAttributions),goog.exportProperty(ol.source.ImageVector.prototype,"getLogo",ol.source.ImageVector.prototype.getLogo),goog.exportProperty(ol.source.ImageVector.prototype,"getProjection",ol.source.ImageVector.prototype.getProjection),goog.exportProperty(ol.source.ImageVector.prototype,"getState",ol.source.ImageVector.prototype.getState),goog.exportProperty(ol.source.ImageVector.prototype,"get",ol.source.ImageVector.prototype.get),goog.exportProperty(ol.source.ImageVector.prototype,"getKeys",ol.source.ImageVector.prototype.getKeys),goog.exportProperty(ol.source.ImageVector.prototype,"getProperties",ol.source.ImageVector.prototype.getProperties),goog.exportProperty(ol.source.ImageVector.prototype,"set",ol.source.ImageVector.prototype.set),goog.exportProperty(ol.source.ImageVector.prototype,"setProperties",ol.source.ImageVector.prototype.setProperties),goog.exportProperty(ol.source.ImageVector.prototype,"unset",ol.source.ImageVector.prototype.unset),goog.exportProperty(ol.source.ImageVector.prototype,"changed",ol.source.ImageVector.prototype.changed),goog.exportProperty(ol.source.ImageVector.prototype,"getRevision",ol.source.ImageVector.prototype.getRevision),goog.exportProperty(ol.source.ImageVector.prototype,"on",ol.source.ImageVector.prototype.on),goog.exportProperty(ol.source.ImageVector.prototype,"once",ol.source.ImageVector.prototype.once),goog.exportProperty(ol.source.ImageVector.prototype,"un",ol.source.ImageVector.prototype.un),goog.exportProperty(ol.source.ImageVector.prototype,"unByKey",ol.source.ImageVector.prototype.unByKey),goog.exportProperty(ol.source.ImageWMS.prototype,"getAttributions",ol.source.ImageWMS.prototype.getAttributions),goog.exportProperty(ol.source.ImageWMS.prototype,"getLogo",ol.source.ImageWMS.prototype.getLogo),goog.exportProperty(ol.source.ImageWMS.prototype,"getProjection",ol.source.ImageWMS.prototype.getProjection),goog.exportProperty(ol.source.ImageWMS.prototype,"getState",ol.source.ImageWMS.prototype.getState),goog.exportProperty(ol.source.ImageWMS.prototype,"get",ol.source.ImageWMS.prototype.get),goog.exportProperty(ol.source.ImageWMS.prototype,"getKeys",ol.source.ImageWMS.prototype.getKeys),goog.exportProperty(ol.source.ImageWMS.prototype,"getProperties",ol.source.ImageWMS.prototype.getProperties),goog.exportProperty(ol.source.ImageWMS.prototype,"set",ol.source.ImageWMS.prototype.set),goog.exportProperty(ol.source.ImageWMS.prototype,"setProperties",ol.source.ImageWMS.prototype.setProperties),goog.exportProperty(ol.source.ImageWMS.prototype,"unset",ol.source.ImageWMS.prototype.unset),goog.exportProperty(ol.source.ImageWMS.prototype,"changed",ol.source.ImageWMS.prototype.changed),goog.exportProperty(ol.source.ImageWMS.prototype,"getRevision",ol.source.ImageWMS.prototype.getRevision),goog.exportProperty(ol.source.ImageWMS.prototype,"on",ol.source.ImageWMS.prototype.on),goog.exportProperty(ol.source.ImageWMS.prototype,"once",ol.source.ImageWMS.prototype.once),goog.exportProperty(ol.source.ImageWMS.prototype,"un",ol.source.ImageWMS.prototype.un),goog.exportProperty(ol.source.ImageWMS.prototype,"unByKey",ol.source.ImageWMS.prototype.unByKey),goog.exportProperty(ol.source.XYZ.prototype,"getTileLoadFunction",ol.source.XYZ.prototype.getTileLoadFunction),goog.exportProperty(ol.source.XYZ.prototype,"getTileUrlFunction",ol.source.XYZ.prototype.getTileUrlFunction),goog.exportProperty(ol.source.XYZ.prototype,"setTileLoadFunction",ol.source.XYZ.prototype.setTileLoadFunction),goog.exportProperty(ol.source.XYZ.prototype,"setTileUrlFunction",ol.source.XYZ.prototype.setTileUrlFunction),goog.exportProperty(ol.source.XYZ.prototype,"getTileGrid",ol.source.XYZ.prototype.getTileGrid),goog.exportProperty(ol.source.XYZ.prototype,"getAttributions",ol.source.XYZ.prototype.getAttributions),goog.exportProperty(ol.source.XYZ.prototype,"getLogo",ol.source.XYZ.prototype.getLogo),goog.exportProperty(ol.source.XYZ.prototype,"getProjection",ol.source.XYZ.prototype.getProjection),goog.exportProperty(ol.source.XYZ.prototype,"getState",ol.source.XYZ.prototype.getState),goog.exportProperty(ol.source.XYZ.prototype,"get",ol.source.XYZ.prototype.get),goog.exportProperty(ol.source.XYZ.prototype,"getKeys",ol.source.XYZ.prototype.getKeys),goog.exportProperty(ol.source.XYZ.prototype,"getProperties",ol.source.XYZ.prototype.getProperties),goog.exportProperty(ol.source.XYZ.prototype,"set",ol.source.XYZ.prototype.set),goog.exportProperty(ol.source.XYZ.prototype,"setProperties",ol.source.XYZ.prototype.setProperties),goog.exportProperty(ol.source.XYZ.prototype,"unset",ol.source.XYZ.prototype.unset),goog.exportProperty(ol.source.XYZ.prototype,"changed",ol.source.XYZ.prototype.changed),goog.exportProperty(ol.source.XYZ.prototype,"getRevision",ol.source.XYZ.prototype.getRevision),goog.exportProperty(ol.source.XYZ.prototype,"on",ol.source.XYZ.prototype.on),goog.exportProperty(ol.source.XYZ.prototype,"once",ol.source.XYZ.prototype.once),goog.exportProperty(ol.source.XYZ.prototype,"un",ol.source.XYZ.prototype.un),goog.exportProperty(ol.source.XYZ.prototype,"unByKey",ol.source.XYZ.prototype.unByKey),goog.exportProperty(ol.source.MapQuest.prototype,"setUrl",ol.source.MapQuest.prototype.setUrl),goog.exportProperty(ol.source.MapQuest.prototype,"getTileLoadFunction",ol.source.MapQuest.prototype.getTileLoadFunction),goog.exportProperty(ol.source.MapQuest.prototype,"getTileUrlFunction",ol.source.MapQuest.prototype.getTileUrlFunction),goog.exportProperty(ol.source.MapQuest.prototype,"setTileLoadFunction",ol.source.MapQuest.prototype.setTileLoadFunction),goog.exportProperty(ol.source.MapQuest.prototype,"setTileUrlFunction",ol.source.MapQuest.prototype.setTileUrlFunction),goog.exportProperty(ol.source.MapQuest.prototype,"getTileGrid",ol.source.MapQuest.prototype.getTileGrid),goog.exportProperty(ol.source.MapQuest.prototype,"getAttributions",ol.source.MapQuest.prototype.getAttributions),goog.exportProperty(ol.source.MapQuest.prototype,"getLogo",ol.source.MapQuest.prototype.getLogo),goog.exportProperty(ol.source.MapQuest.prototype,"getProjection",ol.source.MapQuest.prototype.getProjection),goog.exportProperty(ol.source.MapQuest.prototype,"getState",ol.source.MapQuest.prototype.getState),goog.exportProperty(ol.source.MapQuest.prototype,"get",ol.source.MapQuest.prototype.get),goog.exportProperty(ol.source.MapQuest.prototype,"getKeys",ol.source.MapQuest.prototype.getKeys),goog.exportProperty(ol.source.MapQuest.prototype,"getProperties",ol.source.MapQuest.prototype.getProperties),goog.exportProperty(ol.source.MapQuest.prototype,"set",ol.source.MapQuest.prototype.set),goog.exportProperty(ol.source.MapQuest.prototype,"setProperties",ol.source.MapQuest.prototype.setProperties),goog.exportProperty(ol.source.MapQuest.prototype,"unset",ol.source.MapQuest.prototype.unset),goog.exportProperty(ol.source.MapQuest.prototype,"changed",ol.source.MapQuest.prototype.changed),goog.exportProperty(ol.source.MapQuest.prototype,"getRevision",ol.source.MapQuest.prototype.getRevision),goog.exportProperty(ol.source.MapQuest.prototype,"on",ol.source.MapQuest.prototype.on),goog.exportProperty(ol.source.MapQuest.prototype,"once",ol.source.MapQuest.prototype.once),goog.exportProperty(ol.source.MapQuest.prototype,"un",ol.source.MapQuest.prototype.un),goog.exportProperty(ol.source.MapQuest.prototype,"unByKey",ol.source.MapQuest.prototype.unByKey),goog.exportProperty(ol.source.OSM.prototype,"setUrl",ol.source.OSM.prototype.setUrl),goog.exportProperty(ol.source.OSM.prototype,"getTileLoadFunction",ol.source.OSM.prototype.getTileLoadFunction),goog.exportProperty(ol.source.OSM.prototype,"getTileUrlFunction",ol.source.OSM.prototype.getTileUrlFunction),goog.exportProperty(ol.source.OSM.prototype,"setTileLoadFunction",ol.source.OSM.prototype.setTileLoadFunction),goog.exportProperty(ol.source.OSM.prototype,"setTileUrlFunction",ol.source.OSM.prototype.setTileUrlFunction),goog.exportProperty(ol.source.OSM.prototype,"getTileGrid",ol.source.OSM.prototype.getTileGrid),goog.exportProperty(ol.source.OSM.prototype,"getAttributions",ol.source.OSM.prototype.getAttributions),goog.exportProperty(ol.source.OSM.prototype,"getLogo",ol.source.OSM.prototype.getLogo),goog.exportProperty(ol.source.OSM.prototype,"getProjection",ol.source.OSM.prototype.getProjection),goog.exportProperty(ol.source.OSM.prototype,"getState",ol.source.OSM.prototype.getState),goog.exportProperty(ol.source.OSM.prototype,"get",ol.source.OSM.prototype.get),goog.exportProperty(ol.source.OSM.prototype,"getKeys",ol.source.OSM.prototype.getKeys),goog.exportProperty(ol.source.OSM.prototype,"getProperties",ol.source.OSM.prototype.getProperties),goog.exportProperty(ol.source.OSM.prototype,"set",ol.source.OSM.prototype.set),goog.exportProperty(ol.source.OSM.prototype,"setProperties",ol.source.OSM.prototype.setProperties),goog.exportProperty(ol.source.OSM.prototype,"unset",ol.source.OSM.prototype.unset),goog.exportProperty(ol.source.OSM.prototype,"changed",ol.source.OSM.prototype.changed),goog.exportProperty(ol.source.OSM.prototype,"getRevision",ol.source.OSM.prototype.getRevision),goog.exportProperty(ol.source.OSM.prototype,"on",ol.source.OSM.prototype.on),goog.exportProperty(ol.source.OSM.prototype,"once",ol.source.OSM.prototype.once),goog.exportProperty(ol.source.OSM.prototype,"un",ol.source.OSM.prototype.un),goog.exportProperty(ol.source.OSM.prototype,"unByKey",ol.source.OSM.prototype.unByKey),goog.exportProperty(ol.source.Stamen.prototype,"setUrl",ol.source.Stamen.prototype.setUrl),goog.exportProperty(ol.source.Stamen.prototype,"getTileLoadFunction",ol.source.Stamen.prototype.getTileLoadFunction),goog.exportProperty(ol.source.Stamen.prototype,"getTileUrlFunction",ol.source.Stamen.prototype.getTileUrlFunction),goog.exportProperty(ol.source.Stamen.prototype,"setTileLoadFunction",ol.source.Stamen.prototype.setTileLoadFunction),goog.exportProperty(ol.source.Stamen.prototype,"setTileUrlFunction",ol.source.Stamen.prototype.setTileUrlFunction),goog.exportProperty(ol.source.Stamen.prototype,"getTileGrid",ol.source.Stamen.prototype.getTileGrid),goog.exportProperty(ol.source.Stamen.prototype,"getAttributions",ol.source.Stamen.prototype.getAttributions),goog.exportProperty(ol.source.Stamen.prototype,"getLogo",ol.source.Stamen.prototype.getLogo),goog.exportProperty(ol.source.Stamen.prototype,"getProjection",ol.source.Stamen.prototype.getProjection),goog.exportProperty(ol.source.Stamen.prototype,"getState",ol.source.Stamen.prototype.getState),goog.exportProperty(ol.source.Stamen.prototype,"get",ol.source.Stamen.prototype.get),goog.exportProperty(ol.source.Stamen.prototype,"getKeys",ol.source.Stamen.prototype.getKeys),goog.exportProperty(ol.source.Stamen.prototype,"getProperties",ol.source.Stamen.prototype.getProperties),goog.exportProperty(ol.source.Stamen.prototype,"set",ol.source.Stamen.prototype.set),goog.exportProperty(ol.source.Stamen.prototype,"setProperties",ol.source.Stamen.prototype.setProperties),goog.exportProperty(ol.source.Stamen.prototype,"unset",ol.source.Stamen.prototype.unset),goog.exportProperty(ol.source.Stamen.prototype,"changed",ol.source.Stamen.prototype.changed),goog.exportProperty(ol.source.Stamen.prototype,"getRevision",ol.source.Stamen.prototype.getRevision),goog.exportProperty(ol.source.Stamen.prototype,"on",ol.source.Stamen.prototype.on),goog.exportProperty(ol.source.Stamen.prototype,"once",ol.source.Stamen.prototype.once),goog.exportProperty(ol.source.Stamen.prototype,"un",ol.source.Stamen.prototype.un),goog.exportProperty(ol.source.Stamen.prototype,"unByKey",ol.source.Stamen.prototype.unByKey),goog.exportProperty(ol.source.TileArcGISRest.prototype,"getTileLoadFunction",ol.source.TileArcGISRest.prototype.getTileLoadFunction),goog.exportProperty(ol.source.TileArcGISRest.prototype,"getTileUrlFunction",ol.source.TileArcGISRest.prototype.getTileUrlFunction),goog.exportProperty(ol.source.TileArcGISRest.prototype,"setTileLoadFunction",ol.source.TileArcGISRest.prototype.setTileLoadFunction),goog.exportProperty(ol.source.TileArcGISRest.prototype,"setTileUrlFunction",ol.source.TileArcGISRest.prototype.setTileUrlFunction),goog.exportProperty(ol.source.TileArcGISRest.prototype,"getTileGrid",ol.source.TileArcGISRest.prototype.getTileGrid),goog.exportProperty(ol.source.TileArcGISRest.prototype,"getAttributions",ol.source.TileArcGISRest.prototype.getAttributions),goog.exportProperty(ol.source.TileArcGISRest.prototype,"getLogo",ol.source.TileArcGISRest.prototype.getLogo),goog.exportProperty(ol.source.TileArcGISRest.prototype,"getProjection",ol.source.TileArcGISRest.prototype.getProjection),goog.exportProperty(ol.source.TileArcGISRest.prototype,"getState",ol.source.TileArcGISRest.prototype.getState),goog.exportProperty(ol.source.TileArcGISRest.prototype,"get",ol.source.TileArcGISRest.prototype.get),goog.exportProperty(ol.source.TileArcGISRest.prototype,"getKeys",ol.source.TileArcGISRest.prototype.getKeys),goog.exportProperty(ol.source.TileArcGISRest.prototype,"getProperties",ol.source.TileArcGISRest.prototype.getProperties),goog.exportProperty(ol.source.TileArcGISRest.prototype,"set",ol.source.TileArcGISRest.prototype.set),goog.exportProperty(ol.source.TileArcGISRest.prototype,"setProperties",ol.source.TileArcGISRest.prototype.setProperties),goog.exportProperty(ol.source.TileArcGISRest.prototype,"unset",ol.source.TileArcGISRest.prototype.unset),goog.exportProperty(ol.source.TileArcGISRest.prototype,"changed",ol.source.TileArcGISRest.prototype.changed),goog.exportProperty(ol.source.TileArcGISRest.prototype,"getRevision",ol.source.TileArcGISRest.prototype.getRevision),goog.exportProperty(ol.source.TileArcGISRest.prototype,"on",ol.source.TileArcGISRest.prototype.on),goog.exportProperty(ol.source.TileArcGISRest.prototype,"once",ol.source.TileArcGISRest.prototype.once),goog.exportProperty(ol.source.TileArcGISRest.prototype,"un",ol.source.TileArcGISRest.prototype.un),goog.exportProperty(ol.source.TileArcGISRest.prototype,"unByKey",ol.source.TileArcGISRest.prototype.unByKey),goog.exportProperty(ol.source.TileDebug.prototype,"getTileGrid",ol.source.TileDebug.prototype.getTileGrid),goog.exportProperty(ol.source.TileDebug.prototype,"getAttributions",ol.source.TileDebug.prototype.getAttributions),goog.exportProperty(ol.source.TileDebug.prototype,"getLogo",ol.source.TileDebug.prototype.getLogo),goog.exportProperty(ol.source.TileDebug.prototype,"getProjection",ol.source.TileDebug.prototype.getProjection),goog.exportProperty(ol.source.TileDebug.prototype,"getState",ol.source.TileDebug.prototype.getState),goog.exportProperty(ol.source.TileDebug.prototype,"get",ol.source.TileDebug.prototype.get),goog.exportProperty(ol.source.TileDebug.prototype,"getKeys",ol.source.TileDebug.prototype.getKeys),goog.exportProperty(ol.source.TileDebug.prototype,"getProperties",ol.source.TileDebug.prototype.getProperties),goog.exportProperty(ol.source.TileDebug.prototype,"set",ol.source.TileDebug.prototype.set),goog.exportProperty(ol.source.TileDebug.prototype,"setProperties",ol.source.TileDebug.prototype.setProperties),goog.exportProperty(ol.source.TileDebug.prototype,"unset",ol.source.TileDebug.prototype.unset),goog.exportProperty(ol.source.TileDebug.prototype,"changed",ol.source.TileDebug.prototype.changed),goog.exportProperty(ol.source.TileDebug.prototype,"getRevision",ol.source.TileDebug.prototype.getRevision),goog.exportProperty(ol.source.TileDebug.prototype,"on",ol.source.TileDebug.prototype.on),goog.exportProperty(ol.source.TileDebug.prototype,"once",ol.source.TileDebug.prototype.once),goog.exportProperty(ol.source.TileDebug.prototype,"un",ol.source.TileDebug.prototype.un),goog.exportProperty(ol.source.TileDebug.prototype,"unByKey",ol.source.TileDebug.prototype.unByKey),goog.exportProperty(ol.source.TileJSON.prototype,"getTileLoadFunction",ol.source.TileJSON.prototype.getTileLoadFunction),goog.exportProperty(ol.source.TileJSON.prototype,"getTileUrlFunction",ol.source.TileJSON.prototype.getTileUrlFunction),goog.exportProperty(ol.source.TileJSON.prototype,"setTileLoadFunction",ol.source.TileJSON.prototype.setTileLoadFunction),goog.exportProperty(ol.source.TileJSON.prototype,"setTileUrlFunction",ol.source.TileJSON.prototype.setTileUrlFunction),goog.exportProperty(ol.source.TileJSON.prototype,"getTileGrid",ol.source.TileJSON.prototype.getTileGrid),goog.exportProperty(ol.source.TileJSON.prototype,"getAttributions",ol.source.TileJSON.prototype.getAttributions),goog.exportProperty(ol.source.TileJSON.prototype,"getLogo",ol.source.TileJSON.prototype.getLogo),goog.exportProperty(ol.source.TileJSON.prototype,"getProjection",ol.source.TileJSON.prototype.getProjection),goog.exportProperty(ol.source.TileJSON.prototype,"getState",ol.source.TileJSON.prototype.getState),goog.exportProperty(ol.source.TileJSON.prototype,"get",ol.source.TileJSON.prototype.get),goog.exportProperty(ol.source.TileJSON.prototype,"getKeys",ol.source.TileJSON.prototype.getKeys),goog.exportProperty(ol.source.TileJSON.prototype,"getProperties",ol.source.TileJSON.prototype.getProperties),goog.exportProperty(ol.source.TileJSON.prototype,"set",ol.source.TileJSON.prototype.set),goog.exportProperty(ol.source.TileJSON.prototype,"setProperties",ol.source.TileJSON.prototype.setProperties),goog.exportProperty(ol.source.TileJSON.prototype,"unset",ol.source.TileJSON.prototype.unset),goog.exportProperty(ol.source.TileJSON.prototype,"changed",ol.source.TileJSON.prototype.changed),goog.exportProperty(ol.source.TileJSON.prototype,"getRevision",ol.source.TileJSON.prototype.getRevision),goog.exportProperty(ol.source.TileJSON.prototype,"on",ol.source.TileJSON.prototype.on),goog.exportProperty(ol.source.TileJSON.prototype,"once",ol.source.TileJSON.prototype.once),goog.exportProperty(ol.source.TileJSON.prototype,"un",ol.source.TileJSON.prototype.un),goog.exportProperty(ol.source.TileJSON.prototype,"unByKey",ol.source.TileJSON.prototype.unByKey),goog.exportProperty(ol.source.TileUTFGrid.prototype,"getTileGrid",ol.source.TileUTFGrid.prototype.getTileGrid),goog.exportProperty(ol.source.TileUTFGrid.prototype,"getAttributions",ol.source.TileUTFGrid.prototype.getAttributions),goog.exportProperty(ol.source.TileUTFGrid.prototype,"getLogo",ol.source.TileUTFGrid.prototype.getLogo),goog.exportProperty(ol.source.TileUTFGrid.prototype,"getProjection",ol.source.TileUTFGrid.prototype.getProjection),goog.exportProperty(ol.source.TileUTFGrid.prototype,"getState",ol.source.TileUTFGrid.prototype.getState),goog.exportProperty(ol.source.TileUTFGrid.prototype,"get",ol.source.TileUTFGrid.prototype.get),goog.exportProperty(ol.source.TileUTFGrid.prototype,"getKeys",ol.source.TileUTFGrid.prototype.getKeys),goog.exportProperty(ol.source.TileUTFGrid.prototype,"getProperties",ol.source.TileUTFGrid.prototype.getProperties),goog.exportProperty(ol.source.TileUTFGrid.prototype,"set",ol.source.TileUTFGrid.prototype.set),goog.exportProperty(ol.source.TileUTFGrid.prototype,"setProperties",ol.source.TileUTFGrid.prototype.setProperties),goog.exportProperty(ol.source.TileUTFGrid.prototype,"unset",ol.source.TileUTFGrid.prototype.unset),goog.exportProperty(ol.source.TileUTFGrid.prototype,"changed",ol.source.TileUTFGrid.prototype.changed),goog.exportProperty(ol.source.TileUTFGrid.prototype,"getRevision",ol.source.TileUTFGrid.prototype.getRevision),goog.exportProperty(ol.source.TileUTFGrid.prototype,"on",ol.source.TileUTFGrid.prototype.on),goog.exportProperty(ol.source.TileUTFGrid.prototype,"once",ol.source.TileUTFGrid.prototype.once),goog.exportProperty(ol.source.TileUTFGrid.prototype,"un",ol.source.TileUTFGrid.prototype.un),goog.exportProperty(ol.source.TileUTFGrid.prototype,"unByKey",ol.source.TileUTFGrid.prototype.unByKey),goog.exportProperty(ol.source.TileVector.prototype,"forEachFeatureIntersectingExtent",ol.source.TileVector.prototype.forEachFeatureIntersectingExtent),goog.exportProperty(ol.source.TileVector.prototype,"getFeaturesCollection",ol.source.TileVector.prototype.getFeaturesCollection),goog.exportProperty(ol.source.TileVector.prototype,"getFeaturesAtCoordinate",ol.source.TileVector.prototype.getFeaturesAtCoordinate),goog.exportProperty(ol.source.TileVector.prototype,"getFeatureById",ol.source.TileVector.prototype.getFeatureById),goog.exportProperty(ol.source.TileVector.prototype,"getAttributions",ol.source.TileVector.prototype.getAttributions),goog.exportProperty(ol.source.TileVector.prototype,"getLogo",ol.source.TileVector.prototype.getLogo),goog.exportProperty(ol.source.TileVector.prototype,"getProjection",ol.source.TileVector.prototype.getProjection),goog.exportProperty(ol.source.TileVector.prototype,"getState",ol.source.TileVector.prototype.getState),goog.exportProperty(ol.source.TileVector.prototype,"get",ol.source.TileVector.prototype.get),goog.exportProperty(ol.source.TileVector.prototype,"getKeys",ol.source.TileVector.prototype.getKeys),goog.exportProperty(ol.source.TileVector.prototype,"getProperties",ol.source.TileVector.prototype.getProperties),goog.exportProperty(ol.source.TileVector.prototype,"set",ol.source.TileVector.prototype.set),goog.exportProperty(ol.source.TileVector.prototype,"setProperties",ol.source.TileVector.prototype.setProperties),goog.exportProperty(ol.source.TileVector.prototype,"unset",ol.source.TileVector.prototype.unset),goog.exportProperty(ol.source.TileVector.prototype,"changed",ol.source.TileVector.prototype.changed),goog.exportProperty(ol.source.TileVector.prototype,"getRevision",ol.source.TileVector.prototype.getRevision),goog.exportProperty(ol.source.TileVector.prototype,"on",ol.source.TileVector.prototype.on),goog.exportProperty(ol.source.TileVector.prototype,"once",ol.source.TileVector.prototype.once),goog.exportProperty(ol.source.TileVector.prototype,"un",ol.source.TileVector.prototype.un),goog.exportProperty(ol.source.TileVector.prototype,"unByKey",ol.source.TileVector.prototype.unByKey),goog.exportProperty(ol.source.TileWMS.prototype,"getTileLoadFunction",ol.source.TileWMS.prototype.getTileLoadFunction),goog.exportProperty(ol.source.TileWMS.prototype,"getTileUrlFunction",ol.source.TileWMS.prototype.getTileUrlFunction),goog.exportProperty(ol.source.TileWMS.prototype,"setTileLoadFunction",ol.source.TileWMS.prototype.setTileLoadFunction),goog.exportProperty(ol.source.TileWMS.prototype,"setTileUrlFunction",ol.source.TileWMS.prototype.setTileUrlFunction),goog.exportProperty(ol.source.TileWMS.prototype,"getTileGrid",ol.source.TileWMS.prototype.getTileGrid),goog.exportProperty(ol.source.TileWMS.prototype,"getAttributions",ol.source.TileWMS.prototype.getAttributions),goog.exportProperty(ol.source.TileWMS.prototype,"getLogo",ol.source.TileWMS.prototype.getLogo),goog.exportProperty(ol.source.TileWMS.prototype,"getProjection",ol.source.TileWMS.prototype.getProjection),goog.exportProperty(ol.source.TileWMS.prototype,"getState",ol.source.TileWMS.prototype.getState),goog.exportProperty(ol.source.TileWMS.prototype,"get",ol.source.TileWMS.prototype.get),goog.exportProperty(ol.source.TileWMS.prototype,"getKeys",ol.source.TileWMS.prototype.getKeys),goog.exportProperty(ol.source.TileWMS.prototype,"getProperties",ol.source.TileWMS.prototype.getProperties),goog.exportProperty(ol.source.TileWMS.prototype,"set",ol.source.TileWMS.prototype.set),goog.exportProperty(ol.source.TileWMS.prototype,"setProperties",ol.source.TileWMS.prototype.setProperties),goog.exportProperty(ol.source.TileWMS.prototype,"unset",ol.source.TileWMS.prototype.unset),goog.exportProperty(ol.source.TileWMS.prototype,"changed",ol.source.TileWMS.prototype.changed),goog.exportProperty(ol.source.TileWMS.prototype,"getRevision",ol.source.TileWMS.prototype.getRevision),goog.exportProperty(ol.source.TileWMS.prototype,"on",ol.source.TileWMS.prototype.on),goog.exportProperty(ol.source.TileWMS.prototype,"once",ol.source.TileWMS.prototype.once),goog.exportProperty(ol.source.TileWMS.prototype,"un",ol.source.TileWMS.prototype.un),goog.exportProperty(ol.source.TileWMS.prototype,"unByKey",ol.source.TileWMS.prototype.unByKey),goog.exportProperty(ol.source.WMTS.prototype,"getTileLoadFunction",ol.source.WMTS.prototype.getTileLoadFunction),goog.exportProperty(ol.source.WMTS.prototype,"getTileUrlFunction",ol.source.WMTS.prototype.getTileUrlFunction),goog.exportProperty(ol.source.WMTS.prototype,"setTileLoadFunction",ol.source.WMTS.prototype.setTileLoadFunction),goog.exportProperty(ol.source.WMTS.prototype,"setTileUrlFunction",ol.source.WMTS.prototype.setTileUrlFunction),goog.exportProperty(ol.source.WMTS.prototype,"getTileGrid",ol.source.WMTS.prototype.getTileGrid),goog.exportProperty(ol.source.WMTS.prototype,"getAttributions",ol.source.WMTS.prototype.getAttributions),goog.exportProperty(ol.source.WMTS.prototype,"getLogo",ol.source.WMTS.prototype.getLogo),goog.exportProperty(ol.source.WMTS.prototype,"getProjection",ol.source.WMTS.prototype.getProjection),goog.exportProperty(ol.source.WMTS.prototype,"getState",ol.source.WMTS.prototype.getState),goog.exportProperty(ol.source.WMTS.prototype,"get",ol.source.WMTS.prototype.get),goog.exportProperty(ol.source.WMTS.prototype,"getKeys",ol.source.WMTS.prototype.getKeys),goog.exportProperty(ol.source.WMTS.prototype,"getProperties",ol.source.WMTS.prototype.getProperties),goog.exportProperty(ol.source.WMTS.prototype,"set",ol.source.WMTS.prototype.set),goog.exportProperty(ol.source.WMTS.prototype,"setProperties",ol.source.WMTS.prototype.setProperties),goog.exportProperty(ol.source.WMTS.prototype,"unset",ol.source.WMTS.prototype.unset),goog.exportProperty(ol.source.WMTS.prototype,"changed",ol.source.WMTS.prototype.changed),goog.exportProperty(ol.source.WMTS.prototype,"getRevision",ol.source.WMTS.prototype.getRevision),goog.exportProperty(ol.source.WMTS.prototype,"on",ol.source.WMTS.prototype.on),goog.exportProperty(ol.source.WMTS.prototype,"once",ol.source.WMTS.prototype.once),goog.exportProperty(ol.source.WMTS.prototype,"un",ol.source.WMTS.prototype.un),goog.exportProperty(ol.source.WMTS.prototype,"unByKey",ol.source.WMTS.prototype.unByKey),goog.exportProperty(ol.source.Zoomify.prototype,"getTileLoadFunction",ol.source.Zoomify.prototype.getTileLoadFunction),goog.exportProperty(ol.source.Zoomify.prototype,"getTileUrlFunction",ol.source.Zoomify.prototype.getTileUrlFunction),goog.exportProperty(ol.source.Zoomify.prototype,"setTileLoadFunction",ol.source.Zoomify.prototype.setTileLoadFunction),goog.exportProperty(ol.source.Zoomify.prototype,"setTileUrlFunction",ol.source.Zoomify.prototype.setTileUrlFunction),goog.exportProperty(ol.source.Zoomify.prototype,"getTileGrid",ol.source.Zoomify.prototype.getTileGrid),goog.exportProperty(ol.source.Zoomify.prototype,"getAttributions",ol.source.Zoomify.prototype.getAttributions),goog.exportProperty(ol.source.Zoomify.prototype,"getLogo",ol.source.Zoomify.prototype.getLogo),goog.exportProperty(ol.source.Zoomify.prototype,"getProjection",ol.source.Zoomify.prototype.getProjection),goog.exportProperty(ol.source.Zoomify.prototype,"getState",ol.source.Zoomify.prototype.getState),goog.exportProperty(ol.source.Zoomify.prototype,"get",ol.source.Zoomify.prototype.get),goog.exportProperty(ol.source.Zoomify.prototype,"getKeys",ol.source.Zoomify.prototype.getKeys),goog.exportProperty(ol.source.Zoomify.prototype,"getProperties",ol.source.Zoomify.prototype.getProperties),goog.exportProperty(ol.source.Zoomify.prototype,"set",ol.source.Zoomify.prototype.set),goog.exportProperty(ol.source.Zoomify.prototype,"setProperties",ol.source.Zoomify.prototype.setProperties),goog.exportProperty(ol.source.Zoomify.prototype,"unset",ol.source.Zoomify.prototype.unset),goog.exportProperty(ol.source.Zoomify.prototype,"changed",ol.source.Zoomify.prototype.changed),goog.exportProperty(ol.source.Zoomify.prototype,"getRevision",ol.source.Zoomify.prototype.getRevision),goog.exportProperty(ol.source.Zoomify.prototype,"on",ol.source.Zoomify.prototype.on),goog.exportProperty(ol.source.Zoomify.prototype,"once",ol.source.Zoomify.prototype.once),goog.exportProperty(ol.source.Zoomify.prototype,"un",ol.source.Zoomify.prototype.un),goog.exportProperty(ol.source.Zoomify.prototype,"unByKey",ol.source.Zoomify.prototype.unByKey),goog.exportProperty(ol.renderer.Layer.prototype,"changed",ol.renderer.Layer.prototype.changed),goog.exportProperty(ol.renderer.Layer.prototype,"getRevision",ol.renderer.Layer.prototype.getRevision),goog.exportProperty(ol.renderer.Layer.prototype,"on",ol.renderer.Layer.prototype.on),goog.exportProperty(ol.renderer.Layer.prototype,"once",ol.renderer.Layer.prototype.once),goog.exportProperty(ol.renderer.Layer.prototype,"un",ol.renderer.Layer.prototype.un),goog.exportProperty(ol.renderer.Layer.prototype,"unByKey",ol.renderer.Layer.prototype.unByKey),goog.exportProperty(ol.renderer.webgl.Layer.prototype,"changed",ol.renderer.webgl.Layer.prototype.changed),goog.exportProperty(ol.renderer.webgl.Layer.prototype,"getRevision",ol.renderer.webgl.Layer.prototype.getRevision),goog.exportProperty(ol.renderer.webgl.Layer.prototype,"on",ol.renderer.webgl.Layer.prototype.on),goog.exportProperty(ol.renderer.webgl.Layer.prototype,"once",ol.renderer.webgl.Layer.prototype.once),goog.exportProperty(ol.renderer.webgl.Layer.prototype,"un",ol.renderer.webgl.Layer.prototype.un),goog.exportProperty(ol.renderer.webgl.Layer.prototype,"unByKey",ol.renderer.webgl.Layer.prototype.unByKey),goog.exportProperty(ol.renderer.webgl.ImageLayer.prototype,"changed",ol.renderer.webgl.ImageLayer.prototype.changed),goog.exportProperty(ol.renderer.webgl.ImageLayer.prototype,"getRevision",ol.renderer.webgl.ImageLayer.prototype.getRevision),goog.exportProperty(ol.renderer.webgl.ImageLayer.prototype,"on",ol.renderer.webgl.ImageLayer.prototype.on),goog.exportProperty(ol.renderer.webgl.ImageLayer.prototype,"once",ol.renderer.webgl.ImageLayer.prototype.once),goog.exportProperty(ol.renderer.webgl.ImageLayer.prototype,"un",ol.renderer.webgl.ImageLayer.prototype.un),goog.exportProperty(ol.renderer.webgl.ImageLayer.prototype,"unByKey",ol.renderer.webgl.ImageLayer.prototype.unByKey),goog.exportProperty(ol.renderer.webgl.TileLayer.prototype,"changed",ol.renderer.webgl.TileLayer.prototype.changed),goog.exportProperty(ol.renderer.webgl.TileLayer.prototype,"getRevision",ol.renderer.webgl.TileLayer.prototype.getRevision),goog.exportProperty(ol.renderer.webgl.TileLayer.prototype,"on",ol.renderer.webgl.TileLayer.prototype.on),
goog.exportProperty(ol.renderer.webgl.TileLayer.prototype,"once",ol.renderer.webgl.TileLayer.prototype.once),goog.exportProperty(ol.renderer.webgl.TileLayer.prototype,"un",ol.renderer.webgl.TileLayer.prototype.un),goog.exportProperty(ol.renderer.webgl.TileLayer.prototype,"unByKey",ol.renderer.webgl.TileLayer.prototype.unByKey),goog.exportProperty(ol.renderer.webgl.VectorLayer.prototype,"changed",ol.renderer.webgl.VectorLayer.prototype.changed),goog.exportProperty(ol.renderer.webgl.VectorLayer.prototype,"getRevision",ol.renderer.webgl.VectorLayer.prototype.getRevision),goog.exportProperty(ol.renderer.webgl.VectorLayer.prototype,"on",ol.renderer.webgl.VectorLayer.prototype.on),goog.exportProperty(ol.renderer.webgl.VectorLayer.prototype,"once",ol.renderer.webgl.VectorLayer.prototype.once),goog.exportProperty(ol.renderer.webgl.VectorLayer.prototype,"un",ol.renderer.webgl.VectorLayer.prototype.un),goog.exportProperty(ol.renderer.webgl.VectorLayer.prototype,"unByKey",ol.renderer.webgl.VectorLayer.prototype.unByKey),goog.exportProperty(ol.renderer.dom.Layer.prototype,"changed",ol.renderer.dom.Layer.prototype.changed),goog.exportProperty(ol.renderer.dom.Layer.prototype,"getRevision",ol.renderer.dom.Layer.prototype.getRevision),goog.exportProperty(ol.renderer.dom.Layer.prototype,"on",ol.renderer.dom.Layer.prototype.on),goog.exportProperty(ol.renderer.dom.Layer.prototype,"once",ol.renderer.dom.Layer.prototype.once),goog.exportProperty(ol.renderer.dom.Layer.prototype,"un",ol.renderer.dom.Layer.prototype.un),goog.exportProperty(ol.renderer.dom.Layer.prototype,"unByKey",ol.renderer.dom.Layer.prototype.unByKey),goog.exportProperty(ol.renderer.dom.ImageLayer.prototype,"changed",ol.renderer.dom.ImageLayer.prototype.changed),goog.exportProperty(ol.renderer.dom.ImageLayer.prototype,"getRevision",ol.renderer.dom.ImageLayer.prototype.getRevision),goog.exportProperty(ol.renderer.dom.ImageLayer.prototype,"on",ol.renderer.dom.ImageLayer.prototype.on),goog.exportProperty(ol.renderer.dom.ImageLayer.prototype,"once",ol.renderer.dom.ImageLayer.prototype.once),goog.exportProperty(ol.renderer.dom.ImageLayer.prototype,"un",ol.renderer.dom.ImageLayer.prototype.un),goog.exportProperty(ol.renderer.dom.ImageLayer.prototype,"unByKey",ol.renderer.dom.ImageLayer.prototype.unByKey),goog.exportProperty(ol.renderer.dom.TileLayer.prototype,"changed",ol.renderer.dom.TileLayer.prototype.changed),goog.exportProperty(ol.renderer.dom.TileLayer.prototype,"getRevision",ol.renderer.dom.TileLayer.prototype.getRevision),goog.exportProperty(ol.renderer.dom.TileLayer.prototype,"on",ol.renderer.dom.TileLayer.prototype.on),goog.exportProperty(ol.renderer.dom.TileLayer.prototype,"once",ol.renderer.dom.TileLayer.prototype.once),goog.exportProperty(ol.renderer.dom.TileLayer.prototype,"un",ol.renderer.dom.TileLayer.prototype.un),goog.exportProperty(ol.renderer.dom.TileLayer.prototype,"unByKey",ol.renderer.dom.TileLayer.prototype.unByKey),goog.exportProperty(ol.renderer.dom.VectorLayer.prototype,"changed",ol.renderer.dom.VectorLayer.prototype.changed),goog.exportProperty(ol.renderer.dom.VectorLayer.prototype,"getRevision",ol.renderer.dom.VectorLayer.prototype.getRevision),goog.exportProperty(ol.renderer.dom.VectorLayer.prototype,"on",ol.renderer.dom.VectorLayer.prototype.on),goog.exportProperty(ol.renderer.dom.VectorLayer.prototype,"once",ol.renderer.dom.VectorLayer.prototype.once),goog.exportProperty(ol.renderer.dom.VectorLayer.prototype,"un",ol.renderer.dom.VectorLayer.prototype.un),goog.exportProperty(ol.renderer.dom.VectorLayer.prototype,"unByKey",ol.renderer.dom.VectorLayer.prototype.unByKey),goog.exportProperty(ol.renderer.canvas.Layer.prototype,"changed",ol.renderer.canvas.Layer.prototype.changed),goog.exportProperty(ol.renderer.canvas.Layer.prototype,"getRevision",ol.renderer.canvas.Layer.prototype.getRevision),goog.exportProperty(ol.renderer.canvas.Layer.prototype,"on",ol.renderer.canvas.Layer.prototype.on),goog.exportProperty(ol.renderer.canvas.Layer.prototype,"once",ol.renderer.canvas.Layer.prototype.once),goog.exportProperty(ol.renderer.canvas.Layer.prototype,"un",ol.renderer.canvas.Layer.prototype.un),goog.exportProperty(ol.renderer.canvas.Layer.prototype,"unByKey",ol.renderer.canvas.Layer.prototype.unByKey),goog.exportProperty(ol.renderer.canvas.ImageLayer.prototype,"changed",ol.renderer.canvas.ImageLayer.prototype.changed),goog.exportProperty(ol.renderer.canvas.ImageLayer.prototype,"getRevision",ol.renderer.canvas.ImageLayer.prototype.getRevision),goog.exportProperty(ol.renderer.canvas.ImageLayer.prototype,"on",ol.renderer.canvas.ImageLayer.prototype.on),goog.exportProperty(ol.renderer.canvas.ImageLayer.prototype,"once",ol.renderer.canvas.ImageLayer.prototype.once),goog.exportProperty(ol.renderer.canvas.ImageLayer.prototype,"un",ol.renderer.canvas.ImageLayer.prototype.un),goog.exportProperty(ol.renderer.canvas.ImageLayer.prototype,"unByKey",ol.renderer.canvas.ImageLayer.prototype.unByKey),goog.exportProperty(ol.renderer.canvas.TileLayer.prototype,"changed",ol.renderer.canvas.TileLayer.prototype.changed),goog.exportProperty(ol.renderer.canvas.TileLayer.prototype,"getRevision",ol.renderer.canvas.TileLayer.prototype.getRevision),goog.exportProperty(ol.renderer.canvas.TileLayer.prototype,"on",ol.renderer.canvas.TileLayer.prototype.on),goog.exportProperty(ol.renderer.canvas.TileLayer.prototype,"once",ol.renderer.canvas.TileLayer.prototype.once),goog.exportProperty(ol.renderer.canvas.TileLayer.prototype,"un",ol.renderer.canvas.TileLayer.prototype.un),goog.exportProperty(ol.renderer.canvas.TileLayer.prototype,"unByKey",ol.renderer.canvas.TileLayer.prototype.unByKey),goog.exportProperty(ol.renderer.canvas.VectorLayer.prototype,"changed",ol.renderer.canvas.VectorLayer.prototype.changed),goog.exportProperty(ol.renderer.canvas.VectorLayer.prototype,"getRevision",ol.renderer.canvas.VectorLayer.prototype.getRevision),goog.exportProperty(ol.renderer.canvas.VectorLayer.prototype,"on",ol.renderer.canvas.VectorLayer.prototype.on),goog.exportProperty(ol.renderer.canvas.VectorLayer.prototype,"once",ol.renderer.canvas.VectorLayer.prototype.once),goog.exportProperty(ol.renderer.canvas.VectorLayer.prototype,"un",ol.renderer.canvas.VectorLayer.prototype.un),goog.exportProperty(ol.renderer.canvas.VectorLayer.prototype,"unByKey",ol.renderer.canvas.VectorLayer.prototype.unByKey),goog.exportProperty(ol.layer.Base.prototype,"get",ol.layer.Base.prototype.get),goog.exportProperty(ol.layer.Base.prototype,"getKeys",ol.layer.Base.prototype.getKeys),goog.exportProperty(ol.layer.Base.prototype,"getProperties",ol.layer.Base.prototype.getProperties),goog.exportProperty(ol.layer.Base.prototype,"set",ol.layer.Base.prototype.set),goog.exportProperty(ol.layer.Base.prototype,"setProperties",ol.layer.Base.prototype.setProperties),goog.exportProperty(ol.layer.Base.prototype,"unset",ol.layer.Base.prototype.unset),goog.exportProperty(ol.layer.Base.prototype,"changed",ol.layer.Base.prototype.changed),goog.exportProperty(ol.layer.Base.prototype,"getRevision",ol.layer.Base.prototype.getRevision),goog.exportProperty(ol.layer.Base.prototype,"on",ol.layer.Base.prototype.on),goog.exportProperty(ol.layer.Base.prototype,"once",ol.layer.Base.prototype.once),goog.exportProperty(ol.layer.Base.prototype,"un",ol.layer.Base.prototype.un),goog.exportProperty(ol.layer.Base.prototype,"unByKey",ol.layer.Base.prototype.unByKey),goog.exportProperty(ol.layer.Layer.prototype,"getBrightness",ol.layer.Layer.prototype.getBrightness),goog.exportProperty(ol.layer.Layer.prototype,"getContrast",ol.layer.Layer.prototype.getContrast),goog.exportProperty(ol.layer.Layer.prototype,"getHue",ol.layer.Layer.prototype.getHue),goog.exportProperty(ol.layer.Layer.prototype,"getExtent",ol.layer.Layer.prototype.getExtent),goog.exportProperty(ol.layer.Layer.prototype,"getMaxResolution",ol.layer.Layer.prototype.getMaxResolution),goog.exportProperty(ol.layer.Layer.prototype,"getMinResolution",ol.layer.Layer.prototype.getMinResolution),goog.exportProperty(ol.layer.Layer.prototype,"getOpacity",ol.layer.Layer.prototype.getOpacity),goog.exportProperty(ol.layer.Layer.prototype,"getSaturation",ol.layer.Layer.prototype.getSaturation),goog.exportProperty(ol.layer.Layer.prototype,"getVisible",ol.layer.Layer.prototype.getVisible),goog.exportProperty(ol.layer.Layer.prototype,"setBrightness",ol.layer.Layer.prototype.setBrightness),goog.exportProperty(ol.layer.Layer.prototype,"setContrast",ol.layer.Layer.prototype.setContrast),goog.exportProperty(ol.layer.Layer.prototype,"setHue",ol.layer.Layer.prototype.setHue),goog.exportProperty(ol.layer.Layer.prototype,"setExtent",ol.layer.Layer.prototype.setExtent),goog.exportProperty(ol.layer.Layer.prototype,"setMaxResolution",ol.layer.Layer.prototype.setMaxResolution),goog.exportProperty(ol.layer.Layer.prototype,"setMinResolution",ol.layer.Layer.prototype.setMinResolution),goog.exportProperty(ol.layer.Layer.prototype,"setOpacity",ol.layer.Layer.prototype.setOpacity),goog.exportProperty(ol.layer.Layer.prototype,"setSaturation",ol.layer.Layer.prototype.setSaturation),goog.exportProperty(ol.layer.Layer.prototype,"setVisible",ol.layer.Layer.prototype.setVisible),goog.exportProperty(ol.layer.Layer.prototype,"get",ol.layer.Layer.prototype.get),goog.exportProperty(ol.layer.Layer.prototype,"getKeys",ol.layer.Layer.prototype.getKeys),goog.exportProperty(ol.layer.Layer.prototype,"getProperties",ol.layer.Layer.prototype.getProperties),goog.exportProperty(ol.layer.Layer.prototype,"set",ol.layer.Layer.prototype.set),goog.exportProperty(ol.layer.Layer.prototype,"setProperties",ol.layer.Layer.prototype.setProperties),goog.exportProperty(ol.layer.Layer.prototype,"unset",ol.layer.Layer.prototype.unset),goog.exportProperty(ol.layer.Layer.prototype,"changed",ol.layer.Layer.prototype.changed),goog.exportProperty(ol.layer.Layer.prototype,"getRevision",ol.layer.Layer.prototype.getRevision),goog.exportProperty(ol.layer.Layer.prototype,"on",ol.layer.Layer.prototype.on),goog.exportProperty(ol.layer.Layer.prototype,"once",ol.layer.Layer.prototype.once),goog.exportProperty(ol.layer.Layer.prototype,"un",ol.layer.Layer.prototype.un),goog.exportProperty(ol.layer.Layer.prototype,"unByKey",ol.layer.Layer.prototype.unByKey),goog.exportProperty(ol.layer.Vector.prototype,"setMap",ol.layer.Vector.prototype.setMap),goog.exportProperty(ol.layer.Vector.prototype,"setSource",ol.layer.Vector.prototype.setSource),goog.exportProperty(ol.layer.Vector.prototype,"getBrightness",ol.layer.Vector.prototype.getBrightness),goog.exportProperty(ol.layer.Vector.prototype,"getContrast",ol.layer.Vector.prototype.getContrast),goog.exportProperty(ol.layer.Vector.prototype,"getHue",ol.layer.Vector.prototype.getHue),goog.exportProperty(ol.layer.Vector.prototype,"getExtent",ol.layer.Vector.prototype.getExtent),goog.exportProperty(ol.layer.Vector.prototype,"getMaxResolution",ol.layer.Vector.prototype.getMaxResolution),goog.exportProperty(ol.layer.Vector.prototype,"getMinResolution",ol.layer.Vector.prototype.getMinResolution),goog.exportProperty(ol.layer.Vector.prototype,"getOpacity",ol.layer.Vector.prototype.getOpacity),goog.exportProperty(ol.layer.Vector.prototype,"getSaturation",ol.layer.Vector.prototype.getSaturation),goog.exportProperty(ol.layer.Vector.prototype,"getVisible",ol.layer.Vector.prototype.getVisible),goog.exportProperty(ol.layer.Vector.prototype,"setBrightness",ol.layer.Vector.prototype.setBrightness),goog.exportProperty(ol.layer.Vector.prototype,"setContrast",ol.layer.Vector.prototype.setContrast),goog.exportProperty(ol.layer.Vector.prototype,"setHue",ol.layer.Vector.prototype.setHue),goog.exportProperty(ol.layer.Vector.prototype,"setExtent",ol.layer.Vector.prototype.setExtent),goog.exportProperty(ol.layer.Vector.prototype,"setMaxResolution",ol.layer.Vector.prototype.setMaxResolution),goog.exportProperty(ol.layer.Vector.prototype,"setMinResolution",ol.layer.Vector.prototype.setMinResolution),goog.exportProperty(ol.layer.Vector.prototype,"setOpacity",ol.layer.Vector.prototype.setOpacity),goog.exportProperty(ol.layer.Vector.prototype,"setSaturation",ol.layer.Vector.prototype.setSaturation),goog.exportProperty(ol.layer.Vector.prototype,"setVisible",ol.layer.Vector.prototype.setVisible),goog.exportProperty(ol.layer.Vector.prototype,"get",ol.layer.Vector.prototype.get),goog.exportProperty(ol.layer.Vector.prototype,"getKeys",ol.layer.Vector.prototype.getKeys),goog.exportProperty(ol.layer.Vector.prototype,"getProperties",ol.layer.Vector.prototype.getProperties),goog.exportProperty(ol.layer.Vector.prototype,"set",ol.layer.Vector.prototype.set),goog.exportProperty(ol.layer.Vector.prototype,"setProperties",ol.layer.Vector.prototype.setProperties),goog.exportProperty(ol.layer.Vector.prototype,"unset",ol.layer.Vector.prototype.unset),goog.exportProperty(ol.layer.Vector.prototype,"changed",ol.layer.Vector.prototype.changed),goog.exportProperty(ol.layer.Vector.prototype,"getRevision",ol.layer.Vector.prototype.getRevision),goog.exportProperty(ol.layer.Vector.prototype,"on",ol.layer.Vector.prototype.on),goog.exportProperty(ol.layer.Vector.prototype,"once",ol.layer.Vector.prototype.once),goog.exportProperty(ol.layer.Vector.prototype,"un",ol.layer.Vector.prototype.un),goog.exportProperty(ol.layer.Vector.prototype,"unByKey",ol.layer.Vector.prototype.unByKey),goog.exportProperty(ol.layer.Heatmap.prototype,"getSource",ol.layer.Heatmap.prototype.getSource),goog.exportProperty(ol.layer.Heatmap.prototype,"getStyle",ol.layer.Heatmap.prototype.getStyle),goog.exportProperty(ol.layer.Heatmap.prototype,"getStyleFunction",ol.layer.Heatmap.prototype.getStyleFunction),goog.exportProperty(ol.layer.Heatmap.prototype,"setStyle",ol.layer.Heatmap.prototype.setStyle),goog.exportProperty(ol.layer.Heatmap.prototype,"setMap",ol.layer.Heatmap.prototype.setMap),goog.exportProperty(ol.layer.Heatmap.prototype,"setSource",ol.layer.Heatmap.prototype.setSource),goog.exportProperty(ol.layer.Heatmap.prototype,"getBrightness",ol.layer.Heatmap.prototype.getBrightness),goog.exportProperty(ol.layer.Heatmap.prototype,"getContrast",ol.layer.Heatmap.prototype.getContrast),goog.exportProperty(ol.layer.Heatmap.prototype,"getHue",ol.layer.Heatmap.prototype.getHue),goog.exportProperty(ol.layer.Heatmap.prototype,"getExtent",ol.layer.Heatmap.prototype.getExtent),goog.exportProperty(ol.layer.Heatmap.prototype,"getMaxResolution",ol.layer.Heatmap.prototype.getMaxResolution),goog.exportProperty(ol.layer.Heatmap.prototype,"getMinResolution",ol.layer.Heatmap.prototype.getMinResolution),goog.exportProperty(ol.layer.Heatmap.prototype,"getOpacity",ol.layer.Heatmap.prototype.getOpacity),goog.exportProperty(ol.layer.Heatmap.prototype,"getSaturation",ol.layer.Heatmap.prototype.getSaturation),goog.exportProperty(ol.layer.Heatmap.prototype,"getVisible",ol.layer.Heatmap.prototype.getVisible),goog.exportProperty(ol.layer.Heatmap.prototype,"setBrightness",ol.layer.Heatmap.prototype.setBrightness),goog.exportProperty(ol.layer.Heatmap.prototype,"setContrast",ol.layer.Heatmap.prototype.setContrast),goog.exportProperty(ol.layer.Heatmap.prototype,"setHue",ol.layer.Heatmap.prototype.setHue),goog.exportProperty(ol.layer.Heatmap.prototype,"setExtent",ol.layer.Heatmap.prototype.setExtent),goog.exportProperty(ol.layer.Heatmap.prototype,"setMaxResolution",ol.layer.Heatmap.prototype.setMaxResolution),goog.exportProperty(ol.layer.Heatmap.prototype,"setMinResolution",ol.layer.Heatmap.prototype.setMinResolution),goog.exportProperty(ol.layer.Heatmap.prototype,"setOpacity",ol.layer.Heatmap.prototype.setOpacity),goog.exportProperty(ol.layer.Heatmap.prototype,"setSaturation",ol.layer.Heatmap.prototype.setSaturation),goog.exportProperty(ol.layer.Heatmap.prototype,"setVisible",ol.layer.Heatmap.prototype.setVisible),goog.exportProperty(ol.layer.Heatmap.prototype,"get",ol.layer.Heatmap.prototype.get),goog.exportProperty(ol.layer.Heatmap.prototype,"getKeys",ol.layer.Heatmap.prototype.getKeys),goog.exportProperty(ol.layer.Heatmap.prototype,"getProperties",ol.layer.Heatmap.prototype.getProperties),goog.exportProperty(ol.layer.Heatmap.prototype,"set",ol.layer.Heatmap.prototype.set),goog.exportProperty(ol.layer.Heatmap.prototype,"setProperties",ol.layer.Heatmap.prototype.setProperties),goog.exportProperty(ol.layer.Heatmap.prototype,"unset",ol.layer.Heatmap.prototype.unset),goog.exportProperty(ol.layer.Heatmap.prototype,"changed",ol.layer.Heatmap.prototype.changed),goog.exportProperty(ol.layer.Heatmap.prototype,"getRevision",ol.layer.Heatmap.prototype.getRevision),goog.exportProperty(ol.layer.Heatmap.prototype,"on",ol.layer.Heatmap.prototype.on),goog.exportProperty(ol.layer.Heatmap.prototype,"once",ol.layer.Heatmap.prototype.once),goog.exportProperty(ol.layer.Heatmap.prototype,"un",ol.layer.Heatmap.prototype.un),goog.exportProperty(ol.layer.Heatmap.prototype,"unByKey",ol.layer.Heatmap.prototype.unByKey),goog.exportProperty(ol.layer.Image.prototype,"setMap",ol.layer.Image.prototype.setMap),goog.exportProperty(ol.layer.Image.prototype,"setSource",ol.layer.Image.prototype.setSource),goog.exportProperty(ol.layer.Image.prototype,"getBrightness",ol.layer.Image.prototype.getBrightness),goog.exportProperty(ol.layer.Image.prototype,"getContrast",ol.layer.Image.prototype.getContrast),goog.exportProperty(ol.layer.Image.prototype,"getHue",ol.layer.Image.prototype.getHue),goog.exportProperty(ol.layer.Image.prototype,"getExtent",ol.layer.Image.prototype.getExtent),goog.exportProperty(ol.layer.Image.prototype,"getMaxResolution",ol.layer.Image.prototype.getMaxResolution),goog.exportProperty(ol.layer.Image.prototype,"getMinResolution",ol.layer.Image.prototype.getMinResolution),goog.exportProperty(ol.layer.Image.prototype,"getOpacity",ol.layer.Image.prototype.getOpacity),goog.exportProperty(ol.layer.Image.prototype,"getSaturation",ol.layer.Image.prototype.getSaturation),goog.exportProperty(ol.layer.Image.prototype,"getVisible",ol.layer.Image.prototype.getVisible),goog.exportProperty(ol.layer.Image.prototype,"setBrightness",ol.layer.Image.prototype.setBrightness),goog.exportProperty(ol.layer.Image.prototype,"setContrast",ol.layer.Image.prototype.setContrast),goog.exportProperty(ol.layer.Image.prototype,"setHue",ol.layer.Image.prototype.setHue),goog.exportProperty(ol.layer.Image.prototype,"setExtent",ol.layer.Image.prototype.setExtent),goog.exportProperty(ol.layer.Image.prototype,"setMaxResolution",ol.layer.Image.prototype.setMaxResolution),goog.exportProperty(ol.layer.Image.prototype,"setMinResolution",ol.layer.Image.prototype.setMinResolution),goog.exportProperty(ol.layer.Image.prototype,"setOpacity",ol.layer.Image.prototype.setOpacity),goog.exportProperty(ol.layer.Image.prototype,"setSaturation",ol.layer.Image.prototype.setSaturation),goog.exportProperty(ol.layer.Image.prototype,"setVisible",ol.layer.Image.prototype.setVisible),goog.exportProperty(ol.layer.Image.prototype,"get",ol.layer.Image.prototype.get),goog.exportProperty(ol.layer.Image.prototype,"getKeys",ol.layer.Image.prototype.getKeys),goog.exportProperty(ol.layer.Image.prototype,"getProperties",ol.layer.Image.prototype.getProperties),goog.exportProperty(ol.layer.Image.prototype,"set",ol.layer.Image.prototype.set),goog.exportProperty(ol.layer.Image.prototype,"setProperties",ol.layer.Image.prototype.setProperties),goog.exportProperty(ol.layer.Image.prototype,"unset",ol.layer.Image.prototype.unset),goog.exportProperty(ol.layer.Image.prototype,"changed",ol.layer.Image.prototype.changed),goog.exportProperty(ol.layer.Image.prototype,"getRevision",ol.layer.Image.prototype.getRevision),goog.exportProperty(ol.layer.Image.prototype,"on",ol.layer.Image.prototype.on),goog.exportProperty(ol.layer.Image.prototype,"once",ol.layer.Image.prototype.once),goog.exportProperty(ol.layer.Image.prototype,"un",ol.layer.Image.prototype.un),goog.exportProperty(ol.layer.Image.prototype,"unByKey",ol.layer.Image.prototype.unByKey),goog.exportProperty(ol.layer.Group.prototype,"getBrightness",ol.layer.Group.prototype.getBrightness),goog.exportProperty(ol.layer.Group.prototype,"getContrast",ol.layer.Group.prototype.getContrast),goog.exportProperty(ol.layer.Group.prototype,"getHue",ol.layer.Group.prototype.getHue),goog.exportProperty(ol.layer.Group.prototype,"getExtent",ol.layer.Group.prototype.getExtent),goog.exportProperty(ol.layer.Group.prototype,"getMaxResolution",ol.layer.Group.prototype.getMaxResolution),goog.exportProperty(ol.layer.Group.prototype,"getMinResolution",ol.layer.Group.prototype.getMinResolution),goog.exportProperty(ol.layer.Group.prototype,"getOpacity",ol.layer.Group.prototype.getOpacity),goog.exportProperty(ol.layer.Group.prototype,"getSaturation",ol.layer.Group.prototype.getSaturation),goog.exportProperty(ol.layer.Group.prototype,"getVisible",ol.layer.Group.prototype.getVisible),goog.exportProperty(ol.layer.Group.prototype,"setBrightness",ol.layer.Group.prototype.setBrightness),goog.exportProperty(ol.layer.Group.prototype,"setContrast",ol.layer.Group.prototype.setContrast),goog.exportProperty(ol.layer.Group.prototype,"setHue",ol.layer.Group.prototype.setHue),goog.exportProperty(ol.layer.Group.prototype,"setExtent",ol.layer.Group.prototype.setExtent),goog.exportProperty(ol.layer.Group.prototype,"setMaxResolution",ol.layer.Group.prototype.setMaxResolution),goog.exportProperty(ol.layer.Group.prototype,"setMinResolution",ol.layer.Group.prototype.setMinResolution),goog.exportProperty(ol.layer.Group.prototype,"setOpacity",ol.layer.Group.prototype.setOpacity),goog.exportProperty(ol.layer.Group.prototype,"setSaturation",ol.layer.Group.prototype.setSaturation),goog.exportProperty(ol.layer.Group.prototype,"setVisible",ol.layer.Group.prototype.setVisible),goog.exportProperty(ol.layer.Group.prototype,"get",ol.layer.Group.prototype.get),goog.exportProperty(ol.layer.Group.prototype,"getKeys",ol.layer.Group.prototype.getKeys),goog.exportProperty(ol.layer.Group.prototype,"getProperties",ol.layer.Group.prototype.getProperties),goog.exportProperty(ol.layer.Group.prototype,"set",ol.layer.Group.prototype.set),goog.exportProperty(ol.layer.Group.prototype,"setProperties",ol.layer.Group.prototype.setProperties),goog.exportProperty(ol.layer.Group.prototype,"unset",ol.layer.Group.prototype.unset),goog.exportProperty(ol.layer.Group.prototype,"changed",ol.layer.Group.prototype.changed),goog.exportProperty(ol.layer.Group.prototype,"getRevision",ol.layer.Group.prototype.getRevision),goog.exportProperty(ol.layer.Group.prototype,"on",ol.layer.Group.prototype.on),goog.exportProperty(ol.layer.Group.prototype,"once",ol.layer.Group.prototype.once),goog.exportProperty(ol.layer.Group.prototype,"un",ol.layer.Group.prototype.un),goog.exportProperty(ol.layer.Group.prototype,"unByKey",ol.layer.Group.prototype.unByKey),goog.exportProperty(ol.layer.Tile.prototype,"setMap",ol.layer.Tile.prototype.setMap),goog.exportProperty(ol.layer.Tile.prototype,"setSource",ol.layer.Tile.prototype.setSource),goog.exportProperty(ol.layer.Tile.prototype,"getBrightness",ol.layer.Tile.prototype.getBrightness),goog.exportProperty(ol.layer.Tile.prototype,"getContrast",ol.layer.Tile.prototype.getContrast),goog.exportProperty(ol.layer.Tile.prototype,"getHue",ol.layer.Tile.prototype.getHue),goog.exportProperty(ol.layer.Tile.prototype,"getExtent",ol.layer.Tile.prototype.getExtent),goog.exportProperty(ol.layer.Tile.prototype,"getMaxResolution",ol.layer.Tile.prototype.getMaxResolution),goog.exportProperty(ol.layer.Tile.prototype,"getMinResolution",ol.layer.Tile.prototype.getMinResolution),goog.exportProperty(ol.layer.Tile.prototype,"getOpacity",ol.layer.Tile.prototype.getOpacity),goog.exportProperty(ol.layer.Tile.prototype,"getSaturation",ol.layer.Tile.prototype.getSaturation),goog.exportProperty(ol.layer.Tile.prototype,"getVisible",ol.layer.Tile.prototype.getVisible),goog.exportProperty(ol.layer.Tile.prototype,"setBrightness",ol.layer.Tile.prototype.setBrightness),goog.exportProperty(ol.layer.Tile.prototype,"setContrast",ol.layer.Tile.prototype.setContrast),goog.exportProperty(ol.layer.Tile.prototype,"setHue",ol.layer.Tile.prototype.setHue),goog.exportProperty(ol.layer.Tile.prototype,"setExtent",ol.layer.Tile.prototype.setExtent),goog.exportProperty(ol.layer.Tile.prototype,"setMaxResolution",ol.layer.Tile.prototype.setMaxResolution),goog.exportProperty(ol.layer.Tile.prototype,"setMinResolution",ol.layer.Tile.prototype.setMinResolution),goog.exportProperty(ol.layer.Tile.prototype,"setOpacity",ol.layer.Tile.prototype.setOpacity),goog.exportProperty(ol.layer.Tile.prototype,"setSaturation",ol.layer.Tile.prototype.setSaturation),goog.exportProperty(ol.layer.Tile.prototype,"setVisible",ol.layer.Tile.prototype.setVisible),goog.exportProperty(ol.layer.Tile.prototype,"get",ol.layer.Tile.prototype.get),goog.exportProperty(ol.layer.Tile.prototype,"getKeys",ol.layer.Tile.prototype.getKeys),goog.exportProperty(ol.layer.Tile.prototype,"getProperties",ol.layer.Tile.prototype.getProperties),goog.exportProperty(ol.layer.Tile.prototype,"set",ol.layer.Tile.prototype.set),goog.exportProperty(ol.layer.Tile.prototype,"setProperties",ol.layer.Tile.prototype.setProperties),goog.exportProperty(ol.layer.Tile.prototype,"unset",ol.layer.Tile.prototype.unset),goog.exportProperty(ol.layer.Tile.prototype,"changed",ol.layer.Tile.prototype.changed),goog.exportProperty(ol.layer.Tile.prototype,"getRevision",ol.layer.Tile.prototype.getRevision),goog.exportProperty(ol.layer.Tile.prototype,"on",ol.layer.Tile.prototype.on),goog.exportProperty(ol.layer.Tile.prototype,"once",ol.layer.Tile.prototype.once),goog.exportProperty(ol.layer.Tile.prototype,"un",ol.layer.Tile.prototype.un),goog.exportProperty(ol.layer.Tile.prototype,"unByKey",ol.layer.Tile.prototype.unByKey),goog.exportProperty(ol.interaction.Interaction.prototype,"get",ol.interaction.Interaction.prototype.get),goog.exportProperty(ol.interaction.Interaction.prototype,"getKeys",ol.interaction.Interaction.prototype.getKeys),goog.exportProperty(ol.interaction.Interaction.prototype,"getProperties",ol.interaction.Interaction.prototype.getProperties),goog.exportProperty(ol.interaction.Interaction.prototype,"set",ol.interaction.Interaction.prototype.set),goog.exportProperty(ol.interaction.Interaction.prototype,"setProperties",ol.interaction.Interaction.prototype.setProperties),goog.exportProperty(ol.interaction.Interaction.prototype,"unset",ol.interaction.Interaction.prototype.unset),goog.exportProperty(ol.interaction.Interaction.prototype,"changed",ol.interaction.Interaction.prototype.changed),goog.exportProperty(ol.interaction.Interaction.prototype,"getRevision",ol.interaction.Interaction.prototype.getRevision),goog.exportProperty(ol.interaction.Interaction.prototype,"on",ol.interaction.Interaction.prototype.on),goog.exportProperty(ol.interaction.Interaction.prototype,"once",ol.interaction.Interaction.prototype.once),goog.exportProperty(ol.interaction.Interaction.prototype,"un",ol.interaction.Interaction.prototype.un),goog.exportProperty(ol.interaction.Interaction.prototype,"unByKey",ol.interaction.Interaction.prototype.unByKey),goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"getActive",ol.interaction.DoubleClickZoom.prototype.getActive),goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"setActive",ol.interaction.DoubleClickZoom.prototype.setActive),goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"get",ol.interaction.DoubleClickZoom.prototype.get),goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"getKeys",ol.interaction.DoubleClickZoom.prototype.getKeys),goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"getProperties",ol.interaction.DoubleClickZoom.prototype.getProperties),goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"set",ol.interaction.DoubleClickZoom.prototype.set),goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"setProperties",ol.interaction.DoubleClickZoom.prototype.setProperties),goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"unset",ol.interaction.DoubleClickZoom.prototype.unset),goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"changed",ol.interaction.DoubleClickZoom.prototype.changed),goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"getRevision",ol.interaction.DoubleClickZoom.prototype.getRevision),goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"on",ol.interaction.DoubleClickZoom.prototype.on),goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"once",ol.interaction.DoubleClickZoom.prototype.once),goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"un",ol.interaction.DoubleClickZoom.prototype.un),goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"unByKey",ol.interaction.DoubleClickZoom.prototype.unByKey),goog.exportProperty(ol.interaction.DragAndDrop.prototype,"getActive",ol.interaction.DragAndDrop.prototype.getActive),goog.exportProperty(ol.interaction.DragAndDrop.prototype,"setActive",ol.interaction.DragAndDrop.prototype.setActive),goog.exportProperty(ol.interaction.DragAndDrop.prototype,"get",ol.interaction.DragAndDrop.prototype.get),goog.exportProperty(ol.interaction.DragAndDrop.prototype,"getKeys",ol.interaction.DragAndDrop.prototype.getKeys),goog.exportProperty(ol.interaction.DragAndDrop.prototype,"getProperties",ol.interaction.DragAndDrop.prototype.getProperties),goog.exportProperty(ol.interaction.DragAndDrop.prototype,"set",ol.interaction.DragAndDrop.prototype.set),goog.exportProperty(ol.interaction.DragAndDrop.prototype,"setProperties",ol.interaction.DragAndDrop.prototype.setProperties),goog.exportProperty(ol.interaction.DragAndDrop.prototype,"unset",ol.interaction.DragAndDrop.prototype.unset),goog.exportProperty(ol.interaction.DragAndDrop.prototype,"changed",ol.interaction.DragAndDrop.prototype.changed),goog.exportProperty(ol.interaction.DragAndDrop.prototype,"getRevision",ol.interaction.DragAndDrop.prototype.getRevision),goog.exportProperty(ol.interaction.DragAndDrop.prototype,"on",ol.interaction.DragAndDrop.prototype.on),goog.exportProperty(ol.interaction.DragAndDrop.prototype,"once",ol.interaction.DragAndDrop.prototype.once),goog.exportProperty(ol.interaction.DragAndDrop.prototype,"un",ol.interaction.DragAndDrop.prototype.un),goog.exportProperty(ol.interaction.DragAndDrop.prototype,"unByKey",ol.interaction.DragAndDrop.prototype.unByKey),goog.exportProperty(ol.interaction.Pointer.prototype,"getActive",ol.interaction.Pointer.prototype.getActive),goog.exportProperty(ol.interaction.Pointer.prototype,"setActive",ol.interaction.Pointer.prototype.setActive),goog.exportProperty(ol.interaction.Pointer.prototype,"get",ol.interaction.Pointer.prototype.get),goog.exportProperty(ol.interaction.Pointer.prototype,"getKeys",ol.interaction.Pointer.prototype.getKeys),goog.exportProperty(ol.interaction.Pointer.prototype,"getProperties",ol.interaction.Pointer.prototype.getProperties),goog.exportProperty(ol.interaction.Pointer.prototype,"set",ol.interaction.Pointer.prototype.set),goog.exportProperty(ol.interaction.Pointer.prototype,"setProperties",ol.interaction.Pointer.prototype.setProperties),goog.exportProperty(ol.interaction.Pointer.prototype,"unset",ol.interaction.Pointer.prototype.unset),goog.exportProperty(ol.interaction.Pointer.prototype,"changed",ol.interaction.Pointer.prototype.changed),goog.exportProperty(ol.interaction.Pointer.prototype,"getRevision",ol.interaction.Pointer.prototype.getRevision),goog.exportProperty(ol.interaction.Pointer.prototype,"on",ol.interaction.Pointer.prototype.on),goog.exportProperty(ol.interaction.Pointer.prototype,"once",ol.interaction.Pointer.prototype.once),goog.exportProperty(ol.interaction.Pointer.prototype,"un",ol.interaction.Pointer.prototype.un),goog.exportProperty(ol.interaction.Pointer.prototype,"unByKey",ol.interaction.Pointer.prototype.unByKey),goog.exportProperty(ol.interaction.DragBox.prototype,"getActive",ol.interaction.DragBox.prototype.getActive),goog.exportProperty(ol.interaction.DragBox.prototype,"setActive",ol.interaction.DragBox.prototype.setActive),goog.exportProperty(ol.interaction.DragBox.prototype,"get",ol.interaction.DragBox.prototype.get),goog.exportProperty(ol.interaction.DragBox.prototype,"getKeys",ol.interaction.DragBox.prototype.getKeys),
goog.exportProperty(ol.interaction.DragBox.prototype,"getProperties",ol.interaction.DragBox.prototype.getProperties),goog.exportProperty(ol.interaction.DragBox.prototype,"set",ol.interaction.DragBox.prototype.set),goog.exportProperty(ol.interaction.DragBox.prototype,"setProperties",ol.interaction.DragBox.prototype.setProperties),goog.exportProperty(ol.interaction.DragBox.prototype,"unset",ol.interaction.DragBox.prototype.unset),goog.exportProperty(ol.interaction.DragBox.prototype,"changed",ol.interaction.DragBox.prototype.changed),goog.exportProperty(ol.interaction.DragBox.prototype,"getRevision",ol.interaction.DragBox.prototype.getRevision),goog.exportProperty(ol.interaction.DragBox.prototype,"on",ol.interaction.DragBox.prototype.on),goog.exportProperty(ol.interaction.DragBox.prototype,"once",ol.interaction.DragBox.prototype.once),goog.exportProperty(ol.interaction.DragBox.prototype,"un",ol.interaction.DragBox.prototype.un),goog.exportProperty(ol.interaction.DragBox.prototype,"unByKey",ol.interaction.DragBox.prototype.unByKey),goog.exportProperty(ol.interaction.DragPan.prototype,"getActive",ol.interaction.DragPan.prototype.getActive),goog.exportProperty(ol.interaction.DragPan.prototype,"setActive",ol.interaction.DragPan.prototype.setActive),goog.exportProperty(ol.interaction.DragPan.prototype,"get",ol.interaction.DragPan.prototype.get),goog.exportProperty(ol.interaction.DragPan.prototype,"getKeys",ol.interaction.DragPan.prototype.getKeys),goog.exportProperty(ol.interaction.DragPan.prototype,"getProperties",ol.interaction.DragPan.prototype.getProperties),goog.exportProperty(ol.interaction.DragPan.prototype,"set",ol.interaction.DragPan.prototype.set),goog.exportProperty(ol.interaction.DragPan.prototype,"setProperties",ol.interaction.DragPan.prototype.setProperties),goog.exportProperty(ol.interaction.DragPan.prototype,"unset",ol.interaction.DragPan.prototype.unset),goog.exportProperty(ol.interaction.DragPan.prototype,"changed",ol.interaction.DragPan.prototype.changed),goog.exportProperty(ol.interaction.DragPan.prototype,"getRevision",ol.interaction.DragPan.prototype.getRevision),goog.exportProperty(ol.interaction.DragPan.prototype,"on",ol.interaction.DragPan.prototype.on),goog.exportProperty(ol.interaction.DragPan.prototype,"once",ol.interaction.DragPan.prototype.once),goog.exportProperty(ol.interaction.DragPan.prototype,"un",ol.interaction.DragPan.prototype.un),goog.exportProperty(ol.interaction.DragPan.prototype,"unByKey",ol.interaction.DragPan.prototype.unByKey),goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"getActive",ol.interaction.DragRotateAndZoom.prototype.getActive),goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"setActive",ol.interaction.DragRotateAndZoom.prototype.setActive),goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"get",ol.interaction.DragRotateAndZoom.prototype.get),goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"getKeys",ol.interaction.DragRotateAndZoom.prototype.getKeys),goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"getProperties",ol.interaction.DragRotateAndZoom.prototype.getProperties),goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"set",ol.interaction.DragRotateAndZoom.prototype.set),goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"setProperties",ol.interaction.DragRotateAndZoom.prototype.setProperties),goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"unset",ol.interaction.DragRotateAndZoom.prototype.unset),goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"changed",ol.interaction.DragRotateAndZoom.prototype.changed),goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"getRevision",ol.interaction.DragRotateAndZoom.prototype.getRevision),goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"on",ol.interaction.DragRotateAndZoom.prototype.on),goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"once",ol.interaction.DragRotateAndZoom.prototype.once),goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"un",ol.interaction.DragRotateAndZoom.prototype.un),goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"unByKey",ol.interaction.DragRotateAndZoom.prototype.unByKey),goog.exportProperty(ol.interaction.DragRotate.prototype,"getActive",ol.interaction.DragRotate.prototype.getActive),goog.exportProperty(ol.interaction.DragRotate.prototype,"setActive",ol.interaction.DragRotate.prototype.setActive),goog.exportProperty(ol.interaction.DragRotate.prototype,"get",ol.interaction.DragRotate.prototype.get),goog.exportProperty(ol.interaction.DragRotate.prototype,"getKeys",ol.interaction.DragRotate.prototype.getKeys),goog.exportProperty(ol.interaction.DragRotate.prototype,"getProperties",ol.interaction.DragRotate.prototype.getProperties),goog.exportProperty(ol.interaction.DragRotate.prototype,"set",ol.interaction.DragRotate.prototype.set),goog.exportProperty(ol.interaction.DragRotate.prototype,"setProperties",ol.interaction.DragRotate.prototype.setProperties),goog.exportProperty(ol.interaction.DragRotate.prototype,"unset",ol.interaction.DragRotate.prototype.unset),goog.exportProperty(ol.interaction.DragRotate.prototype,"changed",ol.interaction.DragRotate.prototype.changed),goog.exportProperty(ol.interaction.DragRotate.prototype,"getRevision",ol.interaction.DragRotate.prototype.getRevision),goog.exportProperty(ol.interaction.DragRotate.prototype,"on",ol.interaction.DragRotate.prototype.on),goog.exportProperty(ol.interaction.DragRotate.prototype,"once",ol.interaction.DragRotate.prototype.once),goog.exportProperty(ol.interaction.DragRotate.prototype,"un",ol.interaction.DragRotate.prototype.un),goog.exportProperty(ol.interaction.DragRotate.prototype,"unByKey",ol.interaction.DragRotate.prototype.unByKey),goog.exportProperty(ol.interaction.DragZoom.prototype,"getGeometry",ol.interaction.DragZoom.prototype.getGeometry),goog.exportProperty(ol.interaction.DragZoom.prototype,"getActive",ol.interaction.DragZoom.prototype.getActive),goog.exportProperty(ol.interaction.DragZoom.prototype,"setActive",ol.interaction.DragZoom.prototype.setActive),goog.exportProperty(ol.interaction.DragZoom.prototype,"get",ol.interaction.DragZoom.prototype.get),goog.exportProperty(ol.interaction.DragZoom.prototype,"getKeys",ol.interaction.DragZoom.prototype.getKeys),goog.exportProperty(ol.interaction.DragZoom.prototype,"getProperties",ol.interaction.DragZoom.prototype.getProperties),goog.exportProperty(ol.interaction.DragZoom.prototype,"set",ol.interaction.DragZoom.prototype.set),goog.exportProperty(ol.interaction.DragZoom.prototype,"setProperties",ol.interaction.DragZoom.prototype.setProperties),goog.exportProperty(ol.interaction.DragZoom.prototype,"unset",ol.interaction.DragZoom.prototype.unset),goog.exportProperty(ol.interaction.DragZoom.prototype,"changed",ol.interaction.DragZoom.prototype.changed),goog.exportProperty(ol.interaction.DragZoom.prototype,"getRevision",ol.interaction.DragZoom.prototype.getRevision),goog.exportProperty(ol.interaction.DragZoom.prototype,"on",ol.interaction.DragZoom.prototype.on),goog.exportProperty(ol.interaction.DragZoom.prototype,"once",ol.interaction.DragZoom.prototype.once),goog.exportProperty(ol.interaction.DragZoom.prototype,"un",ol.interaction.DragZoom.prototype.un),goog.exportProperty(ol.interaction.DragZoom.prototype,"unByKey",ol.interaction.DragZoom.prototype.unByKey),goog.exportProperty(ol.interaction.Draw.prototype,"getActive",ol.interaction.Draw.prototype.getActive),goog.exportProperty(ol.interaction.Draw.prototype,"setActive",ol.interaction.Draw.prototype.setActive),goog.exportProperty(ol.interaction.Draw.prototype,"get",ol.interaction.Draw.prototype.get),goog.exportProperty(ol.interaction.Draw.prototype,"getKeys",ol.interaction.Draw.prototype.getKeys),goog.exportProperty(ol.interaction.Draw.prototype,"getProperties",ol.interaction.Draw.prototype.getProperties),goog.exportProperty(ol.interaction.Draw.prototype,"set",ol.interaction.Draw.prototype.set),goog.exportProperty(ol.interaction.Draw.prototype,"setProperties",ol.interaction.Draw.prototype.setProperties),goog.exportProperty(ol.interaction.Draw.prototype,"unset",ol.interaction.Draw.prototype.unset),goog.exportProperty(ol.interaction.Draw.prototype,"changed",ol.interaction.Draw.prototype.changed),goog.exportProperty(ol.interaction.Draw.prototype,"getRevision",ol.interaction.Draw.prototype.getRevision),goog.exportProperty(ol.interaction.Draw.prototype,"on",ol.interaction.Draw.prototype.on),goog.exportProperty(ol.interaction.Draw.prototype,"once",ol.interaction.Draw.prototype.once),goog.exportProperty(ol.interaction.Draw.prototype,"un",ol.interaction.Draw.prototype.un),goog.exportProperty(ol.interaction.Draw.prototype,"unByKey",ol.interaction.Draw.prototype.unByKey),goog.exportProperty(ol.interaction.KeyboardPan.prototype,"getActive",ol.interaction.KeyboardPan.prototype.getActive),goog.exportProperty(ol.interaction.KeyboardPan.prototype,"setActive",ol.interaction.KeyboardPan.prototype.setActive),goog.exportProperty(ol.interaction.KeyboardPan.prototype,"get",ol.interaction.KeyboardPan.prototype.get),goog.exportProperty(ol.interaction.KeyboardPan.prototype,"getKeys",ol.interaction.KeyboardPan.prototype.getKeys),goog.exportProperty(ol.interaction.KeyboardPan.prototype,"getProperties",ol.interaction.KeyboardPan.prototype.getProperties),goog.exportProperty(ol.interaction.KeyboardPan.prototype,"set",ol.interaction.KeyboardPan.prototype.set),goog.exportProperty(ol.interaction.KeyboardPan.prototype,"setProperties",ol.interaction.KeyboardPan.prototype.setProperties),goog.exportProperty(ol.interaction.KeyboardPan.prototype,"unset",ol.interaction.KeyboardPan.prototype.unset),goog.exportProperty(ol.interaction.KeyboardPan.prototype,"changed",ol.interaction.KeyboardPan.prototype.changed),goog.exportProperty(ol.interaction.KeyboardPan.prototype,"getRevision",ol.interaction.KeyboardPan.prototype.getRevision),goog.exportProperty(ol.interaction.KeyboardPan.prototype,"on",ol.interaction.KeyboardPan.prototype.on),goog.exportProperty(ol.interaction.KeyboardPan.prototype,"once",ol.interaction.KeyboardPan.prototype.once),goog.exportProperty(ol.interaction.KeyboardPan.prototype,"un",ol.interaction.KeyboardPan.prototype.un),goog.exportProperty(ol.interaction.KeyboardPan.prototype,"unByKey",ol.interaction.KeyboardPan.prototype.unByKey),goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"getActive",ol.interaction.KeyboardZoom.prototype.getActive),goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"setActive",ol.interaction.KeyboardZoom.prototype.setActive),goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"get",ol.interaction.KeyboardZoom.prototype.get),goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"getKeys",ol.interaction.KeyboardZoom.prototype.getKeys),goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"getProperties",ol.interaction.KeyboardZoom.prototype.getProperties),goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"set",ol.interaction.KeyboardZoom.prototype.set),goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"setProperties",ol.interaction.KeyboardZoom.prototype.setProperties),goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"unset",ol.interaction.KeyboardZoom.prototype.unset),goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"changed",ol.interaction.KeyboardZoom.prototype.changed),goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"getRevision",ol.interaction.KeyboardZoom.prototype.getRevision),goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"on",ol.interaction.KeyboardZoom.prototype.on),goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"once",ol.interaction.KeyboardZoom.prototype.once),goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"un",ol.interaction.KeyboardZoom.prototype.un),goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"unByKey",ol.interaction.KeyboardZoom.prototype.unByKey),goog.exportProperty(ol.interaction.Modify.prototype,"getActive",ol.interaction.Modify.prototype.getActive),goog.exportProperty(ol.interaction.Modify.prototype,"setActive",ol.interaction.Modify.prototype.setActive),goog.exportProperty(ol.interaction.Modify.prototype,"get",ol.interaction.Modify.prototype.get),goog.exportProperty(ol.interaction.Modify.prototype,"getKeys",ol.interaction.Modify.prototype.getKeys),goog.exportProperty(ol.interaction.Modify.prototype,"getProperties",ol.interaction.Modify.prototype.getProperties),goog.exportProperty(ol.interaction.Modify.prototype,"set",ol.interaction.Modify.prototype.set),goog.exportProperty(ol.interaction.Modify.prototype,"setProperties",ol.interaction.Modify.prototype.setProperties),goog.exportProperty(ol.interaction.Modify.prototype,"unset",ol.interaction.Modify.prototype.unset),goog.exportProperty(ol.interaction.Modify.prototype,"changed",ol.interaction.Modify.prototype.changed),goog.exportProperty(ol.interaction.Modify.prototype,"getRevision",ol.interaction.Modify.prototype.getRevision),goog.exportProperty(ol.interaction.Modify.prototype,"on",ol.interaction.Modify.prototype.on),goog.exportProperty(ol.interaction.Modify.prototype,"once",ol.interaction.Modify.prototype.once),goog.exportProperty(ol.interaction.Modify.prototype,"un",ol.interaction.Modify.prototype.un),goog.exportProperty(ol.interaction.Modify.prototype,"unByKey",ol.interaction.Modify.prototype.unByKey),goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"getActive",ol.interaction.MouseWheelZoom.prototype.getActive),goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"setActive",ol.interaction.MouseWheelZoom.prototype.setActive),goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"get",ol.interaction.MouseWheelZoom.prototype.get),goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"getKeys",ol.interaction.MouseWheelZoom.prototype.getKeys),goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"getProperties",ol.interaction.MouseWheelZoom.prototype.getProperties),goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"set",ol.interaction.MouseWheelZoom.prototype.set),goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"setProperties",ol.interaction.MouseWheelZoom.prototype.setProperties),goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"unset",ol.interaction.MouseWheelZoom.prototype.unset),goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"changed",ol.interaction.MouseWheelZoom.prototype.changed),goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"getRevision",ol.interaction.MouseWheelZoom.prototype.getRevision),goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"on",ol.interaction.MouseWheelZoom.prototype.on),goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"once",ol.interaction.MouseWheelZoom.prototype.once),goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"un",ol.interaction.MouseWheelZoom.prototype.un),goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"unByKey",ol.interaction.MouseWheelZoom.prototype.unByKey),goog.exportProperty(ol.interaction.PinchRotate.prototype,"getActive",ol.interaction.PinchRotate.prototype.getActive),goog.exportProperty(ol.interaction.PinchRotate.prototype,"setActive",ol.interaction.PinchRotate.prototype.setActive),goog.exportProperty(ol.interaction.PinchRotate.prototype,"get",ol.interaction.PinchRotate.prototype.get),goog.exportProperty(ol.interaction.PinchRotate.prototype,"getKeys",ol.interaction.PinchRotate.prototype.getKeys),goog.exportProperty(ol.interaction.PinchRotate.prototype,"getProperties",ol.interaction.PinchRotate.prototype.getProperties),goog.exportProperty(ol.interaction.PinchRotate.prototype,"set",ol.interaction.PinchRotate.prototype.set),goog.exportProperty(ol.interaction.PinchRotate.prototype,"setProperties",ol.interaction.PinchRotate.prototype.setProperties),goog.exportProperty(ol.interaction.PinchRotate.prototype,"unset",ol.interaction.PinchRotate.prototype.unset),goog.exportProperty(ol.interaction.PinchRotate.prototype,"changed",ol.interaction.PinchRotate.prototype.changed),goog.exportProperty(ol.interaction.PinchRotate.prototype,"getRevision",ol.interaction.PinchRotate.prototype.getRevision),goog.exportProperty(ol.interaction.PinchRotate.prototype,"on",ol.interaction.PinchRotate.prototype.on),goog.exportProperty(ol.interaction.PinchRotate.prototype,"once",ol.interaction.PinchRotate.prototype.once),goog.exportProperty(ol.interaction.PinchRotate.prototype,"un",ol.interaction.PinchRotate.prototype.un),goog.exportProperty(ol.interaction.PinchRotate.prototype,"unByKey",ol.interaction.PinchRotate.prototype.unByKey),goog.exportProperty(ol.interaction.PinchZoom.prototype,"getActive",ol.interaction.PinchZoom.prototype.getActive),goog.exportProperty(ol.interaction.PinchZoom.prototype,"setActive",ol.interaction.PinchZoom.prototype.setActive),goog.exportProperty(ol.interaction.PinchZoom.prototype,"get",ol.interaction.PinchZoom.prototype.get),goog.exportProperty(ol.interaction.PinchZoom.prototype,"getKeys",ol.interaction.PinchZoom.prototype.getKeys),goog.exportProperty(ol.interaction.PinchZoom.prototype,"getProperties",ol.interaction.PinchZoom.prototype.getProperties),goog.exportProperty(ol.interaction.PinchZoom.prototype,"set",ol.interaction.PinchZoom.prototype.set),goog.exportProperty(ol.interaction.PinchZoom.prototype,"setProperties",ol.interaction.PinchZoom.prototype.setProperties),goog.exportProperty(ol.interaction.PinchZoom.prototype,"unset",ol.interaction.PinchZoom.prototype.unset),goog.exportProperty(ol.interaction.PinchZoom.prototype,"changed",ol.interaction.PinchZoom.prototype.changed),goog.exportProperty(ol.interaction.PinchZoom.prototype,"getRevision",ol.interaction.PinchZoom.prototype.getRevision),goog.exportProperty(ol.interaction.PinchZoom.prototype,"on",ol.interaction.PinchZoom.prototype.on),goog.exportProperty(ol.interaction.PinchZoom.prototype,"once",ol.interaction.PinchZoom.prototype.once),goog.exportProperty(ol.interaction.PinchZoom.prototype,"un",ol.interaction.PinchZoom.prototype.un),goog.exportProperty(ol.interaction.PinchZoom.prototype,"unByKey",ol.interaction.PinchZoom.prototype.unByKey),goog.exportProperty(ol.interaction.Select.prototype,"getActive",ol.interaction.Select.prototype.getActive),goog.exportProperty(ol.interaction.Select.prototype,"setActive",ol.interaction.Select.prototype.setActive),goog.exportProperty(ol.interaction.Select.prototype,"get",ol.interaction.Select.prototype.get),goog.exportProperty(ol.interaction.Select.prototype,"getKeys",ol.interaction.Select.prototype.getKeys),goog.exportProperty(ol.interaction.Select.prototype,"getProperties",ol.interaction.Select.prototype.getProperties),goog.exportProperty(ol.interaction.Select.prototype,"set",ol.interaction.Select.prototype.set),goog.exportProperty(ol.interaction.Select.prototype,"setProperties",ol.interaction.Select.prototype.setProperties),goog.exportProperty(ol.interaction.Select.prototype,"unset",ol.interaction.Select.prototype.unset),goog.exportProperty(ol.interaction.Select.prototype,"changed",ol.interaction.Select.prototype.changed),goog.exportProperty(ol.interaction.Select.prototype,"getRevision",ol.interaction.Select.prototype.getRevision),goog.exportProperty(ol.interaction.Select.prototype,"on",ol.interaction.Select.prototype.on),goog.exportProperty(ol.interaction.Select.prototype,"once",ol.interaction.Select.prototype.once),goog.exportProperty(ol.interaction.Select.prototype,"un",ol.interaction.Select.prototype.un),goog.exportProperty(ol.interaction.Select.prototype,"unByKey",ol.interaction.Select.prototype.unByKey),goog.exportProperty(ol.interaction.Snap.prototype,"getActive",ol.interaction.Snap.prototype.getActive),goog.exportProperty(ol.interaction.Snap.prototype,"setActive",ol.interaction.Snap.prototype.setActive),goog.exportProperty(ol.interaction.Snap.prototype,"get",ol.interaction.Snap.prototype.get),goog.exportProperty(ol.interaction.Snap.prototype,"getKeys",ol.interaction.Snap.prototype.getKeys),goog.exportProperty(ol.interaction.Snap.prototype,"getProperties",ol.interaction.Snap.prototype.getProperties),goog.exportProperty(ol.interaction.Snap.prototype,"set",ol.interaction.Snap.prototype.set),goog.exportProperty(ol.interaction.Snap.prototype,"setProperties",ol.interaction.Snap.prototype.setProperties),goog.exportProperty(ol.interaction.Snap.prototype,"unset",ol.interaction.Snap.prototype.unset),goog.exportProperty(ol.interaction.Snap.prototype,"changed",ol.interaction.Snap.prototype.changed),goog.exportProperty(ol.interaction.Snap.prototype,"getRevision",ol.interaction.Snap.prototype.getRevision),goog.exportProperty(ol.interaction.Snap.prototype,"on",ol.interaction.Snap.prototype.on),goog.exportProperty(ol.interaction.Snap.prototype,"once",ol.interaction.Snap.prototype.once),goog.exportProperty(ol.interaction.Snap.prototype,"un",ol.interaction.Snap.prototype.un),goog.exportProperty(ol.interaction.Snap.prototype,"unByKey",ol.interaction.Snap.prototype.unByKey),goog.exportProperty(ol.geom.Geometry.prototype,"get",ol.geom.Geometry.prototype.get),goog.exportProperty(ol.geom.Geometry.prototype,"getKeys",ol.geom.Geometry.prototype.getKeys),goog.exportProperty(ol.geom.Geometry.prototype,"getProperties",ol.geom.Geometry.prototype.getProperties),goog.exportProperty(ol.geom.Geometry.prototype,"set",ol.geom.Geometry.prototype.set),goog.exportProperty(ol.geom.Geometry.prototype,"setProperties",ol.geom.Geometry.prototype.setProperties),goog.exportProperty(ol.geom.Geometry.prototype,"unset",ol.geom.Geometry.prototype.unset),goog.exportProperty(ol.geom.Geometry.prototype,"changed",ol.geom.Geometry.prototype.changed),goog.exportProperty(ol.geom.Geometry.prototype,"getRevision",ol.geom.Geometry.prototype.getRevision),goog.exportProperty(ol.geom.Geometry.prototype,"on",ol.geom.Geometry.prototype.on),goog.exportProperty(ol.geom.Geometry.prototype,"once",ol.geom.Geometry.prototype.once),goog.exportProperty(ol.geom.Geometry.prototype,"un",ol.geom.Geometry.prototype.un),goog.exportProperty(ol.geom.Geometry.prototype,"unByKey",ol.geom.Geometry.prototype.unByKey),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"getClosestPoint",ol.geom.SimpleGeometry.prototype.getClosestPoint),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"getExtent",ol.geom.SimpleGeometry.prototype.getExtent),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"transform",ol.geom.SimpleGeometry.prototype.transform),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"get",ol.geom.SimpleGeometry.prototype.get),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"getKeys",ol.geom.SimpleGeometry.prototype.getKeys),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"getProperties",ol.geom.SimpleGeometry.prototype.getProperties),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"set",ol.geom.SimpleGeometry.prototype.set),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"setProperties",ol.geom.SimpleGeometry.prototype.setProperties),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"unset",ol.geom.SimpleGeometry.prototype.unset),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"changed",ol.geom.SimpleGeometry.prototype.changed),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"getRevision",ol.geom.SimpleGeometry.prototype.getRevision),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"on",ol.geom.SimpleGeometry.prototype.on),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"once",ol.geom.SimpleGeometry.prototype.once),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"un",ol.geom.SimpleGeometry.prototype.un),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"unByKey",ol.geom.SimpleGeometry.prototype.unByKey),goog.exportProperty(ol.geom.Circle.prototype,"getFirstCoordinate",ol.geom.Circle.prototype.getFirstCoordinate),goog.exportProperty(ol.geom.Circle.prototype,"getLastCoordinate",ol.geom.Circle.prototype.getLastCoordinate),goog.exportProperty(ol.geom.Circle.prototype,"getLayout",ol.geom.Circle.prototype.getLayout),goog.exportProperty(ol.geom.Circle.prototype,"applyTransform",ol.geom.Circle.prototype.applyTransform),goog.exportProperty(ol.geom.Circle.prototype,"translate",ol.geom.Circle.prototype.translate),goog.exportProperty(ol.geom.Circle.prototype,"getClosestPoint",ol.geom.Circle.prototype.getClosestPoint),goog.exportProperty(ol.geom.Circle.prototype,"getExtent",ol.geom.Circle.prototype.getExtent),goog.exportProperty(ol.geom.Circle.prototype,"get",ol.geom.Circle.prototype.get),goog.exportProperty(ol.geom.Circle.prototype,"getKeys",ol.geom.Circle.prototype.getKeys),goog.exportProperty(ol.geom.Circle.prototype,"getProperties",ol.geom.Circle.prototype.getProperties),goog.exportProperty(ol.geom.Circle.prototype,"set",ol.geom.Circle.prototype.set),goog.exportProperty(ol.geom.Circle.prototype,"setProperties",ol.geom.Circle.prototype.setProperties),goog.exportProperty(ol.geom.Circle.prototype,"unset",ol.geom.Circle.prototype.unset),goog.exportProperty(ol.geom.Circle.prototype,"changed",ol.geom.Circle.prototype.changed),goog.exportProperty(ol.geom.Circle.prototype,"getRevision",ol.geom.Circle.prototype.getRevision),goog.exportProperty(ol.geom.Circle.prototype,"on",ol.geom.Circle.prototype.on),goog.exportProperty(ol.geom.Circle.prototype,"once",ol.geom.Circle.prototype.once),goog.exportProperty(ol.geom.Circle.prototype,"un",ol.geom.Circle.prototype.un),goog.exportProperty(ol.geom.Circle.prototype,"unByKey",ol.geom.Circle.prototype.unByKey),goog.exportProperty(ol.geom.GeometryCollection.prototype,"getClosestPoint",ol.geom.GeometryCollection.prototype.getClosestPoint),goog.exportProperty(ol.geom.GeometryCollection.prototype,"getExtent",ol.geom.GeometryCollection.prototype.getExtent),goog.exportProperty(ol.geom.GeometryCollection.prototype,"transform",ol.geom.GeometryCollection.prototype.transform),goog.exportProperty(ol.geom.GeometryCollection.prototype,"get",ol.geom.GeometryCollection.prototype.get),goog.exportProperty(ol.geom.GeometryCollection.prototype,"getKeys",ol.geom.GeometryCollection.prototype.getKeys),goog.exportProperty(ol.geom.GeometryCollection.prototype,"getProperties",ol.geom.GeometryCollection.prototype.getProperties),goog.exportProperty(ol.geom.GeometryCollection.prototype,"set",ol.geom.GeometryCollection.prototype.set),goog.exportProperty(ol.geom.GeometryCollection.prototype,"setProperties",ol.geom.GeometryCollection.prototype.setProperties),goog.exportProperty(ol.geom.GeometryCollection.prototype,"unset",ol.geom.GeometryCollection.prototype.unset),goog.exportProperty(ol.geom.GeometryCollection.prototype,"changed",ol.geom.GeometryCollection.prototype.changed),goog.exportProperty(ol.geom.GeometryCollection.prototype,"getRevision",ol.geom.GeometryCollection.prototype.getRevision),goog.exportProperty(ol.geom.GeometryCollection.prototype,"on",ol.geom.GeometryCollection.prototype.on),goog.exportProperty(ol.geom.GeometryCollection.prototype,"once",ol.geom.GeometryCollection.prototype.once),goog.exportProperty(ol.geom.GeometryCollection.prototype,"un",ol.geom.GeometryCollection.prototype.un),goog.exportProperty(ol.geom.GeometryCollection.prototype,"unByKey",ol.geom.GeometryCollection.prototype.unByKey),goog.exportProperty(ol.geom.LinearRing.prototype,"getFirstCoordinate",ol.geom.LinearRing.prototype.getFirstCoordinate),goog.exportProperty(ol.geom.LinearRing.prototype,"getLastCoordinate",ol.geom.LinearRing.prototype.getLastCoordinate),goog.exportProperty(ol.geom.LinearRing.prototype,"getLayout",ol.geom.LinearRing.prototype.getLayout),goog.exportProperty(ol.geom.LinearRing.prototype,"applyTransform",ol.geom.LinearRing.prototype.applyTransform),goog.exportProperty(ol.geom.LinearRing.prototype,"translate",ol.geom.LinearRing.prototype.translate),goog.exportProperty(ol.geom.LinearRing.prototype,"getClosestPoint",ol.geom.LinearRing.prototype.getClosestPoint),goog.exportProperty(ol.geom.LinearRing.prototype,"getExtent",ol.geom.LinearRing.prototype.getExtent),goog.exportProperty(ol.geom.LinearRing.prototype,"transform",ol.geom.LinearRing.prototype.transform),goog.exportProperty(ol.geom.LinearRing.prototype,"get",ol.geom.LinearRing.prototype.get),goog.exportProperty(ol.geom.LinearRing.prototype,"getKeys",ol.geom.LinearRing.prototype.getKeys),goog.exportProperty(ol.geom.LinearRing.prototype,"getProperties",ol.geom.LinearRing.prototype.getProperties),goog.exportProperty(ol.geom.LinearRing.prototype,"set",ol.geom.LinearRing.prototype.set),goog.exportProperty(ol.geom.LinearRing.prototype,"setProperties",ol.geom.LinearRing.prototype.setProperties),goog.exportProperty(ol.geom.LinearRing.prototype,"unset",ol.geom.LinearRing.prototype.unset),goog.exportProperty(ol.geom.LinearRing.prototype,"changed",ol.geom.LinearRing.prototype.changed),goog.exportProperty(ol.geom.LinearRing.prototype,"getRevision",ol.geom.LinearRing.prototype.getRevision),goog.exportProperty(ol.geom.LinearRing.prototype,"on",ol.geom.LinearRing.prototype.on),goog.exportProperty(ol.geom.LinearRing.prototype,"once",ol.geom.LinearRing.prototype.once),goog.exportProperty(ol.geom.LinearRing.prototype,"un",ol.geom.LinearRing.prototype.un),goog.exportProperty(ol.geom.LinearRing.prototype,"unByKey",ol.geom.LinearRing.prototype.unByKey),goog.exportProperty(ol.geom.LineString.prototype,"getFirstCoordinate",ol.geom.LineString.prototype.getFirstCoordinate),goog.exportProperty(ol.geom.LineString.prototype,"getLastCoordinate",ol.geom.LineString.prototype.getLastCoordinate),goog.exportProperty(ol.geom.LineString.prototype,"getLayout",ol.geom.LineString.prototype.getLayout),goog.exportProperty(ol.geom.LineString.prototype,"applyTransform",ol.geom.LineString.prototype.applyTransform),goog.exportProperty(ol.geom.LineString.prototype,"translate",ol.geom.LineString.prototype.translate),goog.exportProperty(ol.geom.LineString.prototype,"getClosestPoint",ol.geom.LineString.prototype.getClosestPoint),goog.exportProperty(ol.geom.LineString.prototype,"getExtent",ol.geom.LineString.prototype.getExtent),goog.exportProperty(ol.geom.LineString.prototype,"transform",ol.geom.LineString.prototype.transform),goog.exportProperty(ol.geom.LineString.prototype,"get",ol.geom.LineString.prototype.get),goog.exportProperty(ol.geom.LineString.prototype,"getKeys",ol.geom.LineString.prototype.getKeys),goog.exportProperty(ol.geom.LineString.prototype,"getProperties",ol.geom.LineString.prototype.getProperties),goog.exportProperty(ol.geom.LineString.prototype,"set",ol.geom.LineString.prototype.set),goog.exportProperty(ol.geom.LineString.prototype,"setProperties",ol.geom.LineString.prototype.setProperties),goog.exportProperty(ol.geom.LineString.prototype,"unset",ol.geom.LineString.prototype.unset),goog.exportProperty(ol.geom.LineString.prototype,"changed",ol.geom.LineString.prototype.changed),goog.exportProperty(ol.geom.LineString.prototype,"getRevision",ol.geom.LineString.prototype.getRevision),goog.exportProperty(ol.geom.LineString.prototype,"on",ol.geom.LineString.prototype.on),goog.exportProperty(ol.geom.LineString.prototype,"once",ol.geom.LineString.prototype.once),goog.exportProperty(ol.geom.LineString.prototype,"un",ol.geom.LineString.prototype.un),goog.exportProperty(ol.geom.LineString.prototype,"unByKey",ol.geom.LineString.prototype.unByKey),goog.exportProperty(ol.geom.MultiLineString.prototype,"getFirstCoordinate",ol.geom.MultiLineString.prototype.getFirstCoordinate),goog.exportProperty(ol.geom.MultiLineString.prototype,"getLastCoordinate",ol.geom.MultiLineString.prototype.getLastCoordinate),goog.exportProperty(ol.geom.MultiLineString.prototype,"getLayout",ol.geom.MultiLineString.prototype.getLayout),goog.exportProperty(ol.geom.MultiLineString.prototype,"applyTransform",ol.geom.MultiLineString.prototype.applyTransform),goog.exportProperty(ol.geom.MultiLineString.prototype,"translate",ol.geom.MultiLineString.prototype.translate),goog.exportProperty(ol.geom.MultiLineString.prototype,"getClosestPoint",ol.geom.MultiLineString.prototype.getClosestPoint),goog.exportProperty(ol.geom.MultiLineString.prototype,"getExtent",ol.geom.MultiLineString.prototype.getExtent),goog.exportProperty(ol.geom.MultiLineString.prototype,"transform",ol.geom.MultiLineString.prototype.transform),
goog.exportProperty(ol.geom.MultiLineString.prototype,"get",ol.geom.MultiLineString.prototype.get),goog.exportProperty(ol.geom.MultiLineString.prototype,"getKeys",ol.geom.MultiLineString.prototype.getKeys),goog.exportProperty(ol.geom.MultiLineString.prototype,"getProperties",ol.geom.MultiLineString.prototype.getProperties),goog.exportProperty(ol.geom.MultiLineString.prototype,"set",ol.geom.MultiLineString.prototype.set),goog.exportProperty(ol.geom.MultiLineString.prototype,"setProperties",ol.geom.MultiLineString.prototype.setProperties),goog.exportProperty(ol.geom.MultiLineString.prototype,"unset",ol.geom.MultiLineString.prototype.unset),goog.exportProperty(ol.geom.MultiLineString.prototype,"changed",ol.geom.MultiLineString.prototype.changed),goog.exportProperty(ol.geom.MultiLineString.prototype,"getRevision",ol.geom.MultiLineString.prototype.getRevision),goog.exportProperty(ol.geom.MultiLineString.prototype,"on",ol.geom.MultiLineString.prototype.on),goog.exportProperty(ol.geom.MultiLineString.prototype,"once",ol.geom.MultiLineString.prototype.once),goog.exportProperty(ol.geom.MultiLineString.prototype,"un",ol.geom.MultiLineString.prototype.un),goog.exportProperty(ol.geom.MultiLineString.prototype,"unByKey",ol.geom.MultiLineString.prototype.unByKey),goog.exportProperty(ol.geom.MultiPoint.prototype,"getFirstCoordinate",ol.geom.MultiPoint.prototype.getFirstCoordinate),goog.exportProperty(ol.geom.MultiPoint.prototype,"getLastCoordinate",ol.geom.MultiPoint.prototype.getLastCoordinate),goog.exportProperty(ol.geom.MultiPoint.prototype,"getLayout",ol.geom.MultiPoint.prototype.getLayout),goog.exportProperty(ol.geom.MultiPoint.prototype,"applyTransform",ol.geom.MultiPoint.prototype.applyTransform),goog.exportProperty(ol.geom.MultiPoint.prototype,"translate",ol.geom.MultiPoint.prototype.translate),goog.exportProperty(ol.geom.MultiPoint.prototype,"getClosestPoint",ol.geom.MultiPoint.prototype.getClosestPoint),goog.exportProperty(ol.geom.MultiPoint.prototype,"getExtent",ol.geom.MultiPoint.prototype.getExtent),goog.exportProperty(ol.geom.MultiPoint.prototype,"transform",ol.geom.MultiPoint.prototype.transform),goog.exportProperty(ol.geom.MultiPoint.prototype,"get",ol.geom.MultiPoint.prototype.get),goog.exportProperty(ol.geom.MultiPoint.prototype,"getKeys",ol.geom.MultiPoint.prototype.getKeys),goog.exportProperty(ol.geom.MultiPoint.prototype,"getProperties",ol.geom.MultiPoint.prototype.getProperties),goog.exportProperty(ol.geom.MultiPoint.prototype,"set",ol.geom.MultiPoint.prototype.set),goog.exportProperty(ol.geom.MultiPoint.prototype,"setProperties",ol.geom.MultiPoint.prototype.setProperties),goog.exportProperty(ol.geom.MultiPoint.prototype,"unset",ol.geom.MultiPoint.prototype.unset),goog.exportProperty(ol.geom.MultiPoint.prototype,"changed",ol.geom.MultiPoint.prototype.changed),goog.exportProperty(ol.geom.MultiPoint.prototype,"getRevision",ol.geom.MultiPoint.prototype.getRevision),goog.exportProperty(ol.geom.MultiPoint.prototype,"on",ol.geom.MultiPoint.prototype.on),goog.exportProperty(ol.geom.MultiPoint.prototype,"once",ol.geom.MultiPoint.prototype.once),goog.exportProperty(ol.geom.MultiPoint.prototype,"un",ol.geom.MultiPoint.prototype.un),goog.exportProperty(ol.geom.MultiPoint.prototype,"unByKey",ol.geom.MultiPoint.prototype.unByKey),goog.exportProperty(ol.geom.MultiPolygon.prototype,"getFirstCoordinate",ol.geom.MultiPolygon.prototype.getFirstCoordinate),goog.exportProperty(ol.geom.MultiPolygon.prototype,"getLastCoordinate",ol.geom.MultiPolygon.prototype.getLastCoordinate),goog.exportProperty(ol.geom.MultiPolygon.prototype,"getLayout",ol.geom.MultiPolygon.prototype.getLayout),goog.exportProperty(ol.geom.MultiPolygon.prototype,"applyTransform",ol.geom.MultiPolygon.prototype.applyTransform),goog.exportProperty(ol.geom.MultiPolygon.prototype,"translate",ol.geom.MultiPolygon.prototype.translate),goog.exportProperty(ol.geom.MultiPolygon.prototype,"getClosestPoint",ol.geom.MultiPolygon.prototype.getClosestPoint),goog.exportProperty(ol.geom.MultiPolygon.prototype,"getExtent",ol.geom.MultiPolygon.prototype.getExtent),goog.exportProperty(ol.geom.MultiPolygon.prototype,"transform",ol.geom.MultiPolygon.prototype.transform),goog.exportProperty(ol.geom.MultiPolygon.prototype,"get",ol.geom.MultiPolygon.prototype.get),goog.exportProperty(ol.geom.MultiPolygon.prototype,"getKeys",ol.geom.MultiPolygon.prototype.getKeys),goog.exportProperty(ol.geom.MultiPolygon.prototype,"getProperties",ol.geom.MultiPolygon.prototype.getProperties),goog.exportProperty(ol.geom.MultiPolygon.prototype,"set",ol.geom.MultiPolygon.prototype.set),goog.exportProperty(ol.geom.MultiPolygon.prototype,"setProperties",ol.geom.MultiPolygon.prototype.setProperties),goog.exportProperty(ol.geom.MultiPolygon.prototype,"unset",ol.geom.MultiPolygon.prototype.unset),goog.exportProperty(ol.geom.MultiPolygon.prototype,"changed",ol.geom.MultiPolygon.prototype.changed),goog.exportProperty(ol.geom.MultiPolygon.prototype,"getRevision",ol.geom.MultiPolygon.prototype.getRevision),goog.exportProperty(ol.geom.MultiPolygon.prototype,"on",ol.geom.MultiPolygon.prototype.on),goog.exportProperty(ol.geom.MultiPolygon.prototype,"once",ol.geom.MultiPolygon.prototype.once),goog.exportProperty(ol.geom.MultiPolygon.prototype,"un",ol.geom.MultiPolygon.prototype.un),goog.exportProperty(ol.geom.MultiPolygon.prototype,"unByKey",ol.geom.MultiPolygon.prototype.unByKey),goog.exportProperty(ol.geom.Point.prototype,"getFirstCoordinate",ol.geom.Point.prototype.getFirstCoordinate),goog.exportProperty(ol.geom.Point.prototype,"getLastCoordinate",ol.geom.Point.prototype.getLastCoordinate),goog.exportProperty(ol.geom.Point.prototype,"getLayout",ol.geom.Point.prototype.getLayout),goog.exportProperty(ol.geom.Point.prototype,"applyTransform",ol.geom.Point.prototype.applyTransform),goog.exportProperty(ol.geom.Point.prototype,"translate",ol.geom.Point.prototype.translate),goog.exportProperty(ol.geom.Point.prototype,"getClosestPoint",ol.geom.Point.prototype.getClosestPoint),goog.exportProperty(ol.geom.Point.prototype,"getExtent",ol.geom.Point.prototype.getExtent),goog.exportProperty(ol.geom.Point.prototype,"transform",ol.geom.Point.prototype.transform),goog.exportProperty(ol.geom.Point.prototype,"get",ol.geom.Point.prototype.get),goog.exportProperty(ol.geom.Point.prototype,"getKeys",ol.geom.Point.prototype.getKeys),goog.exportProperty(ol.geom.Point.prototype,"getProperties",ol.geom.Point.prototype.getProperties),goog.exportProperty(ol.geom.Point.prototype,"set",ol.geom.Point.prototype.set),goog.exportProperty(ol.geom.Point.prototype,"setProperties",ol.geom.Point.prototype.setProperties),goog.exportProperty(ol.geom.Point.prototype,"unset",ol.geom.Point.prototype.unset),goog.exportProperty(ol.geom.Point.prototype,"changed",ol.geom.Point.prototype.changed),goog.exportProperty(ol.geom.Point.prototype,"getRevision",ol.geom.Point.prototype.getRevision),goog.exportProperty(ol.geom.Point.prototype,"on",ol.geom.Point.prototype.on),goog.exportProperty(ol.geom.Point.prototype,"once",ol.geom.Point.prototype.once),goog.exportProperty(ol.geom.Point.prototype,"un",ol.geom.Point.prototype.un),goog.exportProperty(ol.geom.Point.prototype,"unByKey",ol.geom.Point.prototype.unByKey),goog.exportProperty(ol.geom.Polygon.prototype,"getFirstCoordinate",ol.geom.Polygon.prototype.getFirstCoordinate),goog.exportProperty(ol.geom.Polygon.prototype,"getLastCoordinate",ol.geom.Polygon.prototype.getLastCoordinate),goog.exportProperty(ol.geom.Polygon.prototype,"getLayout",ol.geom.Polygon.prototype.getLayout),goog.exportProperty(ol.geom.Polygon.prototype,"applyTransform",ol.geom.Polygon.prototype.applyTransform),goog.exportProperty(ol.geom.Polygon.prototype,"translate",ol.geom.Polygon.prototype.translate),goog.exportProperty(ol.geom.Polygon.prototype,"getClosestPoint",ol.geom.Polygon.prototype.getClosestPoint),goog.exportProperty(ol.geom.Polygon.prototype,"getExtent",ol.geom.Polygon.prototype.getExtent),goog.exportProperty(ol.geom.Polygon.prototype,"transform",ol.geom.Polygon.prototype.transform),goog.exportProperty(ol.geom.Polygon.prototype,"get",ol.geom.Polygon.prototype.get),goog.exportProperty(ol.geom.Polygon.prototype,"getKeys",ol.geom.Polygon.prototype.getKeys),goog.exportProperty(ol.geom.Polygon.prototype,"getProperties",ol.geom.Polygon.prototype.getProperties),goog.exportProperty(ol.geom.Polygon.prototype,"set",ol.geom.Polygon.prototype.set),goog.exportProperty(ol.geom.Polygon.prototype,"setProperties",ol.geom.Polygon.prototype.setProperties),goog.exportProperty(ol.geom.Polygon.prototype,"unset",ol.geom.Polygon.prototype.unset),goog.exportProperty(ol.geom.Polygon.prototype,"changed",ol.geom.Polygon.prototype.changed),goog.exportProperty(ol.geom.Polygon.prototype,"getRevision",ol.geom.Polygon.prototype.getRevision),goog.exportProperty(ol.geom.Polygon.prototype,"on",ol.geom.Polygon.prototype.on),goog.exportProperty(ol.geom.Polygon.prototype,"once",ol.geom.Polygon.prototype.once),goog.exportProperty(ol.geom.Polygon.prototype,"un",ol.geom.Polygon.prototype.un),goog.exportProperty(ol.geom.Polygon.prototype,"unByKey",ol.geom.Polygon.prototype.unByKey),goog.exportProperty(ol.format.GML2.prototype,"readFeatures",ol.format.GML2.prototype.readFeatures),goog.exportProperty(ol.format.GML3.prototype,"readFeatures",ol.format.GML3.prototype.readFeatures),goog.exportProperty(ol.format.GML.prototype,"readFeatures",ol.format.GML.prototype.readFeatures),goog.exportProperty(ol.control.Control.prototype,"get",ol.control.Control.prototype.get),goog.exportProperty(ol.control.Control.prototype,"getKeys",ol.control.Control.prototype.getKeys),goog.exportProperty(ol.control.Control.prototype,"getProperties",ol.control.Control.prototype.getProperties),goog.exportProperty(ol.control.Control.prototype,"set",ol.control.Control.prototype.set),goog.exportProperty(ol.control.Control.prototype,"setProperties",ol.control.Control.prototype.setProperties),goog.exportProperty(ol.control.Control.prototype,"unset",ol.control.Control.prototype.unset),goog.exportProperty(ol.control.Control.prototype,"changed",ol.control.Control.prototype.changed),goog.exportProperty(ol.control.Control.prototype,"getRevision",ol.control.Control.prototype.getRevision),goog.exportProperty(ol.control.Control.prototype,"on",ol.control.Control.prototype.on),goog.exportProperty(ol.control.Control.prototype,"once",ol.control.Control.prototype.once),goog.exportProperty(ol.control.Control.prototype,"un",ol.control.Control.prototype.un),goog.exportProperty(ol.control.Control.prototype,"unByKey",ol.control.Control.prototype.unByKey),goog.exportProperty(ol.control.Attribution.prototype,"getMap",ol.control.Attribution.prototype.getMap),goog.exportProperty(ol.control.Attribution.prototype,"setMap",ol.control.Attribution.prototype.setMap),goog.exportProperty(ol.control.Attribution.prototype,"setTarget",ol.control.Attribution.prototype.setTarget),goog.exportProperty(ol.control.Attribution.prototype,"get",ol.control.Attribution.prototype.get),goog.exportProperty(ol.control.Attribution.prototype,"getKeys",ol.control.Attribution.prototype.getKeys),goog.exportProperty(ol.control.Attribution.prototype,"getProperties",ol.control.Attribution.prototype.getProperties),goog.exportProperty(ol.control.Attribution.prototype,"set",ol.control.Attribution.prototype.set),goog.exportProperty(ol.control.Attribution.prototype,"setProperties",ol.control.Attribution.prototype.setProperties),goog.exportProperty(ol.control.Attribution.prototype,"unset",ol.control.Attribution.prototype.unset),goog.exportProperty(ol.control.Attribution.prototype,"changed",ol.control.Attribution.prototype.changed),goog.exportProperty(ol.control.Attribution.prototype,"getRevision",ol.control.Attribution.prototype.getRevision),goog.exportProperty(ol.control.Attribution.prototype,"on",ol.control.Attribution.prototype.on),goog.exportProperty(ol.control.Attribution.prototype,"once",ol.control.Attribution.prototype.once),goog.exportProperty(ol.control.Attribution.prototype,"un",ol.control.Attribution.prototype.un),goog.exportProperty(ol.control.Attribution.prototype,"unByKey",ol.control.Attribution.prototype.unByKey),goog.exportProperty(ol.control.FullScreen.prototype,"getMap",ol.control.FullScreen.prototype.getMap),goog.exportProperty(ol.control.FullScreen.prototype,"setMap",ol.control.FullScreen.prototype.setMap),goog.exportProperty(ol.control.FullScreen.prototype,"setTarget",ol.control.FullScreen.prototype.setTarget),goog.exportProperty(ol.control.FullScreen.prototype,"get",ol.control.FullScreen.prototype.get),goog.exportProperty(ol.control.FullScreen.prototype,"getKeys",ol.control.FullScreen.prototype.getKeys),goog.exportProperty(ol.control.FullScreen.prototype,"getProperties",ol.control.FullScreen.prototype.getProperties),goog.exportProperty(ol.control.FullScreen.prototype,"set",ol.control.FullScreen.prototype.set),goog.exportProperty(ol.control.FullScreen.prototype,"setProperties",ol.control.FullScreen.prototype.setProperties),goog.exportProperty(ol.control.FullScreen.prototype,"unset",ol.control.FullScreen.prototype.unset),goog.exportProperty(ol.control.FullScreen.prototype,"changed",ol.control.FullScreen.prototype.changed),goog.exportProperty(ol.control.FullScreen.prototype,"getRevision",ol.control.FullScreen.prototype.getRevision),goog.exportProperty(ol.control.FullScreen.prototype,"on",ol.control.FullScreen.prototype.on),goog.exportProperty(ol.control.FullScreen.prototype,"once",ol.control.FullScreen.prototype.once),goog.exportProperty(ol.control.FullScreen.prototype,"un",ol.control.FullScreen.prototype.un),goog.exportProperty(ol.control.FullScreen.prototype,"unByKey",ol.control.FullScreen.prototype.unByKey),goog.exportProperty(ol.control.MousePosition.prototype,"getMap",ol.control.MousePosition.prototype.getMap),goog.exportProperty(ol.control.MousePosition.prototype,"setTarget",ol.control.MousePosition.prototype.setTarget),goog.exportProperty(ol.control.MousePosition.prototype,"get",ol.control.MousePosition.prototype.get),goog.exportProperty(ol.control.MousePosition.prototype,"getKeys",ol.control.MousePosition.prototype.getKeys),goog.exportProperty(ol.control.MousePosition.prototype,"getProperties",ol.control.MousePosition.prototype.getProperties),goog.exportProperty(ol.control.MousePosition.prototype,"set",ol.control.MousePosition.prototype.set),goog.exportProperty(ol.control.MousePosition.prototype,"setProperties",ol.control.MousePosition.prototype.setProperties),goog.exportProperty(ol.control.MousePosition.prototype,"unset",ol.control.MousePosition.prototype.unset),goog.exportProperty(ol.control.MousePosition.prototype,"changed",ol.control.MousePosition.prototype.changed),goog.exportProperty(ol.control.MousePosition.prototype,"getRevision",ol.control.MousePosition.prototype.getRevision),goog.exportProperty(ol.control.MousePosition.prototype,"on",ol.control.MousePosition.prototype.on),goog.exportProperty(ol.control.MousePosition.prototype,"once",ol.control.MousePosition.prototype.once),goog.exportProperty(ol.control.MousePosition.prototype,"un",ol.control.MousePosition.prototype.un),goog.exportProperty(ol.control.MousePosition.prototype,"unByKey",ol.control.MousePosition.prototype.unByKey),goog.exportProperty(ol.control.OverviewMap.prototype,"getMap",ol.control.OverviewMap.prototype.getMap),goog.exportProperty(ol.control.OverviewMap.prototype,"setTarget",ol.control.OverviewMap.prototype.setTarget),goog.exportProperty(ol.control.OverviewMap.prototype,"get",ol.control.OverviewMap.prototype.get),goog.exportProperty(ol.control.OverviewMap.prototype,"getKeys",ol.control.OverviewMap.prototype.getKeys),goog.exportProperty(ol.control.OverviewMap.prototype,"getProperties",ol.control.OverviewMap.prototype.getProperties),goog.exportProperty(ol.control.OverviewMap.prototype,"set",ol.control.OverviewMap.prototype.set),goog.exportProperty(ol.control.OverviewMap.prototype,"setProperties",ol.control.OverviewMap.prototype.setProperties),goog.exportProperty(ol.control.OverviewMap.prototype,"unset",ol.control.OverviewMap.prototype.unset),goog.exportProperty(ol.control.OverviewMap.prototype,"changed",ol.control.OverviewMap.prototype.changed),goog.exportProperty(ol.control.OverviewMap.prototype,"getRevision",ol.control.OverviewMap.prototype.getRevision),goog.exportProperty(ol.control.OverviewMap.prototype,"on",ol.control.OverviewMap.prototype.on),goog.exportProperty(ol.control.OverviewMap.prototype,"once",ol.control.OverviewMap.prototype.once),goog.exportProperty(ol.control.OverviewMap.prototype,"un",ol.control.OverviewMap.prototype.un),goog.exportProperty(ol.control.OverviewMap.prototype,"unByKey",ol.control.OverviewMap.prototype.unByKey),goog.exportProperty(ol.control.Rotate.prototype,"getMap",ol.control.Rotate.prototype.getMap),goog.exportProperty(ol.control.Rotate.prototype,"setMap",ol.control.Rotate.prototype.setMap),goog.exportProperty(ol.control.Rotate.prototype,"setTarget",ol.control.Rotate.prototype.setTarget),goog.exportProperty(ol.control.Rotate.prototype,"get",ol.control.Rotate.prototype.get),goog.exportProperty(ol.control.Rotate.prototype,"getKeys",ol.control.Rotate.prototype.getKeys),goog.exportProperty(ol.control.Rotate.prototype,"getProperties",ol.control.Rotate.prototype.getProperties),goog.exportProperty(ol.control.Rotate.prototype,"set",ol.control.Rotate.prototype.set),goog.exportProperty(ol.control.Rotate.prototype,"setProperties",ol.control.Rotate.prototype.setProperties),goog.exportProperty(ol.control.Rotate.prototype,"unset",ol.control.Rotate.prototype.unset),goog.exportProperty(ol.control.Rotate.prototype,"changed",ol.control.Rotate.prototype.changed),goog.exportProperty(ol.control.Rotate.prototype,"getRevision",ol.control.Rotate.prototype.getRevision),goog.exportProperty(ol.control.Rotate.prototype,"on",ol.control.Rotate.prototype.on),goog.exportProperty(ol.control.Rotate.prototype,"once",ol.control.Rotate.prototype.once),goog.exportProperty(ol.control.Rotate.prototype,"un",ol.control.Rotate.prototype.un),goog.exportProperty(ol.control.Rotate.prototype,"unByKey",ol.control.Rotate.prototype.unByKey),goog.exportProperty(ol.control.ScaleLine.prototype,"getMap",ol.control.ScaleLine.prototype.getMap),goog.exportProperty(ol.control.ScaleLine.prototype,"setMap",ol.control.ScaleLine.prototype.setMap),goog.exportProperty(ol.control.ScaleLine.prototype,"setTarget",ol.control.ScaleLine.prototype.setTarget),goog.exportProperty(ol.control.ScaleLine.prototype,"get",ol.control.ScaleLine.prototype.get),goog.exportProperty(ol.control.ScaleLine.prototype,"getKeys",ol.control.ScaleLine.prototype.getKeys),goog.exportProperty(ol.control.ScaleLine.prototype,"getProperties",ol.control.ScaleLine.prototype.getProperties),goog.exportProperty(ol.control.ScaleLine.prototype,"set",ol.control.ScaleLine.prototype.set),goog.exportProperty(ol.control.ScaleLine.prototype,"setProperties",ol.control.ScaleLine.prototype.setProperties),goog.exportProperty(ol.control.ScaleLine.prototype,"unset",ol.control.ScaleLine.prototype.unset),goog.exportProperty(ol.control.ScaleLine.prototype,"changed",ol.control.ScaleLine.prototype.changed),goog.exportProperty(ol.control.ScaleLine.prototype,"getRevision",ol.control.ScaleLine.prototype.getRevision),goog.exportProperty(ol.control.ScaleLine.prototype,"on",ol.control.ScaleLine.prototype.on),goog.exportProperty(ol.control.ScaleLine.prototype,"once",ol.control.ScaleLine.prototype.once),goog.exportProperty(ol.control.ScaleLine.prototype,"un",ol.control.ScaleLine.prototype.un),goog.exportProperty(ol.control.ScaleLine.prototype,"unByKey",ol.control.ScaleLine.prototype.unByKey),goog.exportProperty(ol.control.Zoom.prototype,"getMap",ol.control.Zoom.prototype.getMap),goog.exportProperty(ol.control.Zoom.prototype,"setMap",ol.control.Zoom.prototype.setMap),goog.exportProperty(ol.control.Zoom.prototype,"setTarget",ol.control.Zoom.prototype.setTarget),goog.exportProperty(ol.control.Zoom.prototype,"get",ol.control.Zoom.prototype.get),goog.exportProperty(ol.control.Zoom.prototype,"getKeys",ol.control.Zoom.prototype.getKeys),goog.exportProperty(ol.control.Zoom.prototype,"getProperties",ol.control.Zoom.prototype.getProperties),goog.exportProperty(ol.control.Zoom.prototype,"set",ol.control.Zoom.prototype.set),goog.exportProperty(ol.control.Zoom.prototype,"setProperties",ol.control.Zoom.prototype.setProperties),goog.exportProperty(ol.control.Zoom.prototype,"unset",ol.control.Zoom.prototype.unset),goog.exportProperty(ol.control.Zoom.prototype,"changed",ol.control.Zoom.prototype.changed),goog.exportProperty(ol.control.Zoom.prototype,"getRevision",ol.control.Zoom.prototype.getRevision),goog.exportProperty(ol.control.Zoom.prototype,"on",ol.control.Zoom.prototype.on),goog.exportProperty(ol.control.Zoom.prototype,"once",ol.control.Zoom.prototype.once),goog.exportProperty(ol.control.Zoom.prototype,"un",ol.control.Zoom.prototype.un),goog.exportProperty(ol.control.Zoom.prototype,"unByKey",ol.control.Zoom.prototype.unByKey),goog.exportProperty(ol.control.ZoomSlider.prototype,"getMap",ol.control.ZoomSlider.prototype.getMap),goog.exportProperty(ol.control.ZoomSlider.prototype,"setTarget",ol.control.ZoomSlider.prototype.setTarget),goog.exportProperty(ol.control.ZoomSlider.prototype,"get",ol.control.ZoomSlider.prototype.get),goog.exportProperty(ol.control.ZoomSlider.prototype,"getKeys",ol.control.ZoomSlider.prototype.getKeys),goog.exportProperty(ol.control.ZoomSlider.prototype,"getProperties",ol.control.ZoomSlider.prototype.getProperties),goog.exportProperty(ol.control.ZoomSlider.prototype,"set",ol.control.ZoomSlider.prototype.set),goog.exportProperty(ol.control.ZoomSlider.prototype,"setProperties",ol.control.ZoomSlider.prototype.setProperties),goog.exportProperty(ol.control.ZoomSlider.prototype,"unset",ol.control.ZoomSlider.prototype.unset),goog.exportProperty(ol.control.ZoomSlider.prototype,"changed",ol.control.ZoomSlider.prototype.changed),goog.exportProperty(ol.control.ZoomSlider.prototype,"getRevision",ol.control.ZoomSlider.prototype.getRevision),goog.exportProperty(ol.control.ZoomSlider.prototype,"on",ol.control.ZoomSlider.prototype.on),goog.exportProperty(ol.control.ZoomSlider.prototype,"once",ol.control.ZoomSlider.prototype.once),goog.exportProperty(ol.control.ZoomSlider.prototype,"un",ol.control.ZoomSlider.prototype.un),goog.exportProperty(ol.control.ZoomSlider.prototype,"unByKey",ol.control.ZoomSlider.prototype.unByKey),goog.exportProperty(ol.control.ZoomToExtent.prototype,"getMap",ol.control.ZoomToExtent.prototype.getMap),goog.exportProperty(ol.control.ZoomToExtent.prototype,"setMap",ol.control.ZoomToExtent.prototype.setMap),goog.exportProperty(ol.control.ZoomToExtent.prototype,"setTarget",ol.control.ZoomToExtent.prototype.setTarget),goog.exportProperty(ol.control.ZoomToExtent.prototype,"get",ol.control.ZoomToExtent.prototype.get),goog.exportProperty(ol.control.ZoomToExtent.prototype,"getKeys",ol.control.ZoomToExtent.prototype.getKeys),goog.exportProperty(ol.control.ZoomToExtent.prototype,"getProperties",ol.control.ZoomToExtent.prototype.getProperties),goog.exportProperty(ol.control.ZoomToExtent.prototype,"set",ol.control.ZoomToExtent.prototype.set),goog.exportProperty(ol.control.ZoomToExtent.prototype,"setProperties",ol.control.ZoomToExtent.prototype.setProperties),goog.exportProperty(ol.control.ZoomToExtent.prototype,"unset",ol.control.ZoomToExtent.prototype.unset),goog.exportProperty(ol.control.ZoomToExtent.prototype,"changed",ol.control.ZoomToExtent.prototype.changed),goog.exportProperty(ol.control.ZoomToExtent.prototype,"getRevision",ol.control.ZoomToExtent.prototype.getRevision),goog.exportProperty(ol.control.ZoomToExtent.prototype,"on",ol.control.ZoomToExtent.prototype.on),goog.exportProperty(ol.control.ZoomToExtent.prototype,"once",ol.control.ZoomToExtent.prototype.once),goog.exportProperty(ol.control.ZoomToExtent.prototype,"un",ol.control.ZoomToExtent.prototype.un),goog.exportProperty(ol.control.ZoomToExtent.prototype,"unByKey",ol.control.ZoomToExtent.prototype.unByKey),OPENLAYERS.ol=ol,OPENLAYERS.ol}),function(e,o,t){"use strict";function r(e){return function(){var o,t=arguments[0];for(o="["+(e?e+":":"")+t+"] http://errors.angularjs.org/1.3.17/"+(e?e+"/":"")+t,t=1;t<arguments.length;t++){o=o+(1==t?"?":"&")+"p"+(t-1)+"=";var r,n=encodeURIComponent;r=arguments[t],r="function"==typeof r?r.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof r?"undefined":"string"!=typeof r?JSON.stringify(r):r,o+=n(r)}return Error(o)}}function n(e){if(null==e||b(e))return!1;var o="length"in Object(e)&&e.length;return e.nodeType===Bt&&o?!0:_(e)||Ot(e)||0===o||"number"==typeof o&&o>0&&o-1 in e}function i(e,o,t){var r,a;if(e)if(T(e))for(r in e)"prototype"==r||"length"==r||"name"==r||e.hasOwnProperty&&!e.hasOwnProperty(r)||o.call(t,e[r],r,e);else if(Ot(e)||n(e)){var s="object"!=typeof e;for(r=0,a=e.length;a>r;r++)(s||r in e)&&o.call(t,e[r],r,e)}else if(e.forEach&&e.forEach!==i)e.forEach(o,t,e);else for(r in e)e.hasOwnProperty(r)&&o.call(t,e[r],r,e);return e}function a(e,o,t){for(var r=Object.keys(e).sort(),n=0;n<r.length;n++)o.call(t,e[r[n]],r[n]);return r}function s(e){return function(o,t){e(t,o)}}function g(){return++wt}function l(e,o){o?e.$$hashKey=o:delete e.$$hashKey}function p(e){for(var o=e.$$hashKey,t=1,r=arguments.length;r>t;t++){var n=arguments[t];if(n)for(var i=Object.keys(n),a=0,s=i.length;s>a;a++){var g=i[a];e[g]=n[g]}}return l(e,o),e}function u(e){return parseInt(e,10)}function c(e,o){return p(Object.create(e),o)}function d(){}function h(e){return e}function m(e){return function(){return e}}function y(e){return"undefined"==typeof e}function f(e){return"undefined"!=typeof e}function v(e){return null!==e&&"object"==typeof e}function _(e){return"string"==typeof e}function E(e){return"number"==typeof e}function S(e){return"[object Date]"===Dt.call(e)}function T(e){return"function"==typeof e}function x(e){return"[object RegExp]"===Dt.call(e)}function b(e){return e&&e.window===e}function P(e){return e&&e.$evalAsync&&e.$watch}function M(e){return"boolean"==typeof e}function C(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function R(e){var o={};e=e.split(",");var t;for(t=0;t<e.length;t++)o[e[t]]=!0;return o}function A(e){return bt(e.nodeName||e[0]&&e[0].nodeName)}function D(e,o){var t=e.indexOf(o);return t>=0&&e.splice(t,1),o}function L(e,o,t,r){if(b(e)||P(e))throw Lt("cpws");if(o){if(e===o)throw Lt("cpi");if(t=t||[],r=r||[],v(e)){var n=t.indexOf(e);if(-1!==n)return r[n];t.push(e),r.push(o)}if(Ot(e))for(var a=o.length=0;a<e.length;a++)n=L(e[a],null,t,r),v(e[a])&&(t.push(e[a]),r.push(n)),o.push(n);else{var s=o.$$hashKey;Ot(o)?o.length=0:i(o,function(e,t){delete o[t]});for(a in e)e.hasOwnProperty(a)&&(n=L(e[a],null,t,r),v(e[a])&&(t.push(e[a]),r.push(n)),o[a]=n);l(o,s)}}else(o=e)&&(Ot(e)?o=L(e,[],t,r):S(e)?o=new Date(e.getTime()):x(e)?(o=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]),o.lastIndex=e.lastIndex):v(e)&&(n=Object.create(Object.getPrototypeOf(e)),o=L(e,n,t,r)));return o}function N(e,o){if(Ot(e)){o=o||[];for(var t=0,r=e.length;r>t;t++)o[t]=e[t]}else if(v(e))for(t in o=o||{},e)("$"!==t.charAt(0)||"$"!==t.charAt(1))&&(o[t]=e[t]);return o||e}function w(e,o){if(e===o)return!0;if(null===e||null===o)return!1;if(e!==e&&o!==o)return!0;var r,n=typeof e;if(n==typeof o&&"object"==n){if(!Ot(e)){if(S(e))return S(o)?w(e.getTime(),o.getTime()):!1;if(x(e))return x(o)?e.toString()==o.toString():!1;if(P(e)||P(o)||b(e)||b(o)||Ot(o)||S(o)||x(o))return!1;n={};for(r in e)if("$"!==r.charAt(0)&&!T(e[r])){if(!w(e[r],o[r]))return!1;n[r]=!0}for(r in o)if(!n.hasOwnProperty(r)&&"$"!==r.charAt(0)&&o[r]!==t&&!T(o[r]))return!1;return!0}if(!Ot(o))return!1;if((n=e.length)==o.length){for(r=0;n>r;r++)if(!w(e[r],o[r]))return!1;return!0}}return!1}function I(e,o,t){return e.concat(Ct.call(o,t))}function O(e,o){var t=2<arguments.length?Ct.call(arguments,2):[];return!T(o)||o instanceof RegExp?o:t.length?function(){return arguments.length?o.apply(e,I(t,arguments,0)):o.apply(e,t)}:function(){return arguments.length?o.apply(e,arguments):o.call(e)}}function F(e,r){var n=r;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?n=t:b(r)?n="$WINDOW":r&&o===r?n="$DOCUMENT":P(r)&&(n="$SCOPE"),n}function G(e,o){return"undefined"==typeof e?t:(E(o)||(o=o?2:null),JSON.stringify(e,F,o))}function k(e){return _(e)?JSON.parse(e):e}function U(e){e=Et(e).clone();try{e.empty()}catch(o){}var t=Et("<div>").append(e).html();try{return e[0].nodeType===jt?bt(t):t.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,o){return"<"+bt(o)})}catch(r){return bt(t)}}function q(e){try{return decodeURIComponent(e)}catch(o){}}function $(e){var o,t,r={};return i((e||"").split("&"),function(e){e&&(o=e.replace(/\+/g,"%20").split("="),t=q(o[0]),f(t)&&(e=f(o[1])?q(o[1]):!0,Pt.call(r,t)?Ot(r[t])?r[t].push(e):r[t]=[r[t],e]:r[t]=e))}),r}function B(e){var o=[];return i(e,function(e,t){Ot(e)?i(e,function(e){o.push(V(t,!0)+(!0===e?"":"="+V(e,!0)))}):o.push(V(t,!0)+(!0===e?"":"="+V(e,!0)))}),o.length?o.join("&"):""}function j(e){return V(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function V(e,o){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,o?"%20":"+")}function H(e,o){var t,r,n=Ut.length;for(e=Et(e),r=0;n>r;++r)if(t=Ut[r]+o,_(t=e.attr(t)))return t;return null}function K(e,o){var t,r,n={};i(Ut,function(o){o+="app",!t&&e.hasAttribute&&e.hasAttribute(o)&&(t=e,r=e.getAttribute(o))}),i(Ut,function(o){o+="app";var n;!t&&(n=e.querySelector("["+o.replace(":","\\:")+"]"))&&(t=n,r=n.getAttribute(o))}),t&&(n.strictDi=null!==H(t,"strict-di"),o(t,r?[r]:[],n))}function W(t,r,n){v(n)||(n={}),n=p({strictDi:!1},n);var a=function(){if(t=Et(t),t.injector()){var e=t[0]===o?"document":U(t);throw Lt("btstrpd",e.replace(/</,"&lt;").replace(/>/,"&gt;"))}return r=r||[],r.unshift(["$provide",function(e){e.value("$rootElement",t)}]),n.debugInfoEnabled&&r.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),r.unshift("ng"),e=Ne(r,n.strictDi),e.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,o,t,r){e.$apply(function(){o.data("$injector",r),t(o)(e)})}]),e},s=/^NG_ENABLE_DEBUG_INFO!/,g=/^NG_DEFER_BOOTSTRAP!/;return e&&s.test(e.name)&&(n.debugInfoEnabled=!0,e.name=e.name.replace(s,"")),e&&!g.test(e.name)?a():(e.name=e.name.replace(g,""),Nt.resumeBootstrap=function(e){return i(e,function(e){r.push(e)}),a()},void(T(Nt.resumeDeferredBootstrap)&&Nt.resumeDeferredBootstrap()))}function Y(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function X(e){if(e=Nt.element(e).injector(),!e)throw Lt("test");return e.get("$$testability")}function z(e,o){return o=o||"_",e.replace(qt,function(e,t){return(t?o:"")+e.toLowerCase()})}function Z(){var o;$t||((St=e.jQuery)&&St.fn.on?(Et=St,p(St.fn,{scope:tr.scope,isolateScope:tr.isolateScope,controller:tr.controller,injector:tr.injector,inheritedData:tr.inheritedData}),o=St.cleanData,St.cleanData=function(e){var t;if(It)It=!1;else for(var r,n=0;null!=(r=e[n]);n++)(t=St._data(r,"events"))&&t.$destroy&&St(r).triggerHandler("$destroy");o(e)}):Et=le,Nt.element=Et,$t=!0)}function J(e,o,t){if(!e)throw Lt("areq",o||"?",t||"required");return e}function Q(e,o,t){return t&&Ot(e)&&(e=e[e.length-1]),J(T(e),o,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function ee(e,o){if("hasOwnProperty"===e)throw Lt("badname",o)}function oe(e,o,t){if(!o)return e;o=o.split(".");for(var r,n=e,i=o.length,a=0;i>a;a++)r=o[a],e&&(e=(n=e)[r]);return!t&&T(e)?O(n,e):e}function te(e){var o=e[0];e=e[e.length-1];var t=[o];do{if(o=o.nextSibling,!o)break;t.push(o)}while(o!==e);return Et(t)}function re(){return Object.create(null)}function ne(e){function o(e,o,t){return e[o]||(e[o]=t())}var t=r("$injector"),n=r("ng");return e=o(e,"angular",Object),e.$$minErr=e.$$minErr||r,o(e,"module",function(){var e={};return function(r,i,a){if("hasOwnProperty"===r)throw n("badname","module");return i&&e.hasOwnProperty(r)&&(e[r]=null),o(e,r,function(){function e(e,t,r,n){return n||(n=o),function(){return n[r||"push"]([e,t,arguments]),l}}if(!i)throw t("nomod",r);

var o=[],n=[],s=[],g=e("$injector","invoke","push",n),l={_invokeQueue:o,_configBlocks:n,_runBlocks:s,requires:i,name:r,provider:e("$provide","provider"),factory:e("$provide","factory"),service:e("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),animation:e("$animateProvider","register"),filter:e("$filterProvider","register"),controller:e("$controllerProvider","register"),directive:e("$compileProvider","directive"),config:g,run:function(e){return s.push(e),this}};return a&&g(a),l})}})}function ie(o){p(o,{bootstrap:W,copy:L,extend:p,equals:w,element:Et,forEach:i,injector:Ne,noop:d,bind:O,toJson:G,fromJson:k,identity:h,isUndefined:y,isDefined:f,isString:_,isFunction:T,isObject:v,isNumber:E,isElement:C,isArray:Ot,version:Vt,isDate:S,lowercase:bt,uppercase:Mt,callbacks:{counter:0},getTestability:X,$$minErr:r,$$csp:kt,reloadWithDebugInfo:Y}),Tt=ne(e);try{Tt("ngLocale")}catch(t){Tt("ngLocale",[]).provider("$locale",to)}Tt("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:wo}),e.provider("$compile",Ue).directive({a:Yr,input:un,textarea:un,form:Jr,script:zn,select:Qn,style:oi,option:ei,ngBind:hn,ngBindHtml:yn,ngBindTemplate:mn,ngClass:vn,ngClassEven:En,ngClassOdd:_n,ngCloak:Sn,ngController:Tn,ngForm:Qr,ngHide:Vn,ngIf:Pn,ngInclude:Mn,ngInit:Rn,ngNonBindable:qn,ngPluralize:$n,ngRepeat:Bn,ngShow:jn,ngStyle:Hn,ngSwitch:Kn,ngSwitchWhen:Wn,ngSwitchDefault:Yn,ngOptions:Jn,ngTransclude:Xn,ngModel:Gn,ngList:An,ngChange:fn,pattern:ri,ngPattern:ri,required:ti,ngRequired:ti,minlength:ii,ngMinlength:ii,maxlength:ni,ngMaxlength:ni,ngValue:dn,ngModelOptions:Un}).directive({ngInclude:Cn}).directive(Xr).directive(xn),e.provider({$anchorScroll:we,$animate:cr,$browser:Fe,$cacheFactory:Ge,$controller:je,$document:Ve,$exceptionHandler:He,$filter:Ho,$interpolate:eo,$interval:oo,$http:ze,$httpBackend:Je,$location:yo,$log:fo,$parse:Co,$rootScope:No,$q:Ro,$$q:Ao,$sce:Go,$sceDelegate:Fo,$sniffer:ko,$templateCache:ke,$templateRequest:Uo,$$testability:qo,$timeout:$o,$window:Vo,$$rAF:Lo,$$asyncCallback:Ie,$$jqLite:Re})}])}function ae(e){return e.replace(Wt,function(e,o,t,r){return r?t.toUpperCase():t}).replace(Yt,"Moz$1")}function se(e){return e=e.nodeType,e===Bt||!e||9===e}function ge(e,o){var t,r,n=o.createDocumentFragment(),a=[];if(Jt.test(e)){for(t=t||n.appendChild(o.createElement("div")),r=(Qt.exec(e)||["",""])[1].toLowerCase(),r=or[r]||or._default,t.innerHTML=r[1]+e.replace(er,"<$1></$2>")+r[2],r=r[0];r--;)t=t.lastChild;a=I(a,t.childNodes),t=n.firstChild,t.textContent=""}else a.push(o.createTextNode(e));return n.textContent="",n.innerHTML="",i(a,function(e){n.appendChild(e)}),n}function le(e){if(e instanceof le)return e;var t;if(_(e)&&(e=Ft(e),t=!0),!(this instanceof le)){if(t&&"<"!=e.charAt(0))throw zt("nosel");return new le(e)}if(t){t=o;var r;e=(r=Zt.exec(e))?[t.createElement(r[1])]:(r=ge(e,t))?r.childNodes:[]}_e(this,e)}function pe(e){return e.cloneNode(!0)}function ue(e,o){if(o||de(e),e.querySelectorAll)for(var t=e.querySelectorAll("*"),r=0,n=t.length;n>r;r++)de(t[r])}function ce(e,o,t,r){if(f(r))throw zt("offargs");var n=(r=he(e))&&r.events,a=r&&r.handle;if(a)if(o)i(o.split(" "),function(o){if(f(t)){var r=n[o];if(D(r||[],t),r&&0<r.length)return}e.removeEventListener(o,a,!1),delete n[o]});else for(o in n)"$destroy"!==o&&e.removeEventListener(o,a,!1),delete n[o]}function de(e,o){var r=e.ng339,n=r&&Ht[r];n&&(o?delete n.data[o]:(n.handle&&(n.events.$destroy&&n.handle({},"$destroy"),ce(e)),delete Ht[r],e.ng339=t))}function he(e,o){var r=e.ng339,r=r&&Ht[r];return o&&!r&&(e.ng339=r=++Kt,r=Ht[r]={events:{},data:{},handle:t}),r}function me(e,o,t){if(se(e)){var r=f(t),n=!r&&o&&!v(o),i=!o;if(e=(e=he(e,!n))&&e.data,r)e[o]=t;else{if(i)return e;if(n)return e&&e[o];p(e,o)}}}function ye(e,o){return e.getAttribute?-1<(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+o+" "):!1}function fe(e,o){o&&e.setAttribute&&i(o.split(" "),function(o){e.setAttribute("class",Ft((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Ft(o)+" "," ")))})}function ve(e,o){if(o&&e.setAttribute){var t=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");i(o.split(" "),function(e){e=Ft(e),-1===t.indexOf(" "+e+" ")&&(t+=e+" ")}),e.setAttribute("class",Ft(t))}}function _e(e,o){if(o)if(o.nodeType)e[e.length++]=o;else{var t=o.length;if("number"==typeof t&&o.window!==o){if(t)for(var r=0;t>r;r++)e[e.length++]=o[r]}else e[e.length++]=o}}function Ee(e,o){return Se(e,"$"+(o||"ngController")+"Controller")}function Se(e,o,r){for(9==e.nodeType&&(e=e.documentElement),o=Ot(o)?o:[o];e;){for(var n=0,i=o.length;i>n;n++)if((r=Et.data(e,o[n]))!==t)return r;e=e.parentNode||11===e.nodeType&&e.host}}function Te(e){for(ue(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function xe(e,o){o||ue(e);var t=e.parentNode;t&&t.removeChild(e)}function be(o,t){t=t||e,"complete"===t.document.readyState?t.setTimeout(o):Et(t).on("load",o)}function Pe(e,o){var t=rr[o.toLowerCase()];return t&&nr[A(e)]&&t}function Me(e,o){var t=e.nodeName;return("INPUT"===t||"TEXTAREA"===t)&&ir[o]}function Ce(e,o){var t=function(t,r){t.isDefaultPrevented=function(){return t.defaultPrevented};var n=o[r||t.type],i=n?n.length:0;if(i){if(y(t.immediatePropagationStopped)){var a=t.stopImmediatePropagation;t.stopImmediatePropagation=function(){t.immediatePropagationStopped=!0,t.stopPropagation&&t.stopPropagation(),a&&a.call(t)}}t.isImmediatePropagationStopped=function(){return!0===t.immediatePropagationStopped},i>1&&(n=N(n));for(var s=0;i>s;s++)t.isImmediatePropagationStopped()||n[s].call(e,t)}};return t.elem=e,t}function Re(){this.$get=function(){return p(le,{hasClass:function(e,o){return e.attr&&(e=e[0]),ye(e,o)},addClass:function(e,o){return e.attr&&(e=e[0]),ve(e,o)},removeClass:function(e,o){return e.attr&&(e=e[0]),fe(e,o)}})}}function Ae(e,o){var t=e&&e.$$hashKey;return t?("function"==typeof t&&(t=e.$$hashKey()),t):(t=typeof e,t="function"==t||"object"==t&&null!==e?e.$$hashKey=t+":"+(o||g)():t+":"+e)}function De(e,o){if(o){var t=0;this.nextUid=function(){return++t}}i(e,this.put,this)}function Le(e){return(e=e.toString().replace(lr,"").match(ar))?"function("+(e[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function Ne(e,o){function r(e){return function(o,t){return v(o)?void i(o,s(e)):e(o,t)}}function n(e,o){if(ee(e,"service"),(T(o)||Ot(o))&&(o=E.instantiate(o)),!o.$get)throw pr("pget",e);return f[e+"Provider"]=o}function a(e,o){return function(){var t=x.invoke(o,this);if(y(t))throw pr("undef",e);return t}}function g(e,o,t){return n(e,{$get:!1!==t?a(e,o):o})}function l(e){var o,t=[];return i(e,function(e){function r(e){var o,t;for(o=0,t=e.length;t>o;o++){var r=e[o],n=E.get(r[0]);n[r[1]].apply(n,r[2])}}if(!h.get(e)){h.put(e,!0);try{_(e)?(o=Tt(e),t=t.concat(l(o.requires)).concat(o._runBlocks),r(o._invokeQueue),r(o._configBlocks)):T(e)?t.push(E.invoke(e)):Ot(e)?t.push(E.invoke(e)):Q(e,"module")}catch(n){throw Ot(e)&&(e=e[e.length-1]),n.message&&n.stack&&-1==n.stack.indexOf(n.message)&&(n=n.message+"\n"+n.stack),pr("modulerr",e,n.stack||n.message||n)}}}),t}function p(e,t){function r(o,r){if(e.hasOwnProperty(o)){if(e[o]===u)throw pr("cdep",o+" <- "+c.join(" <- "));return e[o]}try{return c.unshift(o),e[o]=u,e[o]=t(o,r)}catch(n){throw e[o]===u&&delete e[o],n}finally{c.shift()}}function n(e,t,n,i){"string"==typeof n&&(i=n,n=null);var a,s,g,l=[],p=Ne.$$annotate(e,o,i);for(s=0,a=p.length;a>s;s++){if(g=p[s],"string"!=typeof g)throw pr("itkn",g);l.push(n&&n.hasOwnProperty(g)?n[g]:r(g,i))}return Ot(e)&&(e=e[a]),e.apply(t,l)}return{invoke:n,instantiate:function(e,o,t){var r=Object.create((Ot(e)?e[e.length-1]:e).prototype||null);return e=n(e,r,o,t),v(e)||T(e)?e:r},get:r,annotate:Ne.$$annotate,has:function(o){return f.hasOwnProperty(o+"Provider")||e.hasOwnProperty(o)}}}o=!0===o;var u={},c=[],h=new De([],!0),f={$provide:{provider:r(n),factory:r(g),service:r(function(e,o){return g(e,["$injector",function(e){return e.instantiate(o)}])}),value:r(function(e,o){return g(e,m(o),!1)}),constant:r(function(e,o){ee(e,"constant"),f[e]=o,S[e]=o}),decorator:function(e,o){var t=E.get(e+"Provider"),r=t.$get;t.$get=function(){var e=x.invoke(r,t);return x.invoke(o,null,{$delegate:e})}}}},E=f.$injector=p(f,function(e,o){throw Nt.isString(o)&&c.push(o),pr("unpr",c.join(" <- "))}),S={},x=S.$injector=p(S,function(e,o){var r=E.get(e+"Provider",o);return x.invoke(r.$get,r,t,e)});return i(l(e),function(e){x.invoke(e||d)}),x}function we(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(o,t,r){function n(e){var o=null;return Array.prototype.some.call(e,function(e){return"a"===A(e)?(o=e,!0):void 0}),o}function i(e){if(e){e.scrollIntoView();var t;t=a.yOffset,T(t)?t=t():C(t)?(t=t[0],t="fixed"!==o.getComputedStyle(t).position?0:t.getBoundingClientRect().bottom):E(t)||(t=0),t&&(e=e.getBoundingClientRect().top,o.scrollBy(0,e-t))}else o.scrollTo(0,0)}function a(){var e,o=t.hash();o?(e=s.getElementById(o))?i(e):(e=n(s.getElementsByName(o)))?i(e):"top"===o&&i(null):i(null)}var s=o.document;return e&&r.$watch(function(){return t.hash()},function(e,o){e===o&&""===e||be(function(){r.$evalAsync(a)})}),a}]}function Ie(){this.$get=["$$rAF","$timeout",function(e,o){return e.supported?function(o){return e(o)}:function(e){return o(e,0,!1)}}]}function Oe(e,o,r,n){function a(e){try{e.apply(null,Ct.call(arguments,1))}finally{if(T--,0===T)for(;x.length;)try{x.pop()()}catch(o){r.error(o)}}}function s(e,o){!function t(){i(P,function(e){e()}),b=o(t,e)}()}function g(){l(),p()}function l(){e:{try{M=f.state;break e}catch(e){}M=void 0}M=y(M)?null:M,w(M,I)&&(M=I),I=M}function p(){(R!==c.url()||C!==M)&&(R=c.url(),C=M,i(L,function(e){e(c.url(),M)}))}function u(e){try{return decodeURIComponent(e)}catch(o){return e}}var c=this,h=o[0],m=e.location,f=e.history,v=e.setTimeout,E=e.clearTimeout,S={};c.isMock=!1;var T=0,x=[];c.$$completeOutstandingRequest=a,c.$$incOutstandingRequestCount=function(){T++},c.notifyWhenNoOutstandingRequests=function(e){i(P,function(e){e()}),0===T?e():x.push(e)};var b,P=[];c.addPollFn=function(e){return y(b)&&s(100,v),P.push(e),e};var M,C,R=m.href,A=o.find("base"),D=null;l(),C=M,c.url=function(o,t,r){if(y(r)&&(r=null),m!==e.location&&(m=e.location),f!==e.history&&(f=e.history),o){var i=C===r;if(R===o&&(!n.history||i))return c;var a=R&&so(R)===so(o);return R=o,C=r,!n.history||a&&i?((!a||D)&&(D=o),t?m.replace(o):a?(t=m,r=o.indexOf("#"),o=-1===r?"":o.substr(r),t.hash=o):m.href=o):(f[t?"replaceState":"pushState"](r,"",o),l(),C=M),c}return D||m.href.replace(/%27/g,"'")},c.state=function(){return M};var L=[],N=!1,I=null;c.onUrlChange=function(o){return N||(n.history&&Et(e).on("popstate",g),Et(e).on("hashchange",g),N=!0),L.push(o),o},c.$$checkUrlChange=p,c.baseHref=function(){var e=A.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var O={},F="",G=c.baseHref();c.cookies=function(e,o){var n,i,a,s;if(!e){if(h.cookie!==F)for(F=h.cookie,n=F.split("; "),O={},a=0;a<n.length;a++)i=n[a],s=i.indexOf("="),s>0&&(e=u(i.substring(0,s)),O[e]===t&&(O[e]=u(i.substring(s+1))));return O}o===t?h.cookie=encodeURIComponent(e)+"=;path="+G+";expires=Thu, 01 Jan 1970 00:00:00 GMT":_(o)&&(n=(h.cookie=encodeURIComponent(e)+"="+encodeURIComponent(o)+";path="+G).length+1,n>4096&&r.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+n+" > 4096 bytes)!"))},c.defer=function(e,o){var t;return T++,t=v(function(){delete S[t],a(e)},o||0),S[t]=!0,t},c.defer.cancel=function(e){return S[e]?(delete S[e],E(e),a(d),!0):!1}}function Fe(){this.$get=["$window","$log","$sniffer","$document",function(e,o,t,r){return new Oe(e,r,o,t)}]}function Ge(){this.$get=function(){function e(e,t){function n(e){e!=c&&(d?d==e&&(d=e.n):d=e,i(e.n,e.p),i(e,c),c=e,c.n=null)}function i(e,o){e!=o&&(e&&(e.p=o),o&&(o.n=e))}if(e in o)throw r("$cacheFactory")("iid",e);var a=0,s=p({},t,{id:e}),g={},l=t&&t.capacity||Number.MAX_VALUE,u={},c=null,d=null;return o[e]={put:function(e,o){if(l<Number.MAX_VALUE){var t=u[e]||(u[e]={key:e});n(t)}return y(o)?void 0:(e in g||a++,g[e]=o,a>l&&this.remove(d.key),o)},get:function(e){if(l<Number.MAX_VALUE){var o=u[e];if(!o)return;n(o)}return g[e]},remove:function(e){if(l<Number.MAX_VALUE){var o=u[e];if(!o)return;o==c&&(c=o.p),o==d&&(d=o.n),i(o.n,o.p),delete u[e]}delete g[e],a--},removeAll:function(){g={},a=0,u={},c=d=null},destroy:function(){u=s=g=null,delete o[e]},info:function(){return p({},s,{size:a})}}}var o={};return e.info=function(){var e={};return i(o,function(o,t){e[t]=o.info()}),e},e.get=function(e){return o[e]},e}}function ke(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function Ue(e,r){function n(e,o){var t=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,r={};return i(e,function(e,n){var i=e.match(t);if(!i)throw dr("iscp",o,n,e);r[n]={mode:i[1][0],collection:"*"===i[2],optional:"?"===i[3],attrName:i[4]||n}}),r}function a(e){var o=e.charAt(0);if(!o||o!==bt(o))throw dr("baddir",e);return e}var g={},l=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,u=/(([\w\-]+)(?:\:([^;]+))?;?)/,y=R("ngSrc,ngSrcset,src,srcset"),E=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,S=/^(on[a-z]+|formaction)$/;this.directive=function b(o,t){return ee(o,"directive"),_(o)?(a(o),J(t,"directiveFactory"),g.hasOwnProperty(o)||(g[o]=[],e.factory(o+"Directive",["$injector","$exceptionHandler",function(e,t){var r=[];return i(g[o],function(i,a){try{var s=e.invoke(i);T(s)?s={compile:m(s)}:!s.compile&&s.link&&(s.compile=m(s.link)),s.priority=s.priority||0,s.index=a,s.name=s.name||o,s.require=s.require||s.controller&&s.name,s.restrict=s.restrict||"EA",v(s.scope)&&(s.$$isolateBindings=n(s.scope,s.name)),r.push(s)}catch(g){t(g)}}),r}])),g[o].push(t)):i(o,s(b)),this},this.aHrefSanitizationWhitelist=function(e){return f(e)?(r.aHrefSanitizationWhitelist(e),this):r.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return f(e)?(r.imgSrcSanitizationWhitelist(e),this):r.imgSrcSanitizationWhitelist()};var x=!0;this.debugInfoEnabled=function(e){return f(e)?(x=e,this):x},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(e,r,n,a,s,m,f,b,M,C,R){function L(e,o){try{e.addClass(o)}catch(t){}}function N(e,o,t,r,n){e instanceof Et||(e=Et(e)),i(e,function(o,t){o.nodeType==jt&&o.nodeValue.match(/\S+/)&&(e[t]=Et(o).wrap("<span></span>").parent()[0])});var a=I(e,o,e,t,r,n);N.$$addScopeClass(e);var s=null;return function(o,t,r){J(o,"scope"),r=r||{};var n=r.parentBoundTranscludeFn,i=r.transcludeControllers;if(r=r.futureParentElement,n&&n.$$boundTransclude&&(n=n.$$boundTransclude),s||(s=(r=r&&r[0])&&"foreignobject"!==A(r)&&r.toString().match(/SVG/)?"svg":"html"),r="html"!==s?Et(X(s,Et("<div>").append(e).html())):t?tr.clone.call(e):e,i)for(var g in i)r.data("$"+g+"Controller",i[g].instance);return N.$$addScopeInfo(r,o),t&&t(r,o),a&&a(o,r,r,n),r}}function I(e,o,r,n,i,a){function s(e,r,n,i){var a,s,g,l,p,u,h;if(c)for(h=Array(r.length),l=0;l<d.length;l+=3)a=d[l],h[a]=r[a];else h=r;for(l=0,p=d.length;p>l;)s=h[d[l++]],r=d[l++],a=d[l++],r?(r.scope?(g=e.$new(),N.$$addScopeInfo(Et(s),g)):g=e,u=r.transcludeOnThisElement?O(e,r.transclude,i,r.elementTranscludeOnThisElement):!r.templateOnThisElement&&i?i:!i&&o?O(e,o):null,r(a,g,s,n,u)):a&&a(e,s.childNodes,t,i)}for(var g,l,p,u,c,d=[],h=0;h<e.length;h++)g=new ne,l=F(e[h],[],g,0===h?n:t,i),(a=l.length?q(l,e[h],g,o,r,null,[],[],a):null)&&a.scope&&N.$$addScopeClass(g.$$element),g=a&&a.terminal||!(p=e[h].childNodes)||!p.length?null:I(p,a?(a.transcludeOnThisElement||!a.templateOnThisElement)&&a.transclude:o),(a||g)&&(d.push(h,a,g),u=!0,c=c||a),a=null;return u?s:null}function O(e,o,t,r){return function(r,n,i,a,s){return r||(r=e.$new(!1,s),r.$$transcluded=!0),o(r,n,{parentBoundTranscludeFn:t,transcludeControllers:i,futureParentElement:a})}}function F(e,o,t,r,n){var i,a=t.$attr;switch(e.nodeType){case Bt:B(o,qe(A(e)),"E",r,n);for(var s,g,p,c=e.attributes,d=0,h=c&&c.length;h>d;d++){var m=!1,y=!1;s=c[d],i=s.name,g=Ft(s.value),s=qe(i),(p=ge.test(s))&&(i=i.replace(hr,"").substr(8).replace(/_(.)/g,function(e,o){return o.toUpperCase()}));var f=s.replace(/(Start|End)$/,"");j(f)&&s===f+"Start"&&(m=i,y=i.substr(0,i.length-5)+"end",i=i.substr(0,i.length-6)),s=qe(i.toLowerCase()),a[s]=i,(p||!t.hasOwnProperty(s))&&(t[s]=g,Pe(e,s)&&(t[s]=!0)),Q(e,o,g,s,p),B(o,s,"A",r,n,m,y)}if(e=e.className,v(e)&&(e=e.animVal),_(e)&&""!==e)for(;i=u.exec(e);)s=qe(i[2]),B(o,s,"C",r,n)&&(t[s]=Ft(i[3])),e=e.substr(i.index+i[0].length);break;case jt:Y(o,e.nodeValue);break;case 8:try{(i=l.exec(e.nodeValue))&&(s=qe(i[1]),B(o,s,"M",r,n)&&(t[s]=Ft(i[2])))}catch(E){}}return o.sort(K),o}function G(e,o,t){var r=[],n=0;if(o&&e.hasAttribute&&e.hasAttribute(o)){do{if(!e)throw dr("uterdir",o,t);e.nodeType==Bt&&(e.hasAttribute(o)&&n++,e.hasAttribute(t)&&n--),r.push(e),e=e.nextSibling}while(n>0)}else r.push(e);return Et(r)}function k(e,o,t){return function(r,n,i,a,s){return n=G(n[0],o,t),e(r,n,i,a,s)}}function q(e,a,g,l,p,u,c,d,h){function y(e,o,t,r){e&&(t&&(e=k(e,t,r)),e.require=M.require,e.directiveName=C,(I===M||M.$$isolateScope)&&(e=oe(e,{isolateScope:!0})),c.push(e)),o&&(t&&(o=k(o,t,r)),o.require=M.require,o.directiveName=C,(I===M||M.$$isolateScope)&&(o=oe(o,{isolateScope:!0})),d.push(o))}function f(e,o,t,r){var n,a,s="data",g=!1,l=t;if(_(o)){if(a=o.match(E),o=o.substring(a[0].length),a[3]&&(a[1]?a[3]=null:a[1]=a[3]),"^"===a[1]?s="inheritedData":"^^"===a[1]&&(s="inheritedData",l=t.parent()),"?"===a[2]&&(g=!0),n=null,r&&"data"===s&&(n=r[o])&&(n=n.instance),n=n||l[s]("$"+o+"Controller"),!n&&!g)throw dr("ctreq",o,e);return n||null}return Ot(o)&&(n=[],i(o,function(o){n.push(f(e,o,t,r))})),n}function S(e,o,n,l,p){function u(e,o,r){var n;return P(e)||(r=o,o=e,e=t),K&&(n=E),r||(r=K?T.parent():T),p(e,o,n,r,C)}var h,y,v,_,E,S,T,x;if(a===n?(x=g,T=g.$$element):(T=Et(n),x=new ne(T,g)),I&&(_=o.$new(!0)),p&&(S=u,S.$$boundTransclude=p),L&&(b={},E={},i(L,function(e){var t={$scope:e===I||e.$$isolateScope?_:o,$element:T,$attrs:x,$transclude:S};v=e.controller,"@"==v&&(v=x[e.name]),t=m(v,t,!0,e.controllerAs),E[e.name]=t,K||T.data("$"+e.name+"Controller",t.instance),b[e.name]=t})),I){N.$$addScopeInfo(T,_,!0,!(O&&(O===I||O===I.$$originalDirective))),N.$$addScopeClass(T,!0),l=b&&b[I.name];var M=_;l&&l.identifier&&!0===I.bindToController&&(M=l.instance),i(_.$$isolateBindings=I.$$isolateBindings,function(e,t){var n,i,a,g,l=e.attrName,p=e.optional;switch(e.mode){case"@":x.$observe(l,function(e){M[t]=e}),x.$$observers[l].$$scope=o,x[l]&&(M[t]=r(x[l])(o));break;case"=":if(p&&!x[l])break;i=s(x[l]),g=i.literal?w:function(e,o){return e===o||e!==e&&o!==o},a=i.assign||function(){throw n=M[t]=i(o),dr("nonassign",x[l],I.name)},n=M[t]=i(o),p=function(e){return g(e,M[t])||(g(e,n)?a(o,e=M[t]):M[t]=e),n=e},p.$stateful=!0,p=e.collection?o.$watchCollection(x[l],p):o.$watch(s(x[l],p),null,i.literal),_.$on("$destroy",p);break;case"&":i=s(x[l]),M[t]=function(e){return i(o,e)}}})}for(b&&(i(b,function(e){e()}),b=null),l=0,h=c.length;h>l;l++)y=c[l],te(y,y.isolateScope?_:o,T,x,y.require&&f(y.directiveName,y.require,T,E),S);var C=o;for(I&&(I.template||null===I.templateUrl)&&(C=_),e&&e(C,n.childNodes,t,p),l=d.length-1;l>=0;l--)y=d[l],te(y,y.isolateScope?_:o,T,x,y.require&&f(y.directiveName,y.require,T,E),S)}h=h||{};for(var x,b,M,C,R,A,D=-Number.MAX_VALUE,L=h.controllerDirectives,I=h.newIsolateScopeDirective,O=h.templateDirective,q=h.nonTlbTranscludeDirective,B=!1,j=!1,K=h.hasElementTranscludeDirective,Y=g.$$element=Et(a),z=l,Z=0,J=e.length;J>Z;Z++){M=e[Z];var Q=M.$$start,re=M.$$end;if(Q&&(Y=G(a,Q,re)),R=t,D>M.priority)break;if((R=M.scope)&&(M.templateUrl||(v(R)?(W("new/isolated scope",I||x,M,Y),I=M):W("new/isolated scope",I,M,Y)),x=x||M),C=M.name,!M.templateUrl&&M.controller&&(R=M.controller,L=L||{},W("'"+C+"' controller",L[C],M,Y),L[C]=M),(R=M.transclude)&&(B=!0,M.$$tlb||(W("transclusion",q,M,Y),q=M),"element"==R?(K=!0,D=M.priority,R=Y,Y=g.$$element=Et(o.createComment(" "+C+": "+g[C]+" ")),a=Y[0],ee(p,Ct.call(R,0),a),z=N(R,l,D,u&&u.name,{nonTlbTranscludeDirective:q})):(R=Et(pe(a)).contents(),Y.empty(),z=N(R,l))),M.template)if(j=!0,W("template",O,M,Y),O=M,R=T(M.template)?M.template(Y,g):M.template,R=se(R),M.replace){if(u=M,R=Jt.test(R)?Be(X(M.templateNamespace,Ft(R))):[],a=R[0],1!=R.length||a.nodeType!==Bt)throw dr("tplrt",C,"");ee(p,Y,a),J={$attr:{}},R=F(a,[],J);var ie=e.splice(Z+1,e.length-(Z+1));I&&$(R),e=e.concat(R).concat(ie),V(g,J),J=e.length}else Y.html(R);if(M.templateUrl)j=!0,W("template",O,M,Y),O=M,M.replace&&(u=M),S=H(e.splice(Z,e.length-Z),Y,g,p,B&&z,c,d,{controllerDirectives:L,newIsolateScopeDirective:I,templateDirective:O,nonTlbTranscludeDirective:q}),J=e.length;else if(M.compile)try{A=M.compile(Y,g,z),T(A)?y(null,A,Q,re):A&&y(A.pre,A.post,Q,re)}catch(ae){n(ae,U(Y))}M.terminal&&(S.terminal=!0,D=Math.max(D,M.priority))}return S.scope=x&&!0===x.scope,S.transcludeOnThisElement=B,S.elementTranscludeOnThisElement=K,S.templateOnThisElement=j,S.transclude=z,h.hasElementTranscludeDirective=K,S}function $(e){for(var o=0,t=e.length;t>o;o++)e[o]=c(e[o],{$$isolateScope:!0})}function B(o,r,i,a,s,l,p){if(r===s)return null;if(s=null,g.hasOwnProperty(r)){var u;r=e.get(r+"Directive");for(var d=0,h=r.length;h>d;d++)try{u=r[d],(a===t||a>u.priority)&&-1!=u.restrict.indexOf(i)&&(l&&(u=c(u,{$$start:l,$$end:p})),o.push(u),s=u)}catch(m){n(m)}}return s}function j(o){if(g.hasOwnProperty(o))for(var t=e.get(o+"Directive"),r=0,n=t.length;n>r;r++)if(o=t[r],o.multiElement)return!0;return!1}function V(e,o){var t=o.$attr,r=e.$attr,n=e.$$element;i(e,function(r,n){"$"!=n.charAt(0)&&(o[n]&&o[n]!==r&&(r+=("style"===n?";":" ")+o[n]),e.$set(n,r,!0,t[n]))}),i(o,function(o,i){"class"==i?(L(n,o),e["class"]=(e["class"]?e["class"]+" ":"")+o):"style"==i?(n.attr("style",n.attr("style")+";"+o),e.style=(e.style?e.style+";":"")+o):"$"==i.charAt(0)||e.hasOwnProperty(i)||(e[i]=o,r[i]=t[i])})}function H(e,o,t,r,n,s,g,l){var p,u,d=[],h=o[0],m=e.shift(),y=c(m,{templateUrl:null,transclude:null,replace:null,$$originalDirective:m}),f=T(m.templateUrl)?m.templateUrl(o,t):m.templateUrl,_=m.templateNamespace;return o.empty(),a(f).then(function(a){var c,E;if(a=se(a),m.replace){if(a=Jt.test(a)?Be(X(_,Ft(a))):[],c=a[0],1!=a.length||c.nodeType!==Bt)throw dr("tplrt",m.name,f);a={$attr:{}},ee(r,o,c);var S=F(c,[],a);v(m.scope)&&$(S),e=S.concat(e),V(t,a)}else c=h,o.html(a);for(e.unshift(y),p=q(e,c,t,n,o,m,s,g,l),i(r,function(e,t){e==c&&(r[t]=o[0])}),u=I(o[0].childNodes,n);d.length;){a=d.shift(),E=d.shift();var T=d.shift(),x=d.shift(),S=o[0];if(!a.$$destroyed){if(E!==h){var b=E.className;l.hasElementTranscludeDirective&&m.replace||(S=pe(c)),ee(T,Et(E),S),L(Et(S),b)}E=p.transcludeOnThisElement?O(a,p.transclude,x):x,p(u,a,S,r,E)}}d=null}),function(e,o,t,r,n){e=n,o.$$destroyed||(d?d.push(o,t,r,e):(p.transcludeOnThisElement&&(e=O(o,p.transclude,n)),p(u,o,t,r,e)))}}function K(e,o){var t=o.priority-e.priority;return 0!==t?t:e.name!==o.name?e.name<o.name?-1:1:e.index-o.index}function W(e,o,t,r){if(o)throw dr("multidir",o.name,t.name,e,U(r))}function Y(e,o){var t=r(o,!0);t&&e.push({priority:0,compile:function(e){e=e.parent();var o=!!e.length;return o&&N.$$addBindingClass(e),function(e,r){var n=r.parent();o||N.$$addBindingClass(n),N.$$addBindingInfo(n,t.expressions),e.$watch(t,function(e){r[0].nodeValue=e})}}})}function X(e,t){switch(e=bt(e||"html")){case"svg":case"math":var r=o.createElement("div");return r.innerHTML="<"+e+">"+t+"</"+e+">",r.childNodes[0].childNodes;default:return t}}function Z(e,o){if("srcdoc"==o)return M.HTML;var t=A(e);return"xlinkHref"==o||"form"==t&&"action"==o||"img"!=t&&("src"==o||"ngSrc"==o)?M.RESOURCE_URL:void 0}function Q(e,o,t,n,i){var a=Z(e,n);i=y[n]||i;var s=r(t,!0,a,i);if(s){if("multiple"===n&&"select"===A(e))throw dr("selmulti",U(e));o.push({priority:100,compile:function(){return{pre:function(e,o,g){if(o=g.$$observers||(g.$$observers={}),S.test(n))throw dr("nodomevents");var l=g[n];l!==t&&(s=l&&r(l,!0,a,i),t=l),s&&(g[n]=s(e),(o[n]||(o[n]=[])).$$inter=!0,(g.$$observers&&g.$$observers[n].$$scope||e).$watch(s,function(e,o){"class"===n&&e!=o?g.$updateClass(e,o):g.$set(n,e)}))}}}})}}function ee(e,t,r){var n,i,a=t[0],s=t.length,g=a.parentNode;if(e)for(n=0,i=e.length;i>n;n++)if(e[n]==a){e[n++]=r,i=n+s-1;for(var l=e.length;l>n;n++,i++)l>i?e[n]=e[i]:delete e[n];e.length-=s-1,e.context===a&&(e.context=r);break}for(g&&g.replaceChild(r,a),e=o.createDocumentFragment(),e.appendChild(a),Et(r).data(Et(a).data()),St?(It=!0,St.cleanData([a])):delete Et.cache[a[Et.expando]],a=1,s=t.length;s>a;a++)g=t[a],Et(g).remove(),e.appendChild(g),delete t[a];t[0]=r,t.length=1}function oe(e,o){return p(function(){return e.apply(null,arguments)},e,o)}function te(e,o,t,r,i,a){try{e(o,t,r,i,a)}catch(s){n(s,U(t))}}var ne=function(e,o){if(o){var t,r,n,i=Object.keys(o);for(t=0,r=i.length;r>t;t++)n=i[t],this[n]=o[n]}else this.$attr={};this.$$element=e};ne.prototype={$normalize:qe,$addClass:function(e){e&&0<e.length&&C.addClass(this.$$element,e)},$removeClass:function(e){e&&0<e.length&&C.removeClass(this.$$element,e)},$updateClass:function(e,o){var t=$e(e,o);t&&t.length&&C.addClass(this.$$element,t),(t=$e(o,e))&&t.length&&C.removeClass(this.$$element,t)},$set:function(e,o,r,a){var s=this.$$element[0],g=Pe(s,e),l=Me(s,e),s=e;if(g?(this.$$element.prop(e,o),a=g):l&&(this[l]=o,s=l),this[e]=o,a?this.$attr[e]=a:(a=this.$attr[e])||(this.$attr[e]=a=z(e,"-")),g=A(this.$$element),"a"===g&&"href"===e||"img"===g&&"src"===e)this[e]=o=R(o,"src"===e);else if("img"===g&&"srcset"===e){for(var g="",l=Ft(o),p=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,p=/\s/.test(l)?p:/(,)/,l=l.split(p),p=Math.floor(l.length/2),u=0;p>u;u++)var c=2*u,g=g+R(Ft(l[c]),!0),g=g+(" "+Ft(l[c+1]));l=Ft(l[2*u]).split(/\s/),g+=R(Ft(l[0]),!0),2===l.length&&(g+=" "+Ft(l[1])),this[e]=o=g}!1!==r&&(null===o||o===t?this.$$element.removeAttr(a):this.$$element.attr(a,o)),(e=this.$$observers)&&i(e[s],function(e){try{e(o)}catch(t){n(t)}})},$observe:function(e,o){var t=this,r=t.$$observers||(t.$$observers=re()),n=r[e]||(r[e]=[]);return n.push(o),f.$evalAsync(function(){!n.$$inter&&t.hasOwnProperty(e)&&o(t[e])}),function(){D(n,o)}}};var ie=r.startSymbol(),ae=r.endSymbol(),se="{{"==ie||"}}"==ae?h:function(e){return e.replace(/\{\{/g,ie).replace(/}}/g,ae)},ge=/^ngAttr[A-Z]/;return N.$$addBindingInfo=x?function(e,o){var t=e.data("$binding")||[];Ot(o)?t=t.concat(o):t.push(o),e.data("$binding",t)}:d,N.$$addBindingClass=x?function(e){L(e,"ng-binding")}:d,N.$$addScopeInfo=x?function(e,o,t,r){e.data(t?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope",o)}:d,N.$$addScopeClass=x?function(e,o){L(e,o?"ng-isolate-scope":"ng-scope")}:d,N}]}function qe(e){return ae(e.replace(hr,""))}function $e(e,o){var t="",r=e.split(/\s+/),n=o.split(/\s+/),i=0;e:for(;i<r.length;i++){for(var a=r[i],s=0;s<n.length;s++)if(a==n[s])continue e;t+=(0<t.length?" ":"")+a}return t}function Be(e){e=Et(e);var o=e.length;if(1>=o)return e;for(;o--;)8===e[o].nodeType&&Rt.call(e,o,1);return e}function je(){var e={},o=!1,n=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(o,t){ee(o,"controller"),v(o)?p(e,o):e[o]=t},this.allowGlobals=function(){o=!0},this.$get=["$injector","$window",function(i,a){function s(e,o,t,n){if(!e||!v(e.$scope))throw r("$controller")("noscp",n,o);e.$scope[o]=t}return function(r,g,l,u){var c,d,h;if(l=!0===l,u&&_(u)&&(h=u),_(r)){if(u=r.match(n),!u)throw mr("ctrlfmt",r);d=u[1],h=h||u[3],r=e.hasOwnProperty(d)?e[d]:oe(g.$scope,d,!0)||(o?oe(a,d,!0):t),Q(r,d,!0)}return l?(l=(Ot(r)?r[r.length-1]:r).prototype,c=Object.create(l||null),h&&s(g,h,c,d||r.name),p(function(){return i.invoke(r,c,g,d),c},{instance:c,identifier:h})):(c=i.instantiate(r,g,d),h&&s(g,h,c,d||r.name),c)}}]}function Ve(){this.$get=["$window",function(e){return Et(e.document)}]}function He(){this.$get=["$log",function(e){return function(o,t){e.error.apply(e,arguments)}}]}function Ke(e,o){if(_(e)){var t=e.replace(Er,"").trim();if(t){var r=o("Content-Type");(r=r&&0===r.indexOf(yr))||(r=(r=t.match(vr))&&_r[r[0]].test(t)),r&&(e=k(t))}}return e}function We(e){var o,t,r,n=re();return e?(i(e.split("\n"),function(e){r=e.indexOf(":"),o=bt(Ft(e.substr(0,r))),t=Ft(e.substr(r+1)),o&&(n[o]=n[o]?n[o]+", "+t:t)}),n):n}function Ye(e){var o=v(e)?e:t;return function(t){return o||(o=We(e)),t?(t=o[bt(t)],void 0===t&&(t=null),t):o}}function Xe(e,o,t,r){return T(r)?r(e,o,t):(i(r,function(r){e=r(e,o,t)}),e)}function ze(){var e=this.defaults={transformResponse:[Ke],transformRequest:[function(e){return v(e)&&"[object File]"!==Dt.call(e)&&"[object Blob]"!==Dt.call(e)&&"[object FormData]"!==Dt.call(e)?G(e):e}],headers:{common:{Accept:"application/json, text/plain, */*"},post:N(fr),put:N(fr),patch:N(fr)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},o=!1;this.useApplyAsync=function(e){return f(e)?(o=!!e,this):o};var n=this.interceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(s,g,l,u,c,d){function h(o){function n(e){var o=p({},e);return o.data=e.data?Xe(e.data,e.headers,e.status,s.transformResponse):e.data,e=e.status,e>=200&&300>e?o:c.reject(o)}function a(e){var o,t={};return i(e,function(e,r){T(e)?(o=e(),null!=o&&(t[r]=o)):t[r]=e}),t}if(!Nt.isObject(o))throw r("$http")("badreq",o);var s=p({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse},o);s.headers=function(o){var t,r,n=e.headers,i=p({},o.headers),n=p({},n.common,n[bt(o.method)]);e:for(t in n){o=bt(t);for(r in i)if(bt(r)===o)continue e;i[t]=n[t]}return a(i)}(o),s.method=Mt(s.method);var g=[function(o){var r=o.headers,a=Xe(o.data,Ye(r),t,o.transformRequest);return y(a)&&i(r,function(e,o){"content-type"===bt(o)&&delete r[o]}),y(o.withCredentials)&&!y(e.withCredentials)&&(o.withCredentials=e.withCredentials),m(o,a).then(n,n)},t],l=c.when(s);for(i(b,function(e){(e.request||e.requestError)&&g.unshift(e.request,e.requestError),(e.response||e.responseError)&&g.push(e.response,e.responseError)});g.length;){o=g.shift();var u=g.shift(),l=l.then(o,u)}return l.success=function(e){return Q(e,"fn"),l.then(function(o){e(o.data,o.status,o.headers,s)}),l},l.error=function(e){return Q(e,"fn"),l.then(null,function(o){e(o.data,o.status,o.headers,s)}),l},l}function m(r,n){function i(e,t,r,n){function i(){a(t,e,r,n)}d&&(e>=200&&300>e?d.put(P,[e,t,We(r),n]):d.remove(P)),o?u.$applyAsync(i):(i(),u.$$phase||u.$apply())}function a(e,o,t,n){o=Math.max(o,0),(o>=200&&300>o?_.resolve:_.reject)({data:e,status:o,headers:Ye(t),config:r,statusText:n})}function l(e){a(e.data,e.status,N(e.headers()),e.statusText)}function p(){var e=h.pendingRequests.indexOf(r);-1!==e&&h.pendingRequests.splice(e,1)}var d,m,_=c.defer(),S=_.promise,b=r.headers,P=E(r.url,r.params);return h.pendingRequests.push(r),S.then(p,p),!r.cache&&!e.cache||!1===r.cache||"GET"!==r.method&&"JSONP"!==r.method||(d=v(r.cache)?r.cache:v(e.cache)?e.cache:x),d&&(m=d.get(P),f(m)?m&&T(m.then)?m.then(l,l):Ot(m)?a(m[1],m[0],N(m[2]),m[3]):a(m,200,{},"OK"):d.put(P,S)),y(m)&&((m=jo(r.url)?g.cookies()[r.xsrfCookieName||e.xsrfCookieName]:t)&&(b[r.xsrfHeaderName||e.xsrfHeaderName]=m),s(r.method,P,n,i,b,r.timeout,r.withCredentials,r.responseType)),S}function E(e,o){if(!o)return e;var t=[];return a(o,function(e,o){null===e||y(e)||(Ot(e)||(e=[e]),i(e,function(e){v(e)&&(e=S(e)?e.toISOString():G(e)),t.push(V(o)+"="+V(e))}))}),0<t.length&&(e+=(-1==e.indexOf("?")?"?":"&")+t.join("&")),e}var x=l("$http"),b=[];return i(n,function(e){b.unshift(_(e)?d.get(e):d.invoke(e))}),h.pendingRequests=[],function(e){i(arguments,function(e){h[e]=function(o,t){return h(p(t||{},{method:e,url:o}))}})}("get","delete","head","jsonp"),function(e){i(arguments,function(e){h[e]=function(o,t,r){return h(p(r||{},{method:e,url:o,data:t}))}})}("post","put","patch"),h.defaults=e,h}]}function Ze(){return new e.XMLHttpRequest}function Je(){this.$get=["$browser","$window","$document",function(e,o,t){return Qe(e,Ze,e.defer,o.angular.callbacks,t[0])}]}function Qe(e,o,r,n,a){function s(e,o,t){var r=a.createElement("script"),i=null;return r.type="text/javascript",r.src=e,r.async=!0,
i=function(e){r.removeEventListener("load",i,!1),r.removeEventListener("error",i,!1),a.body.removeChild(r),r=null;var s=-1,g="unknown";e&&("load"!==e.type||n[o].called||(e={type:"error"}),g=e.type,s="error"===e.type?404:200),t&&t(s,g)},r.addEventListener("load",i,!1),r.addEventListener("error",i,!1),a.body.appendChild(r),i}return function(a,g,l,p,u,c,h,m){function y(){E&&E(),S&&S.abort()}function v(o,n,i,a,s){b!==t&&r.cancel(b),E=S=null,o(n,i,a,s),e.$$completeOutstandingRequest(d)}if(e.$$incOutstandingRequestCount(),g=g||e.url(),"jsonp"==bt(a)){var _="_"+(n.counter++).toString(36);n[_]=function(e){n[_].data=e,n[_].called=!0};var E=s(g.replace("JSON_CALLBACK","angular.callbacks."+_),_,function(e,o){v(p,e,n[_].data,"",o),n[_]=d})}else{var S=o();if(S.open(a,g,!0),i(u,function(e,o){f(e)&&S.setRequestHeader(o,e)}),S.onload=function(){var e=S.statusText||"",o="response"in S?S.response:S.responseText,t=1223===S.status?204:S.status;0===t&&(t=o?200:"file"==Bo(g).protocol?404:0),v(p,t,o,S.getAllResponseHeaders(),e)},a=function(){v(p,-1,null,null,"")},S.onerror=a,S.onabort=a,h&&(S.withCredentials=!0),m)try{S.responseType=m}catch(x){if("json"!==m)throw x}S.send(l||null)}if(c>0)var b=r(y,c);else c&&T(c.then)&&c.then(y)}}function eo(){var e="{{",o="}}";this.startSymbol=function(o){return o?(e=o,this):e},this.endSymbol=function(e){return e?(o=e,this):o},this.$get=["$parse","$exceptionHandler","$sce",function(t,r,n){function i(e){return"\\\\\\"+e}function a(i,a,c,d){function h(t){return t.replace(l,e).replace(u,o)}function m(e){try{var o=e;e=c?n.getTrusted(c,o):n.valueOf(o);var t;if(d&&!f(e))t=e;else if(null==e)t="";else{switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=G(e)}t=e}return t}catch(a){t=Sr("interr",i,a.toString()),r(t)}}d=!!d;for(var v,_,E=0,S=[],x=[],b=i.length,P=[],M=[];b>E;){if(-1==(v=i.indexOf(e,E))||-1==(_=i.indexOf(o,v+s))){E!==b&&P.push(h(i.substring(E)));break}E!==v&&P.push(h(i.substring(E,v))),E=i.substring(v+s,_),S.push(E),x.push(t(E,m)),E=_+g,M.push(P.length),P.push("")}if(c&&1<P.length)throw Sr("noconcat",i);if(!a||S.length){var C=function(e){for(var o=0,t=S.length;t>o;o++){if(d&&y(e[o]))return;P[M[o]]=e[o]}return P.join("")};return p(function(e){var o=0,t=S.length,n=Array(t);try{for(;t>o;o++)n[o]=x[o](e);return C(n)}catch(a){e=Sr("interr",i,a.toString()),r(e)}},{exp:i,expressions:S,$$watchDelegate:function(e,o,t){var r;return e.$watchGroup(x,function(t,n){var i=C(t);T(o)&&o.call(this,i,t!==n?r:i,e),r=i},t)}})}}var s=e.length,g=o.length,l=new RegExp(e.replace(/./g,i),"g"),u=new RegExp(o.replace(/./g,i),"g");return a.startSymbol=function(){return e},a.endSymbol=function(){return o},a}]}function oo(){this.$get=["$rootScope","$window","$q","$$q",function(e,o,t,r){function n(n,a,s,g){var l=o.setInterval,p=o.clearInterval,u=0,c=f(g)&&!g,d=(c?r:t).defer(),h=d.promise;return s=f(s)?s:0,h.then(null,null,n),h.$$intervalId=l(function(){d.notify(u++),s>0&&u>=s&&(d.resolve(u),p(h.$$intervalId),delete i[h.$$intervalId]),c||e.$apply()},a),i[h.$$intervalId]=d,h}var i={};return n.cancel=function(e){return e&&e.$$intervalId in i?(i[e.$$intervalId].reject("canceled"),o.clearInterval(e.$$intervalId),delete i[e.$$intervalId],!0):!1},n}]}function to(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January February March April May June July August September October November December".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a",ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"]},pluralCat:function(e){return 1===e?"one":"other"}}}}function ro(e){e=e.split("/");for(var o=e.length;o--;)e[o]=j(e[o]);return e.join("/")}function no(e,o){var t=Bo(e);o.$$protocol=t.protocol,o.$$host=t.hostname,o.$$port=u(t.port)||xr[t.protocol]||null}function io(e,o){var t="/"!==e.charAt(0);t&&(e="/"+e);var r=Bo(e);o.$$path=decodeURIComponent(t&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname),o.$$search=$(r.search),o.$$hash=decodeURIComponent(r.hash),o.$$path&&"/"!=o.$$path.charAt(0)&&(o.$$path="/"+o.$$path)}function ao(e,o){return 0===o.indexOf(e)?o.substr(e.length):void 0}function so(e){var o=e.indexOf("#");return-1==o?e:e.substr(0,o)}function go(e){return e.replace(/(#.+)|#$/,"$1")}function lo(e){return e.substr(0,so(e).lastIndexOf("/")+1)}function po(e,o){this.$$html5=!0,o=o||"";var r=lo(e);no(e,this),this.$$parse=function(e){var o=ao(r,e);if(!_(o))throw br("ipthprfx",e,r);io(o,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=B(this.$$search),o=this.$$hash?"#"+j(this.$$hash):"";this.$$url=ro(this.$$path)+(e?"?"+e:"")+o,this.$$absUrl=r+this.$$url.substr(1)},this.$$parseLinkUrl=function(n,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var a,s;return(a=ao(e,n))!==t?(s=a,s=(a=ao(o,a))!==t?r+(ao("/",a)||a):e+s):(a=ao(r,n))!==t?s=r+a:r==n+"/"&&(s=r),s&&this.$$parse(s),!!s}}function uo(e,o){var t=lo(e);no(e,this),this.$$parse=function(r){var n,i=ao(e,r)||ao(t,r);y(i)||"#"!==i.charAt(0)?this.$$html5?n=i:(n="",y(i)&&(e=r,this.replace())):(n=ao(o,i),y(n)&&(n=i)),io(n,this),r=this.$$path;var i=e,a=/^\/[A-Z]:(\/.*)/;0===n.indexOf(i)&&(n=n.replace(i,"")),a.exec(n)||(r=(n=a.exec(r))?n[1]:r),this.$$path=r,this.$$compose()},this.$$compose=function(){var t=B(this.$$search),r=this.$$hash?"#"+j(this.$$hash):"";this.$$url=ro(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+(this.$$url?o+this.$$url:"")},this.$$parseLinkUrl=function(o,t){return so(e)==so(o)?(this.$$parse(o),!0):!1}}function co(e,o){this.$$html5=!0,uo.apply(this,arguments);var t=lo(e);this.$$parseLinkUrl=function(r,n){if(n&&"#"===n[0])return this.hash(n.slice(1)),!0;var i,a;return e==so(r)?i=r:(a=ao(t,r))?i=e+o+a:t===r+"/"&&(i=t),i&&this.$$parse(i),!!i},this.$$compose=function(){var t=B(this.$$search),r=this.$$hash?"#"+j(this.$$hash):"";this.$$url=ro(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+o+this.$$url}}function ho(e){return function(){return this[e]}}function mo(e,o){return function(t){return y(t)?this[e]:(this[e]=o(t),this.$$compose(),this)}}function yo(){var e="",o={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(o){return f(o)?(e=o,this):e},this.html5Mode=function(e){return M(e)?(o.enabled=e,this):v(e)?(M(e.enabled)&&(o.enabled=e.enabled),M(e.requireBase)&&(o.requireBase=e.requireBase),M(e.rewriteLinks)&&(o.rewriteLinks=e.rewriteLinks),this):o},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(t,r,n,i,a){function s(e,o,t){var n=l.url(),i=l.$$state;try{r.url(e,o,t),l.$$state=r.state()}catch(a){throw l.url(n),l.$$state=i,a}}function g(e,o){t.$broadcast("$locationChangeSuccess",l.absUrl(),e,l.$$state,o)}var l,p;p=r.baseHref();var u,c=r.url();if(o.enabled){if(!p&&o.requireBase)throw br("nobase");u=c.substring(0,c.indexOf("/",c.indexOf("//")+2))+(p||"/"),p=n.history?po:co}else u=so(c),p=uo;l=new p(u,"#"+e),l.$$parseLinkUrl(c,c),l.$$state=r.state();var d=/^\s*(javascript|mailto):/i;i.on("click",function(e){if(o.rewriteLinks&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!=e.which&&2!=e.button){for(var n=Et(e.target);"a"!==A(n[0]);)if(n[0]===i[0]||!(n=n.parent())[0])return;var s=n.prop("href"),g=n.attr("href")||n.attr("xlink:href");v(s)&&"[object SVGAnimatedString]"===s.toString()&&(s=Bo(s.animVal).href),d.test(s)||!s||n.attr("target")||e.isDefaultPrevented()||!l.$$parseLinkUrl(s,g)||(e.preventDefault(),l.absUrl()!=r.url()&&(t.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}),go(l.absUrl())!=go(c)&&r.url(l.absUrl(),!0);var h=!0;return r.onUrlChange(function(e,o){t.$evalAsync(function(){var r,n=l.absUrl(),i=l.$$state;l.$$parse(e),l.$$state=o,r=t.$broadcast("$locationChangeStart",e,n,o,i).defaultPrevented,l.absUrl()===e&&(r?(l.$$parse(n),l.$$state=i,s(n,!1,i)):(h=!1,g(n,i)))}),t.$$phase||t.$digest()}),t.$watch(function(){var e=go(r.url()),o=go(l.absUrl()),i=r.state(),a=l.$$replace,p=e!==o||l.$$html5&&n.history&&i!==l.$$state;(h||p)&&(h=!1,t.$evalAsync(function(){var o=l.absUrl(),r=t.$broadcast("$locationChangeStart",o,e,l.$$state,i).defaultPrevented;l.absUrl()===o&&(r?(l.$$parse(e),l.$$state=i):(p&&s(o,a,i===l.$$state?null:l.$$state),g(e,i)))})),l.$$replace=!1}),l}]}function fo(){var e=!0,o=this;this.debugEnabled=function(o){return f(o)?(e=o,this):e},this.$get=["$window",function(t){function r(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function n(e){var o=t.console||{},n=o[e]||o.log||d;e=!1;try{e=!!n.apply}catch(a){}return e?function(){var e=[];return i(arguments,function(o){e.push(r(o))}),n.apply(o,e)}:function(e,o){n(e,null==o?"":o)}}return{log:n("log"),info:n("info"),warn:n("warn"),error:n("error"),debug:function(){var t=n("debug");return function(){e&&t.apply(o,arguments)}}()}}]}function vo(e,o){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw Mr("isecfld",o);return e}function _o(e,o){if(e){if(e.constructor===e)throw Mr("isecfn",o);if(e.window===e)throw Mr("isecwindow",o);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw Mr("isecdom",o);if(e===Object)throw Mr("isecobj",o)}return e}function Eo(e){return e.constant}function So(e,o,t,r,n){_o(e,n),_o(o,n),t=t.split(".");for(var i,a=0;1<t.length;a++){i=vo(t.shift(),n);var s=0===a&&o&&o[i]||e[i];s||(s={},e[i]=s),e=_o(s,n)}return i=vo(t.shift(),n),_o(e[i],n),e[i]=r}function To(e){return"constructor"==e}function xo(e,o,r,n,i,a,s){vo(e,a),vo(o,a),vo(r,a),vo(n,a),vo(i,a);var g=function(e){return _o(e,a)},l=s||To(e)?g:h,p=s||To(o)?g:h,u=s||To(r)?g:h,c=s||To(n)?g:h,d=s||To(i)?g:h;return function(a,s){var g=s&&s.hasOwnProperty(e)?s:a;return null==g?g:(g=l(g[e]),o?null==g?t:(g=p(g[o]),r?null==g?t:(g=u(g[r]),n?null==g?t:(g=c(g[n]),i?null==g?t:g=d(g[i]):g):g):g):g)}}function bo(e,o){return function(t,r){return e(t,r,_o,o)}}function Po(e,o,r){var n=o.expensiveChecks,a=n?Fr:Or,s=a[e];if(s)return s;var g=e.split("."),l=g.length;if(o.csp)s=6>l?xo(g[0],g[1],g[2],g[3],g[4],r,n):function(e,o){var i,a=0;do i=xo(g[a++],g[a++],g[a++],g[a++],g[a++],r,n)(e,o),o=t,e=i;while(l>a);return i};else{var p="";n&&(p+="s = eso(s, fe);\nl = eso(l, fe);\n");var u=n;i(g,function(e,o){vo(e,r);var t=(o?"s":'((l&&l.hasOwnProperty("'+e+'"))?l:s)')+"."+e;(n||To(e))&&(t="eso("+t+", fe)",u=!0),p+="if(s == null) return undefined;\ns="+t+";\n"}),p+="return s;",o=new Function("s","l","eso","fe",p),o.toString=m(p),u&&(o=bo(o,r)),s=o}return s.sharedGetter=!0,s.assign=function(o,t,r){return So(o,r,e,t,e)},a[e]=s}function Mo(e){return T(e.valueOf)?e.valueOf():Gr.call(e)}function Co(){var e=re(),o=re();this.$get=["$filter","$sniffer",function(t,r){function n(e){var o=e;return e.sharedGetter&&(o=function(o,t){return e(o,t)},o.literal=e.literal,o.constant=e.constant,o.assign=e.assign),o}function a(e,o){for(var t=0,r=e.length;r>t;t++){var n=e[t];n.constant||(n.inputs?a(n.inputs,o):-1===o.indexOf(n)&&o.push(n))}return o}function s(e,o){return null==e||null==o?e===o:"object"==typeof e&&(e=Mo(e),"object"==typeof e)?!1:e===o||e!==e&&o!==o}function g(e,o,t,r){var n,i=r.$$inputs||(r.$$inputs=a(r.inputs,[]));if(1===i.length){var g=s,i=i[0];return e.$watch(function(e){var o=i(e);return s(o,g)||(n=r(e),g=o&&Mo(o)),n},o,t)}for(var l=[],p=0,u=i.length;u>p;p++)l[p]=s;return e.$watch(function(e){for(var o=!1,t=0,a=i.length;a>t;t++){var g=i[t](e);(o||(o=!s(g,l[t])))&&(l[t]=g&&Mo(g))}return o&&(n=r(e)),n},o,t)}function l(e,o,t,r){var n,i;return n=e.$watch(function(e){return r(e)},function(e,t,r){i=e,T(o)&&o.apply(this,arguments),f(e)&&r.$$postDigest(function(){f(i)&&n()})},t)}function p(e,o,t,r){function n(e){var o=!0;return i(e,function(e){f(e)||(o=!1)}),o}var a,s;return a=e.$watch(function(e){return r(e)},function(e,t,r){s=e,T(o)&&o.call(this,e,t,r),n(e)&&r.$$postDigest(function(){n(s)&&a()})},t)}function u(e,o,t,r){var n;return n=e.$watch(function(e){return r(e)},function(e,t,r){T(o)&&o.apply(this,arguments),n()},t)}function c(e,o){if(!o)return e;var t=e.$$watchDelegate,t=t!==p&&t!==l?function(t,r){var n=e(t,r);return o(n,t,r)}:function(t,r){var n=e(t,r),i=o(n,t,r);return f(n)?i:n};return e.$$watchDelegate&&e.$$watchDelegate!==g?t.$$watchDelegate=e.$$watchDelegate:o.$stateful||(t.$$watchDelegate=g,t.inputs=[e]),t}var h={csp:r.csp,expensiveChecks:!1},m={csp:r.csp,expensiveChecks:!0};return function(r,i,a){var s,y,f;switch(typeof r){case"string":f=r=r.trim();var v=a?o:e;return s=v[f],s||(":"===r.charAt(0)&&":"===r.charAt(1)&&(y=!0,r=r.substring(2)),a=a?m:h,s=new wr(a),s=new Ir(s,t,a).parse(r),s.constant?s.$$watchDelegate=u:y?(s=n(s),s.$$watchDelegate=s.literal?p:l):s.inputs&&(s.$$watchDelegate=g),v[f]=s),c(s,i);case"function":return c(r,i);default:return c(d,i)}}}]}function Ro(){this.$get=["$rootScope","$exceptionHandler",function(e,o){return Do(function(o){e.$evalAsync(o)},o)}]}function Ao(){this.$get=["$browser","$exceptionHandler",function(e,o){return Do(function(o){e.defer(o)},o)}]}function Do(e,o){function n(e,o,t){function r(o){return function(t){n||(n=!0,o.call(e,t))}}var n=!1;return[r(o),r(t)]}function a(){this.$$state={status:0}}function s(e,o){return function(t){o.call(e,t)}}function g(r){!r.processScheduled&&r.pending&&(r.processScheduled=!0,e(function(){var e,n,i;i=r.pending,r.processScheduled=!1,r.pending=t;for(var a=0,s=i.length;s>a;++a){n=i[a][0],e=i[a][r.status];try{T(e)?n.resolve(e(r.value)):1===r.status?n.resolve(r.value):n.reject(r.value)}catch(g){n.reject(g),o(g)}}}))}function l(){this.promise=new a,this.resolve=s(this,this.resolve),this.reject=s(this,this.reject),this.notify=s(this,this.notify)}var p=r("$q",TypeError);a.prototype={then:function(e,o,t){var r=new l;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,e,o,t]),0<this.$$state.status&&g(this.$$state),r.promise},"catch":function(e){return this.then(null,e)},"finally":function(e,o){return this.then(function(o){return c(o,!0,e)},function(o){return c(o,!1,e)},o)}},l.prototype={resolve:function(e){this.promise.$$state.status||(e===this.promise?this.$$reject(p("qcycle",e)):this.$$resolve(e))},$$resolve:function(e){var t,r;r=n(this,this.$$resolve,this.$$reject);try{(v(e)||T(e))&&(t=e&&e.then),T(t)?(this.promise.$$state.status=-1,t.call(e,r[0],r[1],this.notify)):(this.promise.$$state.value=e,this.promise.$$state.status=1,g(this.promise.$$state))}catch(i){r[1](i),o(i)}},reject:function(e){this.promise.$$state.status||this.$$reject(e)},$$reject:function(e){this.promise.$$state.value=e,this.promise.$$state.status=2,g(this.promise.$$state)},notify:function(t){var r=this.promise.$$state.pending;0>=this.promise.$$state.status&&r&&r.length&&e(function(){for(var e,n,i=0,a=r.length;a>i;i++){n=r[i][0],e=r[i][3];try{n.notify(T(e)?e(t):t)}catch(s){o(s)}}})}};var u=function(e,o){var t=new l;return o?t.resolve(e):t.reject(e),t.promise},c=function(e,o,t){var r=null;try{T(t)&&(r=t())}catch(n){return u(n,!1)}return r&&T(r.then)?r.then(function(){return u(e,o)},function(e){return u(e,!1)}):u(e,o)},d=function(e,o,t,r){var n=new l;return n.resolve(e),n.promise.then(o,t,r)},h=function m(e){if(!T(e))throw p("norslvr",e);if(!(this instanceof m))return new m(e);var o=new l;return e(function(e){o.resolve(e)},function(e){o.reject(e)}),o.promise};return h.defer=function(){return new l},h.reject=function(e){var o=new l;return o.reject(e),o.promise},h.when=d,h.all=function(e){var o=new l,t=0,r=Ot(e)?[]:{};return i(e,function(e,n){t++,d(e).then(function(e){r.hasOwnProperty(n)||(r[n]=e,--t||o.resolve(r))},function(e){r.hasOwnProperty(n)||o.reject(e)})}),0===t&&o.resolve(r),o.promise},h}function Lo(){this.$get=["$window","$timeout",function(e,o){function t(){for(var e=0;e<p.length;e++){var o=p[e];o&&(p[e]=null,o())}l=p.length=0}function r(e){var o=p.length;return l++,p.push(e),0===o&&(g=s(t)),function(){o>=0&&(o=p[o]=null,0===--l&&g&&(g(),g=null,p.length=0))}}var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame,i=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,a=!!n,s=a?function(e){var o=n(e);return function(){i(o)}}:function(e){var t=o(e,16.66,!1);return function(){o.cancel(t)}};r.supported=a;var g,l=0,p=[];return r}]}function No(){function e(e){function o(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$id=++wt,this.$$ChildScope=null}return o.prototype=e,o}var o=10,t=r("$rootScope"),a=null,s=null;this.digestTtl=function(e){return arguments.length&&(o=e),o},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(r,g,l,p){function u(e){e.currentScope.$$destroyed=!0}function c(){this.$id=++wt,this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$isolateBindings=null}function h(e){if(S.$$phase)throw t("inprog",S.$$phase);S.$$phase=e}function m(e,o,t){do e.$$listenerCount[t]-=o,0===e.$$listenerCount[t]&&delete e.$$listenerCount[t];while(e=e.$parent)}function f(){}function _(){for(;P.length;)try{P.shift()()}catch(e){g(e)}s=null}function E(){null===s&&(s=p.defer(function(){S.$apply(_)}))}c.prototype={constructor:c,$new:function(o,t){var r;return t=t||this,o?(r=new c,r.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=e(this)),r=new this.$$ChildScope),r.$parent=t,r.$$prevSibling=t.$$childTail,t.$$childHead?(t.$$childTail.$$nextSibling=r,t.$$childTail=r):t.$$childHead=t.$$childTail=r,(o||t!=this)&&r.$on("$destroy",u),r},$watch:function(e,o,t){var r=l(e);if(r.$$watchDelegate)return r.$$watchDelegate(this,o,t,r);var n=this.$$watchers,i={fn:o,last:f,get:r,exp:e,eq:!!t};return a=null,T(o)||(i.fn=d),n||(n=this.$$watchers=[]),n.unshift(i),function(){D(n,i),a=null}},$watchGroup:function(e,o){function t(){g=!1,l?(l=!1,o(n,n,s)):o(n,r,s)}var r=Array(e.length),n=Array(e.length),a=[],s=this,g=!1,l=!0;if(!e.length){var p=!0;return s.$evalAsync(function(){p&&o(n,n,s)}),function(){p=!1}}return 1===e.length?this.$watch(e[0],function(e,t,i){n[0]=e,r[0]=t,o(n,e===t?n:r,i)}):(i(e,function(e,o){var i=s.$watch(e,function(e,i){n[o]=e,r[o]=i,g||(g=!0,s.$evalAsync(t))});a.push(i)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(e,o){function t(e){r=e;var o,t,a,s;if(!y(r)){if(v(r))if(n(r))for(i!==c&&(i=c,m=i.length=0,p++),e=r.length,m!==e&&(p++,i.length=m=e),o=0;e>o;o++)s=i[o],a=r[o],t=s!==s&&a!==a,t||s===a||(p++,i[o]=a);else{i!==d&&(i=d={},m=0,p++),e=0;for(o in r)r.hasOwnProperty(o)&&(e++,a=r[o],s=i[o],o in i?(t=s!==s&&a!==a,t||s===a||(p++,i[o]=a)):(m++,i[o]=a,p++));if(m>e)for(o in p++,i)r.hasOwnProperty(o)||(m--,delete i[o])}else i!==r&&(i=r,p++);return p}}t.$stateful=!0;var r,i,a,s=this,g=1<o.length,p=0,u=l(e,t),c=[],d={},h=!0,m=0;return this.$watch(u,function(){if(h?(h=!1,o(r,r,s)):o(r,a,s),g)if(v(r))if(n(r)){a=Array(r.length);for(var e=0;e<r.length;e++)a[e]=r[e]}else for(e in a={},r)Pt.call(r,e)&&(a[e]=r[e]);else a=r})},$digest:function(){var e,r,n,i,l,u,c,d,m,y=o,v=[];h("$digest"),p.$$checkUrlChange(),this===S&&null!==s&&(p.defer.cancel(s),_()),a=null;do{for(u=!1,c=this;x.length;){try{m=x.shift(),m.scope.$eval(m.expression,m.locals)}catch(E){g(E)}a=null}e:do{if(i=c.$$watchers)for(l=i.length;l--;)try{if(e=i[l])if((r=e.get(c))===(n=e.last)||(e.eq?w(r,n):"number"==typeof r&&"number"==typeof n&&isNaN(r)&&isNaN(n))){if(e===a){u=!1;break e}}else u=!0,a=e,e.last=e.eq?L(r,null):r,e.fn(r,n===f?r:n,c),5>y&&(d=4-y,v[d]||(v[d]=[]),v[d].push({msg:T(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:r,oldVal:n}))}catch(P){g(P)}if(!(i=c.$$childHead||c!==this&&c.$$nextSibling))for(;c!==this&&!(i=c.$$nextSibling);)c=c.$parent}while(c=i);if((u||x.length)&&!y--)throw S.$$phase=null,t("infdig",o,v)}while(u||x.length);for(S.$$phase=null;b.length;)try{b.shift()()}catch(M){g(M)}},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;if(this.$broadcast("$destroy"),this.$$destroyed=!0,this!==S){for(var o in this.$$listenerCount)m(this,this.$$listenerCount[o],o);e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=d,this.$on=this.$watch=this.$watchGroup=function(){return d},this.$$listeners={},this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}}},$eval:function(e,o){return l(e)(this,o)},$evalAsync:function(e,o){S.$$phase||x.length||p.defer(function(){x.length&&S.$digest()}),x.push({scope:this,expression:e,locals:o})},$$postDigest:function(e){b.push(e)},$apply:function(e){try{return h("$apply"),this.$eval(e)}catch(o){g(o)}finally{S.$$phase=null;try{S.$digest()}catch(t){throw g(t),t}}},$applyAsync:function(e){function o(){t.$eval(e)}var t=this;e&&P.push(o),E()},$on:function(e,o){var t=this.$$listeners[e];t||(this.$$listeners[e]=t=[]),t.push(o);var r=this;do r.$$listenerCount[e]||(r.$$listenerCount[e]=0),r.$$listenerCount[e]++;while(r=r.$parent);var n=this;return function(){var r=t.indexOf(o);-1!==r&&(t[r]=null,m(n,1,e))}},$emit:function(e,o){var t,r,n,i=[],a=this,s=!1,l={name:e,targetScope:a,stopPropagation:function(){s=!0},preventDefault:function(){l.defaultPrevented=!0},defaultPrevented:!1},p=I([l],arguments,1);do{for(t=a.$$listeners[e]||i,l.currentScope=a,r=0,n=t.length;n>r;r++)if(t[r])try{t[r].apply(null,p)}catch(u){g(u)}else t.splice(r,1),r--,n--;if(s)return l.currentScope=null,l;a=a.$parent}while(a);return l.currentScope=null,l},$broadcast:function(e,o){var t=this,r=this,n={name:e,targetScope:this,preventDefault:function(){n.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[e])return n;for(var i,a,s=I([n],arguments,1);t=r;){for(n.currentScope=t,r=t.$$listeners[e]||[],i=0,a=r.length;a>i;i++)if(r[i])try{r[i].apply(null,s)}catch(l){g(l)}else r.splice(i,1),i--,a--;if(!(r=t.$$listenerCount[e]&&t.$$childHead||t!==this&&t.$$nextSibling))for(;t!==this&&!(r=t.$$nextSibling);)t=t.$parent}return n.currentScope=null,n}};var S=new c,x=S.$$asyncQueue=[],b=S.$$postDigestQueue=[],P=S.$$applyAsyncQueue=[];return S}]}function wo(){var e=/^\s*(https?|ftp|mailto|tel|file):/,o=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(o){return f(o)?(e=o,this):e},this.imgSrcSanitizationWhitelist=function(e){return f(e)?(o=e,this):o},this.$get=function(){return function(t,r){var n,i=r?o:e;return n=Bo(t).href,""===n||n.match(i)?t:"unsafe:"+n}}}function Io(e){if("self"===e)return e;if(_(e)){if(-1<e.indexOf("***"))throw kr("iwcard",e);return e=Gt(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if(x(e))return new RegExp("^"+e.source+"$");throw kr("imatcher")}function Oo(e){var o=[];return f(e)&&i(e,function(e){o.push(Io(e))}),o}function Fo(){this.SCE_CONTEXTS=Ur;var e=["self"],o=[];this.resourceUrlWhitelist=function(o){return arguments.length&&(e=Oo(o)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(o=Oo(e)),o},this.$get=["$injector",function(r){function n(e,o){return"self"===e?jo(o):!!e.exec(o.href)}function i(e){var o=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(o.prototype=new e),o.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},o.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},o}var a=function(e){throw kr("unsafe")};r.has("$sanitize")&&(a=r.get("$sanitize"));var s=i(),g={};return g[Ur.HTML]=i(s),g[Ur.CSS]=i(s),g[Ur.URL]=i(s),g[Ur.JS]=i(s),g[Ur.RESOURCE_URL]=i(g[Ur.URL]),{trustAs:function(e,o){var r=g.hasOwnProperty(e)?g[e]:null;if(!r)throw kr("icontext",e,o);if(null===o||o===t||""===o)return o;if("string"!=typeof o)throw kr("itype",e);return new r(o)},getTrusted:function(r,i){if(null===i||i===t||""===i)return i;var s=g.hasOwnProperty(r)?g[r]:null;if(s&&i instanceof s)return i.$$unwrapTrustedValue();if(r===Ur.RESOURCE_URL){var l,p,s=Bo(i.toString()),u=!1;for(l=0,p=e.length;p>l;l++)if(n(e[l],s)){u=!0;break}if(u)for(l=0,p=o.length;p>l;l++)if(n(o[l],s)){u=!1;break}if(u)return i;throw kr("insecurl",i.toString())}if(r===Ur.HTML)return a(i);throw kr("unsafe")},valueOf:function(e){return e instanceof s?e.$$unwrapTrustedValue():e}}}]}function Go(){var e=!0;this.enabled=function(o){return arguments.length&&(e=!!o),e},this.$get=["$parse","$sceDelegate",function(o,t){if(e&&8>_t)throw kr("iequirks");var r=N(Ur);r.isEnabled=function(){return e},r.trustAs=t.trustAs,r.getTrusted=t.getTrusted,r.valueOf=t.valueOf,e||(r.trustAs=r.getTrusted=function(e,o){return o},r.valueOf=h),r.parseAs=function(e,t){var n=o(t);return n.literal&&n.constant?n:o(t,function(o){return r.getTrusted(e,o)})};var n=r.parseAs,a=r.getTrusted,s=r.trustAs;return i(Ur,function(e,o){var t=bt(o);r[ae("parse_as_"+t)]=function(o){return n(e,o)},r[ae("get_trusted_"+t)]=function(o){return a(e,o)},r[ae("trust_as_"+t)]=function(o){return s(e,o)}}),r}]}function ko(){this.$get=["$window","$document",function(e,o){var t,r={},n=u((/android (\d+)/.exec(bt((e.navigator||{}).userAgent))||[])[1]),i=/Boxee/i.test((e.navigator||{}).userAgent),a=o[0]||{},s=/^(Moz|webkit|ms)(?=[A-Z])/,g=a.body&&a.body.style,l=!1,p=!1;if(g){for(var c in g)if(l=s.exec(c)){t=l[0],t=t.substr(0,1).toUpperCase()+t.substr(1);break}t||(t="WebkitOpacity"in g&&"webkit"),l=!!("transition"in g||t+"Transition"in g),p=!!("animation"in g||t+"Animation"in g),!n||l&&p||(l=_(a.body.style.webkitTransition),p=_(a.body.style.webkitAnimation))}return{history:!(!e.history||!e.history.pushState||4>n||i),hasEvent:function(e){if("input"===e&&11>=_t)return!1;if(y(r[e])){var o=a.createElement("div");r[e]="on"+e in o}return r[e]},csp:kt(),vendorPrefix:t,transitions:l,animations:p,android:n}}]}function Uo(){this.$get=["$templateCache","$http","$q","$sce",function(e,o,t,r){function n(i,a){n.totalPendingRequests++,_(i)&&e.get(i)||(i=r.getTrustedResourceUrl(i));var s=o.defaults&&o.defaults.transformResponse;return Ot(s)?s=s.filter(function(e){return e!==Ke}):s===Ke&&(s=null),o.get(i,{cache:e,transformResponse:s})["finally"](function(){n.totalPendingRequests--}).then(function(e){return e.data},function(e){if(!a)throw dr("tpload",i);return t.reject(e)})}return n.totalPendingRequests=0,n}]}function qo(){this.$get=["$rootScope","$browser","$location",function(e,o,t){return{findBindings:function(e,o,t){e=e.getElementsByClassName("ng-binding");var r=[];return i(e,function(e){var n=Nt.element(e).data("$binding");n&&i(n,function(n){t?new RegExp("(^|\\s)"+Gt(o)+"(\\s|\\||$)").test(n)&&r.push(e):-1!=n.indexOf(o)&&r.push(e)})}),r},findModels:function(e,o,t){for(var r=["ng-","data-ng-","ng\\:"],n=0;n<r.length;++n){var i=e.querySelectorAll("["+r[n]+"model"+(t?"=":"*=")+'"'+o+'"]');if(i.length)return i}},getLocation:function(){return t.url()},setLocation:function(o){o!==t.url()&&(t.url(o),e.$digest())},whenStable:function(e){o.notifyWhenNoOutstandingRequests(e)}}}]}function $o(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,o,t,r,n){function i(i,s,g){var l=f(g)&&!g,p=(l?r:t).defer(),u=p.promise;return s=o.defer(function(){try{p.resolve(i())}catch(o){p.reject(o),n(o)}finally{delete a[u.$$timeoutId]}l||e.$apply()},s),u.$$timeoutId=s,a[s]=p,u}var a={};return i.cancel=function(e){return e&&e.$$timeoutId in a?(a[e.$$timeoutId].reject("canceled"),delete a[e.$$timeoutId],o.defer.cancel(e.$$timeoutId)):!1},i}]}function Bo(e){return _t&&(qr.setAttribute("href",e),e=qr.href),qr.setAttribute("href",e),{href:qr.href,protocol:qr.protocol?qr.protocol.replace(/:$/,""):"",host:qr.host,search:qr.search?qr.search.replace(/^\?/,""):"",hash:qr.hash?qr.hash.replace(/^#/,""):"",hostname:qr.hostname,port:qr.port,pathname:"/"===qr.pathname.charAt(0)?qr.pathname:"/"+qr.pathname}}function jo(e){return e=_(e)?Bo(e):e,e.protocol===$r.protocol&&e.host===$r.host}function Vo(){this.$get=m(e)}function Ho(e){function o(t,r){if(v(t)){var n={};return i(t,function(e,t){n[t]=o(t,e)}),n}return e.factory(t+"Filter",r)}this.register=o,this.$get=["$injector",function(e){return function(o){return e.get(o+"Filter")}}],o("currency",Xo),o("date",nt),o("filter",Ko),o("json",it),o("limitTo",at),o("lowercase",Kr),o("number",zo),o("orderBy",st),o("uppercase",Wr)}function Ko(){return function(e,o,t){if(!Ot(e))return e;var r;switch(null!==o?typeof o:"null"){case"function":break;case"boolean":case"null":case"number":case"string":r=!0;case"object":o=Wo(o,t,r);break;default:return e}return e.filter(o)}}function Wo(e,o,t){var r=v(e)&&"$"in e;return!0===o?o=w:T(o)||(o=function(e,o){return y(e)?!1:null===e||null===o?e===o:v(e)||v(o)?!1:(e=bt(""+e),o=bt(""+o),-1!==e.indexOf(o))}),function(n){return r&&!v(n)?Yo(n,e.$,o,!1):Yo(n,e,o,t)}}function Yo(e,o,t,r,n){var i=null!==e?typeof e:"null",a=null!==o?typeof o:"null";if("string"===a&&"!"===o.charAt(0))return!Yo(e,o.substring(1),t,r);if(Ot(e))return e.some(function(e){return Yo(e,o,t,r)});switch(i){case"object":var s;if(r){for(s in e)if("$"!==s.charAt(0)&&Yo(e[s],o,t,!0))return!0;return n?!1:Yo(e,o,t,!1)}if("object"===a){for(s in o)if(n=o[s],!T(n)&&!y(n)&&(i="$"===s,!Yo(i?e:e[s],n,t,i,i)))return!1;return!0}return t(e,o);case"function":return!1;default:return t(e,o)}}function Xo(e){var o=e.NUMBER_FORMATS;return function(e,t,r){return y(t)&&(t=o.CURRENCY_SYM),y(r)&&(r=o.PATTERNS[1].maxFrac),null==e?e:Zo(e,o.PATTERNS[1],o.GROUP_SEP,o.DECIMAL_SEP,r).replace(/\u00A4/g,t)}}function zo(e){var o=e.NUMBER_FORMATS;return function(e,t){return null==e?e:Zo(e,o.PATTERNS[0],o.GROUP_SEP,o.DECIMAL_SEP,t)}}function Zo(e,o,t,r,n){if(!isFinite(e)||v(e))return"";var i=0>e;e=Math.abs(e);var a=e+"",s="",g=[],l=!1;if(-1!==a.indexOf("e")){var p=a.match(/([\d\.]+)e(-?)(\d+)/);p&&"-"==p[2]&&p[3]>n+1?e=0:(s=a,l=!0)}if(l)n>0&&1>e&&(s=e.toFixed(n),e=parseFloat(s));else{a=(a.split(Br)[1]||"").length,y(n)&&(n=Math.min(Math.max(o.minFrac,a),o.maxFrac)),e=+(Math.round(+(e.toString()+"e"+n)).toString()+"e"+-n);var a=(""+e).split(Br),l=a[0],a=a[1]||"",u=0,c=o.lgSize,d=o.gSize;if(l.length>=c+d)for(u=l.length-c,p=0;u>p;p++)0===(u-p)%d&&0!==p&&(s+=t),s+=l.charAt(p);for(p=u;p<l.length;p++)0===(l.length-p)%c&&0!==p&&(s+=t),s+=l.charAt(p);for(;a.length<n;)a+="0";n&&"0"!==n&&(s+=r+a.substr(0,n))}return 0===e&&(i=!1),g.push(i?o.negPre:o.posPre,s,i?o.negSuf:o.posSuf),g.join("")}function Jo(e,o,t){var r="";for(0>e&&(r="-",e=-e),e=""+e;e.length<o;)e="0"+e;return t&&(e=e.substr(e.length-o)),r+e}function Qo(e,o,t,r){return t=t||0,function(n){return n=n["get"+e](),(t>0||n>-t)&&(n+=t),0===n&&-12==t&&(n=12),Jo(n,o,r)}}function et(e,o){return function(t,r){var n=t["get"+e](),i=Mt(o?"SHORT"+e:e);return r[i][n]}}function ot(e){var o=new Date(e,0,1).getDay();return new Date(e,0,(4>=o?5:12)-o)}function tt(e){return function(o){var t=ot(o.getFullYear());return o=+new Date(o.getFullYear(),o.getMonth(),o.getDate()+(4-o.getDay()))-+t,o=1+Math.round(o/6048e5),Jo(o,e)}}function rt(e,o){return 0>=e.getFullYear()?o.ERAS[0]:o.ERAS[1]}function nt(e){function o(e){var o;if(o=e.match(t)){e=new Date(0);var r=0,n=0,i=o[8]?e.setUTCFullYear:e.setFullYear,a=o[8]?e.setUTCHours:e.setHours;o[9]&&(r=u(o[9]+o[10]),n=u(o[9]+o[11])),i.call(e,u(o[1]),u(o[2])-1,u(o[3])),r=u(o[4]||0)-r,n=u(o[5]||0)-n,i=u(o[6]||0),o=Math.round(1e3*parseFloat("0."+(o[7]||0))),a.call(e,r,n,i,o)}return e}var t=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;

return function(t,r,n){var a,s,g="",l=[];if(r=r||"mediumDate",r=e.DATETIME_FORMATS[r]||r,_(t)&&(t=Hr.test(t)?u(t):o(t)),E(t)&&(t=new Date(t)),!S(t))return t;for(;r;)(s=Vr.exec(r))?(l=I(l,s,1),r=l.pop()):(l.push(r),r=null);return n&&"UTC"===n&&(t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+t.getTimezoneOffset())),i(l,function(o){a=jr[o],g+=a?a(t,e.DATETIME_FORMATS):o.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),g}}function it(){return function(e,o){return y(o)&&(o=2),G(e,o)}}function at(){return function(e,o){return E(e)&&(e=e.toString()),Ot(e)||_(e)?(o=1/0===Math.abs(Number(o))?Number(o):u(o))?o>0?e.slice(0,o):e.slice(o):_(e)?"":[]:e}}function st(e){return function(o,t,r){function i(e,o){return o?function(o,t){return e(t,o)}:e}function a(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function s(e){return null===e?"null":"function"==typeof e.valueOf&&(e=e.valueOf(),a(e))||"function"==typeof e.toString&&(e=e.toString(),a(e))?e:""}function g(e,o){var t=typeof e,r=typeof o;return t===r&&"object"===t&&(e=s(e),o=s(o)),t===r?("string"===t&&(e=e.toLowerCase(),o=o.toLowerCase()),e===o?0:o>e?-1:1):r>t?-1:1}return n(o)?(t=Ot(t)?t:[t],0===t.length&&(t=["+"]),t=t.map(function(o){var t=!1,r=o||h;if(_(o)){if(("+"==o.charAt(0)||"-"==o.charAt(0))&&(t="-"==o.charAt(0),o=o.substring(1)),""===o)return i(g,t);if(r=e(o),r.constant){var n=r();return i(function(e,o){return g(e[n],o[n])},t)}}return i(function(e,o){return g(r(e),r(o))},t)}),Ct.call(o).sort(i(function(e,o){for(var r=0;r<t.length;r++){var n=t[r](e,o);if(0!==n)return n}return 0},r))):o}}function gt(e){return T(e)&&(e={link:e}),e.restrict=e.restrict||"AC",m(e)}function lt(e,o,r,n,a){var s=this,g=[],l=s.$$parentForm=e.parent().controller("form")||zr;s.$error={},s.$$success={},s.$pending=t,s.$name=a(o.name||o.ngForm||"")(r),s.$dirty=!1,s.$pristine=!0,s.$valid=!0,s.$invalid=!1,s.$submitted=!1,l.$addControl(s),s.$rollbackViewValue=function(){i(g,function(e){e.$rollbackViewValue()})},s.$commitViewValue=function(){i(g,function(e){e.$commitViewValue()})},s.$addControl=function(e){ee(e.$name,"input"),g.push(e),e.$name&&(s[e.$name]=e)},s.$$renameControl=function(e,o){var t=e.$name;s[t]===e&&delete s[t],s[o]=e,e.$name=o},s.$removeControl=function(e){e.$name&&s[e.$name]===e&&delete s[e.$name],i(s.$pending,function(o,t){s.$setValidity(t,null,e)}),i(s.$error,function(o,t){s.$setValidity(t,null,e)}),i(s.$$success,function(o,t){s.$setValidity(t,null,e)}),D(g,e)},ft({ctrl:this,$element:e,set:function(e,o,t){var r=e[o];r?-1===r.indexOf(t)&&r.push(t):e[o]=[t]},unset:function(e,o,t){var r=e[o];r&&(D(r,t),0===r.length&&delete e[o])},parentForm:l,$animate:n}),s.$setDirty=function(){n.removeClass(e,Nn),n.addClass(e,wn),s.$dirty=!0,s.$pristine=!1,l.$setDirty()},s.$setPristine=function(){n.setClass(e,Nn,wn+" ng-submitted"),s.$dirty=!1,s.$pristine=!0,s.$submitted=!1,i(g,function(e){e.$setPristine()})},s.$setUntouched=function(){i(g,function(e){e.$setUntouched()})},s.$setSubmitted=function(){n.addClass(e,"ng-submitted"),s.$submitted=!0,l.$setSubmitted()}}function pt(e){e.$formatters.push(function(o){return e.$isEmpty(o)?o:o.toString()})}function ut(e,o,t,r,n,i){var a=bt(o[0].type);if(!n.android){var s=!1;o.on("compositionstart",function(e){s=!0}),o.on("compositionend",function(){s=!1,g()})}var g=function(e){if(l&&(i.defer.cancel(l),l=null),!s){var n=o.val();e=e&&e.type,"password"===a||t.ngTrim&&"false"===t.ngTrim||(n=Ft(n)),(r.$viewValue!==n||""===n&&r.$$hasNativeValidators)&&r.$setViewValue(n,e)}};if(n.hasEvent("input"))o.on("input",g);else{var l,p=function(e,o,t){l||(l=i.defer(function(){l=null,o&&o.value===t||g(e)}))};o.on("keydown",function(e){var o=e.keyCode;91===o||o>15&&19>o||o>=37&&40>=o||p(e,this,this.value)}),n.hasEvent("paste")&&o.on("paste cut",p)}o.on("change",g),r.$render=function(){o.val(r.$isEmpty(r.$viewValue)?"":r.$viewValue)}}function ct(e,o){return function(t,r){var n,a;if(S(t))return t;if(_(t)){if('"'==t.charAt(0)&&'"'==t.charAt(t.length-1)&&(t=t.substring(1,t.length-1)),en.test(t))return new Date(t);if(e.lastIndex=0,n=e.exec(t))return n.shift(),a=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},i(n,function(e,t){t<o.length&&(a[o[t]]=+e)}),new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0)}return 0/0}}function dt(e,o,r,n){return function(i,a,s,g,l,p,u){function c(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function d(e){return f(e)?S(e)?e:r(e):t}ht(i,a,s,g),ut(i,a,s,g,l,p);var h,m=g&&g.$options&&g.$options.timezone;if(g.$$parserName=e,g.$parsers.push(function(e){return g.$isEmpty(e)?null:o.test(e)?(e=r(e,h),"UTC"===m&&e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e):t}),g.$formatters.push(function(e){if(e&&!S(e))throw On("datefmt",e);if(c(e)){if((h=e)&&"UTC"===m){var o=6e4*h.getTimezoneOffset();h=new Date(h.getTime()+o)}return u("date")(e,n,m)}return h=null,""}),f(s.min)||s.ngMin){var v;g.$validators.min=function(e){return!c(e)||y(v)||r(e)>=v},s.$observe("min",function(e){v=d(e),g.$validate()})}if(f(s.max)||s.ngMax){var _;g.$validators.max=function(e){return!c(e)||y(_)||r(e)<=_},s.$observe("max",function(e){_=d(e),g.$validate()})}}}function ht(e,o,r,n){(n.$$hasNativeValidators=v(o[0].validity))&&n.$parsers.push(function(e){var r=o.prop("validity")||{};return r.badInput&&!r.typeMismatch?t:e})}function mt(e,o,t,n,i){if(f(n)){if(e=e(n),!e.constant)throw r("ngModel")("constexpr",t,n);return e(o)}return i}function yt(e,o){return e="ngClass"+e,["$animate",function(t){function r(e,o){var t=[],r=0;e:for(;r<e.length;r++){for(var n=e[r],i=0;i<o.length;i++)if(n==o[i])continue e;t.push(n)}return t}function n(e){if(!Ot(e)){if(_(e))return e.split(" ");if(v(e)){var o=[];return i(e,function(e,t){e&&(o=o.concat(t.split(" ")))}),o}}return e}return{restrict:"AC",link:function(a,s,g){function l(e,o){var t=s.data("$classCounts")||{},r=[];return i(e,function(e){(o>0||t[e])&&(t[e]=(t[e]||0)+o,t[e]===+(o>0)&&r.push(e))}),s.data("$classCounts",t),r.join(" ")}function p(e){if(!0===o||a.$index%2===o){var i=n(e||[]);if(u){if(!w(e,u)){var p=n(u),c=r(i,p),i=r(p,i),c=l(c,1),i=l(i,-1);c&&c.length&&t.addClass(s,c),i&&i.length&&t.removeClass(s,i)}}else{var c=l(i,1);g.$addClass(c)}}u=N(e)}var u;a.$watch(g[e],p,!0),g.$observe("class",function(o){p(a.$eval(g[e]))}),"ngClass"!==e&&a.$watch("$index",function(t,r){var i=1&t;if(i!==(1&r)){var s=n(a.$eval(g[e]));i===o?(i=l(s,1),g.$addClass(i)):(i=l(s,-1),g.$removeClass(i))}})}}}]}function ft(e){function o(e,o){o&&!a[e]?(p.addClass(i,e),a[e]=!0):!o&&a[e]&&(p.removeClass(i,e),a[e]=!1)}function r(e,t){e=e?"-"+z(e,"-"):"",o(Dn+e,!0===t),o(Ln+e,!1===t)}var n=e.ctrl,i=e.$element,a={},s=e.set,g=e.unset,l=e.parentForm,p=e.$animate;a[Ln]=!(a[Dn]=i.hasClass(Dn)),n.$setValidity=function(e,i,a){i===t?(n.$pending||(n.$pending={}),s(n.$pending,e,a)):(n.$pending&&g(n.$pending,e,a),vt(n.$pending)&&(n.$pending=t)),M(i)?i?(g(n.$error,e,a),s(n.$$success,e,a)):(s(n.$error,e,a),g(n.$$success,e,a)):(g(n.$error,e,a),g(n.$$success,e,a)),n.$pending?(o(In,!0),n.$valid=n.$invalid=t,r("",null)):(o(In,!1),n.$valid=vt(n.$error),n.$invalid=!n.$valid,r("",n.$valid)),i=n.$pending&&n.$pending[e]?t:n.$error[e]?!1:n.$$success[e]?!0:null,r(e,i),l.$setValidity(e,i,n)}}function vt(e){if(e)for(var o in e)return!1;return!0}var _t,Et,St,Tt,xt=/^\/(.+)\/([a-z]*)$/,bt=function(e){return _(e)?e.toLowerCase():e},Pt=Object.prototype.hasOwnProperty,Mt=function(e){return _(e)?e.toUpperCase():e},Ct=[].slice,Rt=[].splice,At=[].push,Dt=Object.prototype.toString,Lt=r("ng"),Nt=e.angular||(e.angular={}),wt=0;_t=o.documentMode,d.$inject=[],h.$inject=[];var It,Ot=Array.isArray,Ft=function(e){return _(e)?e.trim():e},Gt=function(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},kt=function(){if(f(kt.isActive_))return kt.isActive_;var e=!(!o.querySelector("[ng-csp]")&&!o.querySelector("[data-ng-csp]"));if(!e)try{new Function("")}catch(t){e=!0}return kt.isActive_=e},Ut=["ng-","data-ng-","ng:","x-ng-"],qt=/[A-Z]/g,$t=!1,Bt=1,jt=3,Vt={full:"1.3.17",major:1,minor:3,dot:17,codeName:"tsktskskly-euouae"};le.expando="ng339";var Ht=le.cache={},Kt=1;le._data=function(e){return this.cache[e[this.expando]]||{}};var Wt=/([\:\-\_]+(.))/g,Yt=/^moz([A-Z])/,Xt={mouseleave:"mouseout",mouseenter:"mouseover"},zt=r("jqLite"),Zt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Jt=/<|&#?\w+;/,Qt=/<([\w:]+)/,er=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,or={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};or.optgroup=or.option,or.tbody=or.tfoot=or.colgroup=or.caption=or.thead,or.th=or.td;var tr=le.prototype={ready:function(t){function r(){n||(n=!0,t())}var n=!1;"complete"===o.readyState?setTimeout(r):(this.on("DOMContentLoaded",r),le(e).on("load",r))},toString:function(){var e=[];return i(this,function(o){e.push(""+o)}),"["+e.join(", ")+"]"},eq:function(e){return Et(e>=0?this[e]:this[this.length+e])},length:0,push:At,sort:[].sort,splice:[].splice},rr={};i("multiple selected checked disabled readOnly required open".split(" "),function(e){rr[bt(e)]=e});var nr={};i("input select option textarea button form details".split(" "),function(e){nr[e]=!0});var ir={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};i({data:me,removeData:de},function(e,o){le[o]=e}),i({data:me,inheritedData:Se,scope:function(e){return Et.data(e,"$scope")||Se(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return Et.data(e,"$isolateScope")||Et.data(e,"$isolateScopeNoTemplate")},controller:Ee,injector:function(e){return Se(e,"$injector")},removeAttr:function(e,o){e.removeAttribute(o)},hasClass:ye,css:function(e,o,t){return o=ae(o),f(t)?void(e.style[o]=t):e.style[o]},attr:function(e,o,r){var n=e.nodeType;if(n!==jt&&2!==n&&8!==n)if(n=bt(o),rr[n]){if(!f(r))return e[o]||(e.attributes.getNamedItem(o)||d).specified?n:t;r?(e[o]=!0,e.setAttribute(o,n)):(e[o]=!1,e.removeAttribute(n))}else if(f(r))e.setAttribute(o,r);else if(e.getAttribute)return e=e.getAttribute(o,2),null===e?t:e},prop:function(e,o,t){return f(t)?void(e[o]=t):e[o]},text:function(){function e(e,o){if(y(o)){var t=e.nodeType;return t===Bt||t===jt?e.textContent:""}e.textContent=o}return e.$dv="",e}(),val:function(e,o){if(y(o)){if(e.multiple&&"select"===A(e)){var t=[];return i(e.options,function(e){e.selected&&t.push(e.value||e.text)}),0===t.length?null:t}return e.value}e.value=o},html:function(e,o){return y(o)?e.innerHTML:(ue(e,!0),void(e.innerHTML=o))},empty:Te},function(e,o){le.prototype[o]=function(o,r){var n,i,a=this.length;if(e!==Te&&(2==e.length&&e!==ye&&e!==Ee?o:r)===t){if(v(o)){for(n=0;a>n;n++)if(e===me)e(this[n],o);else for(i in o)e(this[n],i,o[i]);return this}for(n=e.$dv,a=n===t?Math.min(a,1):a,i=0;a>i;i++){var s=e(this[i],o,r);n=n?n+s:s}return n}for(n=0;a>n;n++)e(this[n],o,r);return this}}),i({removeData:de,on:function ai(e,o,t,r){if(f(r))throw zt("onargs");if(se(e)){var n=he(e,!0);r=n.events;var i=n.handle;i||(i=n.handle=Ce(e,r));for(var n=0<=o.indexOf(" ")?o.split(" "):[o],a=n.length;a--;){o=n[a];var s=r[o];s||(r[o]=[],"mouseenter"===o||"mouseleave"===o?ai(e,Xt[o],function(e){var t=e.relatedTarget;t&&(t===this||this.contains(t))||i(e,o)}):"$destroy"!==o&&e.addEventListener(o,i,!1),s=r[o]),s.push(t)}}},off:ce,one:function(e,o,t){e=Et(e),e.on(o,function r(){e.off(o,t),e.off(o,r)}),e.on(o,t)},replaceWith:function(e,o){var t,r=e.parentNode;ue(e),i(new le(o),function(o){t?r.insertBefore(o,t.nextSibling):r.replaceChild(o,e),t=o})},children:function(e){var o=[];return i(e.childNodes,function(e){e.nodeType===Bt&&o.push(e)}),o},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,o){var t=e.nodeType;if(t===Bt||11===t){o=new le(o);for(var t=0,r=o.length;r>t;t++)e.appendChild(o[t])}},prepend:function(e,o){if(e.nodeType===Bt){var t=e.firstChild;i(new le(o),function(o){e.insertBefore(o,t)})}},wrap:function(e,o){o=Et(o).eq(0).clone()[0];var t=e.parentNode;t&&t.replaceChild(o,e),o.appendChild(e)},remove:xe,detach:function(e){xe(e,!0)},after:function(e,o){var t=e,r=e.parentNode;o=new le(o);for(var n=0,i=o.length;i>n;n++){var a=o[n];r.insertBefore(a,t.nextSibling),t=a}},addClass:ve,removeClass:fe,toggleClass:function(e,o,t){o&&i(o.split(" "),function(o){var r=t;y(r)&&(r=!ye(e,o)),(r?ve:fe)(e,o)})},parent:function(e){return(e=e.parentNode)&&11!==e.nodeType?e:null},next:function(e){return e.nextElementSibling},find:function(e,o){return e.getElementsByTagName?e.getElementsByTagName(o):[]},clone:pe,triggerHandler:function(e,o,t){var r,n,a=o.type||o,s=he(e);(s=(s=s&&s.events)&&s[a])&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:d,type:a,target:e},o.type&&(r=p(r,o)),o=N(s),n=t?[r].concat(t):[r],i(o,function(o){r.isImmediatePropagationStopped()||o.apply(e,n)}))}},function(e,o){le.prototype[o]=function(o,t,r){for(var n,i=0,a=this.length;a>i;i++)y(n)?(n=e(this[i],o,t,r),f(n)&&(n=Et(n))):_e(n,e(this[i],o,t,r));return f(n)?n:this},le.prototype.bind=le.prototype.on,le.prototype.unbind=le.prototype.off}),De.prototype={put:function(e,o){this[Ae(e,this.nextUid)]=o},get:function(e){return this[Ae(e,this.nextUid)]},remove:function(e){var o=this[e=Ae(e,this.nextUid)];return delete this[e],o}};var ar=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,sr=/,/,gr=/^\s*(_?)(\S+?)\1\s*$/,lr=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,pr=r("$injector");Ne.$$annotate=function(e,o,t){var r;if("function"==typeof e){if(!(r=e.$inject)){if(r=[],e.length){if(o)throw _(t)&&t||(t=e.name||Le(e)),pr("strictdi",t);o=e.toString().replace(lr,""),o=o.match(ar),i(o[1].split(sr),function(e){e.replace(gr,function(e,o,t){r.push(t)})})}e.$inject=r}}else Ot(e)?(o=e.length-1,Q(e[o],"fn"),r=e.slice(0,o)):Q(e,"fn",!0);return r};var ur=r("$animate"),cr=["$provide",function(e){this.$$selectors={},this.register=function(o,t){var r=o+"-animation";if(o&&"."!=o.charAt(0))throw ur("notcsel",o);this.$$selectors[o.substr(1)]=r,e.factory(r,t)},this.classNameFilter=function(e){return 1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null),this.$$classNameFilter},this.$get=["$$q","$$asyncCallback","$rootScope",function(e,o,t){function r(o){var r,n=e.defer();return n.promise.$$cancelFn=function(){r&&r()},t.$$postDigest(function(){r=o(function(){n.resolve()})}),n.promise}function n(e,o){var t=[],r=[],n=re();return i((e.attr("class")||"").split(/\s+/),function(e){n[e]=!0}),i(o,function(e,o){var i=n[o];!1===e&&i?r.push(o):!0!==e||i||t.push(o)}),0<t.length+r.length&&[t.length?t:null,r.length?r:null]}function a(e,o,t){for(var r=0,n=o.length;n>r;++r)e[o[r]]=t}function s(){return l||(l=e.defer(),o(function(){l.resolve(),l=null})),l.promise}function g(e,o){if(Nt.isObject(o)){var t=p(o.from||{},o.to||{});e.css(t)}}var l;return{animate:function(e,o,t){return g(e,{from:o,to:t}),s()},enter:function(e,o,t,r){return g(e,r),t?t.after(e):o.prepend(e),s()},leave:function(e,o){return g(e,o),e.remove(),s()},move:function(e,o,t,r){return this.enter(e,o,t,r)},addClass:function(e,o,t){return this.setClass(e,o,[],t)},$$addClassImmediately:function(e,o,t){return e=Et(e),o=_(o)?o:Ot(o)?o.join(" "):"",i(e,function(e){ve(e,o)}),g(e,t),s()},removeClass:function(e,o,t){return this.setClass(e,[],o,t)},$$removeClassImmediately:function(e,o,t){return e=Et(e),o=_(o)?o:Ot(o)?o.join(" "):"",i(e,function(e){fe(e,o)}),g(e,t),s()},setClass:function(e,o,t,i){var s=this,g=!1;e=Et(e);var l=e.data("$$animateClasses");return l?i&&l.options&&(l.options=Nt.extend(l.options||{},i)):(l={classes:{},options:i},g=!0),i=l.classes,o=Ot(o)?o:o.split(" "),t=Ot(t)?t:t.split(" "),a(i,o,!0),a(i,t,!1),g&&(l.promise=r(function(o){var t=e.data("$$animateClasses");if(e.removeData("$$animateClasses"),t){var r=n(e,t.classes);r&&s.$$setClassImmediately(e,r[0],r[1],t.options)}o()}),e.data("$$animateClasses",l)),l.promise},$$setClassImmediately:function(e,o,t,r){return o&&this.$$addClassImmediately(e,o),t&&this.$$removeClassImmediately(e,t),g(e,r),s()},enabled:d,cancel:d}}]}],dr=r("$compile");Ue.$inject=["$provide","$$sanitizeUriProvider"];var hr=/^((?:x|data)[\:\-_])/i,mr=r("$controller"),yr="application/json",fr={"Content-Type":yr+";charset=utf-8"},vr=/^\[|^\{(?!\{)/,_r={"[":/]$/,"{":/}$/},Er=/^\)\]\}',?\n/,Sr=r("$interpolate"),Tr=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,xr={http:80,https:443,ftp:21},br=r("$location"),Pr={$$html5:!1,$$replace:!1,absUrl:ho("$$absUrl"),url:function(e){if(y(e))return this.$$url;var o=Tr.exec(e);return(o[1]||""===e)&&this.path(decodeURIComponent(o[1])),(o[2]||o[1]||""===e)&&this.search(o[3]||""),this.hash(o[5]||""),this},protocol:ho("$$protocol"),host:ho("$$host"),port:ho("$$port"),path:mo("$$path",function(e){return e=null!==e?e.toString():"","/"==e.charAt(0)?e:"/"+e}),search:function(e,o){switch(arguments.length){case 0:return this.$$search;case 1:if(_(e)||E(e))e=e.toString(),this.$$search=$(e);else{if(!v(e))throw br("isrcharg");e=L(e,{}),i(e,function(o,t){null==o&&delete e[t]}),this.$$search=e}break;default:y(o)||null===o?delete this.$$search[e]:this.$$search[e]=o}return this.$$compose(),this},hash:mo("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};i([co,uo,po],function(e){e.prototype=Object.create(Pr),e.prototype.state=function(o){if(!arguments.length)return this.$$state;if(e!==po||!this.$$html5)throw br("nostate");return this.$$state=y(o)?null:o,this}});var Mr=r("$parse"),Cr=Function.prototype.call,Rr=Function.prototype.apply,Ar=Function.prototype.bind,Dr=re();i({"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:function(){}},function(e,o){e.constant=e.literal=e.sharedGetter=!0,Dr[o]=e}),Dr["this"]=function(e){return e},Dr["this"].sharedGetter=!0;var Lr=p(re(),{"+":function(e,o,r,n){return r=r(e,o),n=n(e,o),f(r)?f(n)?r+n:r:f(n)?n:t},"-":function(e,o,t,r){return t=t(e,o),r=r(e,o),(f(t)?t:0)-(f(r)?r:0)},"*":function(e,o,t,r){return t(e,o)*r(e,o)},"/":function(e,o,t,r){return t(e,o)/r(e,o)},"%":function(e,o,t,r){return t(e,o)%r(e,o)},"===":function(e,o,t,r){return t(e,o)===r(e,o)},"!==":function(e,o,t,r){return t(e,o)!==r(e,o)},"==":function(e,o,t,r){return t(e,o)==r(e,o)},"!=":function(e,o,t,r){return t(e,o)!=r(e,o)},"<":function(e,o,t,r){return t(e,o)<r(e,o)},">":function(e,o,t,r){return t(e,o)>r(e,o)},"<=":function(e,o,t,r){return t(e,o)<=r(e,o)},">=":function(e,o,t,r){return t(e,o)>=r(e,o)},"&&":function(e,o,t,r){return t(e,o)&&r(e,o)},"||":function(e,o,t,r){return t(e,o)||r(e,o)},"!":function(e,o,t){return!t(e,o)},"=":!0,"|":!0}),Nr={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},wr=function(e){this.options=e};wr.prototype={constructor:wr,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;)if(e=this.text.charAt(this.index),'"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(e))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var o=e+this.peek(),t=o+this.peek(2),r=Lr[o],n=Lr[t];Lr[e]||r||n?(e=n?t:r?o:e,this.tokens.push({index:this.index,text:e,operator:!0}),this.index+=e.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(e,o){return-1!==o.indexOf(e)},peek:function(e){return e=e||1,this.index+e<this.text.length?this.text.charAt(this.index+e):!1},isNumber:function(e){return e>="0"&&"9">=e&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"	"===e||"\n"===e||""===e||" "===e},isIdent:function(e){return e>="a"&&"z">=e||e>="A"&&"Z">=e||"_"===e||"$"===e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,o,t){throw t=t||this.index,o=f(o)?"s "+o+"-"+this.index+" ["+this.text.substring(o,t)+"]":" "+t,Mr("lexerr",e,o,this.text)},readNumber:function(){for(var e="",o=this.index;this.index<this.text.length;){var t=bt(this.text.charAt(this.index));if("."==t||this.isNumber(t))e+=t;else{var r=this.peek();if("e"==t&&this.isExpOperator(r))e+=t;else if(this.isExpOperator(t)&&r&&this.isNumber(r)&&"e"==e.charAt(e.length-1))e+=t;else{if(!this.isExpOperator(t)||r&&this.isNumber(r)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:o,text:e,constant:!0,value:Number(e)})},readIdent:function(){for(var e=this.index;this.index<this.text.length;){var o=this.text.charAt(this.index);if(!this.isIdent(o)&&!this.isNumber(o))break;this.index++}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var o=this.index;this.index++;for(var t="",r=e,n=!1;this.index<this.text.length;){var i=this.text.charAt(this.index),r=r+i;if(n)"u"===i?(n=this.text.substring(this.index+1,this.index+5),n.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+n+"]"),this.index+=4,t+=String.fromCharCode(parseInt(n,16))):t+=Nr[i]||i,n=!1;else if("\\"===i)n=!0;else{if(i===e)return this.index++,void this.tokens.push({index:o,text:r,constant:!0,value:t});t+=i}this.index++}this.throwError("Unterminated quote",o)}};var Ir=function(e,o,t){this.lexer=e,this.$filter=o,this.options=t};Ir.ZERO=p(function(){return 0},{sharedGetter:!0,constant:!0}),Ir.prototype={constructor:Ir,parse:function(e){return this.text=e,this.tokens=this.lexer.lex(e),e=this.statements(),0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e.literal=!!e.literal,e.constant=!!e.constant,e},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.peek().identifier&&this.peek().text in Dr?e=Dr[this.consume().text]:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var o,t;o=this.expect("(","[",".");)"("===o.text?(e=this.functionCall(e,t),t=null):"["===o.text?(t=e,e=this.objectIndex(e)):"."===o.text?(t=e,e=this.fieldAccess(e)):this.throwError("IMPOSSIBLE");return e},throwError:function(e,o){throw Mr("syntax",o.text,e,o.index+1,this.text,this.text.substring(o.index))},peekToken:function(){if(0===this.tokens.length)throw Mr("ueoe",this.text);return this.tokens[0]},peek:function(e,o,t,r){return this.peekAhead(0,e,o,t,r)},peekAhead:function(e,o,t,r,n){if(this.tokens.length>e){e=this.tokens[e];var i=e.text;if(i===o||i===t||i===r||i===n||!(o||t||r||n))return e}return!1},expect:function(e,o,t,r){return(e=this.peek(e,o,t,r))?(this.tokens.shift(),e):!1},consume:function(e){if(0===this.tokens.length)throw Mr("ueoe",this.text);var o=this.expect(e);return o||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),o},unaryFn:function(e,o){var t=Lr[e];return p(function(e,r){return t(e,r,o)},{constant:o.constant,inputs:[o]})},binaryFn:function(e,o,t,r){var n=Lr[o];return p(function(o,r){return n(o,r,e,t)},{constant:e.constant&&t.constant,inputs:!r&&[e,t]})},identifier:function(){for(var e=this.consume().text;this.peek(".")&&this.peekAhead(1).identifier&&!this.peekAhead(2,"(");)e+=this.consume().text+this.consume().text;return Po(e,this.options,this.text)},constant:function(){var e=this.consume().value;return p(function(){return e},{constant:!0,literal:!0})},statements:function(){for(var e=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&e.push(this.filterChain()),!this.expect(";"))return 1===e.length?e[0]:function(o,t){for(var r,n=0,i=e.length;i>n;n++)r=e[n](o,t);return r}},filterChain:function(){for(var e=this.expression();this.expect("|");)e=this.filter(e);return e},filter:function(e){var o,r,n=this.$filter(this.consume().text);if(this.peek(":"))for(o=[],r=[];this.expect(":");)o.push(this.expression());var i=[e].concat(o||[]);return p(function(i,a){var s=e(i,a);if(r){for(r[0]=s,s=o.length;s--;)r[s+1]=o[s](i,a);return n.apply(t,r)}return n(s)},{constant:!n.$stateful&&i.every(Eo),inputs:!n.$stateful&&i})},expression:function(){return this.assignment()},assignment:function(){var e,o,t=this.ternary();return(o=this.expect("="))?(t.assign||this.throwError("implies assignment but ["+this.text.substring(0,o.index)+"] can not be assigned to",o),e=this.ternary(),p(function(o,r){return t.assign(o,e(o,r),r)},{inputs:[t,e]})):t},ternary:function(){var e,o=this.logicalOR();if(this.expect("?")&&(e=this.assignment(),this.consume(":"))){var t=this.assignment();return p(function(r,n){return o(r,n)?e(r,n):t(r,n)},{constant:o.constant&&e.constant&&t.constant})}return o},logicalOR:function(){for(var e,o=this.logicalAND();e=this.expect("||");)o=this.binaryFn(o,e.text,this.logicalAND(),!0);return o},logicalAND:function(){for(var e,o=this.equality();e=this.expect("&&");)o=this.binaryFn(o,e.text,this.equality(),!0);return o},equality:function(){for(var e,o=this.relational();e=this.expect("==","!=","===","!==");)o=this.binaryFn(o,e.text,this.relational());return o},relational:function(){for(var e,o=this.additive();e=this.expect("<",">","<=",">=");)o=this.binaryFn(o,e.text,this.additive());return o},additive:function(){for(var e,o=this.multiplicative();e=this.expect("+","-");)o=this.binaryFn(o,e.text,this.multiplicative());return o},multiplicative:function(){for(var e,o=this.unary();e=this.expect("*","/","%");)o=this.binaryFn(o,e.text,this.unary());return o},unary:function(){var e;return this.expect("+")?this.primary():(e=this.expect("-"))?this.binaryFn(Ir.ZERO,e.text,this.unary()):(e=this.expect("!"))?this.unaryFn(e.text,this.unary()):this.primary()},fieldAccess:function(e){var o=this.identifier();return p(function(r,n,i){return r=i||e(r,n),null==r?t:o(r)},{assign:function(t,r,n){var i=e(t,n);return i||e.assign(t,i={},n),o.assign(i,r)}})},objectIndex:function(e){var o=this.text,r=this.expression();return this.consume("]"),p(function(n,i){var a=e(n,i),s=r(n,i);return vo(s,o),a?_o(a[s],o):t},{assign:function(t,n,i){var a=vo(r(t,i),o),s=_o(e(t,i),o);return s||e.assign(t,s={},i),s[a]=n}})},functionCall:function(e,o){var r=[];if(")"!==this.peekToken().text)do r.push(this.expression());while(this.expect(","));this.consume(")");var n=this.text,i=r.length?[]:null;return function(a,s){var g=o?o(a,s):f(o)?t:a,l=e(a,s,g)||d;if(i)for(var p=r.length;p--;)i[p]=_o(r[p](a,s),n);if(_o(g,n),l){if(l.constructor===l)throw Mr("isecfn",n);if(l===Cr||l===Rr||l===Ar)throw Mr("isecff",n)}return g=l.apply?l.apply(g,i):l(i[0],i[1],i[2],i[3],i[4]),i&&(i.length=0),_o(g,n)}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),p(function(o,t){for(var r=[],n=0,i=e.length;i>n;n++)r.push(e[n](o,t));return r},{literal:!0,constant:e.every(Eo),inputs:e})},object:function(){var e=[],o=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;var t=this.consume();t.constant?e.push(t.value):t.identifier?e.push(t.text):this.throwError("invalid key",t),this.consume(":"),o.push(this.expression())}while(this.expect(","));return this.consume("}"),p(function(t,r){for(var n={},i=0,a=o.length;a>i;i++)n[e[i]]=o[i](t,r);return n},{literal:!0,constant:o.every(Eo),inputs:o})}};var Or=re(),Fr=re(),Gr=Object.prototype.valueOf,kr=r("$sce"),Ur={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},dr=r("$compile"),qr=o.createElement("a"),$r=Bo(e.location.href);Ho.$inject=["$provide"],Xo.$inject=["$locale"],zo.$inject=["$locale"];var Br=".",jr={yyyy:Qo("FullYear",4),yy:Qo("FullYear",2,0,!0),y:Qo("FullYear",1),MMMM:et("Month"),MMM:et("Month",!0),MM:Qo("Month",2,1),M:Qo("Month",1,1),dd:Qo("Date",2),d:Qo("Date",1),HH:Qo("Hours",2),H:Qo("Hours",1),hh:Qo("Hours",2,-12),h:Qo("Hours",1,-12),mm:Qo("Minutes",2),m:Qo("Minutes",1),ss:Qo("Seconds",2),s:Qo("Seconds",1),sss:Qo("Milliseconds",3),EEEE:et("Day"),EEE:et("Day",!0),a:function(e,o){return 12>e.getHours()?o.AMPMS[0]:o.AMPMS[1]},Z:function(e){return e=-1*e.getTimezoneOffset(),e=(e>=0?"+":"")+(Jo(Math[e>0?"floor":"ceil"](e/60),2)+Jo(Math.abs(e%60),2))},ww:tt(2),w:tt(1),G:rt,GG:rt,GGG:rt,GGGG:function(e,o){return 0>=e.getFullYear()?o.ERANAMES[0]:o.ERANAMES[1]}},Vr=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,Hr=/^\-?\d+$/;nt.$inject=["$locale"];var Kr=m(bt),Wr=m(Mt);st.$inject=["$parse"];var Yr=m({restrict:"E",compile:function(e,o){return o.href||o.xlinkHref||o.name?void 0:function(e,o){if("a"===o[0].nodeName.toLowerCase()){var t="[object SVGAnimatedString]"===Dt.call(o.prop("href"))?"xlink:href":"href";o.on("click",function(e){o.attr(t)||e.preventDefault()})}}}}),Xr={};i(rr,function(e,o){if("multiple"!=e){var t=qe("ng-"+o);Xr[t]=function(){return{restrict:"A",priority:100,link:function(e,r,n){e.$watch(n[t],function(e){n.$set(o,!!e)})}}}}}),i(ir,function(e,o){Xr[o]=function(){return{priority:100,link:function(e,t,r){return"ngPattern"===o&&"/"==r.ngPattern.charAt(0)&&(t=r.ngPattern.match(xt))?void r.$set("ngPattern",new RegExp(t[1],t[2])):void e.$watch(r[o],function(e){r.$set(o,e)})}}}}),i(["src","srcset","href"],function(e){var o=qe("ng-"+e);Xr[o]=function(){return{priority:99,link:function(t,r,n){var i=e,a=e;"href"===e&&"[object SVGAnimatedString]"===Dt.call(r.prop("href"))&&(a="xlinkHref",n.$attr[a]="xlink:href",i=null),n.$observe(o,function(o){o?(n.$set(a,o),_t&&i&&r.prop(i,n[a])):"href"===e&&n.$set(a,null)})}}}});var zr={$addControl:d,$$renameControl:function(e,o){e.$name=o},$removeControl:d,$setValidity:d,$setDirty:d,$setPristine:d,$setSubmitted:d};lt.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Zr=function(e){return["$timeout",function(o){return{name:"form",restrict:e?"EAC":"E",controller:lt,compile:function(r,n){r.addClass(Nn).addClass(Dn);var i=n.name?"name":e&&n.ngForm?"ngForm":!1;return{pre:function(e,r,n,a){if(!("action"in n)){var s=function(o){e.$apply(function(){a.$commitViewValue(),a.$setSubmitted()}),o.preventDefault()};r[0].addEventListener("submit",s,!1),r.on("$destroy",function(){o(function(){r[0].removeEventListener("submit",s,!1)},0,!1)})}var g=a.$$parentForm;i&&(So(e,null,a.$name,a,a.$name),n.$observe(i,function(o){a.$name!==o&&(So(e,null,a.$name,t,a.$name),g.$$renameControl(a,o),So(e,null,a.$name,a,a.$name))})),r.on("$destroy",function(){g.$removeControl(a),i&&So(e,null,n[i],t,a.$name),p(a,zr)})}}}}}]},Jr=Zr(),Qr=Zr(!0),en=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,on=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,tn=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,rn=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,nn=/^(\d{4})-(\d{2})-(\d{2})$/,an=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,sn=/^(\d{4})-W(\d\d)$/,gn=/^(\d{4})-(\d\d)$/,ln=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,pn={text:function(e,o,t,r,n,i){ut(e,o,t,r,n,i),pt(r)},date:dt("date",nn,ct(nn,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":dt("datetimelocal",an,ct(an,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:dt("time",ln,ct(ln,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:dt("week",sn,function(e,o){if(S(e))return e;if(_(e)){sn.lastIndex=0;var t=sn.exec(e);if(t){var r=+t[1],n=+t[2],i=t=0,a=0,s=0,g=ot(r),n=7*(n-1);return o&&(t=o.getHours(),i=o.getMinutes(),a=o.getSeconds(),s=o.getMilliseconds()),new Date(r,0,g.getDate()+n,t,i,a,s)}}return 0/0},"yyyy-Www"),month:dt("month",gn,ct(gn,["yyyy","MM"]),"yyyy-MM"),number:function(e,o,r,n,i,a){if(ht(e,o,r,n),ut(e,o,r,n,i,a),n.$$parserName="number",n.$parsers.push(function(e){return n.$isEmpty(e)?null:rn.test(e)?parseFloat(e):t;

}),n.$formatters.push(function(e){if(!n.$isEmpty(e)){if(!E(e))throw On("numfmt",e);e=e.toString()}return e}),f(r.min)||r.ngMin){var s;n.$validators.min=function(e){return n.$isEmpty(e)||y(s)||e>=s},r.$observe("min",function(e){f(e)&&!E(e)&&(e=parseFloat(e,10)),s=E(e)&&!isNaN(e)?e:t,n.$validate()})}if(f(r.max)||r.ngMax){var g;n.$validators.max=function(e){return n.$isEmpty(e)||y(g)||g>=e},r.$observe("max",function(e){f(e)&&!E(e)&&(e=parseFloat(e,10)),g=E(e)&&!isNaN(e)?e:t,n.$validate()})}},url:function(e,o,t,r,n,i){ut(e,o,t,r,n,i),pt(r),r.$$parserName="url",r.$validators.url=function(e,o){var t=e||o;return r.$isEmpty(t)||on.test(t)}},email:function(e,o,t,r,n,i){ut(e,o,t,r,n,i),pt(r),r.$$parserName="email",r.$validators.email=function(e,o){var t=e||o;return r.$isEmpty(t)||tn.test(t)}},radio:function(e,o,t,r){y(t.name)&&o.attr("name",++wt),o.on("click",function(e){o[0].checked&&r.$setViewValue(t.value,e&&e.type)}),r.$render=function(){o[0].checked=t.value==r.$viewValue},t.$observe("value",r.$render)},checkbox:function(e,o,t,r,n,i,a,s){var g=mt(s,e,"ngTrueValue",t.ngTrueValue,!0),l=mt(s,e,"ngFalseValue",t.ngFalseValue,!1);o.on("click",function(e){r.$setViewValue(o[0].checked,e&&e.type)}),r.$render=function(){o[0].checked=r.$viewValue},r.$isEmpty=function(e){return!1===e},r.$formatters.push(function(e){return w(e,g)}),r.$parsers.push(function(e){return e?g:l})},hidden:d,button:d,submit:d,reset:d,file:d},un=["$browser","$sniffer","$filter","$parse",function(e,o,t,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(n,i,a,s){s[0]&&(pn[bt(a.type)]||pn.text)(n,i,a,s[0],o,e,t,r)}}}}],cn=/^(true|false|\d+)$/,dn=function(){return{restrict:"A",priority:100,compile:function(e,o){return cn.test(o.ngValue)?function(e,o,t){t.$set("value",e.$eval(t.ngValue))}:function(e,o,t){e.$watch(t.ngValue,function(e){t.$set("value",e)})}}}},hn=["$compile",function(e){return{restrict:"AC",compile:function(o){return e.$$addBindingClass(o),function(o,r,n){e.$$addBindingInfo(r,n.ngBind),r=r[0],o.$watch(n.ngBind,function(e){r.textContent=e===t?"":e})}}}}],mn=["$interpolate","$compile",function(e,o){return{compile:function(r){return o.$$addBindingClass(r),function(r,n,i){r=e(n.attr(i.$attr.ngBindTemplate)),o.$$addBindingInfo(n,r.expressions),n=n[0],i.$observe("ngBindTemplate",function(e){n.textContent=e===t?"":e})}}}}],yn=["$sce","$parse","$compile",function(e,o,t){return{restrict:"A",compile:function(r,n){var i=o(n.ngBindHtml),a=o(n.ngBindHtml,function(e){return(e||"").toString()});return t.$$addBindingClass(r),function(o,r,n){t.$$addBindingInfo(r,n.ngBindHtml),o.$watch(a,function(){r.html(e.getTrustedHtml(i(o))||"")})}}}}],fn=m({restrict:"A",require:"ngModel",link:function(e,o,t,r){r.$viewChangeListeners.push(function(){e.$eval(t.ngChange)})}}),vn=yt("",!0),_n=yt("Odd",0),En=yt("Even",1),Sn=gt({compile:function(e,o){o.$set("ngCloak",t),e.removeClass("ng-cloak")}}),Tn=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],xn={},bn={blur:!0,focus:!0};i("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var o=qe("ng-"+e);xn[o]=["$parse","$rootScope",function(t,r){return{restrict:"A",compile:function(n,i){var a=t(i[o],null,!0);return function(o,t){t.on(e,function(t){var n=function(){a(o,{$event:t})};bn[e]&&r.$$phase?o.$evalAsync(n):o.$apply(n)})}}}}]});var Pn=["$animate",function(e){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(t,r,n,i,a){var s,g,l;t.$watch(n.ngIf,function(t){t?g||a(function(t,i){g=i,t[t.length++]=o.createComment(" end ngIf: "+n.ngIf+" "),s={clone:t},e.enter(t,r.parent(),r)}):(l&&(l.remove(),l=null),g&&(g.$destroy(),g=null),s&&(l=te(s.clone),e.leave(l).then(function(){l=null}),s=null))})}}}],Mn=["$templateRequest","$anchorScroll","$animate",function(e,o,t){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Nt.noop,compile:function(r,n){var i=n.ngInclude||n.src,a=n.onload||"",s=n.autoscroll;return function(r,n,g,l,p){var u,c,d,h=0,m=function(){c&&(c.remove(),c=null),u&&(u.$destroy(),u=null),d&&(t.leave(d).then(function(){c=null}),c=d,d=null)};r.$watch(i,function(i){var g=function(){!f(s)||s&&!r.$eval(s)||o()},c=++h;i?(e(i,!0).then(function(e){if(c===h){var o=r.$new();l.template=e,e=p(o,function(e){m(),t.enter(e,null,n).then(g)}),u=o,d=e,u.$emit("$includeContentLoaded",i),r.$eval(a)}},function(){c===h&&(m(),r.$emit("$includeContentError",i))}),r.$emit("$includeContentRequested",i)):(m(),l.template=null)})}}}}],Cn=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(t,r,n,i){/SVG/.test(r[0].toString())?(r.empty(),e(ge(i.template,o).childNodes)(t,function(e){r.append(e)},{futureParentElement:r})):(r.html(i.template),e(r.contents())(t))}}}],Rn=gt({priority:450,compile:function(){return{pre:function(e,o,t){e.$eval(t.ngInit)}}}}),An=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,o,r,n){var a=o.attr(r.$attr.ngList)||", ",s="false"!==r.ngTrim,g=s?Ft(a):a;n.$parsers.push(function(e){if(!y(e)){var o=[];return e&&i(e.split(g),function(e){e&&o.push(s?Ft(e):e)}),o}}),n.$formatters.push(function(e){return Ot(e)?e.join(a):t}),n.$isEmpty=function(e){return!e||!e.length}}}},Dn="ng-valid",Ln="ng-invalid",Nn="ng-pristine",wn="ng-dirty",In="ng-pending",On=new r("ngModel"),Fn=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(e,o,r,n,a,s,g,l,p,u){this.$modelValue=this.$viewValue=Number.NaN,this.$$rawModelValue=t,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=t,this.$name=u(r.name||"",!1)(e);var c,h=a(r.ngModel),m=h.assign,v=h,_=m,S=null,x=this;this.$$setOptions=function(e){if((x.$options=e)&&e.getterSetter){var o=a(r.ngModel+"()"),t=a(r.ngModel+"($$$p)");v=function(e){var t=h(e);return T(t)&&(t=o(e)),t},_=function(e,o){T(h(e))?t(e,{$$$p:x.$modelValue}):m(e,x.$modelValue)}}else if(!h.assign)throw On("nonassign",r.ngModel,U(n))},this.$render=d,this.$isEmpty=function(e){return y(e)||""===e||null===e||e!==e};var b=n.inheritedData("$formController")||zr,P=0;ft({ctrl:this,$element:n,set:function(e,o){e[o]=!0},unset:function(e,o){delete e[o]},parentForm:b,$animate:s}),this.$setPristine=function(){x.$dirty=!1,x.$pristine=!0,s.removeClass(n,wn),s.addClass(n,Nn)},this.$setDirty=function(){x.$dirty=!0,x.$pristine=!1,s.removeClass(n,Nn),s.addClass(n,wn),b.$setDirty()},this.$setUntouched=function(){x.$touched=!1,x.$untouched=!0,s.setClass(n,"ng-untouched","ng-touched")},this.$setTouched=function(){x.$touched=!0,x.$untouched=!1,s.setClass(n,"ng-touched","ng-untouched")},this.$rollbackViewValue=function(){g.cancel(S),x.$viewValue=x.$$lastCommittedViewValue,x.$render()},this.$validate=function(){if(!E(x.$modelValue)||!isNaN(x.$modelValue)){var e=x.$$rawModelValue,o=x.$valid,r=x.$modelValue,n=x.$options&&x.$options.allowInvalid;x.$$runValidators(e,x.$$lastCommittedViewValue,function(i){n||o===i||(x.$modelValue=i?e:t,x.$modelValue!==r&&x.$$writeModelToScope())})}},this.$$runValidators=function(e,o,r){function n(){var t=!0;return i(x.$validators,function(r,n){var i=r(e,o);t=t&&i,s(n,i)}),t?!0:(i(x.$asyncValidators,function(e,o){s(o,null)}),!1)}function a(){var r=[],n=!0;i(x.$asyncValidators,function(i,a){var g=i(e,o);if(!g||!T(g.then))throw On("$asyncValidators",g);s(a,t),r.push(g.then(function(){s(a,!0)},function(e){n=!1,s(a,!1)}))}),r.length?p.all(r).then(function(){g(n)},d):g(!0)}function s(e,o){l===P&&x.$setValidity(e,o)}function g(e){l===P&&r(e)}P++;var l=P;(function(){var e=x.$$parserName||"parse";return c!==t?(c||(i(x.$validators,function(e,o){s(o,null)}),i(x.$asyncValidators,function(e,o){s(o,null)})),s(e,c),c):(s(e,null),!0)})()&&n()?a():g(!1)},this.$commitViewValue=function(){var e=x.$viewValue;g.cancel(S),(x.$$lastCommittedViewValue!==e||""===e&&x.$$hasNativeValidators)&&(x.$$lastCommittedViewValue=e,x.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){var o=x.$$lastCommittedViewValue;if(c=y(o)?t:!0)for(var r=0;r<x.$parsers.length;r++)if(o=x.$parsers[r](o),y(o)){c=!1;break}E(x.$modelValue)&&isNaN(x.$modelValue)&&(x.$modelValue=v(e));var n=x.$modelValue,i=x.$options&&x.$options.allowInvalid;x.$$rawModelValue=o,i&&(x.$modelValue=o,x.$modelValue!==n&&x.$$writeModelToScope()),x.$$runValidators(o,x.$$lastCommittedViewValue,function(e){i||(x.$modelValue=e?o:t,x.$modelValue!==n&&x.$$writeModelToScope())})},this.$$writeModelToScope=function(){_(e,x.$modelValue),i(x.$viewChangeListeners,function(e){try{e()}catch(t){o(t)}})},this.$setViewValue=function(e,o){x.$viewValue=e,x.$options&&!x.$options.updateOnDefault||x.$$debounceViewValueCommit(o)},this.$$debounceViewValueCommit=function(o){var t=0,r=x.$options;r&&f(r.debounce)&&(r=r.debounce,E(r)?t=r:E(r[o])?t=r[o]:E(r["default"])&&(t=r["default"])),g.cancel(S),t?S=g(function(){x.$commitViewValue()},t):l.$$phase?x.$commitViewValue():e.$apply(function(){x.$commitViewValue()})},e.$watch(function(){var o=v(e);if(o!==x.$modelValue&&(x.$modelValue===x.$modelValue||o===o)){x.$modelValue=x.$$rawModelValue=o,c=t;for(var r=x.$formatters,n=r.length,i=o;n--;)i=r[n](i);x.$viewValue!==i&&(x.$viewValue=x.$$lastCommittedViewValue=i,x.$render(),x.$$runValidators(o,i,d))}return o})}],Gn=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Fn,priority:1,compile:function(o){return o.addClass(Nn).addClass("ng-untouched").addClass(Dn),{pre:function(e,o,t,r){var n=r[0],i=r[1]||zr;n.$$setOptions(r[2]&&r[2].$options),i.$addControl(n),t.$observe("name",function(e){n.$name!==e&&i.$$renameControl(n,e)}),e.$on("$destroy",function(){i.$removeControl(n)})},post:function(o,t,r,n){var i=n[0];i.$options&&i.$options.updateOn&&t.on(i.$options.updateOn,function(e){i.$$debounceViewValueCommit(e&&e.type)}),t.on("blur",function(t){i.$touched||(e.$$phase?o.$evalAsync(i.$setTouched):o.$apply(i.$setTouched))})}}}}}],kn=/(\s+|^)default(\s+|$)/,Un=function(){return{restrict:"A",controller:["$scope","$attrs",function(e,o){var r=this;this.$options=e.$eval(o.ngModelOptions),this.$options.updateOn!==t?(this.$options.updateOnDefault=!1,this.$options.updateOn=Ft(this.$options.updateOn.replace(kn,function(){return r.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},qn=gt({terminal:!0,priority:1e3}),$n=["$locale","$interpolate",function(e,o){var t=/{}/g,r=/^when(Minus)?(.+)$/;return{restrict:"EA",link:function(n,a,s){function g(e){a.text(e||"")}var l,p=s.count,u=s.$attr.when&&a.attr(s.$attr.when),c=s.offset||0,d=n.$eval(u)||{},h={},u=o.startSymbol(),m=o.endSymbol(),y=u+p+"-"+c+m,f=Nt.noop;i(s,function(e,o){var t=r.exec(o);t&&(t=(t[1]?"-":"")+bt(t[2]),d[t]=a.attr(s.$attr[o]))}),i(d,function(e,r){h[r]=o(e.replace(t,y))}),n.$watch(p,function(o){o=parseFloat(o);var t=isNaN(o);t||o in d||(o=e.pluralCat(o-c)),o===l||t&&isNaN(l)||(f(),f=n.$watch(h[o],g),l=o)})}}}],Bn=["$parse","$animate",function(e,a){var s=r("ngRepeat"),g=function(e,o,t,r,n,i,a){e[t]=r,n&&(e[n]=i),e.$index=o,e.$first=0===o,e.$last=o===a-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0===(1&o))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(r,l){var p=l.ngRepeat,u=o.createComment(" end ngRepeat: "+p+" "),c=p.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!c)throw s("iexp",p);var d=c[1],h=c[2],m=c[3],y=c[4],c=d.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/);if(!c)throw s("iidexp",d);var f=c[3]||c[1],v=c[2];if(m&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(m)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(m)))throw s("badident",m);var _,E,S,T,x={$id:Ae};return y?_=e(y):(S=function(e,o){return Ae(o)},T=function(e){return e}),function(e,o,r,l,c){_&&(E=function(o,t,r){return v&&(x[v]=o),x[f]=t,x.$index=r,_(e,x)});var d=re();e.$watchCollection(h,function(r){var l,h,y,_,x,b,P,M,C,R,A=o[0],D=re();if(m&&(e[m]=r),n(r))M=r,h=E||S;else{h=E||T,M=[];for(R in r)r.hasOwnProperty(R)&&"$"!=R.charAt(0)&&M.push(R);M.sort()}for(_=M.length,R=Array(_),l=0;_>l;l++)if(x=r===M?l:M[l],b=r[x],P=h(x,b,l),d[P])C=d[P],delete d[P],D[P]=C,R[l]=C;else{if(D[P])throw i(R,function(e){e&&e.scope&&(d[e.id]=e)}),s("dupes",p,P,b);R[l]={id:P,scope:t,clone:t},D[P]=!0}for(y in d){if(C=d[y],P=te(C.clone),a.leave(P),P[0].parentNode)for(l=0,h=P.length;h>l;l++)P[l].$$NG_REMOVED=!0;C.scope.$destroy()}for(l=0;_>l;l++)if(x=r===M?l:M[l],b=r[x],C=R[l],C.scope){y=A;do y=y.nextSibling;while(y&&y.$$NG_REMOVED);C.clone[0]!=y&&a.move(te(C.clone),null,Et(A)),A=C.clone[C.clone.length-1],g(C.scope,l,f,b,v,x,_)}else c(function(e,o){C.scope=o;var t=u.cloneNode(!1);e[e.length++]=t,a.enter(e,null,Et(A)),A=t,C.clone=e,D[C.id]=C,g(C.scope,l,f,b,v,x,_)});d=D})}}}}],jn=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(o,t,r){o.$watch(r.ngShow,function(o){e[o?"removeClass":"addClass"](t,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Vn=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(o,t,r){o.$watch(r.ngHide,function(o){e[o?"addClass":"removeClass"](t,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Hn=gt(function(e,o,t){e.$watch(t.ngStyle,function(e,t){t&&e!==t&&i(t,function(e,t){o.css(t,"")}),e&&o.css(e)},!0)}),Kn=["$animate",function(e){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(t,r,n,a){var s=[],g=[],l=[],p=[],u=function(e,o){return function(){e.splice(o,1)}};t.$watch(n.ngSwitch||n.on,function(t){var r,n;for(r=0,n=l.length;n>r;++r)e.cancel(l[r]);for(r=l.length=0,n=p.length;n>r;++r){var c=te(g[r].clone);p[r].$destroy(),(l[r]=e.leave(c)).then(u(l,r))}g.length=0,p.length=0,(s=a.cases["!"+t]||a.cases["?"])&&i(s,function(t){t.transclude(function(r,n){p.push(n);var i=t.element;r[r.length++]=o.createComment(" end ngSwitchWhen: "),g.push({clone:r}),e.enter(r,i.parent(),i)})})})}}}],Wn=gt({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,o,t,r,n){r.cases["!"+t.ngSwitchWhen]=r.cases["!"+t.ngSwitchWhen]||[],r.cases["!"+t.ngSwitchWhen].push({transclude:n,element:o})}}),Yn=gt({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,o,t,r,n){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:n,element:o})}}),Xn=gt({restrict:"EAC",link:function(e,o,t,n,i){if(!i)throw r("ngTransclude")("orphan",U(o));i(function(e){o.empty(),o.append(e)})}}),zn=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(o,t){"text/ng-template"==t.type&&e.put(t.id,o[0].text)}}}],Zn=r("ngOptions"),Jn=m({restrict:"A",terminal:!0}),Qn=["$compile","$parse",function(e,r){var n=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,a={$setViewValue:d};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(e,o,t){var r,n=this,i={},s=a;n.databound=t.ngModel,n.init=function(e,o,t){s=e,r=t},n.addOption=function(o,t){ee(o,'"option value"'),i[o]=!0,s.$viewValue==o&&(e.val(o),r.parent()&&r.remove()),t&&t[0].hasAttribute("selected")&&(t[0].selected=!0)},n.removeOption=function(e){this.hasOption(e)&&(delete i[e],s.$viewValue===e&&this.renderUnknownOption(e))},n.renderUnknownOption=function(o){o="? "+Ae(o)+" ?",r.val(o),e.prepend(r),e.val(o),r.prop("selected",!0)},n.hasOption=function(e){return i.hasOwnProperty(e)},o.$on("$destroy",function(){n.renderUnknownOption=d})}],link:function(a,s,g,l){function p(e,o,t,r){t.$render=function(){var e=t.$viewValue;r.hasOption(e)?(T.parent()&&T.remove(),o.val(e),""===e&&h.prop("selected",!0)):null==e&&h?o.val(""):r.renderUnknownOption(e)},o.on("change",function(){e.$apply(function(){T.parent()&&T.remove(),t.$setViewValue(o.val())})})}function u(e,o,t){var r;t.$render=function(){var e=new De(t.$viewValue);i(o.find("option"),function(o){o.selected=f(e.get(o.value))})},e.$watch(function(){w(r,t.$viewValue)||(r=N(t.$viewValue),t.$render())}),o.on("change",function(){e.$apply(function(){var e=[];i(o.find("option"),function(o){o.selected&&e.push(o.value)}),t.$setViewValue(e)})})}function c(o,a,s){function g(e,t,r){return w[x]=r,M&&(w[M]=t),e(o,w)}function l(e){var o;if(m)if(D&&Ot(e)){o=new De([]);for(var t=0;t<e.length;t++)o.put(g(D,null,e[t]),!0)}else o=new De(e);else D&&(e=g(D,null,e));return function(t,r){var n;return n=D?D:P?P:R,m?f(o.remove(g(n,t,r))):e===g(n,t,r)}}function p(){_||(o.$$postDigest(c),_=!0)}function u(e,o,t){e[o]=e[o]||0,e[o]+=t?1:-1}function c(){_=!1;var e,t,r,n,p,c={"":[]},h=[""];r=s.$viewValue,n=A(o)||[];var y,x,b,P,R=M?Object.keys(n).sort():n,I={};p=l(r);var O,F,G=!1;for(L={},P=0;b=R.length,b>P;P++)y=P,M&&(y=R[P],"$"===y.charAt(0))||(x=n[y],e=g(C,y,x)||"",(t=c[e])||(t=c[e]=[],h.push(e)),e=p(y,x),G=G||e,x=g(T,y,x),x=f(x)?x:"",F=D?D(o,w):M?R[P]:P,D&&(L[F]=y),t.push({id:F,label:x,selected:e}));for(m||(v||null===r?c[""].unshift({id:"",label:"",selected:!G}):G||c[""].unshift({id:"?",label:"",selected:!0})),y=0,R=h.length;R>y;y++){for(e=h[y],t=c[e],N.length<=y?(r={element:S.clone().attr("label",e),label:t.label},n=[r],N.push(n),a.append(r.element)):(n=N[y],r=n[0],r.label!=e&&r.element.attr("label",r.label=e)),G=null,P=0,b=t.length;b>P;P++)e=t[P],(p=n[P+1])?(G=p.element,p.label!==e.label&&(u(I,p.label,!1),u(I,e.label,!0),G.text(p.label=e.label),G.prop("label",p.label)),p.id!==e.id&&G.val(p.id=e.id),G[0].selected!==e.selected&&(G.prop("selected",p.selected=e.selected),_t&&G.prop("selected",p.selected))):(""===e.id&&v?O=v:(O=E.clone()).val(e.id).prop("selected",e.selected).attr("selected",e.selected).prop("label",e.label).text(e.label),n.push(p={element:O,label:e.label,id:e.id,selected:e.selected}),u(I,e.label,!0),G?G.after(O):r.element.append(O),G=O);for(P++;n.length>P;)e=n.pop(),u(I,e.label,!1),e.element.remove()}for(;N.length>y;){for(t=N.pop(),P=1;P<t.length;++P)u(I,t[P].label,!1);t[0].element.remove()}i(I,function(e,o){e>0?d.addOption(o):0>e&&d.removeOption(o)})}var h;if(!(h=y.match(n)))throw Zn("iexp",y,U(a));var T=r(h[2]||h[1]),x=h[4]||h[6],b=/ as /.test(h[0])&&h[1],P=b?r(b):null,M=h[5],C=r(h[3]||""),R=r(h[2]?h[1]:x),A=r(h[7]),D=h[8]?r(h[8]):null,L={},N=[[{element:a,label:""}]],w={};v&&(e(v)(o),v.removeClass("ng-scope"),v.remove()),a.empty(),a.on("change",function(){o.$apply(function(){var e,r=A(o)||[];if(m)e=[],i(a.val(),function(o){o=D?L[o]:o,e.push("?"===o?t:""===o?null:g(P?P:R,o,r[o]))});else{var n=D?L[a.val()]:a.val();e="?"===n?t:""===n?null:g(P?P:R,n,r[n])}s.$setViewValue(e),c()})}),s.$render=c,o.$watchCollection(A,p),o.$watchCollection(function(){var e,t=A(o);if(t&&Ot(t)){e=Array(t.length);for(var r=0,n=t.length;n>r;r++)e[r]=g(T,r,t[r])}else if(t)for(r in e={},t)t.hasOwnProperty(r)&&(e[r]=g(T,r,t[r]));return e},p),m&&o.$watchCollection(function(){return s.$modelValue},p)}if(l[1]){var d=l[0];l=l[1];var h,m=g.multiple,y=g.ngOptions,v=!1,_=!1,E=Et(o.createElement("option")),S=Et(o.createElement("optgroup")),T=E.clone();g=0;for(var x=s.children(),b=x.length;b>g;g++)if(""===x[g].value){h=v=x.eq(g);break}d.init(l,v,T),m&&(l.$isEmpty=function(e){return!e||0===e.length}),y?c(a,s,l):m?u(a,s,l):p(a,s,l,d)}}}}],ei=["$interpolate",function(e){var o={addOption:d,removeOption:d};return{restrict:"E",priority:100,compile:function(t,r){if(y(r.value)){var n=e(t.text(),!0);n||r.$set("value",t.text())}return function(e,t,r){var i=t.parent(),a=i.data("$selectController")||i.parent().data("$selectController");a&&a.databound||(a=o),n?e.$watch(n,function(e,o){r.$set("value",e),o!==e&&a.removeOption(o),a.addOption(e,t)}):a.addOption(r.value,t),t.on("$destroy",function(){a.removeOption(r.value)})}}}}],oi=m({restrict:"E",terminal:!1}),ti=function(){return{restrict:"A",require:"?ngModel",link:function(e,o,t,r){r&&(t.required=!0,r.$validators.required=function(e,o){return!t.required||!r.$isEmpty(o)},t.$observe("required",function(){r.$validate()}))}}},ri=function(){return{restrict:"A",require:"?ngModel",link:function(e,o,n,i){if(i){var a,s=n.ngPattern||n.pattern;n.$observe("pattern",function(e){if(_(e)&&0<e.length&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw r("ngPattern")("noregexp",s,e,U(o));a=e||t,i.$validate()}),i.$validators.pattern=function(e){return i.$isEmpty(e)||y(a)||a.test(e)}}}}},ni=function(){return{restrict:"A",require:"?ngModel",link:function(e,o,t,r){if(r){var n=-1;t.$observe("maxlength",function(e){e=u(e),n=isNaN(e)?-1:e,r.$validate()}),r.$validators.maxlength=function(e,o){return 0>n||r.$isEmpty(o)||o.length<=n}}}}},ii=function(){return{restrict:"A",require:"?ngModel",link:function(e,o,t,r){if(r){var n=0;t.$observe("minlength",function(e){n=u(e)||0,r.$validate()}),r.$validators.minlength=function(e,o){return r.$isEmpty(o)||o.length>=n}}}}};e.angular.bootstrap?console.log("WARNING: Tried to load angular more than once."):(Z(),ie(Nt),Et(o).ready(function(){K(o,W)}))}(window,document),!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}</style>'),function(e,o,t){"use strict";function r(e){return null!=e&&""!==e&&"hasOwnProperty"!==e&&s.test("."+e)}function n(e,o){if(!r(o))throw a("badmember",'Dotted member path "@{0}" is invalid.',o);for(var n=o.split("."),i=0,s=n.length;s>i&&e!==t;i++){var g=n[i];e=null!==e?e[g]:t}return e}function i(e,t){t=t||{},o.forEach(t,function(e,o){delete t[o]});for(var r in e)!e.hasOwnProperty(r)||"$"===r.charAt(0)&&"$"===r.charAt(1)||(t[r]=e[r]);return t}var a=o.$$minErr("$resource"),s=/^(\.[a-zA-Z_$][0-9a-zA-Z_$]*)+$/;o.module("ngResource",["ng"]).provider("$resource",function(){var e=this;this.defaults={stripTrailingSlashes:!0,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}}},this.$get=["$http","$q",function(r,s){function g(e){return l(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function l(e,o){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,o?"%20":"+")}function p(o,t){this.template=o,this.defaults=h({},e.defaults,t),this.urlParams={}}function u(g,l,f,v){function _(e,o){var t={};return o=h({},l,o),d(o,function(o,r){y(o)&&(o=o()),t[r]=o&&o.charAt&&"@"==o.charAt(0)?n(e,o.substr(1)):o}),t}function E(e){return e.resource}function S(e){i(e||{},this)}var T=new p(g,v);return f=h({},e.defaults.actions,f),S.prototype.toJSON=function(){var e=h({},this);return delete e.$promise,delete e.$resolved,e},d(f,function(e,n){var g=/^(POST|PUT|PATCH)$/i.test(e.method);S[n]=function(l,p,u,f){var v,x,b,P={};switch(arguments.length){case 4:b=f,x=u;case 3:case 2:if(!y(p)){P=l,v=p,x=u;break}if(y(l)){x=l,b=p;break}x=p,b=u;case 1:y(l)?x=l:g?v=l:P=l;break;case 0:break;default:throw a("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var M=this instanceof S,C=M?v:e.isArray?[]:new S(v),R={},A=e.interceptor&&e.interceptor.response||E,D=e.interceptor&&e.interceptor.responseError||t;d(e,function(e,o){"params"!=o&&"isArray"!=o&&"interceptor"!=o&&(R[o]=m(e))}),g&&(R.data=v),T.setUrlParams(R,h({},_(v,e.params||{}),P),e.url);var L=r(R).then(function(t){var r=t.data,s=C.$promise;if(r){if(o.isArray(r)!==!!e.isArray)throw a("badcfg","Error in resource configuration for action `{0}`. Expected response to contain an {1} but got an {2}",n,e.isArray?"array":"object",o.isArray(r)?"array":"object");e.isArray?(C.length=0,d(r,function(e){C.push("object"==typeof e?new S(e):e)})):(i(r,C),C.$promise=s)}return C.$resolved=!0,t.resource=C,t},function(e){return C.$resolved=!0,(b||c)(e),s.reject(e)});return L=L.then(function(e){var o=A(e);return(x||c)(o,e.headers),o},D),M?L:(C.$promise=L,C.$resolved=!1,C)},S.prototype["$"+n]=function(e,o,t){y(e)&&(t=o,o=e,e={});var r=S[n].call(this,e,this,o,t);return r.$promise||r}}),S.bind=function(e){return u(g,h({},l,e),f)},S}var c=o.noop,d=o.forEach,h=o.extend,m=o.copy,y=o.isFunction;return p.prototype={setUrlParams:function(e,t,r){var n,i,s=this,l=r||s.template,p=s.urlParams={};d(l.split(/\W/),function(e){if("hasOwnProperty"===e)throw a("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(e)&&e&&new RegExp("(^|[^\\\\]):"+e+"(\\W|$)").test(l)&&(p[e]=!0)}),l=l.replace(/\\:/g,":"),t=t||{},d(s.urlParams,function(e,r){n=t.hasOwnProperty(r)?t[r]:s.defaults[r],o.isDefined(n)&&null!==n?(i=g(n),l=l.replace(new RegExp(":"+r+"(\\W|$)","g"),function(e,o){return i+o})):l=l.replace(new RegExp("(/?):"+r+"(\\W|$)","g"),function(e,o,t){return"/"==t.charAt(0)?t:o+t})}),s.defaults.stripTrailingSlashes&&(l=l.replace(/\/+$/,"")||"/"),l=l.replace(/\/\.(?=\w+($|\?))/,"."),e.url=l.replace(/\/\\\./,"/."),d(t,function(o,t){s.urlParams[t]||(e.params=e.params||{},e.params[t]=o)})}},u}]})}(window,window.angular),angular.module("gettext",[]),angular.module("gettext").constant("gettext",function(e){return e}),angular.module("gettext").factory("gettextCatalog",["gettextPlurals","$http","$cacheFactory","$interpolate","$rootScope",function(e,o,t,r,n){function i(){n.$broadcast("gettextLanguageChanged")}var a,s=function(e){return a.debug&&a.currentLanguage!==a.baseLanguage?a.debugPrefix+e:e},g=function(e){return a.showTranslatedMarkers?a.translatedMarkerPrefix+e+a.translatedMarkerSuffix:e};return a={debug:!1,debugPrefix:"[MISSING]: ",showTranslatedMarkers:!1,translatedMarkerPrefix:"[",translatedMarkerSuffix:"]",strings:{},baseLanguage:"en",currentLanguage:"en",cache:t("strings"),setCurrentLanguage:function(e){this.currentLanguage=e,i()},setStrings:function(e,o){this.strings[e]||(this.strings[e]={});for(var t in o){var r=o[t];this.strings[e][t]="string"==typeof r?[r]:r}i()},getStringForm:function(e,o){var t=this.strings[this.currentLanguage]||{},r=t[e]||[];return r[o]},getString:function(e,o){return e=this.getStringForm(e,0)||s(e),e=o?r(e)(o):e,g(e)},getPlural:function(o,t,n,i){var a=e(this.currentLanguage,o);return t=this.getStringForm(t,a)||s(1===o?t:n),t=i?r(t)(i):t,g(t)},loadRemote:function(e){return o({method:"GET",url:e,cache:a.cache}).success(function(e){for(var o in e)a.setStrings(o,e[o])})}}}]),angular.module("gettext").directive("translate",["gettextCatalog","$parse","$animate","$compile",function(e,o,t,r){function n(e,o,t){if(!e)throw new Error("You should add a "+o+" attribute whenever you add a "+t+" attribute.")}var i=function(){return String.prototype.trim?function(e){return"string"==typeof e?e.trim():e}:function(e){return"string"==typeof e?e.replace(/^\s*/,"").replace(/\s*$/,""):e}}();return{restrict:"A",terminal:!0,compile:function(a,s){n(!s.translatePlural||s.translateN,"translate-n","translate-plural"),n(!s.translateN||s.translatePlural,"translate-plural","translate-n");var g=i(a.html()),l=s.translatePlural;return{post:function(n,i,a){function s(){var o;l?(n=u||(u=n.$new()),n.$count=p(n),o=e.getPlural(n.$count,g,l)):o=e.getString(g);var a=angular.element("<span>"+o+"</span>");r(a.contents())(n);var s=i.contents(),c=a.contents();t.enter(c,i),t.leave(s)}var p=o(a.translateN),u=null;a.translateN&&n.$watch(a.translateN,s),n.$on("gettextLanguageChanged",s),s()}}}}}]),angular.module("gettext").filter("translate",["gettextCatalog",function(e){function o(o){return e.getString(o)}return o.$stateful=!0,o}]),angular.module("gettext").factory("gettextPlurals",function(){return function(e,o){switch(e){case"ay":case"bo":case"cgg":case"dz":case"fa":case"id":case"ja":case"jbo":case"ka":case"kk":case"km":case"ko":case"ky":case"lo":case"ms":case"my":case"sah":case"su":case"th":case"tt":case"ug":case"vi":case"wo":case"zh":return 0;case"is":return o%10!=1||o%100==11?1:0;case"jv":return 0!=o?1:0;case"mk":return 1==o||o%10==1?0:1;case"ach":case"ak":case"am":case"arn":case"br":case"fil":case"fr":case"gun":case"ln":case"mfe":case"mg":case"mi":case"oc":case"pt_BR":case"tg":case"ti":case"tr":case"uz":case"wa":case"zh":return o>1?1:0;case"lv":return o%10==1&&o%100!=11?0:0!=o?1:2;case"lt":return o%10==1&&o%100!=11?0:o%10>=2&&(10>o%100||o%100>=20)?1:2;case"be":case"bs":case"hr":case"ru":case"sr":case"uk":return o%10==1&&o%100!=11?0:o%10>=2&&4>=o%10&&(10>o%100||o%100>=20)?1:2;case"mnk":return 0==o?0:1==o?1:2;case"ro":return 1==o?0:0==o||o%100>0&&20>o%100?1:2;case"pl":return 1==o?0:o%10>=2&&4>=o%10&&(10>o%100||o%100>=20)?1:2;case"cs":case"sk":return 1==o?0:o>=2&&4>=o?1:2;case"sl":return o%100==1?1:o%100==2?2:o%100==3||o%100==4?3:0;case"mt":return 1==o?0:0==o||o%100>1&&11>o%100?1:o%100>10&&20>o%100?2:3;case"gd":return 1==o||11==o?0:2==o||12==o?1:o>2&&20>o?2:3;case"cy":return 1==o?0:2==o?1:8!=o&&11!=o?2:3;case"kw":return 1==o?0:2==o?1:3==o?2:3;case"ga":return 1==o?0:2==o?1:7>o?2:11>o?3:4;case"ar":return 0==o?0:1==o?1:2==o?2:o%100>=3&&10>=o%100?3:o%100>=11?4:5;default:return 1!=o?1:0}}}),angular.module("ui.bootstrap",["ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.transition","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.collapse",[]).directive("collapse",["$animate",function(e){return{link:function(o,t,r){function n(){t.removeClass("collapse").addClass("collapsing"),e.addClass(t,"in",{to:{height:t[0].scrollHeight+"px"}}).then(i)}function i(){t.removeClass("collapsing"),t.css({height:"auto"})}function a(){t.css({height:t[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing"),e.removeClass(t,"in",{to:{height:"0"}}).then(s)}function s(){t.css({height:"0"}),t.removeClass("collapsing"),t.addClass("collapse")}o.$watch(r.collapse,function(e){e?a():n()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(e,o,t){this.groups=[],this.closeOthers=function(r){var n=angular.isDefined(o.closeOthers)?e.$eval(o.closeOthers):t.closeOthers;n&&angular.forEach(this.groups,function(e){e!==r&&(e.isOpen=!1)})},this.addGroup=function(e){var o=this;this.groups.push(e),e.$on("$destroy",function(t){o.removeGroup(e)})},this.removeGroup=function(e){var o=this.groups.indexOf(e);-1!==o&&this.groups.splice(o,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(e,o,t,r){r.addGroup(e),e.$watch("isOpen",function(o){o&&r.closeOthers(e)}),e.toggleOpen=function(){e.isDisabled||(e.isOpen=!e.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(e,o,t,r,n){r.setHeading(n(e,angular.noop))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(e,o,t,r){e.$watch(function(){return r[t.accordionTransclude]},function(e){e&&(o.html(""),o.append(e))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(e,o){
e.closeable="close"in o,this.close=e.close}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}).directive("dismissOnTimeout",["$timeout",function(e){return{require:"alert",link:function(o,t,r,n){e(function(){n.close()},parseInt(r.dismissOnTimeout,10))}}}]),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(e,o,t){o.addClass("ng-binding").data("$binding",t.bindHtmlUnsafe),e.$watch(t.bindHtmlUnsafe,function(e){o.html(e||"")})}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(e,o,t,r){var n=r[0],i=r[1];i.$render=function(){o.toggleClass(n.activeClass,angular.equals(i.$modelValue,e.$eval(t.btnRadio)))},o.bind(n.toggleEvent,function(){var r=o.hasClass(n.activeClass);(!r||angular.isDefined(t.uncheckable))&&e.$apply(function(){i.$setViewValue(r?null:e.$eval(t.btnRadio)),i.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(e,o,t,r){function n(){return a(t.btnCheckboxTrue,!0)}function i(){return a(t.btnCheckboxFalse,!1)}function a(o,t){var r=e.$eval(o);return angular.isDefined(r)?r:t}var s=r[0],g=r[1];g.$render=function(){o.toggleClass(s.activeClass,angular.equals(g.$modelValue,n()))},o.bind(s.toggleEvent,function(){e.$apply(function(){g.$setViewValue(o.hasClass(s.activeClass)?i():n()),g.$render()})})}}}),angular.module("ui.bootstrap.carousel",[]).controller("CarouselController",["$scope","$interval","$animate",function(e,o,t){function r(e){if(angular.isUndefined(p[e].index))return p[e];{var o;p.length}for(o=0;o<p.length;++o)if(p[o].index==e)return p[o]}function n(){i();var t=+e.interval;!isNaN(t)&&t>0&&(s=o(a,t))}function i(){s&&(o.cancel(s),s=null)}function a(){var o=+e.interval;g&&!isNaN(o)&&o>0?e.next():e.pause()}var s,g,l=this,p=l.slides=e.slides=[],u=-1;l.currentSlide=null;var c=!1;l.select=e.select=function(o,r){function i(){c||(angular.extend(o,{direction:r,active:!0}),angular.extend(l.currentSlide||{},{direction:r,active:!1}),t.enabled()&&!e.noTransition&&o.$element&&(e.$currentTransition=!0,o.$element.one("$animate:close",function(){e.$currentTransition=null})),l.currentSlide=o,u=a,n())}var a=l.indexOfSlide(o);void 0===r&&(r=a>l.getCurrentIndex()?"next":"prev"),o&&o!==l.currentSlide&&i()},e.$on("$destroy",function(){c=!0}),l.getCurrentIndex=function(){return l.currentSlide&&angular.isDefined(l.currentSlide.index)?+l.currentSlide.index:u},l.indexOfSlide=function(e){return angular.isDefined(e.index)?+e.index:p.indexOf(e)},e.next=function(){var o=(l.getCurrentIndex()+1)%p.length;return e.$currentTransition?void 0:l.select(r(o),"next")},e.prev=function(){var o=l.getCurrentIndex()-1<0?p.length-1:l.getCurrentIndex()-1;return e.$currentTransition?void 0:l.select(r(o),"prev")},e.isActive=function(e){return l.currentSlide===e},e.$watch("interval",n),e.$on("$destroy",i),e.play=function(){g||(g=!0,n())},e.pause=function(){e.noPause||(g=!1,i())},l.addSlide=function(o,t){o.$element=t,p.push(o),1===p.length||o.active?(l.select(p[p.length-1]),1==p.length&&e.play()):o.active=!1},l.removeSlide=function(e){angular.isDefined(e.index)&&p.sort(function(e,o){return+e.index>+o.index});var o=p.indexOf(e);p.splice(o,1),p.length>0&&e.active?l.select(o>=p.length?p[o-1]:p[o]):u>o&&u--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{active:"=?",index:"=?"},link:function(e,o,t,r){r.addSlide(e,o),e.$on("$destroy",function(){r.removeSlide(e)}),e.$watch("active",function(o){o&&r.select(e)})}}}).animation(".item",["$animate",function(e){return{beforeAddClass:function(o,t,r){if("active"==t&&o.parent()&&!o.parent().scope().noTransition){var n=!1,i=o.isolateScope().direction,a="next"==i?"left":"right";return o.addClass(i),e.addClass(o,a).then(function(){n||o.removeClass(a+" "+i),r()}),function(){n=!0}}r()},beforeRemoveClass:function(o,t,r){if("active"==t&&o.parent()&&!o.parent().scope().noTransition){var n=!1,i=o.isolateScope().direction,a="next"==i?"left":"right";return e.addClass(o,a).then(function(){n||o.removeClass(a),r()}),function(){n=!0}}r()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$locale","orderByFilter",function(e,o){function t(e){var t=[],r=e.split("");return angular.forEach(i,function(o,n){var i=e.indexOf(n);if(i>-1){e=e.split(""),r[i]="("+o.regex+")",e[i]="$";for(var a=i+1,s=i+n.length;s>a;a++)r[a]="",e[a]="$";e=e.join(""),t.push({index:i,apply:o.apply})}}),{regex:new RegExp("^"+r.join("")+"$"),map:o(t,"index")}}function r(e,o,t){return 1>t?!1:1===o&&t>28?29===t&&(e%4===0&&e%100!==0||e%400===0):3===o||5===o||8===o||10===o?31>t:!0}var n=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.parsers={};var i={yyyy:{regex:"\\d{4}",apply:function(e){this.year=+e}},yy:{regex:"\\d{2}",apply:function(e){this.year=+e+2e3}},y:{regex:"\\d{1,4}",apply:function(e){this.year=+e}},MMMM:{regex:e.DATETIME_FORMATS.MONTH.join("|"),apply:function(o){this.month=e.DATETIME_FORMATS.MONTH.indexOf(o)}},MMM:{regex:e.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(o){this.month=e.DATETIME_FORMATS.SHORTMONTH.indexOf(o)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1}},M:{regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},EEEE:{regex:e.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:e.DATETIME_FORMATS.SHORTDAY.join("|")},HH:{regex:"(?:0|1)[0-9]|2[0-3]",apply:function(e){this.hours=+e}},H:{regex:"1?[0-9]|2[0-3]",apply:function(e){this.hours=+e}},mm:{regex:"[0-5][0-9]",apply:function(e){this.minutes=+e}},m:{regex:"[0-9]|[1-5][0-9]",apply:function(e){this.minutes=+e}},sss:{regex:"[0-9][0-9][0-9]",apply:function(e){this.milliseconds=+e}},ss:{regex:"[0-5][0-9]",apply:function(e){this.seconds=+e}},s:{regex:"[0-9]|[1-5][0-9]",apply:function(e){this.seconds=+e}}};this.parse=function(o,i,a){if(!angular.isString(o)||!i)return o;i=e.DATETIME_FORMATS[i]||i,i=i.replace(n,"\\$&"),this.parsers[i]||(this.parsers[i]=t(i));var s=this.parsers[i],g=s.regex,l=s.map,p=o.match(g);if(p&&p.length){var u,c;u=a?{year:a.getFullYear(),month:a.getMonth(),date:a.getDate(),hours:a.getHours(),minutes:a.getMinutes(),seconds:a.getSeconds(),milliseconds:a.getMilliseconds()}:{year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0};for(var d=1,h=p.length;h>d;d++){var m=l[d-1];m.apply&&m.apply.call(u,p[d])}return r(u.year,u.month,u.date)&&(c=new Date(u.year,u.month,u.date,u.hours,u.minutes,u.seconds,u.milliseconds||0)),c}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(e,o){function t(e,t){return e.currentStyle?e.currentStyle[t]:o.getComputedStyle?o.getComputedStyle(e)[t]:e.style[t]}function r(e){return"static"===(t(e,"position")||"static")}var n=function(o){for(var t=e[0],n=o.offsetParent||t;n&&n!==t&&r(n);)n=n.offsetParent;return n||t};return{position:function(o){var t=this.offset(o),r={top:0,left:0},i=n(o[0]);i!=e[0]&&(r=this.offset(angular.element(i)),r.top+=i.clientTop-i.scrollTop,r.left+=i.clientLeft-i.scrollLeft);var a=o[0].getBoundingClientRect();return{width:a.width||o.prop("offsetWidth"),height:a.height||o.prop("offsetHeight"),top:t.top-r.top,left:t.left-r.left}},offset:function(t){var r=t[0].getBoundingClientRect();return{width:r.width||t.prop("offsetWidth"),height:r.height||t.prop("offsetHeight"),top:r.top+(o.pageYOffset||e[0].documentElement.scrollTop),left:r.left+(o.pageXOffset||e[0].documentElement.scrollLeft)}},positionElements:function(e,o,t,r){var n,i,a,s,g=t.split("-"),l=g[0],p=g[1]||"center";n=r?this.offset(e):this.position(e),i=o.prop("offsetWidth"),a=o.prop("offsetHeight");var u={center:function(){return n.left+n.width/2-i/2},left:function(){return n.left},right:function(){return n.left+n.width}},c={center:function(){return n.top+n.height/2-a/2},top:function(){return n.top},bottom:function(){return n.top+n.height}};switch(l){case"right":s={top:c[p](),left:u[l]()};break;case"left":s={top:c[p](),left:n.left-i};break;case"bottom":s={top:c[l](),left:u[p]()};break;default:s={top:n.top-a,left:u[p]()}}return s}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null,shortcutPropagation:!1}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$timeout","$log","dateFilter","datepickerConfig",function(e,o,t,r,n,i,a,s){var g=this,l={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","minMode","maxMode","showWeeks","startingDay","yearRange","shortcutPropagation"],function(t,n){g[t]=angular.isDefined(o[t])?8>n?r(o[t])(e.$parent):e.$parent.$eval(o[t]):s[t]}),angular.forEach(["minDate","maxDate"],function(r){o[r]?e.$parent.$watch(t(o[r]),function(e){g[r]=e?new Date(e):null,g.refreshView()}):g[r]=s[r]?new Date(s[r]):null}),e.datepickerMode=e.datepickerMode||s.datepickerMode,e.maxMode=g.maxMode,e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),angular.isDefined(o.initDate)?(this.activeDate=e.$parent.$eval(o.initDate)||new Date,e.$parent.$watch(o.initDate,function(e){e&&(l.$isEmpty(l.$modelValue)||l.$invalid)&&(g.activeDate=e,g.refreshView())})):this.activeDate=new Date,e.isActive=function(o){return 0===g.compare(o.date,g.activeDate)?(e.activeDateId=o.uid,!0):!1},this.init=function(e){l=e,l.$render=function(){g.render()}},this.render=function(){if(l.$viewValue){var e=new Date(l.$viewValue),o=!isNaN(e);o?this.activeDate=e:i.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),l.$setValidity("date",o)}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var e=l.$viewValue?new Date(l.$viewValue):null;l.$setValidity("date-disabled",!e||this.element&&!this.isDisabled(e))}},this.createDateObject=function(e,o){var t=l.$viewValue?new Date(l.$viewValue):null;return{date:e,label:a(e,o),selected:t&&0===this.compare(e,t),disabled:this.isDisabled(e),current:0===this.compare(e,new Date),customClass:this.customClass(e)}},this.isDisabled=function(t){return this.minDate&&this.compare(t,this.minDate)<0||this.maxDate&&this.compare(t,this.maxDate)>0||o.dateDisabled&&e.dateDisabled({date:t,mode:e.datepickerMode})},this.customClass=function(o){return e.customClass({date:o,mode:e.datepickerMode})},this.split=function(e,o){for(var t=[];e.length>0;)t.push(e.splice(0,o));return t},e.select=function(o){if(e.datepickerMode===g.minMode){var t=l.$viewValue?new Date(l.$viewValue):new Date(0,0,0,0,0,0,0);t.setFullYear(o.getFullYear(),o.getMonth(),o.getDate()),l.$setViewValue(t),l.$render()}else g.activeDate=o,e.datepickerMode=g.modes[g.modes.indexOf(e.datepickerMode)-1]},e.move=function(e){var o=g.activeDate.getFullYear()+e*(g.step.years||0),t=g.activeDate.getMonth()+e*(g.step.months||0);g.activeDate.setFullYear(o,t,1),g.refreshView()},e.toggleMode=function(o){o=o||1,e.datepickerMode===g.maxMode&&1===o||e.datepickerMode===g.minMode&&-1===o||(e.datepickerMode=g.modes[g.modes.indexOf(e.datepickerMode)+o])},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var p=function(){n(function(){g.element[0].focus()},0,!1)};e.$on("datepicker.focus",p),e.keydown=function(o){var t=e.keys[o.which];if(t&&!o.shiftKey&&!o.altKey)if(o.preventDefault(),g.shortcutPropagation||o.stopPropagation(),"enter"===t||"space"===t){if(g.isDisabled(g.activeDate))return;e.select(g.activeDate),p()}else!o.ctrlKey||"up"!==t&&"down"!==t?(g.handleKeyDown(t,o),g.refreshView()):(e.toggleMode("up"===t?1:-1),p())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(e,o,t,r){var n=r[0],i=r[1];i&&n.init(i)}}}).directive("daypicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(o,t,r,n){function i(e,o){return 1!==o||e%4!==0||e%100===0&&e%400!==0?g[o]:29}function a(e,o){var t=new Array(o),r=new Date(e),n=0;for(r.setHours(12);o>n;)t[n++]=new Date(r),r.setDate(r.getDate()+1);return t}function s(e){var o=new Date(e);o.setDate(o.getDate()+4-(o.getDay()||7));var t=o.getTime();return o.setMonth(0),o.setDate(1),Math.floor(Math.round((t-o)/864e5)/7)+1}o.showWeeks=n.showWeeks,n.step={months:1},n.element=t;var g=[31,28,31,30,31,30,31,31,30,31,30,31];n._refreshView=function(){var t=n.activeDate.getFullYear(),r=n.activeDate.getMonth(),i=new Date(t,r,1),g=n.startingDay-i.getDay(),l=g>0?7-g:-g,p=new Date(i);l>0&&p.setDate(-l+1);for(var u=a(p,42),c=0;42>c;c++)u[c]=angular.extend(n.createDateObject(u[c],n.formatDay),{secondary:u[c].getMonth()!==r,uid:o.uniqueId+"-"+c});o.labels=new Array(7);for(var d=0;7>d;d++)o.labels[d]={abbr:e(u[d].date,n.formatDayHeader),full:e(u[d].date,"EEEE")};if(o.title=e(n.activeDate,n.formatDayTitle),o.rows=n.split(u,7),o.showWeeks){o.weekNumbers=[];for(var h=(11-n.startingDay)%7,m=o.rows.length,y=0;m>y;y++)o.weekNumbers.push(s(o.rows[y][h].date))}},n.compare=function(e,o){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(o.getFullYear(),o.getMonth(),o.getDate())},n.handleKeyDown=function(e,o){var t=n.activeDate.getDate();if("left"===e)t-=1;else if("up"===e)t-=7;else if("right"===e)t+=1;else if("down"===e)t+=7;else if("pageup"===e||"pagedown"===e){var r=n.activeDate.getMonth()+("pageup"===e?-1:1);n.activeDate.setMonth(r,1),t=Math.min(i(n.activeDate.getFullYear(),n.activeDate.getMonth()),t)}else"home"===e?t=1:"end"===e&&(t=i(n.activeDate.getFullYear(),n.activeDate.getMonth()));n.activeDate.setDate(t)},n.refreshView()}}}]).directive("monthpicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(o,t,r,n){n.step={years:1},n.element=t,n._refreshView=function(){for(var t=new Array(12),r=n.activeDate.getFullYear(),i=0;12>i;i++)t[i]=angular.extend(n.createDateObject(new Date(r,i,1),n.formatMonth),{uid:o.uniqueId+"-"+i});o.title=e(n.activeDate,n.formatMonthTitle),o.rows=n.split(t,3)},n.compare=function(e,o){return new Date(e.getFullYear(),e.getMonth())-new Date(o.getFullYear(),o.getMonth())},n.handleKeyDown=function(e,o){var t=n.activeDate.getMonth();if("left"===e)t-=1;else if("up"===e)t-=3;else if("right"===e)t+=1;else if("down"===e)t+=3;else if("pageup"===e||"pagedown"===e){var r=n.activeDate.getFullYear()+("pageup"===e?-1:1);n.activeDate.setFullYear(r)}else"home"===e?t=0:"end"===e&&(t=11);n.activeDate.setMonth(t)},n.refreshView()}}}]).directive("yearpicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(e,o,t,r){function n(e){return parseInt((e-1)/i,10)*i+1}var i=r.yearRange;r.step={years:i},r.element=o,r._refreshView=function(){for(var o=new Array(i),t=0,a=n(r.activeDate.getFullYear());i>t;t++)o[t]=angular.extend(r.createDateObject(new Date(a+t,0,1),r.formatYear),{uid:e.uniqueId+"-"+t});e.title=[o[0].label,o[i-1].label].join(" - "),e.rows=r.split(o,5)},r.compare=function(e,o){return e.getFullYear()-o.getFullYear()},r.handleKeyDown=function(e,o){var t=r.activeDate.getFullYear();"left"===e?t-=1:"up"===e?t-=5:"right"===e?t+=1:"down"===e?t+=5:"pageup"===e||"pagedown"===e?t+=("pageup"===e?-1:1)*r.step.years:"home"===e?t=n(r.activeDate.getFullYear()):"end"===e&&(t=n(r.activeDate.getFullYear())+i-1),r.activeDate.setFullYear(t)},r.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","dateParser","datepickerPopupConfig",function(e,o,t,r,n,i,a){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(s,g,l,p){function u(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function c(e){if(angular.isNumber(e)&&(e=new Date(e)),e){if(angular.isDate(e)&&!isNaN(e))return e;if(angular.isString(e)){var o=i.parse(e,h,s.date)||new Date(e);return isNaN(o)?void 0:o}return void 0}return null}function d(e,o){var t=e||o;if(angular.isNumber(t)&&(t=new Date(t)),t){if(angular.isDate(t)&&!isNaN(t))return!0;if(angular.isString(t)){var r=i.parse(t,h)||new Date(t);return!isNaN(r)}return!1}return!0}var h,m=angular.isDefined(l.closeOnDateSelection)?s.$parent.$eval(l.closeOnDateSelection):a.closeOnDateSelection,y=angular.isDefined(l.datepickerAppendToBody)?s.$parent.$eval(l.datepickerAppendToBody):a.appendToBody;s.showButtonBar=angular.isDefined(l.showButtonBar)?s.$parent.$eval(l.showButtonBar):a.showButtonBar,s.getText=function(e){return s[e+"Text"]||a[e+"Text"]};var f=!1;if(a.html5Types[l.type]?(h=a.html5Types[l.type],f=!0):(h=l.datepickerPopup||a.datepickerPopup,l.$observe("datepickerPopup",function(e,o){var t=e||a.datepickerPopup;if(t!==h&&(h=t,p.$modelValue=null,!h))throw new Error("datepickerPopup must have a date format specified.")})),!h)throw new Error("datepickerPopup must have a date format specified.");if(f&&l.datepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");var v=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");v.attr({"ng-model":"date","ng-change":"dateSelection()"});var _=angular.element(v.children()[0]);if(f&&"month"==l.type&&(_.attr("datepicker-mode",'"month"'),_.attr("min-mode","month")),l.datepickerOptions){var E=s.$parent.$eval(l.datepickerOptions);E.initDate&&(s.initDate=E.initDate,_.attr("init-date","initDate"),delete E.initDate),angular.forEach(E,function(e,o){_.attr(u(o),e)})}s.watchData={},angular.forEach(["minDate","maxDate","datepickerMode","initDate","shortcutPropagation"],function(e){if(l[e]){var t=o(l[e]);if(s.$parent.$watch(t,function(o){s.watchData[e]=o}),_.attr(u(e),"watchData."+e),"datepickerMode"===e){var r=t.assign;s.$watch("watchData."+e,function(e,o){e!==o&&r(s.$parent,e)})}}}),l.dateDisabled&&_.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),l.showWeeks&&_.attr("show-weeks",l.showWeeks),l.customClass&&_.attr("custom-class","customClass({ date: date, mode: mode })"),f?p.$formatters.push(function(e){return s.date=e,e}):(p.$$parserName="date",p.$validators.date=d,p.$parsers.unshift(c),p.$formatters.push(function(e){return s.date=e,p.$isEmpty(e)?e:n(e,h)})),s.dateSelection=function(e){angular.isDefined(e)&&(s.date=e);var o=s.date?n(s.date,h):"";g.val(o),p.$setViewValue(o),m&&(s.isOpen=!1,g[0].focus())},p.$viewChangeListeners.push(function(){s.date=i.parse(p.$viewValue,h,s.date)||new Date(p.$viewValue)});var S=function(e){s.isOpen&&e.target!==g[0]&&s.$apply(function(){s.isOpen=!1})},T=function(e,o){s.keydown(e)};g.bind("keydown",T),s.keydown=function(e){27===e.which?(e.preventDefault(),s.isOpen&&e.stopPropagation(),s.close()):40!==e.which||s.isOpen||(s.isOpen=!0)},s.$watch("isOpen",function(e){e?(s.$broadcast("datepicker.focus"),s.position=y?r.offset(g):r.position(g),s.position.top=s.position.top+g.prop("offsetHeight"),t.bind("click",S)):t.unbind("click",S)}),s.select=function(e){if("today"===e){var o=new Date;angular.isDate(s.date)?(e=new Date(s.date),e.setFullYear(o.getFullYear(),o.getMonth(),o.getDate())):e=new Date(o.setHours(0,0,0,0))}s.dateSelection(e)},s.close=function(){s.isOpen=!1,g[0].focus()};var x=e(v)(s);v.remove(),y?t.find("body").append(x):g.after(x),s.$on("$destroy",function(){x.remove(),g.unbind("keydown",T),t.unbind("click",S)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(e,o,t){o.bind("click",function(e){e.preventDefault(),e.stopPropagation()})}}}),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document","$rootScope",function(e,o){var t=null;this.open=function(o){t||(e.bind("click",r),e.bind("keydown",n)),t&&t!==o&&(t.isOpen=!1),t=o},this.close=function(o){t===o&&(t=null,e.unbind("click",r),e.unbind("keydown",n))};var r=function(e){if(t&&(!e||"disabled"!==t.getAutoClose())){var r=t.getToggleElement();if(!(e&&r&&r[0].contains(e.target))){var n=t.getElement();e&&"outsideClick"===t.getAutoClose()&&n&&n[0].contains(e.target)||(t.isOpen=!1,o.$$phase||t.$apply())}}},n=function(e){27===e.which&&(t.focusToggleElement(),r())}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate","$position","$document",function(e,o,t,r,n,i,a,s){var g,l=this,p=e.$new(),u=r.openClass,c=angular.noop,d=o.onToggle?t(o.onToggle):angular.noop,h=!1;this.init=function(r){l.$element=r,o.isOpen&&(g=t(o.isOpen),c=g.assign,e.$watch(g,function(e){p.isOpen=!!e})),h=angular.isDefined(o.dropdownAppendToBody),h&&l.dropdownMenu&&(s.find("body").append(l.dropdownMenu),r.on("$destroy",function(){l.dropdownMenu.remove()}))},this.toggle=function(e){return p.isOpen=arguments.length?!!e:!p.isOpen},this.isOpen=function(){return p.isOpen},p.getToggleElement=function(){return l.toggleElement},p.getAutoClose=function(){return o.autoClose||"always"},p.getElement=function(){return l.$element},p.focusToggleElement=function(){l.toggleElement&&l.toggleElement[0].focus()},p.$watch("isOpen",function(o,t){if(h&&l.dropdownMenu){var r=a.positionElements(l.$element,l.dropdownMenu,"bottom-left",!0);l.dropdownMenu.css({top:r.top+"px",left:r.left+"px",display:o?"block":"none"})}i[o?"addClass":"removeClass"](l.$element,u),o?(p.focusToggleElement(),n.open(p)):n.close(p),c(e,o),angular.isDefined(o)&&o!==t&&d(e,{open:!!o})}),e.$on("$locationChangeSuccess",function(){p.isOpen=!1}),e.$on("$destroy",function(){p.$destroy()})}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(e,o,t,r){r.init(o)}}}).directive("dropdownMenu",function(){return{restrict:"AC",require:"?^dropdown",link:function(e,o,t,r){r&&(r.dropdownMenu=o)}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(e,o,t,r){if(r){r.toggleElement=o;var n=function(n){n.preventDefault(),o.hasClass("disabled")||t.disabled||e.$apply(function(){r.toggle()})};o.bind("click",n),o.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(r.isOpen,function(e){o.attr("aria-expanded",!!e)}),e.$on("$destroy",function(){o.unbind("click",n)})}}}}),angular.module("ui.bootstrap.modal",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(o,t){e.push({key:o,value:t})},get:function(o){for(var t=0;t<e.length;t++)if(o==e[t].key)return e[t]},keys:function(){for(var o=[],t=0;t<e.length;t++)o.push(e[t].key);return o},top:function(){return e[e.length-1]},remove:function(o){for(var t=-1,r=0;r<e.length;r++)if(o==e[r].key){t=r;break}return e.splice(t,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}).directive("modalBackdrop",["$timeout",function(e){function o(o,t,r){o.animate=!1,e(function(){o.animate=!0})}return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(e,t){return e.addClass(t.backdropClass),o}}}]).directive("modalWindow",["$modalStack","$q",function(e,o){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:function(e,o){return o.templateUrl||"template/modal/window.html"},link:function(t,r,n){r.addClass(n.windowClass||""),t.size=n.size,t.close=function(o){var t=e.getTop();t&&t.value.backdrop&&"static"!=t.value.backdrop&&o.target===o.currentTarget&&(o.preventDefault(),o.stopPropagation(),e.dismiss(t.key,"backdrop click"))},t.$isRendered=!0;var i=o.defer();n.$observe("modalRender",function(e){"true"==e&&i.resolve()}),i.promise.then(function(){t.animate=!0;var o=r[0].querySelectorAll("[autofocus]");o.length?o[0].focus():r[0].focus();var n=e.getTop();n&&e.modalRendered(n.key)})}}}]).directive("modalAnimationClass",[function(){return{compile:function(e,o){o.modalAnimation&&e.addClass(o.modalAnimationClass)}}}]).directive("modalTransclude",function(){return{link:function(e,o,t,r,n){n(e.$parent,function(e){o.empty(),o.append(e)})}}}).factory("$modalStack",["$animate","$timeout","$document","$compile","$rootScope","$$stackedMap",function(e,o,t,r,n,i){function a(){for(var e=-1,o=h.keys(),t=0;t<o.length;t++)h.get(o[t]).value.backdrop&&(e=t);return e}function s(e){var o=t.find("body").eq(0),r=h.get(e).value;h.remove(e),l(r.modalDomEl,r.modalScope,function(){o.toggleClass(d,h.length()>0),g()})}function g(){if(u&&-1==a()){var e=c;l(u,c,function(){e=null}),u=void 0,c=void 0}}function l(t,r,i){function a(){a.done||(a.done=!0,t.remove(),r.$destroy(),i&&i())}r.animate=!1,t.attr("modal-animation")&&e.enabled()?t.one("$animate:close",function(){n.$evalAsync(a)}):o(a)}function p(e,o,t){return!e.value.modalScope.$broadcast("modal.closing",o,t).defaultPrevented}var u,c,d="modal-open",h=i.createNew(),m={};return n.$watch(a,function(e){c&&(c.index=e)}),t.bind("keydown",function(e){var o;27===e.which&&(o=h.top(),o&&o.value.keyboard&&(e.preventDefault(),n.$apply(function(){m.dismiss(o.key,"escape key press")})))}),m.open=function(e,o){var i=t[0].activeElement;h.add(e,{deferred:o.deferred,renderDeferred:o.renderDeferred,modalScope:o.scope,backdrop:o.backdrop,keyboard:o.keyboard});var s=t.find("body").eq(0),g=a();if(g>=0&&!u){c=n.$new(!0),c.index=g;var l=angular.element('<div modal-backdrop="modal-backdrop"></div>');l.attr("backdrop-class",o.backdropClass),o.animation&&l.attr("modal-animation","true"),u=r(l)(c),s.append(u)}var p=angular.element('<div modal-window="modal-window"></div>');p.attr({"template-url":o.windowTemplateUrl,"window-class":o.windowClass,size:o.size,index:h.length()-1,animate:"animate"}).html(o.content),o.animation&&p.attr("modal-animation","true");var m=r(p)(o.scope);h.top().value.modalDomEl=m,h.top().value.modalOpener=i,s.append(m),s.addClass(d)},m.close=function(e,o){var t=h.get(e);return t&&p(t,o,!0)?(t.value.deferred.resolve(o),s(e),t.value.modalOpener.focus(),!0):!t},m.dismiss=function(e,o){var t=h.get(e);return t&&p(t,o,!1)?(t.value.deferred.reject(o),s(e),t.value.modalOpener.focus(),!0):!t},m.dismissAll=function(e){for(var o=this.getTop();o&&this.dismiss(o.key,e);)o=this.getTop()},m.getTop=function(){return h.top()},m.modalRendered=function(e){var o=h.get(e);o&&o.value.renderDeferred.resolve()},m}]).provider("$modal",function(){var e={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$templateRequest","$controller","$modalStack",function(o,t,r,n,i,a){function s(e){return e.template?r.when(e.template):n(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl)}function g(e){var t=[];return angular.forEach(e,function(e){(angular.isFunction(e)||angular.isArray(e))&&t.push(r.when(o.invoke(e)))}),t}var l={};return l.open=function(o){var n=r.defer(),l=r.defer(),p=r.defer(),u={result:n.promise,opened:l.promise,rendered:p.promise,close:function(e){return a.close(u,e)},dismiss:function(e){return a.dismiss(u,e)}};if(o=angular.extend({},e.options,o),o.resolve=o.resolve||{},!o.template&&!o.templateUrl)throw new Error("One of template or templateUrl options is required.");var c=r.all([s(o)].concat(g(o.resolve)));return c.then(function(e){var r=(o.scope||t).$new();r.$close=u.close,r.$dismiss=u.dismiss;var s,g={},l=1;o.controller&&(g.$scope=r,g.$modalInstance=u,angular.forEach(o.resolve,function(o,t){g[t]=e[l++]}),s=i(o.controller,g),o.controllerAs&&(r[o.controllerAs]=s)),a.open(u,{scope:r,deferred:n,renderDeferred:p,content:e[0],animation:o.animation,backdrop:o.backdrop,keyboard:o.keyboard,backdropClass:o.backdropClass,windowClass:o.windowClass,windowTemplateUrl:o.windowTemplateUrl,size:o.size})},function(e){n.reject(e)}),c.then(function(){l.resolve(!0)},function(e){l.reject(e)}),u},l}]};return e}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(e,o,t){var r=this,n={$setViewValue:angular.noop},i=o.numPages?t(o.numPages).assign:angular.noop;this.init=function(a,s){n=a,this.config=s,n.$render=function(){r.render()},o.itemsPerPage?e.$parent.$watch(t(o.itemsPerPage),function(o){r.itemsPerPage=parseInt(o,10),e.totalPages=r.calculateTotalPages()}):this.itemsPerPage=s.itemsPerPage,e.$watch("totalItems",function(){e.totalPages=r.calculateTotalPages()}),e.$watch("totalPages",function(o){i(e.$parent,o),e.page>o?e.selectPage(o):n.$render()})},this.calculateTotalPages=function(){var o=this.itemsPerPage<1?1:Math.ceil(e.totalItems/this.itemsPerPage);return Math.max(o||0,1)},this.render=function(){e.page=parseInt(n.$viewValue,10)||1},e.selectPage=function(o,t){e.page!==o&&o>0&&o<=e.totalPages&&(t&&t.target&&t.target.blur(),n.$setViewValue(o),n.$render())},e.getText=function(o){return e[o+"Text"]||r.config[o+"Text"]},e.noPrevious=function(){return 1===e.page},e.noNext=function(){return e.page===e.totalPages}}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(e,o){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@"},require:["pagination","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(t,r,n,i){function a(e,o,t){return{number:e,text:o,active:t}}function s(e,o){var t=[],r=1,n=o,i=angular.isDefined(p)&&o>p;i&&(u?(r=Math.max(e-Math.floor(p/2),1),n=r+p-1,n>o&&(n=o,r=n-p+1)):(r=(Math.ceil(e/p)-1)*p+1,n=Math.min(r+p-1,o)));for(var s=r;n>=s;s++){var g=a(s,s,s===e);t.push(g)}if(i&&!u){if(r>1){var l=a(r-1,"...",!1);t.unshift(l)}if(o>n){var c=a(n+1,"...",!1);t.push(c)}}return t}var g=i[0],l=i[1];if(l){var p=angular.isDefined(n.maxSize)?t.$parent.$eval(n.maxSize):o.maxSize,u=angular.isDefined(n.rotate)?t.$parent.$eval(n.rotate):o.rotate;t.boundaryLinks=angular.isDefined(n.boundaryLinks)?t.$parent.$eval(n.boundaryLinks):o.boundaryLinks,t.directionLinks=angular.isDefined(n.directionLinks)?t.$parent.$eval(n.directionLinks):o.directionLinks,g.init(l,o),n.maxSize&&t.$parent.$watch(e(n.maxSize),function(e){p=parseInt(e,10),g.render()});var c=g.render;g.render=function(){c(),t.page>0&&t.page<=t.totalPages&&(t.pages=s(t.page,t.totalPages))}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(e){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["pager","?ngModel"],controller:"PaginationController",
templateUrl:"template/pagination/pager.html",replace:!0,link:function(o,t,r,n){var i=n[0],a=n[1];a&&(o.align=angular.isDefined(r.align)?o.$parent.$eval(r.align):e.align,i.init(a,e))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function e(e){var o=/[A-Z]/g,t="-";return e.replace(o,function(e,o){return(o?t:"")+e.toLowerCase()})}var o={placement:"top",animation:!0,popupDelay:0,useContentExp:!1},t={mouseenter:"mouseleave",click:"click",focus:"blur"},r={};this.options=function(e){angular.extend(r,e)},this.setTriggers=function(e){angular.extend(t,e)},this.$get=["$window","$compile","$timeout","$document","$position","$interpolate",function(n,i,a,s,g,l){return function(n,p,u,c){function d(e){var o=e||c.trigger||u,r=t[o]||o;return{show:o,hide:r}}c=angular.extend({},o,r,c);var h=e(n),m=l.startSymbol(),y=l.endSymbol(),f="<div "+h+'-popup title="'+m+"title"+y+'" '+(c.useContentExp?'content-exp="contentExp()" ':'content="'+m+"content"+y+'" ')+'placement="'+m+"placement"+y+'" popup-class="'+m+"popupClass"+y+'" animation="animation" is-open="isOpen"origin-scope="origScope" ></div>';return{restrict:"EA",compile:function(e,o){var t=i(f);return function(e,o,r,i){function l(){L.isOpen?h():u()}function u(){(!D||e.$eval(r[p+"Enable"]))&&(_(),L.popupDelay?C||(C=a(m,L.popupDelay,!1),C.then(function(e){e()})):m()())}function h(){e.$apply(function(){y()})}function m(){return C=null,M&&(a.cancel(M),M=null),(c.useContentExp?L.contentExp():L.content)?(f(),b.css({top:0,left:0,display:"block"}),L.$digest(),N(),L.isOpen=!0,L.$apply(),N):angular.noop}function y(){L.isOpen=!1,a.cancel(C),C=null,L.animation?M||(M=a(v,500)):v()}function f(){b&&v(),P=L.$new(),b=t(P,function(e){R?s.find("body").append(e):o.after(e)}),P.$watch(function(){a(N,0,!1)}),c.useContentExp&&P.$watch("contentExp()",function(e){!e&&L.isOpen&&y()})}function v(){M=null,b&&(b.remove(),b=null),P&&(P.$destroy(),P=null)}function _(){E(),S(),T()}function E(){L.popupClass=r[p+"Class"]}function S(){var e=r[p+"Placement"];L.placement=angular.isDefined(e)?e:c.placement}function T(){var e=r[p+"PopupDelay"],o=parseInt(e,10);L.popupDelay=isNaN(o)?c.popupDelay:o}function x(){var e=r[p+"Trigger"];w(),A=d(e),A.show===A.hide?o.bind(A.show,l):(o.bind(A.show,u),o.bind(A.hide,h))}var b,P,M,C,R=angular.isDefined(c.appendToBody)?c.appendToBody:!1,A=d(void 0),D=angular.isDefined(r[p+"Enable"]),L=e.$new(!0),N=function(){if(b){var e=g.positionElements(o,b,L.placement,R);e.top+="px",e.left+="px",b.css(e)}};L.origScope=e,L.isOpen=!1,L.contentExp=function(){return e.$eval(r[n])},c.useContentExp||r.$observe(n,function(e){L.content=e,!e&&L.isOpen&&y()}),r.$observe("disabled",function(e){e&&L.isOpen&&y()}),r.$observe(p+"Title",function(e){L.title=e});var w=function(){o.unbind(A.show,u),o.unbind(A.hide,h)};x();var I=e.$eval(r[p+"Animation"]);L.animation=angular.isDefined(I)?!!I:c.animation;var O=e.$eval(r[p+"AppendToBody"]);R=angular.isDefined(O)?O:R,R&&e.$on("$locationChangeSuccess",function(){L.isOpen&&y()}),e.$on("$destroy",function(){a.cancel(M),a.cancel(C),w(),v(),L=null})}}}}}]}).directive("tooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(e,o,t,r){return{link:function(n,i,a){var s,g,l,p=n.$eval(a.tooltipTemplateTranscludeScope),u=0,c=function(){g&&(g.remove(),g=null),s&&(s.$destroy(),s=null),l&&(e.leave(l).then(function(){g=null}),g=l,l=null)};n.$watch(o.parseAsResourceUrl(a.tooltipTemplateTransclude),function(o){var a=++u;o?(r(o,!0).then(function(r){if(a===u){var n=p.$new(),g=r,d=t(g)(n,function(o){c(),e.enter(o,i)});s=n,l=d,s.$emit("$includeContentLoaded",o)}},function(){a===u&&(c(),n.$emit("$includeContentError",o))}),n.$emit("$includeContentRequested",o)):c()}),n.$on("$destroy",c)}}}]).directive("tooltipClasses",function(){return{restrict:"A",link:function(e,o,t){e.placement&&o.addClass(e.placement),e.popupClass&&o.addClass(e.popupClass),e.animation()&&o.addClass(t.tooltipAnimationClass)}}}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(e){return e("tooltip","tooltip","mouseenter")}]).directive("tooltipTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html"}}).directive("tooltipTemplate",["$tooltip",function(e){return e("tooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlPopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html"}}).directive("tooltipHtml",["$tooltip",function(e){return e("tooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).value("tooltipHtmlUnsafeSuppressDeprecated",!1).directive("tooltipHtmlUnsafe",["$tooltip","tooltipHtmlUnsafeSuppressDeprecated","$log",function(e,o,t){return o||t.warn("tooltip-html-unsafe is now deprecated. Use tooltip-html or tooltip-template instead."),e("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html"}}).directive("popoverTemplate",["$tooltip",function(e){return e("popoverTemplate","popover","click",{useContentExp:!0})}]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(e){return e("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function(e,o,t){var r=this,n=angular.isDefined(o.animate)?e.$parent.$eval(o.animate):t.animate;this.bars=[],e.max=angular.isDefined(e.max)?e.max:t.max,this.addBar=function(o,t){n||t.css({transition:"none"}),this.bars.push(o),o.$watch("value",function(t){o.percent=+(100*t/e.max).toFixed(2)}),o.$on("$destroy",function(){t=null,r.removeBar(o)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(e,o,t,r){r.addBar(e,o)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(e,o,t,r){r.addBar(e,angular.element(o.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","ratingConfig",function(e,o,t){var r={$setViewValue:angular.noop};this.init=function(n){r=n,r.$render=this.render,r.$formatters.push(function(e){return angular.isNumber(e)&&e<<0!==e&&(e=Math.round(e)),e}),this.stateOn=angular.isDefined(o.stateOn)?e.$parent.$eval(o.stateOn):t.stateOn,this.stateOff=angular.isDefined(o.stateOff)?e.$parent.$eval(o.stateOff):t.stateOff;var i=angular.isDefined(o.ratingStates)?e.$parent.$eval(o.ratingStates):new Array(angular.isDefined(o.max)?e.$parent.$eval(o.max):t.max);e.range=this.buildTemplateObjects(i)},this.buildTemplateObjects=function(e){for(var o=0,t=e.length;t>o;o++)e[o]=angular.extend({index:o},{stateOn:this.stateOn,stateOff:this.stateOff},e[o]);return e},e.rate=function(o){!e.readonly&&o>=0&&o<=e.range.length&&(r.$setViewValue(o),r.$render())},e.enter=function(o){e.readonly||(e.value=o),e.onHover({value:o})},e.reset=function(){e.value=r.$viewValue,e.onLeave()},e.onKeydown=function(o){/(37|38|39|40)/.test(o.which)&&(o.preventDefault(),o.stopPropagation(),e.rate(e.value+(38===o.which||39===o.which?1:-1)))},this.render=function(){e.value=r.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(e,o,t,r){var n=r[0],i=r[1];n.init(i)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(e){var o=this,t=o.tabs=e.tabs=[];o.select=function(e){angular.forEach(t,function(o){o.active&&o!==e&&(o.active=!1,o.onDeselect())}),e.active=!0,e.onSelect()},o.addTab=function(e){t.push(e),1===t.length&&e.active!==!1?e.active=!0:e.active?o.select(e):e.active=!1},o.removeTab=function(e){var n=t.indexOf(e);if(e.active&&t.length>1&&!r){var i=n==t.length-1?n-1:n+1;o.select(t[i])}t.splice(n,1)};var r;e.$on("$destroy",function(){r=!0})}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(e,o,t){e.vertical=angular.isDefined(t.vertical)?e.$parent.$eval(t.vertical):!1,e.justified=angular.isDefined(t.justified)?e.$parent.$eval(t.justified):!1}}}).directive("tab",["$parse","$log",function(e,o){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(t,r,n){return function(t,r,i,a){t.$watch("active",function(e){e&&a.select(t)}),t.disabled=!1,i.disable&&t.$parent.$watch(e(i.disable),function(e){t.disabled=!!e}),i.disabled&&(o.warn('Use of "disabled" attribute has been deprecated, please use "disable"'),t.$parent.$watch(e(i.disabled),function(e){t.disabled=!!e})),t.select=function(){t.disabled||(t.active=!0)},a.addTab(t),t.$on("$destroy",function(){a.removeTab(t)}),t.$transcludeFn=n}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(e,o,t,r){e.$watch("headingElement",function(e){e&&(o.html(""),o.append(e))})}}}]).directive("tabContentTransclude",function(){function e(e){return e.tagName&&(e.hasAttribute("tab-heading")||e.hasAttribute("data-tab-heading")||"tab-heading"===e.tagName.toLowerCase()||"data-tab-heading"===e.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(o,t,r){var n=o.$eval(r.tabContentTransclude);n.$transcludeFn(n.$parent,function(o){angular.forEach(o,function(o){e(o)?n.headingElement=o:t.append(o)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(e,o,t,r,n,i){function a(){var o=parseInt(e.hours,10),t=e.showMeridian?o>0&&13>o:o>=0&&24>o;return t?(e.showMeridian&&(12===o&&(o=0),e.meridian===m[1]&&(o+=12)),o):void 0}function s(){var o=parseInt(e.minutes,10);return o>=0&&60>o?o:void 0}function g(e){return angular.isDefined(e)&&e.toString().length<2?"0"+e:e.toString()}function l(e){p(),h.$setViewValue(new Date(d)),u(e)}function p(){h.$setValidity("time",!0),e.invalidHours=!1,e.invalidMinutes=!1}function u(o){var t=d.getHours(),r=d.getMinutes();e.showMeridian&&(t=0===t||12===t?12:t%12),e.hours="h"===o?t:g(t),"m"!==o&&(e.minutes=g(r)),e.meridian=d.getHours()<12?m[0]:m[1]}function c(e){var o=new Date(d.getTime()+6e4*e);d.setHours(o.getHours(),o.getMinutes()),l()}var d=new Date,h={$setViewValue:angular.noop},m=angular.isDefined(o.meridians)?e.$parent.$eval(o.meridians):i.meridians||n.DATETIME_FORMATS.AMPMS;this.init=function(t,r){h=t,h.$render=this.render,h.$formatters.unshift(function(e){return e?new Date(e):null});var n=r.eq(0),a=r.eq(1),s=angular.isDefined(o.mousewheel)?e.$parent.$eval(o.mousewheel):i.mousewheel;s&&this.setupMousewheelEvents(n,a);var g=angular.isDefined(o.arrowkeys)?e.$parent.$eval(o.arrowkeys):i.arrowkeys;g&&this.setupArrowkeyEvents(n,a),e.readonlyInput=angular.isDefined(o.readonlyInput)?e.$parent.$eval(o.readonlyInput):i.readonlyInput,this.setupInputEvents(n,a)};var y=i.hourStep;o.hourStep&&e.$parent.$watch(t(o.hourStep),function(e){y=parseInt(e,10)});var f=i.minuteStep;o.minuteStep&&e.$parent.$watch(t(o.minuteStep),function(e){f=parseInt(e,10)}),e.showMeridian=i.showMeridian,o.showMeridian&&e.$parent.$watch(t(o.showMeridian),function(o){if(e.showMeridian=!!o,h.$error.time){var t=a(),r=s();angular.isDefined(t)&&angular.isDefined(r)&&(d.setHours(t),l())}else u()}),this.setupMousewheelEvents=function(o,t){var r=function(e){e.originalEvent&&(e=e.originalEvent);var o=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||o>0};o.bind("mousewheel wheel",function(o){e.$apply(r(o)?e.incrementHours():e.decrementHours()),o.preventDefault()}),t.bind("mousewheel wheel",function(o){e.$apply(r(o)?e.incrementMinutes():e.decrementMinutes()),o.preventDefault()})},this.setupArrowkeyEvents=function(o,t){o.bind("keydown",function(o){38===o.which?(o.preventDefault(),e.incrementHours(),e.$apply()):40===o.which&&(o.preventDefault(),e.decrementHours(),e.$apply())}),t.bind("keydown",function(o){38===o.which?(o.preventDefault(),e.incrementMinutes(),e.$apply()):40===o.which&&(o.preventDefault(),e.decrementMinutes(),e.$apply())})},this.setupInputEvents=function(o,t){if(e.readonlyInput)return e.updateHours=angular.noop,void(e.updateMinutes=angular.noop);var r=function(o,t){h.$setViewValue(null),h.$setValidity("time",!1),angular.isDefined(o)&&(e.invalidHours=o),angular.isDefined(t)&&(e.invalidMinutes=t)};e.updateHours=function(){var e=a();angular.isDefined(e)?(d.setHours(e),l("h")):r(!0)},o.bind("blur",function(o){!e.invalidHours&&e.hours<10&&e.$apply(function(){e.hours=g(e.hours)})}),e.updateMinutes=function(){var e=s();angular.isDefined(e)?(d.setMinutes(e),l("m")):r(void 0,!0)},t.bind("blur",function(o){!e.invalidMinutes&&e.minutes<10&&e.$apply(function(){e.minutes=g(e.minutes)})})},this.render=function(){var e=h.$viewValue;isNaN(e)?(h.$setValidity("time",!1),r.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(e&&(d=e),p(),u())},e.incrementHours=function(){c(60*y)},e.decrementHours=function(){c(60*-y)},e.incrementMinutes=function(){c(f)},e.decrementMinutes=function(){c(-f)},e.toggleMeridian=function(){c(720*(d.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(e,o,t,r){var n=r[0],i=r[1];i&&n.init(i,o.find("input"))}}}),angular.module("ui.bootstrap.transition",[]).value("$transitionSuppressDeprecated",!1).factory("$transition",["$q","$timeout","$rootScope","$log","$transitionSuppressDeprecated",function(e,o,t,r,n){function i(e){for(var o in e)if(void 0!==s.style[o])return e[o]}n||r.warn("$transition is now deprecated. Use $animate from ngAnimate instead.");var a=function(r,n,i){i=i||{};var s=e.defer(),g=a[i.animation?"animationEndEventName":"transitionEndEventName"],l=function(e){t.$apply(function(){r.unbind(g,l),s.resolve(r)})};return g&&r.bind(g,l),o(function(){angular.isString(n)?r.addClass(n):angular.isFunction(n)?n(r):angular.isObject(n)&&r.css(n),g||s.resolve(r)}),s.promise.cancel=function(){g&&r.unbind(g,l),s.reject("Transition cancelled")},s.promise},s=document.createElement("trans"),g={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},l={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return a.transitionEndEventName=i(g),a.animationEndEventName=i(l),a}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(e){var o=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(t){var r=t.match(o);if(!r)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+t+'".');return{itemName:r[3],source:e(r[4]),viewMapper:e(r[2]||r[1]),modelMapper:e(r[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(e,o,t,r,n,i,a){var s=[9,13,27,38,40];return{require:"ngModel",link:function(g,l,p,u){var c,d=g.$eval(p.typeaheadMinLength)||1,h=g.$eval(p.typeaheadWaitMs)||0,m=g.$eval(p.typeaheadEditable)!==!1,y=o(p.typeaheadLoading).assign||angular.noop,f=o(p.typeaheadOnSelect),v=p.typeaheadInputFormatter?o(p.typeaheadInputFormatter):void 0,_=p.typeaheadAppendToBody?g.$eval(p.typeaheadAppendToBody):!1,E=g.$eval(p.typeaheadFocusFirst)!==!1,S=o(p.ngModel).assign,T=a.parse(p.typeahead),x=g.$new();g.$on("$destroy",function(){x.$destroy()});var b="typeahead-"+x.$id+"-"+Math.floor(1e4*Math.random());l.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":b});var P=angular.element("<div typeahead-popup></div>");P.attr({id:b,matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(p.typeaheadTemplateUrl)&&P.attr("template-url",p.typeaheadTemplateUrl);var M=function(){x.matches=[],x.activeIdx=-1,l.attr("aria-expanded",!1)},C=function(e){return b+"-option-"+e};x.$watch("activeIdx",function(e){0>e?l.removeAttr("aria-activedescendant"):l.attr("aria-activedescendant",C(e))});var R=function(e){var o={$viewValue:e};y(g,!0),t.when(T.source(g,o)).then(function(t){var r=e===u.$viewValue;if(r&&c)if(t&&t.length>0){x.activeIdx=E?0:-1,x.matches.length=0;for(var n=0;n<t.length;n++)o[T.itemName]=t[n],x.matches.push({id:C(n),label:T.viewMapper(x,o),model:t[n]});x.query=e,x.position=_?i.offset(l):i.position(l),x.position.top=x.position.top+l.prop("offsetHeight"),l.attr("aria-expanded",!0)}else M();r&&y(g,!1)},function(){M(),y(g,!1)})};M(),x.query=void 0;var A,D=function(e){A=r(function(){R(e)},h)},L=function(){A&&r.cancel(A)};u.$parsers.unshift(function(e){return c=!0,e&&e.length>=d?h>0?(L(),D(e)):R(e):(y(g,!1),L(),M()),m?e:e?void u.$setValidity("editable",!1):(u.$setValidity("editable",!0),e)}),u.$formatters.push(function(e){var o,t,r={};return m||u.$setValidity("editable",!0),v?(r.$model=e,v(g,r)):(r[T.itemName]=e,o=T.viewMapper(g,r),r[T.itemName]=void 0,t=T.viewMapper(g,r),o!==t?o:e)}),x.select=function(e){var o,t,n={};n[T.itemName]=t=x.matches[e].model,o=T.modelMapper(g,n),S(g,o),u.$setValidity("editable",!0),u.$setValidity("parse",!0),f(g,{$item:t,$model:o,$label:T.viewMapper(g,n)}),M(),r(function(){l[0].focus()},0,!1)},l.bind("keydown",function(e){0!==x.matches.length&&-1!==s.indexOf(e.which)&&(-1!=x.activeIdx||13!==e.which&&9!==e.which)&&(e.preventDefault(),40===e.which?(x.activeIdx=(x.activeIdx+1)%x.matches.length,x.$digest()):38===e.which?(x.activeIdx=(x.activeIdx>0?x.activeIdx:x.matches.length)-1,x.$digest()):13===e.which||9===e.which?x.$apply(function(){x.select(x.activeIdx)}):27===e.which&&(e.stopPropagation(),M(),x.$digest()))}),l.bind("blur",function(e){c=!1});var N=function(e){l[0]!==e.target&&(M(),x.$digest())};n.bind("click",N),g.$on("$destroy",function(){n.unbind("click",N),_&&w.remove(),P.remove()});var w=e(P)(x);_?n.find("body").append(w):l.after(w)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(e,o,t){e.templateUrl=t.templateUrl,e.isOpen=function(){return e.matches.length>0},e.isActive=function(o){return e.active==o},e.selectActive=function(o){e.active=o},e.selectMatch=function(o){e.select({activeIdx:o})}}}}).directive("typeaheadMatch",["$templateRequest","$compile","$parse",function(e,o,t){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(r,n,i){var a=t(i.templateUrl)(r.$parent)||"template/typeahead/typeahead-match.html";e(a).then(function(e){o(e.trim())(r,function(e){n.replaceWith(e)})})}}}]).filter("typeaheadHighlight",function(){function e(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(o,t){return t?(""+o).replace(new RegExp(e(t),"gi"),"<strong>$&</strong>"):o}}),!angular.$$csp()&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.transition","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-popup.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/tooltip/tooltip-template-popup.html","template/popover/popover-template.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("collapse",["$animate",function(e){return{link:function(o,t,r){function n(){t.removeClass("collapse").addClass("collapsing"),e.addClass(t,"in",{to:{height:t[0].scrollHeight+"px"}}).then(i)}function i(){t.removeClass("collapsing"),t.css({height:"auto"})}function a(){t.css({height:t[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing"),e.removeClass(t,"in",{to:{height:"0"}}).then(s)}function s(){t.css({height:"0"}),t.removeClass("collapsing"),t.addClass("collapse")}o.$watch(r.collapse,function(e){e?a():n()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(e,o,t){this.groups=[],this.closeOthers=function(r){var n=angular.isDefined(o.closeOthers)?e.$eval(o.closeOthers):t.closeOthers;n&&angular.forEach(this.groups,function(e){e!==r&&(e.isOpen=!1)})},this.addGroup=function(e){var o=this;this.groups.push(e),e.$on("$destroy",function(t){o.removeGroup(e)})},this.removeGroup=function(e){var o=this.groups.indexOf(e);-1!==o&&this.groups.splice(o,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(e,o,t,r){r.addGroup(e),e.$watch("isOpen",function(o){o&&r.closeOthers(e)}),e.toggleOpen=function(){e.isDisabled||(e.isOpen=!e.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(e,o,t,r,n){r.setHeading(n(e,angular.noop))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(e,o,t,r){e.$watch(function(){return r[t.accordionTransclude]},function(e){e&&(o.html(""),o.append(e))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(e,o){e.closeable="close"in o,this.close=e.close}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}).directive("dismissOnTimeout",["$timeout",function(e){return{require:"alert",link:function(o,t,r,n){e(function(){n.close()},parseInt(r.dismissOnTimeout,10))}}}]),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(e,o,t){o.addClass("ng-binding").data("$binding",t.bindHtmlUnsafe),e.$watch(t.bindHtmlUnsafe,function(e){o.html(e||"")})}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(e,o,t,r){var n=r[0],i=r[1];i.$render=function(){o.toggleClass(n.activeClass,angular.equals(i.$modelValue,e.$eval(t.btnRadio)))},o.bind(n.toggleEvent,function(){var r=o.hasClass(n.activeClass);(!r||angular.isDefined(t.uncheckable))&&e.$apply(function(){i.$setViewValue(r?null:e.$eval(t.btnRadio)),i.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(e,o,t,r){function n(){return a(t.btnCheckboxTrue,!0)}function i(){return a(t.btnCheckboxFalse,!1)}function a(o,t){var r=e.$eval(o);return angular.isDefined(r)?r:t}var s=r[0],g=r[1];g.$render=function(){o.toggleClass(s.activeClass,angular.equals(g.$modelValue,n()))},o.bind(s.toggleEvent,function(){e.$apply(function(){g.$setViewValue(o.hasClass(s.activeClass)?i():n()),g.$render()})})}}}),angular.module("ui.bootstrap.carousel",[]).controller("CarouselController",["$scope","$interval","$animate",function(e,o,t){function r(e){if(angular.isUndefined(p[e].index))return p[e];{var o;p.length}for(o=0;o<p.length;++o)if(p[o].index==e)return p[o]}function n(){i();var t=+e.interval;!isNaN(t)&&t>0&&(s=o(a,t))}function i(){s&&(o.cancel(s),s=null)}function a(){var o=+e.interval;g&&!isNaN(o)&&o>0?e.next():e.pause()}var s,g,l=this,p=l.slides=e.slides=[],u=-1;l.currentSlide=null;var c=!1;l.select=e.select=function(o,r){function i(){c||(angular.extend(o,{direction:r,active:!0}),angular.extend(l.currentSlide||{},{direction:r,active:!1}),t.enabled()&&!e.noTransition&&o.$element&&(e.$currentTransition=!0,o.$element.one("$animate:close",function(){e.$currentTransition=null})),l.currentSlide=o,u=a,n())}var a=l.indexOfSlide(o);void 0===r&&(r=a>l.getCurrentIndex()?"next":"prev"),o&&o!==l.currentSlide&&i()},e.$on("$destroy",function(){c=!0}),l.getCurrentIndex=function(){return l.currentSlide&&angular.isDefined(l.currentSlide.index)?+l.currentSlide.index:u},l.indexOfSlide=function(e){return angular.isDefined(e.index)?+e.index:p.indexOf(e)},e.next=function(){var o=(l.getCurrentIndex()+1)%p.length;return e.$currentTransition?void 0:l.select(r(o),"next")},e.prev=function(){var o=l.getCurrentIndex()-1<0?p.length-1:l.getCurrentIndex()-1;return e.$currentTransition?void 0:l.select(r(o),"prev")},e.isActive=function(e){return l.currentSlide===e},e.$watch("interval",n),e.$on("$destroy",i),e.play=function(){g||(g=!0,n())},e.pause=function(){e.noPause||(g=!1,i())},l.addSlide=function(o,t){o.$element=t,p.push(o),1===p.length||o.active?(l.select(p[p.length-1]),1==p.length&&e.play()):o.active=!1},l.removeSlide=function(e){angular.isDefined(e.index)&&p.sort(function(e,o){return+e.index>+o.index});var o=p.indexOf(e);p.splice(o,1),p.length>0&&e.active?l.select(o>=p.length?p[o-1]:p[o]):u>o&&u--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{active:"=?",index:"=?"},link:function(e,o,t,r){r.addSlide(e,o),e.$on("$destroy",function(){r.removeSlide(e)}),e.$watch("active",function(o){o&&r.select(e)})}}}).animation(".item",["$animate",function(e){return{beforeAddClass:function(o,t,r){if("active"==t&&o.parent()&&!o.parent().scope().noTransition){var n=!1,i=o.isolateScope().direction,a="next"==i?"left":"right";return o.addClass(i),e.addClass(o,a).then(function(){n||o.removeClass(a+" "+i),r()}),function(){n=!0}}r()},beforeRemoveClass:function(o,t,r){if("active"==t&&o.parent()&&!o.parent().scope().noTransition){var n=!1,i=o.isolateScope().direction,a="next"==i?"left":"right";return e.addClass(o,a).then(function(){n||o.removeClass(a),r()}),function(){n=!0}}r()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$locale","orderByFilter",function(e,o){function t(e){var t=[],r=e.split("");return angular.forEach(i,function(o,n){var i=e.indexOf(n);if(i>-1){e=e.split(""),r[i]="("+o.regex+")",e[i]="$";for(var a=i+1,s=i+n.length;s>a;a++)r[a]="",e[a]="$";e=e.join(""),t.push({index:i,apply:o.apply})}}),{regex:new RegExp("^"+r.join("")+"$"),map:o(t,"index")}}function r(e,o,t){return 1>t?!1:1===o&&t>28?29===t&&(e%4===0&&e%100!==0||e%400===0):3===o||5===o||8===o||10===o?31>t:!0}var n=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.parsers={};var i={yyyy:{regex:"\\d{4}",apply:function(e){this.year=+e}},yy:{regex:"\\d{2}",apply:function(e){this.year=+e+2e3}},y:{regex:"\\d{1,4}",apply:function(e){this.year=+e}},MMMM:{regex:e.DATETIME_FORMATS.MONTH.join("|"),apply:function(o){this.month=e.DATETIME_FORMATS.MONTH.indexOf(o)}},MMM:{regex:e.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(o){this.month=e.DATETIME_FORMATS.SHORTMONTH.indexOf(o)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1}},M:{regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},EEEE:{regex:e.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:e.DATETIME_FORMATS.SHORTDAY.join("|")},HH:{regex:"(?:0|1)[0-9]|2[0-3]",apply:function(e){this.hours=+e}},H:{regex:"1?[0-9]|2[0-3]",apply:function(e){this.hours=+e}},mm:{regex:"[0-5][0-9]",apply:function(e){this.minutes=+e}},m:{regex:"[0-9]|[1-5][0-9]",apply:function(e){this.minutes=+e}},sss:{regex:"[0-9][0-9][0-9]",apply:function(e){this.milliseconds=+e}},ss:{regex:"[0-5][0-9]",apply:function(e){this.seconds=+e}},s:{regex:"[0-9]|[1-5][0-9]",apply:function(e){this.seconds=+e}}};this.parse=function(o,i,a){if(!angular.isString(o)||!i)return o;i=e.DATETIME_FORMATS[i]||i,i=i.replace(n,"\\$&"),this.parsers[i]||(this.parsers[i]=t(i));var s=this.parsers[i],g=s.regex,l=s.map,p=o.match(g);if(p&&p.length){var u,c;u=a?{year:a.getFullYear(),month:a.getMonth(),date:a.getDate(),hours:a.getHours(),minutes:a.getMinutes(),seconds:a.getSeconds(),milliseconds:a.getMilliseconds()
}:{year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0};for(var d=1,h=p.length;h>d;d++){var m=l[d-1];m.apply&&m.apply.call(u,p[d])}return r(u.year,u.month,u.date)&&(c=new Date(u.year,u.month,u.date,u.hours,u.minutes,u.seconds,u.milliseconds||0)),c}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(e,o){function t(e,t){return e.currentStyle?e.currentStyle[t]:o.getComputedStyle?o.getComputedStyle(e)[t]:e.style[t]}function r(e){return"static"===(t(e,"position")||"static")}var n=function(o){for(var t=e[0],n=o.offsetParent||t;n&&n!==t&&r(n);)n=n.offsetParent;return n||t};return{position:function(o){var t=this.offset(o),r={top:0,left:0},i=n(o[0]);i!=e[0]&&(r=this.offset(angular.element(i)),r.top+=i.clientTop-i.scrollTop,r.left+=i.clientLeft-i.scrollLeft);var a=o[0].getBoundingClientRect();return{width:a.width||o.prop("offsetWidth"),height:a.height||o.prop("offsetHeight"),top:t.top-r.top,left:t.left-r.left}},offset:function(t){var r=t[0].getBoundingClientRect();return{width:r.width||t.prop("offsetWidth"),height:r.height||t.prop("offsetHeight"),top:r.top+(o.pageYOffset||e[0].documentElement.scrollTop),left:r.left+(o.pageXOffset||e[0].documentElement.scrollLeft)}},positionElements:function(e,o,t,r){var n,i,a,s,g=t.split("-"),l=g[0],p=g[1]||"center";n=r?this.offset(e):this.position(e),i=o.prop("offsetWidth"),a=o.prop("offsetHeight");var u={center:function(){return n.left+n.width/2-i/2},left:function(){return n.left},right:function(){return n.left+n.width}},c={center:function(){return n.top+n.height/2-a/2},top:function(){return n.top},bottom:function(){return n.top+n.height}};switch(l){case"right":s={top:c[p](),left:u[l]()};break;case"left":s={top:c[p](),left:n.left-i};break;case"bottom":s={top:c[l](),left:u[p]()};break;default:s={top:n.top-a,left:u[p]()}}return s}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null,shortcutPropagation:!1}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$timeout","$log","dateFilter","datepickerConfig",function(e,o,t,r,n,i,a,s){var g=this,l={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","minMode","maxMode","showWeeks","startingDay","yearRange","shortcutPropagation"],function(t,n){g[t]=angular.isDefined(o[t])?8>n?r(o[t])(e.$parent):e.$parent.$eval(o[t]):s[t]}),angular.forEach(["minDate","maxDate"],function(r){o[r]?e.$parent.$watch(t(o[r]),function(e){g[r]=e?new Date(e):null,g.refreshView()}):g[r]=s[r]?new Date(s[r]):null}),e.datepickerMode=e.datepickerMode||s.datepickerMode,e.maxMode=g.maxMode,e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),angular.isDefined(o.initDate)?(this.activeDate=e.$parent.$eval(o.initDate)||new Date,e.$parent.$watch(o.initDate,function(e){e&&(l.$isEmpty(l.$modelValue)||l.$invalid)&&(g.activeDate=e,g.refreshView())})):this.activeDate=new Date,e.isActive=function(o){return 0===g.compare(o.date,g.activeDate)?(e.activeDateId=o.uid,!0):!1},this.init=function(e){l=e,l.$render=function(){g.render()}},this.render=function(){if(l.$viewValue){var e=new Date(l.$viewValue),o=!isNaN(e);o?this.activeDate=e:i.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),l.$setValidity("date",o)}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var e=l.$viewValue?new Date(l.$viewValue):null;l.$setValidity("date-disabled",!e||this.element&&!this.isDisabled(e))}},this.createDateObject=function(e,o){var t=l.$viewValue?new Date(l.$viewValue):null;return{date:e,label:a(e,o),selected:t&&0===this.compare(e,t),disabled:this.isDisabled(e),current:0===this.compare(e,new Date),customClass:this.customClass(e)}},this.isDisabled=function(t){return this.minDate&&this.compare(t,this.minDate)<0||this.maxDate&&this.compare(t,this.maxDate)>0||o.dateDisabled&&e.dateDisabled({date:t,mode:e.datepickerMode})},this.customClass=function(o){return e.customClass({date:o,mode:e.datepickerMode})},this.split=function(e,o){for(var t=[];e.length>0;)t.push(e.splice(0,o));return t},e.select=function(o){if(e.datepickerMode===g.minMode){var t=l.$viewValue?new Date(l.$viewValue):new Date(0,0,0,0,0,0,0);t.setFullYear(o.getFullYear(),o.getMonth(),o.getDate()),l.$setViewValue(t),l.$render()}else g.activeDate=o,e.datepickerMode=g.modes[g.modes.indexOf(e.datepickerMode)-1]},e.move=function(e){var o=g.activeDate.getFullYear()+e*(g.step.years||0),t=g.activeDate.getMonth()+e*(g.step.months||0);g.activeDate.setFullYear(o,t,1),g.refreshView()},e.toggleMode=function(o){o=o||1,e.datepickerMode===g.maxMode&&1===o||e.datepickerMode===g.minMode&&-1===o||(e.datepickerMode=g.modes[g.modes.indexOf(e.datepickerMode)+o])},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var p=function(){n(function(){g.element[0].focus()},0,!1)};e.$on("datepicker.focus",p),e.keydown=function(o){var t=e.keys[o.which];if(t&&!o.shiftKey&&!o.altKey)if(o.preventDefault(),g.shortcutPropagation||o.stopPropagation(),"enter"===t||"space"===t){if(g.isDisabled(g.activeDate))return;e.select(g.activeDate),p()}else!o.ctrlKey||"up"!==t&&"down"!==t?(g.handleKeyDown(t,o),g.refreshView()):(e.toggleMode("up"===t?1:-1),p())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(e,o,t,r){var n=r[0],i=r[1];i&&n.init(i)}}}).directive("daypicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(o,t,r,n){function i(e,o){return 1!==o||e%4!==0||e%100===0&&e%400!==0?g[o]:29}function a(e,o){var t=new Array(o),r=new Date(e),n=0;for(r.setHours(12);o>n;)t[n++]=new Date(r),r.setDate(r.getDate()+1);return t}function s(e){var o=new Date(e);o.setDate(o.getDate()+4-(o.getDay()||7));var t=o.getTime();return o.setMonth(0),o.setDate(1),Math.floor(Math.round((t-o)/864e5)/7)+1}o.showWeeks=n.showWeeks,n.step={months:1},n.element=t;var g=[31,28,31,30,31,30,31,31,30,31,30,31];n._refreshView=function(){var t=n.activeDate.getFullYear(),r=n.activeDate.getMonth(),i=new Date(t,r,1),g=n.startingDay-i.getDay(),l=g>0?7-g:-g,p=new Date(i);l>0&&p.setDate(-l+1);for(var u=a(p,42),c=0;42>c;c++)u[c]=angular.extend(n.createDateObject(u[c],n.formatDay),{secondary:u[c].getMonth()!==r,uid:o.uniqueId+"-"+c});o.labels=new Array(7);for(var d=0;7>d;d++)o.labels[d]={abbr:e(u[d].date,n.formatDayHeader),full:e(u[d].date,"EEEE")};if(o.title=e(n.activeDate,n.formatDayTitle),o.rows=n.split(u,7),o.showWeeks){o.weekNumbers=[];for(var h=(11-n.startingDay)%7,m=o.rows.length,y=0;m>y;y++)o.weekNumbers.push(s(o.rows[y][h].date))}},n.compare=function(e,o){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(o.getFullYear(),o.getMonth(),o.getDate())},n.handleKeyDown=function(e,o){var t=n.activeDate.getDate();if("left"===e)t-=1;else if("up"===e)t-=7;else if("right"===e)t+=1;else if("down"===e)t+=7;else if("pageup"===e||"pagedown"===e){var r=n.activeDate.getMonth()+("pageup"===e?-1:1);n.activeDate.setMonth(r,1),t=Math.min(i(n.activeDate.getFullYear(),n.activeDate.getMonth()),t)}else"home"===e?t=1:"end"===e&&(t=i(n.activeDate.getFullYear(),n.activeDate.getMonth()));n.activeDate.setDate(t)},n.refreshView()}}}]).directive("monthpicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(o,t,r,n){n.step={years:1},n.element=t,n._refreshView=function(){for(var t=new Array(12),r=n.activeDate.getFullYear(),i=0;12>i;i++)t[i]=angular.extend(n.createDateObject(new Date(r,i,1),n.formatMonth),{uid:o.uniqueId+"-"+i});o.title=e(n.activeDate,n.formatMonthTitle),o.rows=n.split(t,3)},n.compare=function(e,o){return new Date(e.getFullYear(),e.getMonth())-new Date(o.getFullYear(),o.getMonth())},n.handleKeyDown=function(e,o){var t=n.activeDate.getMonth();if("left"===e)t-=1;else if("up"===e)t-=3;else if("right"===e)t+=1;else if("down"===e)t+=3;else if("pageup"===e||"pagedown"===e){var r=n.activeDate.getFullYear()+("pageup"===e?-1:1);n.activeDate.setFullYear(r)}else"home"===e?t=0:"end"===e&&(t=11);n.activeDate.setMonth(t)},n.refreshView()}}}]).directive("yearpicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(e,o,t,r){function n(e){return parseInt((e-1)/i,10)*i+1}var i=r.yearRange;r.step={years:i},r.element=o,r._refreshView=function(){for(var o=new Array(i),t=0,a=n(r.activeDate.getFullYear());i>t;t++)o[t]=angular.extend(r.createDateObject(new Date(a+t,0,1),r.formatYear),{uid:e.uniqueId+"-"+t});e.title=[o[0].label,o[i-1].label].join(" - "),e.rows=r.split(o,5)},r.compare=function(e,o){return e.getFullYear()-o.getFullYear()},r.handleKeyDown=function(e,o){var t=r.activeDate.getFullYear();"left"===e?t-=1:"up"===e?t-=5:"right"===e?t+=1:"down"===e?t+=5:"pageup"===e||"pagedown"===e?t+=("pageup"===e?-1:1)*r.step.years:"home"===e?t=n(r.activeDate.getFullYear()):"end"===e&&(t=n(r.activeDate.getFullYear())+i-1),r.activeDate.setFullYear(t)},r.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","dateParser","datepickerPopupConfig",function(e,o,t,r,n,i,a){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(s,g,l,p){function u(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function c(e){if(angular.isNumber(e)&&(e=new Date(e)),e){if(angular.isDate(e)&&!isNaN(e))return e;if(angular.isString(e)){var o=i.parse(e,h,s.date)||new Date(e);return isNaN(o)?void 0:o}return void 0}return null}function d(e,o){var t=e||o;if(angular.isNumber(t)&&(t=new Date(t)),t){if(angular.isDate(t)&&!isNaN(t))return!0;if(angular.isString(t)){var r=i.parse(t,h)||new Date(t);return!isNaN(r)}return!1}return!0}var h,m=angular.isDefined(l.closeOnDateSelection)?s.$parent.$eval(l.closeOnDateSelection):a.closeOnDateSelection,y=angular.isDefined(l.datepickerAppendToBody)?s.$parent.$eval(l.datepickerAppendToBody):a.appendToBody;s.showButtonBar=angular.isDefined(l.showButtonBar)?s.$parent.$eval(l.showButtonBar):a.showButtonBar,s.getText=function(e){return s[e+"Text"]||a[e+"Text"]};var f=!1;if(a.html5Types[l.type]?(h=a.html5Types[l.type],f=!0):(h=l.datepickerPopup||a.datepickerPopup,l.$observe("datepickerPopup",function(e,o){var t=e||a.datepickerPopup;if(t!==h&&(h=t,p.$modelValue=null,!h))throw new Error("datepickerPopup must have a date format specified.")})),!h)throw new Error("datepickerPopup must have a date format specified.");if(f&&l.datepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");var v=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");v.attr({"ng-model":"date","ng-change":"dateSelection()"});var _=angular.element(v.children()[0]);if(f&&"month"==l.type&&(_.attr("datepicker-mode",'"month"'),_.attr("min-mode","month")),l.datepickerOptions){var E=s.$parent.$eval(l.datepickerOptions);E.initDate&&(s.initDate=E.initDate,_.attr("init-date","initDate"),delete E.initDate),angular.forEach(E,function(e,o){_.attr(u(o),e)})}s.watchData={},angular.forEach(["minDate","maxDate","datepickerMode","initDate","shortcutPropagation"],function(e){if(l[e]){var t=o(l[e]);if(s.$parent.$watch(t,function(o){s.watchData[e]=o}),_.attr(u(e),"watchData."+e),"datepickerMode"===e){var r=t.assign;s.$watch("watchData."+e,function(e,o){e!==o&&r(s.$parent,e)})}}}),l.dateDisabled&&_.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),l.showWeeks&&_.attr("show-weeks",l.showWeeks),l.customClass&&_.attr("custom-class","customClass({ date: date, mode: mode })"),f?p.$formatters.push(function(e){return s.date=e,e}):(p.$$parserName="date",p.$validators.date=d,p.$parsers.unshift(c),p.$formatters.push(function(e){return s.date=e,p.$isEmpty(e)?e:n(e,h)})),s.dateSelection=function(e){angular.isDefined(e)&&(s.date=e);var o=s.date?n(s.date,h):"";g.val(o),p.$setViewValue(o),m&&(s.isOpen=!1,g[0].focus())},p.$viewChangeListeners.push(function(){s.date=i.parse(p.$viewValue,h,s.date)||new Date(p.$viewValue)});var S=function(e){s.isOpen&&e.target!==g[0]&&s.$apply(function(){s.isOpen=!1})},T=function(e,o){s.keydown(e)};g.bind("keydown",T),s.keydown=function(e){27===e.which?(e.preventDefault(),s.isOpen&&e.stopPropagation(),s.close()):40!==e.which||s.isOpen||(s.isOpen=!0)},s.$watch("isOpen",function(e){e?(s.$broadcast("datepicker.focus"),s.position=y?r.offset(g):r.position(g),s.position.top=s.position.top+g.prop("offsetHeight"),t.bind("click",S)):t.unbind("click",S)}),s.select=function(e){if("today"===e){var o=new Date;angular.isDate(s.date)?(e=new Date(s.date),e.setFullYear(o.getFullYear(),o.getMonth(),o.getDate())):e=new Date(o.setHours(0,0,0,0))}s.dateSelection(e)},s.close=function(){s.isOpen=!1,g[0].focus()};var x=e(v)(s);v.remove(),y?t.find("body").append(x):g.after(x),s.$on("$destroy",function(){x.remove(),g.unbind("keydown",T),t.unbind("click",S)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(e,o,t){o.bind("click",function(e){e.preventDefault(),e.stopPropagation()})}}}),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document","$rootScope",function(e,o){var t=null;this.open=function(o){t||(e.bind("click",r),e.bind("keydown",n)),t&&t!==o&&(t.isOpen=!1),t=o},this.close=function(o){t===o&&(t=null,e.unbind("click",r),e.unbind("keydown",n))};var r=function(e){if(t&&(!e||"disabled"!==t.getAutoClose())){var r=t.getToggleElement();if(!(e&&r&&r[0].contains(e.target))){var n=t.getElement();e&&"outsideClick"===t.getAutoClose()&&n&&n[0].contains(e.target)||(t.isOpen=!1,o.$$phase||t.$apply())}}},n=function(e){27===e.which&&(t.focusToggleElement(),r())}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate","$position","$document",function(e,o,t,r,n,i,a,s){var g,l=this,p=e.$new(),u=r.openClass,c=angular.noop,d=o.onToggle?t(o.onToggle):angular.noop,h=!1;this.init=function(r){l.$element=r,o.isOpen&&(g=t(o.isOpen),c=g.assign,e.$watch(g,function(e){p.isOpen=!!e})),h=angular.isDefined(o.dropdownAppendToBody),h&&l.dropdownMenu&&(s.find("body").append(l.dropdownMenu),r.on("$destroy",function(){l.dropdownMenu.remove()}))},this.toggle=function(e){return p.isOpen=arguments.length?!!e:!p.isOpen},this.isOpen=function(){return p.isOpen},p.getToggleElement=function(){return l.toggleElement},p.getAutoClose=function(){return o.autoClose||"always"},p.getElement=function(){return l.$element},p.focusToggleElement=function(){l.toggleElement&&l.toggleElement[0].focus()},p.$watch("isOpen",function(o,t){if(h&&l.dropdownMenu){var r=a.positionElements(l.$element,l.dropdownMenu,"bottom-left",!0);l.dropdownMenu.css({top:r.top+"px",left:r.left+"px",display:o?"block":"none"})}i[o?"addClass":"removeClass"](l.$element,u),o?(p.focusToggleElement(),n.open(p)):n.close(p),c(e,o),angular.isDefined(o)&&o!==t&&d(e,{open:!!o})}),e.$on("$locationChangeSuccess",function(){p.isOpen=!1}),e.$on("$destroy",function(){p.$destroy()})}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(e,o,t,r){r.init(o)}}}).directive("dropdownMenu",function(){return{restrict:"AC",require:"?^dropdown",link:function(e,o,t,r){r&&(r.dropdownMenu=o)}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(e,o,t,r){if(r){r.toggleElement=o;var n=function(n){n.preventDefault(),o.hasClass("disabled")||t.disabled||e.$apply(function(){r.toggle()})};o.bind("click",n),o.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(r.isOpen,function(e){o.attr("aria-expanded",!!e)}),e.$on("$destroy",function(){o.unbind("click",n)})}}}}),angular.module("ui.bootstrap.modal",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(o,t){e.push({key:o,value:t})},get:function(o){for(var t=0;t<e.length;t++)if(o==e[t].key)return e[t]},keys:function(){for(var o=[],t=0;t<e.length;t++)o.push(e[t].key);return o},top:function(){return e[e.length-1]},remove:function(o){for(var t=-1,r=0;r<e.length;r++)if(o==e[r].key){t=r;break}return e.splice(t,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}).directive("modalBackdrop",["$timeout",function(e){function o(o,t,r){o.animate=!1,e(function(){o.animate=!0})}return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(e,t){return e.addClass(t.backdropClass),o}}}]).directive("modalWindow",["$modalStack","$q",function(e,o){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:function(e,o){return o.templateUrl||"template/modal/window.html"},link:function(t,r,n){r.addClass(n.windowClass||""),t.size=n.size,t.close=function(o){var t=e.getTop();t&&t.value.backdrop&&"static"!=t.value.backdrop&&o.target===o.currentTarget&&(o.preventDefault(),o.stopPropagation(),e.dismiss(t.key,"backdrop click"))},t.$isRendered=!0;var i=o.defer();n.$observe("modalRender",function(e){"true"==e&&i.resolve()}),i.promise.then(function(){t.animate=!0;var o=r[0].querySelectorAll("[autofocus]");o.length?o[0].focus():r[0].focus();var n=e.getTop();n&&e.modalRendered(n.key)})}}}]).directive("modalAnimationClass",[function(){return{compile:function(e,o){o.modalAnimation&&e.addClass(o.modalAnimationClass)}}}]).directive("modalTransclude",function(){return{link:function(e,o,t,r,n){n(e.$parent,function(e){o.empty(),o.append(e)})}}}).factory("$modalStack",["$animate","$timeout","$document","$compile","$rootScope","$$stackedMap",function(e,o,t,r,n,i){function a(){for(var e=-1,o=h.keys(),t=0;t<o.length;t++)h.get(o[t]).value.backdrop&&(e=t);return e}function s(e){var o=t.find("body").eq(0),r=h.get(e).value;h.remove(e),l(r.modalDomEl,r.modalScope,function(){o.toggleClass(d,h.length()>0),g()})}function g(){if(u&&-1==a()){var e=c;l(u,c,function(){e=null}),u=void 0,c=void 0}}function l(t,r,i){function a(){a.done||(a.done=!0,t.remove(),r.$destroy(),i&&i())}r.animate=!1,t.attr("modal-animation")&&e.enabled()?t.one("$animate:close",function(){n.$evalAsync(a)}):o(a)}function p(e,o,t){return!e.value.modalScope.$broadcast("modal.closing",o,t).defaultPrevented}var u,c,d="modal-open",h=i.createNew(),m={};return n.$watch(a,function(e){c&&(c.index=e)}),t.bind("keydown",function(e){var o;27===e.which&&(o=h.top(),o&&o.value.keyboard&&(e.preventDefault(),n.$apply(function(){m.dismiss(o.key,"escape key press")})))}),m.open=function(e,o){var i=t[0].activeElement;h.add(e,{deferred:o.deferred,renderDeferred:o.renderDeferred,modalScope:o.scope,backdrop:o.backdrop,keyboard:o.keyboard});var s=t.find("body").eq(0),g=a();if(g>=0&&!u){c=n.$new(!0),c.index=g;var l=angular.element('<div modal-backdrop="modal-backdrop"></div>');l.attr("backdrop-class",o.backdropClass),o.animation&&l.attr("modal-animation","true"),u=r(l)(c),s.append(u)}var p=angular.element('<div modal-window="modal-window"></div>');p.attr({"template-url":o.windowTemplateUrl,"window-class":o.windowClass,size:o.size,index:h.length()-1,animate:"animate"}).html(o.content),o.animation&&p.attr("modal-animation","true");var m=r(p)(o.scope);h.top().value.modalDomEl=m,h.top().value.modalOpener=i,s.append(m),s.addClass(d)},m.close=function(e,o){var t=h.get(e);return t&&p(t,o,!0)?(t.value.deferred.resolve(o),s(e),t.value.modalOpener.focus(),!0):!t},m.dismiss=function(e,o){var t=h.get(e);return t&&p(t,o,!1)?(t.value.deferred.reject(o),s(e),t.value.modalOpener.focus(),!0):!t},m.dismissAll=function(e){for(var o=this.getTop();o&&this.dismiss(o.key,e);)o=this.getTop()},m.getTop=function(){return h.top()},m.modalRendered=function(e){var o=h.get(e);o&&o.value.renderDeferred.resolve()},m}]).provider("$modal",function(){var e={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$templateRequest","$controller","$modalStack",function(o,t,r,n,i,a){function s(e){return e.template?r.when(e.template):n(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl)}function g(e){var t=[];return angular.forEach(e,function(e){(angular.isFunction(e)||angular.isArray(e))&&t.push(r.when(o.invoke(e)))}),t}var l={};return l.open=function(o){var n=r.defer(),l=r.defer(),p=r.defer(),u={result:n.promise,opened:l.promise,rendered:p.promise,close:function(e){return a.close(u,e)},dismiss:function(e){return a.dismiss(u,e)}};if(o=angular.extend({},e.options,o),o.resolve=o.resolve||{},!o.template&&!o.templateUrl)throw new Error("One of template or templateUrl options is required.");var c=r.all([s(o)].concat(g(o.resolve)));return c.then(function(e){var r=(o.scope||t).$new();r.$close=u.close,r.$dismiss=u.dismiss;var s,g={},l=1;o.controller&&(g.$scope=r,g.$modalInstance=u,angular.forEach(o.resolve,function(o,t){g[t]=e[l++]}),s=i(o.controller,g),o.controllerAs&&(r[o.controllerAs]=s)),a.open(u,{scope:r,deferred:n,renderDeferred:p,content:e[0],animation:o.animation,backdrop:o.backdrop,keyboard:o.keyboard,backdropClass:o.backdropClass,windowClass:o.windowClass,windowTemplateUrl:o.windowTemplateUrl,size:o.size})},function(e){n.reject(e)}),c.then(function(){l.resolve(!0)},function(e){l.reject(e)}),u},l}]};return e}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(e,o,t){var r=this,n={$setViewValue:angular.noop},i=o.numPages?t(o.numPages).assign:angular.noop;this.init=function(a,s){n=a,this.config=s,n.$render=function(){r.render()},o.itemsPerPage?e.$parent.$watch(t(o.itemsPerPage),function(o){r.itemsPerPage=parseInt(o,10),e.totalPages=r.calculateTotalPages()}):this.itemsPerPage=s.itemsPerPage,e.$watch("totalItems",function(){e.totalPages=r.calculateTotalPages()}),e.$watch("totalPages",function(o){i(e.$parent,o),e.page>o?e.selectPage(o):n.$render()})},this.calculateTotalPages=function(){var o=this.itemsPerPage<1?1:Math.ceil(e.totalItems/this.itemsPerPage);return Math.max(o||0,1)},this.render=function(){e.page=parseInt(n.$viewValue,10)||1},e.selectPage=function(o,t){e.page!==o&&o>0&&o<=e.totalPages&&(t&&t.target&&t.target.blur(),n.$setViewValue(o),n.$render())},e.getText=function(o){return e[o+"Text"]||r.config[o+"Text"]},e.noPrevious=function(){return 1===e.page},e.noNext=function(){return e.page===e.totalPages}}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(e,o){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@"},require:["pagination","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(t,r,n,i){function a(e,o,t){return{number:e,text:o,active:t}}function s(e,o){var t=[],r=1,n=o,i=angular.isDefined(p)&&o>p;i&&(u?(r=Math.max(e-Math.floor(p/2),1),n=r+p-1,n>o&&(n=o,r=n-p+1)):(r=(Math.ceil(e/p)-1)*p+1,n=Math.min(r+p-1,o)));for(var s=r;n>=s;s++){var g=a(s,s,s===e);t.push(g)}if(i&&!u){if(r>1){var l=a(r-1,"...",!1);t.unshift(l)}if(o>n){var c=a(n+1,"...",!1);t.push(c)}}return t}var g=i[0],l=i[1];if(l){var p=angular.isDefined(n.maxSize)?t.$parent.$eval(n.maxSize):o.maxSize,u=angular.isDefined(n.rotate)?t.$parent.$eval(n.rotate):o.rotate;t.boundaryLinks=angular.isDefined(n.boundaryLinks)?t.$parent.$eval(n.boundaryLinks):o.boundaryLinks,t.directionLinks=angular.isDefined(n.directionLinks)?t.$parent.$eval(n.directionLinks):o.directionLinks,g.init(l,o),n.maxSize&&t.$parent.$watch(e(n.maxSize),function(e){p=parseInt(e,10),g.render()});var c=g.render;g.render=function(){c(),t.page>0&&t.page<=t.totalPages&&(t.pages=s(t.page,t.totalPages))}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(e){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["pager","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(o,t,r,n){var i=n[0],a=n[1];a&&(o.align=angular.isDefined(r.align)?o.$parent.$eval(r.align):e.align,i.init(a,e))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function e(e){var o=/[A-Z]/g,t="-";return e.replace(o,function(e,o){return(o?t:"")+e.toLowerCase()})}var o={placement:"top",animation:!0,popupDelay:0,useContentExp:!1},t={mouseenter:"mouseleave",click:"click",focus:"blur"},r={};this.options=function(e){angular.extend(r,e)},this.setTriggers=function(e){angular.extend(t,e)},this.$get=["$window","$compile","$timeout","$document","$position","$interpolate",function(n,i,a,s,g,l){return function(n,p,u,c){function d(e){var o=e||c.trigger||u,r=t[o]||o;return{show:o,hide:r}}c=angular.extend({},o,r,c);var h=e(n),m=l.startSymbol(),y=l.endSymbol(),f="<div "+h+'-popup title="'+m+"title"+y+'" '+(c.useContentExp?'content-exp="contentExp()" ':'content="'+m+"content"+y+'" ')+'placement="'+m+"placement"+y+'" popup-class="'+m+"popupClass"+y+'" animation="animation" is-open="isOpen"origin-scope="origScope" ></div>';return{restrict:"EA",compile:function(e,o){var t=i(f);return function(e,o,r,i){function l(){L.isOpen?h():u()}function u(){(!D||e.$eval(r[p+"Enable"]))&&(_(),L.popupDelay?C||(C=a(m,L.popupDelay,!1),C.then(function(e){e()})):m()())}function h(){e.$apply(function(){y()})}function m(){return C=null,M&&(a.cancel(M),M=null),(c.useContentExp?L.contentExp():L.content)?(f(),b.css({top:0,left:0,display:"block"}),L.$digest(),N(),L.isOpen=!0,L.$apply(),N):angular.noop}function y(){L.isOpen=!1,a.cancel(C),C=null,L.animation?M||(M=a(v,500)):v()}function f(){b&&v(),P=L.$new(),b=t(P,function(e){R?s.find("body").append(e):o.after(e)}),P.$watch(function(){a(N,0,!1)}),c.useContentExp&&P.$watch("contentExp()",function(e){!e&&L.isOpen&&y()})}function v(){M=null,b&&(b.remove(),b=null),P&&(P.$destroy(),P=null)}function _(){E(),S(),T()}function E(){L.popupClass=r[p+"Class"]}function S(){var e=r[p+"Placement"];L.placement=angular.isDefined(e)?e:c.placement}function T(){var e=r[p+"PopupDelay"],o=parseInt(e,10);L.popupDelay=isNaN(o)?c.popupDelay:o}function x(){var e=r[p+"Trigger"];w(),A=d(e),A.show===A.hide?o.bind(A.show,l):(o.bind(A.show,u),o.bind(A.hide,h))}var b,P,M,C,R=angular.isDefined(c.appendToBody)?c.appendToBody:!1,A=d(void 0),D=angular.isDefined(r[p+"Enable"]),L=e.$new(!0),N=function(){if(b){var e=g.positionElements(o,b,L.placement,R);e.top+="px",e.left+="px",b.css(e)}};L.origScope=e,L.isOpen=!1,L.contentExp=function(){return e.$eval(r[n])},c.useContentExp||r.$observe(n,function(e){L.content=e,!e&&L.isOpen&&y()}),r.$observe("disabled",function(e){e&&L.isOpen&&y()}),r.$observe(p+"Title",function(e){L.title=e});var w=function(){o.unbind(A.show,u),o.unbind(A.hide,h)};x();var I=e.$eval(r[p+"Animation"]);L.animation=angular.isDefined(I)?!!I:c.animation;var O=e.$eval(r[p+"AppendToBody"]);R=angular.isDefined(O)?O:R,R&&e.$on("$locationChangeSuccess",function(){L.isOpen&&y()}),e.$on("$destroy",function(){a.cancel(M),a.cancel(C),w(),v(),L=null})}}}}}]}).directive("tooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(e,o,t,r){return{link:function(n,i,a){var s,g,l,p=n.$eval(a.tooltipTemplateTranscludeScope),u=0,c=function(){g&&(g.remove(),g=null),s&&(s.$destroy(),s=null),l&&(e.leave(l).then(function(){g=null}),g=l,l=null)};n.$watch(o.parseAsResourceUrl(a.tooltipTemplateTransclude),function(o){var a=++u;o?(r(o,!0).then(function(r){if(a===u){var n=p.$new(),g=r,d=t(g)(n,function(o){c(),e.enter(o,i)});s=n,l=d,s.$emit("$includeContentLoaded",o)}},function(){a===u&&(c(),n.$emit("$includeContentError",o))}),n.$emit("$includeContentRequested",o)):c()}),n.$on("$destroy",c)}}}]).directive("tooltipClasses",function(){return{restrict:"A",link:function(e,o,t){e.placement&&o.addClass(e.placement),e.popupClass&&o.addClass(e.popupClass),e.animation()&&o.addClass(t.tooltipAnimationClass)}}}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(e){return e("tooltip","tooltip","mouseenter")}]).directive("tooltipTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html"}}).directive("tooltipTemplate",["$tooltip",function(e){return e("tooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlPopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html"}}).directive("tooltipHtml",["$tooltip",function(e){return e("tooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).value("tooltipHtmlUnsafeSuppressDeprecated",!1).directive("tooltipHtmlUnsafe",["$tooltip","tooltipHtmlUnsafeSuppressDeprecated","$log",function(e,o,t){return o||t.warn("tooltip-html-unsafe is now deprecated. Use tooltip-html or tooltip-template instead."),e("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html"}}).directive("popoverTemplate",["$tooltip",function(e){return e("popoverTemplate","popover","click",{useContentExp:!0})}]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(e){return e("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function(e,o,t){var r=this,n=angular.isDefined(o.animate)?e.$parent.$eval(o.animate):t.animate;this.bars=[],e.max=angular.isDefined(e.max)?e.max:t.max,this.addBar=function(o,t){n||t.css({transition:"none"}),this.bars.push(o),o.$watch("value",function(t){o.percent=+(100*t/e.max).toFixed(2)}),o.$on("$destroy",function(){t=null,r.removeBar(o)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){
return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(e,o,t,r){r.addBar(e,o)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(e,o,t,r){r.addBar(e,angular.element(o.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","ratingConfig",function(e,o,t){var r={$setViewValue:angular.noop};this.init=function(n){r=n,r.$render=this.render,r.$formatters.push(function(e){return angular.isNumber(e)&&e<<0!==e&&(e=Math.round(e)),e}),this.stateOn=angular.isDefined(o.stateOn)?e.$parent.$eval(o.stateOn):t.stateOn,this.stateOff=angular.isDefined(o.stateOff)?e.$parent.$eval(o.stateOff):t.stateOff;var i=angular.isDefined(o.ratingStates)?e.$parent.$eval(o.ratingStates):new Array(angular.isDefined(o.max)?e.$parent.$eval(o.max):t.max);e.range=this.buildTemplateObjects(i)},this.buildTemplateObjects=function(e){for(var o=0,t=e.length;t>o;o++)e[o]=angular.extend({index:o},{stateOn:this.stateOn,stateOff:this.stateOff},e[o]);return e},e.rate=function(o){!e.readonly&&o>=0&&o<=e.range.length&&(r.$setViewValue(o),r.$render())},e.enter=function(o){e.readonly||(e.value=o),e.onHover({value:o})},e.reset=function(){e.value=r.$viewValue,e.onLeave()},e.onKeydown=function(o){/(37|38|39|40)/.test(o.which)&&(o.preventDefault(),o.stopPropagation(),e.rate(e.value+(38===o.which||39===o.which?1:-1)))},this.render=function(){e.value=r.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(e,o,t,r){var n=r[0],i=r[1];n.init(i)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(e){var o=this,t=o.tabs=e.tabs=[];o.select=function(e){angular.forEach(t,function(o){o.active&&o!==e&&(o.active=!1,o.onDeselect())}),e.active=!0,e.onSelect()},o.addTab=function(e){t.push(e),1===t.length&&e.active!==!1?e.active=!0:e.active?o.select(e):e.active=!1},o.removeTab=function(e){var n=t.indexOf(e);if(e.active&&t.length>1&&!r){var i=n==t.length-1?n-1:n+1;o.select(t[i])}t.splice(n,1)};var r;e.$on("$destroy",function(){r=!0})}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(e,o,t){e.vertical=angular.isDefined(t.vertical)?e.$parent.$eval(t.vertical):!1,e.justified=angular.isDefined(t.justified)?e.$parent.$eval(t.justified):!1}}}).directive("tab",["$parse","$log",function(e,o){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(t,r,n){return function(t,r,i,a){t.$watch("active",function(e){e&&a.select(t)}),t.disabled=!1,i.disable&&t.$parent.$watch(e(i.disable),function(e){t.disabled=!!e}),i.disabled&&(o.warn('Use of "disabled" attribute has been deprecated, please use "disable"'),t.$parent.$watch(e(i.disabled),function(e){t.disabled=!!e})),t.select=function(){t.disabled||(t.active=!0)},a.addTab(t),t.$on("$destroy",function(){a.removeTab(t)}),t.$transcludeFn=n}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(e,o,t,r){e.$watch("headingElement",function(e){e&&(o.html(""),o.append(e))})}}}]).directive("tabContentTransclude",function(){function e(e){return e.tagName&&(e.hasAttribute("tab-heading")||e.hasAttribute("data-tab-heading")||"tab-heading"===e.tagName.toLowerCase()||"data-tab-heading"===e.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(o,t,r){var n=o.$eval(r.tabContentTransclude);n.$transcludeFn(n.$parent,function(o){angular.forEach(o,function(o){e(o)?n.headingElement=o:t.append(o)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(e,o,t,r,n,i){function a(){var o=parseInt(e.hours,10),t=e.showMeridian?o>0&&13>o:o>=0&&24>o;return t?(e.showMeridian&&(12===o&&(o=0),e.meridian===m[1]&&(o+=12)),o):void 0}function s(){var o=parseInt(e.minutes,10);return o>=0&&60>o?o:void 0}function g(e){return angular.isDefined(e)&&e.toString().length<2?"0"+e:e.toString()}function l(e){p(),h.$setViewValue(new Date(d)),u(e)}function p(){h.$setValidity("time",!0),e.invalidHours=!1,e.invalidMinutes=!1}function u(o){var t=d.getHours(),r=d.getMinutes();e.showMeridian&&(t=0===t||12===t?12:t%12),e.hours="h"===o?t:g(t),"m"!==o&&(e.minutes=g(r)),e.meridian=d.getHours()<12?m[0]:m[1]}function c(e){var o=new Date(d.getTime()+6e4*e);d.setHours(o.getHours(),o.getMinutes()),l()}var d=new Date,h={$setViewValue:angular.noop},m=angular.isDefined(o.meridians)?e.$parent.$eval(o.meridians):i.meridians||n.DATETIME_FORMATS.AMPMS;this.init=function(t,r){h=t,h.$render=this.render,h.$formatters.unshift(function(e){return e?new Date(e):null});var n=r.eq(0),a=r.eq(1),s=angular.isDefined(o.mousewheel)?e.$parent.$eval(o.mousewheel):i.mousewheel;s&&this.setupMousewheelEvents(n,a);var g=angular.isDefined(o.arrowkeys)?e.$parent.$eval(o.arrowkeys):i.arrowkeys;g&&this.setupArrowkeyEvents(n,a),e.readonlyInput=angular.isDefined(o.readonlyInput)?e.$parent.$eval(o.readonlyInput):i.readonlyInput,this.setupInputEvents(n,a)};var y=i.hourStep;o.hourStep&&e.$parent.$watch(t(o.hourStep),function(e){y=parseInt(e,10)});var f=i.minuteStep;o.minuteStep&&e.$parent.$watch(t(o.minuteStep),function(e){f=parseInt(e,10)}),e.showMeridian=i.showMeridian,o.showMeridian&&e.$parent.$watch(t(o.showMeridian),function(o){if(e.showMeridian=!!o,h.$error.time){var t=a(),r=s();angular.isDefined(t)&&angular.isDefined(r)&&(d.setHours(t),l())}else u()}),this.setupMousewheelEvents=function(o,t){var r=function(e){e.originalEvent&&(e=e.originalEvent);var o=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||o>0};o.bind("mousewheel wheel",function(o){e.$apply(r(o)?e.incrementHours():e.decrementHours()),o.preventDefault()}),t.bind("mousewheel wheel",function(o){e.$apply(r(o)?e.incrementMinutes():e.decrementMinutes()),o.preventDefault()})},this.setupArrowkeyEvents=function(o,t){o.bind("keydown",function(o){38===o.which?(o.preventDefault(),e.incrementHours(),e.$apply()):40===o.which&&(o.preventDefault(),e.decrementHours(),e.$apply())}),t.bind("keydown",function(o){38===o.which?(o.preventDefault(),e.incrementMinutes(),e.$apply()):40===o.which&&(o.preventDefault(),e.decrementMinutes(),e.$apply())})},this.setupInputEvents=function(o,t){if(e.readonlyInput)return e.updateHours=angular.noop,void(e.updateMinutes=angular.noop);var r=function(o,t){h.$setViewValue(null),h.$setValidity("time",!1),angular.isDefined(o)&&(e.invalidHours=o),angular.isDefined(t)&&(e.invalidMinutes=t)};e.updateHours=function(){var e=a();angular.isDefined(e)?(d.setHours(e),l("h")):r(!0)},o.bind("blur",function(o){!e.invalidHours&&e.hours<10&&e.$apply(function(){e.hours=g(e.hours)})}),e.updateMinutes=function(){var e=s();angular.isDefined(e)?(d.setMinutes(e),l("m")):r(void 0,!0)},t.bind("blur",function(o){!e.invalidMinutes&&e.minutes<10&&e.$apply(function(){e.minutes=g(e.minutes)})})},this.render=function(){var e=h.$viewValue;isNaN(e)?(h.$setValidity("time",!1),r.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(e&&(d=e),p(),u())},e.incrementHours=function(){c(60*y)},e.decrementHours=function(){c(60*-y)},e.incrementMinutes=function(){c(f)},e.decrementMinutes=function(){c(-f)},e.toggleMeridian=function(){c(720*(d.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(e,o,t,r){var n=r[0],i=r[1];i&&n.init(i,o.find("input"))}}}),angular.module("ui.bootstrap.transition",[]).value("$transitionSuppressDeprecated",!1).factory("$transition",["$q","$timeout","$rootScope","$log","$transitionSuppressDeprecated",function(e,o,t,r,n){function i(e){for(var o in e)if(void 0!==s.style[o])return e[o]}n||r.warn("$transition is now deprecated. Use $animate from ngAnimate instead.");var a=function(r,n,i){i=i||{};var s=e.defer(),g=a[i.animation?"animationEndEventName":"transitionEndEventName"],l=function(e){t.$apply(function(){r.unbind(g,l),s.resolve(r)})};return g&&r.bind(g,l),o(function(){angular.isString(n)?r.addClass(n):angular.isFunction(n)?n(r):angular.isObject(n)&&r.css(n),g||s.resolve(r)}),s.promise.cancel=function(){g&&r.unbind(g,l),s.reject("Transition cancelled")},s.promise},s=document.createElement("trans"),g={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},l={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return a.transitionEndEventName=i(g),a.animationEndEventName=i(l),a}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(e){var o=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(t){var r=t.match(o);if(!r)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+t+'".');return{itemName:r[3],source:e(r[4]),viewMapper:e(r[2]||r[1]),modelMapper:e(r[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(e,o,t,r,n,i,a){var s=[9,13,27,38,40];return{require:"ngModel",link:function(g,l,p,u){var c,d=g.$eval(p.typeaheadMinLength)||1,h=g.$eval(p.typeaheadWaitMs)||0,m=g.$eval(p.typeaheadEditable)!==!1,y=o(p.typeaheadLoading).assign||angular.noop,f=o(p.typeaheadOnSelect),v=p.typeaheadInputFormatter?o(p.typeaheadInputFormatter):void 0,_=p.typeaheadAppendToBody?g.$eval(p.typeaheadAppendToBody):!1,E=g.$eval(p.typeaheadFocusFirst)!==!1,S=o(p.ngModel).assign,T=a.parse(p.typeahead),x=g.$new();g.$on("$destroy",function(){x.$destroy()});var b="typeahead-"+x.$id+"-"+Math.floor(1e4*Math.random());l.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":b});var P=angular.element("<div typeahead-popup></div>");P.attr({id:b,matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(p.typeaheadTemplateUrl)&&P.attr("template-url",p.typeaheadTemplateUrl);var M=function(){x.matches=[],x.activeIdx=-1,l.attr("aria-expanded",!1)},C=function(e){return b+"-option-"+e};x.$watch("activeIdx",function(e){0>e?l.removeAttr("aria-activedescendant"):l.attr("aria-activedescendant",C(e))});var R=function(e){var o={$viewValue:e};y(g,!0),t.when(T.source(g,o)).then(function(t){var r=e===u.$viewValue;if(r&&c)if(t&&t.length>0){x.activeIdx=E?0:-1,x.matches.length=0;for(var n=0;n<t.length;n++)o[T.itemName]=t[n],x.matches.push({id:C(n),label:T.viewMapper(x,o),model:t[n]});x.query=e,x.position=_?i.offset(l):i.position(l),x.position.top=x.position.top+l.prop("offsetHeight"),l.attr("aria-expanded",!0)}else M();r&&y(g,!1)},function(){M(),y(g,!1)})};M(),x.query=void 0;var A,D=function(e){A=r(function(){R(e)},h)},L=function(){A&&r.cancel(A)};u.$parsers.unshift(function(e){return c=!0,e&&e.length>=d?h>0?(L(),D(e)):R(e):(y(g,!1),L(),M()),m?e:e?void u.$setValidity("editable",!1):(u.$setValidity("editable",!0),e)}),u.$formatters.push(function(e){var o,t,r={};return m||u.$setValidity("editable",!0),v?(r.$model=e,v(g,r)):(r[T.itemName]=e,o=T.viewMapper(g,r),r[T.itemName]=void 0,t=T.viewMapper(g,r),o!==t?o:e)}),x.select=function(e){var o,t,n={};n[T.itemName]=t=x.matches[e].model,o=T.modelMapper(g,n),S(g,o),u.$setValidity("editable",!0),u.$setValidity("parse",!0),f(g,{$item:t,$model:o,$label:T.viewMapper(g,n)}),M(),r(function(){l[0].focus()},0,!1)},l.bind("keydown",function(e){0!==x.matches.length&&-1!==s.indexOf(e.which)&&(-1!=x.activeIdx||13!==e.which&&9!==e.which)&&(e.preventDefault(),40===e.which?(x.activeIdx=(x.activeIdx+1)%x.matches.length,x.$digest()):38===e.which?(x.activeIdx=(x.activeIdx>0?x.activeIdx:x.matches.length)-1,x.$digest()):13===e.which||9===e.which?x.$apply(function(){x.select(x.activeIdx)}):27===e.which&&(e.stopPropagation(),M(),x.$digest()))}),l.bind("blur",function(e){c=!1});var N=function(e){l[0]!==e.target&&(M(),x.$digest())};n.bind("click",N),g.$on("$destroy",function(){n.unbind("click",N),_&&w.remove(),P.remove()});var w=e(P)(x);_?n.find("body").append(w):l.after(w)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(e,o,t){e.templateUrl=t.templateUrl,e.isOpen=function(){return e.matches.length>0},e.isActive=function(o){return e.active==o},e.selectActive=function(o){e.active=o},e.selectMatch=function(o){e.select({activeIdx:o})}}}}).directive("typeaheadMatch",["$templateRequest","$compile","$parse",function(e,o,t){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(r,n,i){var a=t(i.templateUrl)(r.$parent)||"template/typeahead/typeahead-match.html";e(a).then(function(e){o(e.trim())(r,function(e){n.replaceWith(e)})})}}}]).filter("typeaheadHighlight",function(){function e(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(o,t){return t?(""+o).replace(new RegExp(e(t),"gi"),"<strong>$&</strong>"):o}}),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion-group.html",'<div class="panel panel-default">\n  <div class="panel-heading">\n    <h4 class="panel-title">\n      <a href="javascript:void(0)" tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse collapse" collapse="!isOpen">\n	  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissable\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close()">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides | orderBy:\'index\' track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"></span></a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("template/carousel/slide.html",'<div ng-class="{\n    \'active\': active\n  }" class="item text-center" ng-transclude></div>\n')}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{5 + showWeeks}}"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-show="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in labels track by $index" class="text-center"><small aria-label="{{label.full}}">{{label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-show="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}" ng-class="dt.customClass">\n        <button type="button" style="width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-style="{display: (isOpen && \'block\') || \'none\', top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)">\n	<li ng-transclude></li>\n	<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n		<span class="btn-group pull-left">\n			<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')">{{ getText(\'current\') }}</button>\n			<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n		</span>\n		<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n	</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(e){e.put("template/modal/backdrop.html",'<div class="modal-backdrop"\n     modal-animation-class="fade"\n     ng-class="{in: animate}"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(e){e.put("template/modal/window.html",'<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"\n    modal-animation-class="fade"\n	ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="size ? \'modal-\' + size : \'\'"><div class="modal-content" modal-transclude></div></div>\n</div>\n')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious(), previous: align}"><a href ng-click="selectPage(page - 1, $event)">{{getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext(), next: align}"><a href ng-click="selectPage(page + 1, $event)">{{getText(\'next\')}}</a></li>\n</ul>')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="boundaryLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(1, $event)">{{getText(\'first\')}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(page - 1, $event)">{{getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active}"><a href ng-click="selectPage(page.number, $event)">{{page.text}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(page + 1, $event)">{{getText(\'next\')}}</a></li>\n  <li ng-if="boundaryLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(totalPages, $event)">{{getText(\'last\')}}</a></li>\n</ul>')}]),angular.module("template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-template-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner"\n    tooltip-template-transclude="contentExp()"\n    tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("template/popover/popover-template.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover-template.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content"\n        tooltip-template-transclude="contentExp()"\n        tooltip-template-transclude-scope="originScope()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover-window.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover-window.html",'<div class="popover {{placement}}" ng-class="{ in: isOpen, fade: animation }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n      <div class="popover-content" tooltip-template-transclude></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n</div>\n')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <i ng-repeat="r in range track by $index" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')">\n        <span class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    </i>\n</span>')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a href ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("template/timepicker/timepicker.html",'<table>\n	<tbody>\n		<tr class="text-center">\n			<td><a ng-click="incrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n			<td>&nbsp;</td>\n			<td><a ng-click="incrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n			<td ng-show="showMeridian"></td>\n		</tr>\n		<tr>\n			<td class="form-group" ng-class="{\'has-error\': invalidHours}">\n				<input style="width:50px;" type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2">\n			</td>\n			<td>:</td>\n			<td class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n				<input style="width:50px;" type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2">\n			</td>\n			<td ng-show="showMeridian"><button type="button" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n		</tr>\n		<tr class="text-center">\n			<td><a ng-click="decrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n			<td>&nbsp;</td>\n			<td><a ng-click="decrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n			<td ng-show="showMeridian"></td>\n		</tr>\n	</tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-match.html",'<a tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen()" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n');

}]),!angular.$$csp()&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),function(e,o,t,r){"use strict";function n(e,o,t){return setTimeout(p(e,t),o)}function i(e,o,t){return Array.isArray(e)?(a(e,t[o],t),!0):!1}function a(e,o,t){var n;if(e)if(e.forEach)e.forEach(o,t);else if(e.length!==r)for(n=0;n<e.length;)o.call(t,e[n],n,e),n++;else for(n in e)e.hasOwnProperty(n)&&o.call(t,e[n],n,e)}function s(e,o,t){for(var n=Object.keys(o),i=0;i<n.length;)(!t||t&&e[n[i]]===r)&&(e[n[i]]=o[n[i]]),i++;return e}function g(e,o){return s(e,o,!0)}function l(e,o,t){var r,n=o.prototype;r=e.prototype=Object.create(n),r.constructor=e,r._super=n,t&&s(r,t)}function p(e,o){return function(){return e.apply(o,arguments)}}function u(e,o){return typeof e==pe?e.apply(o?o[0]||r:r,o):e}function c(e,o){return e===r?o:e}function d(e,o,t){a(f(o),function(o){e.addEventListener(o,t,!1)})}function h(e,o,t){a(f(o),function(o){e.removeEventListener(o,t,!1)})}function m(e,o){for(;e;){if(e==o)return!0;e=e.parentNode}return!1}function y(e,o){return e.indexOf(o)>-1}function f(e){return e.trim().split(/\s+/g)}function v(e,o,t){if(e.indexOf&&!t)return e.indexOf(o);for(var r=0;r<e.length;){if(t&&e[r][t]==o||!t&&e[r]===o)return r;r++}return-1}function _(e){return Array.prototype.slice.call(e,0)}function E(e,o,t){for(var r=[],n=[],i=0;i<e.length;){var a=o?e[i][o]:e[i];v(n,a)<0&&r.push(e[i]),n[i]=a,i++}return t&&(r=o?r.sort(function(e,t){return e[o]>t[o]}):r.sort()),r}function S(e,o){for(var t,n,i=o[0].toUpperCase()+o.slice(1),a=0;a<ge.length;){if(t=ge[a],n=t?t+i:o,n in e)return n;a++}return r}function T(){return he++}function x(e){var o=e.ownerDocument;return o.defaultView||o.parentWindow}function b(e,o){var t=this;this.manager=e,this.callback=o,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(o){u(e.options.enable,[e])&&t.handler(o)},this.init()}function P(e){var o,t=e.options.inputClass;return new(o=t?t:fe?U:ve?B:ye?V:k)(e,M)}function M(e,o,t){var r=t.pointers.length,n=t.changedPointers.length,i=o&be&&r-n===0,a=o&(Me|Ce)&&r-n===0;t.isFirst=!!i,t.isFinal=!!a,i&&(e.session={}),t.eventType=o,C(e,t),e.emit("hammer.input",t),e.recognize(t),e.session.prevInput=t}function C(e,o){var t=e.session,r=o.pointers,n=r.length;t.firstInput||(t.firstInput=D(o)),n>1&&!t.firstMultiple?t.firstMultiple=D(o):1===n&&(t.firstMultiple=!1);var i=t.firstInput,a=t.firstMultiple,s=a?a.center:i.center,g=o.center=L(r);o.timeStamp=de(),o.deltaTime=o.timeStamp-i.timeStamp,o.angle=O(s,g),o.distance=I(s,g),R(t,o),o.offsetDirection=w(o.deltaX,o.deltaY),o.scale=a?G(a.pointers,r):1,o.rotation=a?F(a.pointers,r):0,A(t,o);var l=e.element;m(o.srcEvent.target,l)&&(l=o.srcEvent.target),o.target=l}function R(e,o){var t=o.center,r=e.offsetDelta||{},n=e.prevDelta||{},i=e.prevInput||{};(o.eventType===be||i.eventType===Me)&&(n=e.prevDelta={x:i.deltaX||0,y:i.deltaY||0},r=e.offsetDelta={x:t.x,y:t.y}),o.deltaX=n.x+(t.x-r.x),o.deltaY=n.y+(t.y-r.y)}function A(e,o){var t,n,i,a,s=e.lastInterval||o,g=o.timeStamp-s.timeStamp;if(o.eventType!=Ce&&(g>xe||s.velocity===r)){var l=s.deltaX-o.deltaX,p=s.deltaY-o.deltaY,u=N(g,l,p);n=u.x,i=u.y,t=ce(u.x)>ce(u.y)?u.x:u.y,a=w(l,p),e.lastInterval=o}else t=s.velocity,n=s.velocityX,i=s.velocityY,a=s.direction;o.velocity=t,o.velocityX=n,o.velocityY=i,o.direction=a}function D(e){for(var o=[],t=0;t<e.pointers.length;)o[t]={clientX:ue(e.pointers[t].clientX),clientY:ue(e.pointers[t].clientY)},t++;return{timeStamp:de(),pointers:o,center:L(o),deltaX:e.deltaX,deltaY:e.deltaY}}function L(e){var o=e.length;if(1===o)return{x:ue(e[0].clientX),y:ue(e[0].clientY)};for(var t=0,r=0,n=0;o>n;)t+=e[n].clientX,r+=e[n].clientY,n++;return{x:ue(t/o),y:ue(r/o)}}function N(e,o,t){return{x:o/e||0,y:t/e||0}}function w(e,o){return e===o?Re:ce(e)>=ce(o)?e>0?Ae:De:o>0?Le:Ne}function I(e,o,t){t||(t=Fe);var r=o[t[0]]-e[t[0]],n=o[t[1]]-e[t[1]];return Math.sqrt(r*r+n*n)}function O(e,o,t){t||(t=Fe);var r=o[t[0]]-e[t[0]],n=o[t[1]]-e[t[1]];return 180*Math.atan2(n,r)/Math.PI}function F(e,o){return O(o[1],o[0],Ge)-O(e[1],e[0],Ge)}function G(e,o){return I(o[0],o[1],Ge)/I(e[0],e[1],Ge)}function k(){this.evEl=Ue,this.evWin=qe,this.allow=!0,this.pressed=!1,b.apply(this,arguments)}function U(){this.evEl=je,this.evWin=Ve,b.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function q(){this.evTarget=Ke,this.evWin=We,this.started=!1,b.apply(this,arguments)}function $(e,o){var t=_(e.touches),r=_(e.changedTouches);return o&(Me|Ce)&&(t=E(t.concat(r),"identifier",!0)),[t,r]}function B(){this.evTarget=Xe,this.targetIds={},b.apply(this,arguments)}function j(e,o){var t=_(e.touches),r=this.targetIds;if(o&(be|Pe)&&1===t.length)return r[t[0].identifier]=!0,[t,t];var n,i,a=_(e.changedTouches),s=[],g=this.target;if(i=t.filter(function(e){return m(e.target,g)}),o===be)for(n=0;n<i.length;)r[i[n].identifier]=!0,n++;for(n=0;n<a.length;)r[a[n].identifier]&&s.push(a[n]),o&(Me|Ce)&&delete r[a[n].identifier],n++;return s.length?[E(i.concat(s),"identifier",!0),s]:void 0}function V(){b.apply(this,arguments);var e=p(this.handler,this);this.touch=new B(this.manager,e),this.mouse=new k(this.manager,e)}function H(e,o){this.manager=e,this.set(o)}function K(e){if(y(e,oo))return oo;var o=y(e,to),t=y(e,ro);return o&&t?to+" "+ro:o||t?o?to:ro:y(e,eo)?eo:Qe}function W(e){this.id=T(),this.manager=null,this.options=g(e||{},this.defaults),this.options.enable=c(this.options.enable,!0),this.state=no,this.simultaneous={},this.requireFail=[]}function Y(e){return e&lo?"cancel":e&so?"end":e&ao?"move":e&io?"start":""}function X(e){return e==Ne?"down":e==Le?"up":e==Ae?"left":e==De?"right":""}function z(e,o){var t=o.manager;return t?t.get(e):e}function Z(){W.apply(this,arguments)}function J(){Z.apply(this,arguments),this.pX=null,this.pY=null}function Q(){Z.apply(this,arguments)}function ee(){W.apply(this,arguments),this._timer=null,this._input=null}function oe(){Z.apply(this,arguments)}function te(){Z.apply(this,arguments)}function re(){W.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ne(e,o){return o=o||{},o.recognizers=c(o.recognizers,ne.defaults.preset),new ie(e,o)}function ie(e,o){o=o||{},this.options=g(o,ne.defaults),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.element=e,this.input=P(this),this.touchAction=new H(this,this.options.touchAction),ae(this,!0),a(o.recognizers,function(e){var o=this.add(new e[0](e[1]));e[2]&&o.recognizeWith(e[2]),e[3]&&o.requireFailure(e[3])},this)}function ae(e,o){var t=e.element;a(e.options.cssProps,function(e,r){t.style[S(t.style,r)]=o?e:""})}function se(e,t){var r=o.createEvent("Event");r.initEvent(e,!0,!0),r.gesture=t,t.target.dispatchEvent(r)}var ge=["","webkit","moz","MS","ms","o"],le=o.createElement("div"),pe="function",ue=Math.round,ce=Math.abs,de=Date.now,he=1,me=/mobile|tablet|ip(ad|hone|od)|android/i,ye="ontouchstart"in e,fe=S(e,"PointerEvent")!==r,ve=ye&&me.test(navigator.userAgent),_e="touch",Ee="pen",Se="mouse",Te="kinect",xe=25,be=1,Pe=2,Me=4,Ce=8,Re=1,Ae=2,De=4,Le=8,Ne=16,we=Ae|De,Ie=Le|Ne,Oe=we|Ie,Fe=["x","y"],Ge=["clientX","clientY"];b.prototype={handler:function(){},init:function(){this.evEl&&d(this.element,this.evEl,this.domHandler),this.evTarget&&d(this.target,this.evTarget,this.domHandler),this.evWin&&d(x(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&h(this.element,this.evEl,this.domHandler),this.evTarget&&h(this.target,this.evTarget,this.domHandler),this.evWin&&h(x(this.element),this.evWin,this.domHandler)}};var ke={mousedown:be,mousemove:Pe,mouseup:Me},Ue="mousedown",qe="mousemove mouseup";l(k,b,{handler:function(e){var o=ke[e.type];o&be&&0===e.button&&(this.pressed=!0),o&Pe&&1!==e.which&&(o=Me),this.pressed&&this.allow&&(o&Me&&(this.pressed=!1),this.callback(this.manager,o,{pointers:[e],changedPointers:[e],pointerType:Se,srcEvent:e}))}});var $e={pointerdown:be,pointermove:Pe,pointerup:Me,pointercancel:Ce,pointerout:Ce},Be={2:_e,3:Ee,4:Se,5:Te},je="pointerdown",Ve="pointermove pointerup pointercancel";e.MSPointerEvent&&(je="MSPointerDown",Ve="MSPointerMove MSPointerUp MSPointerCancel"),l(U,b,{handler:function(e){var o=this.store,t=!1,r=e.type.toLowerCase().replace("ms",""),n=$e[r],i=Be[e.pointerType]||e.pointerType,a=i==_e,s=v(o,e.pointerId,"pointerId");n&be&&(0===e.button||a)?0>s&&(o.push(e),s=o.length-1):n&(Me|Ce)&&(t=!0),0>s||(o[s]=e,this.callback(this.manager,n,{pointers:o,changedPointers:[e],pointerType:i,srcEvent:e}),t&&o.splice(s,1))}});var He={touchstart:be,touchmove:Pe,touchend:Me,touchcancel:Ce},Ke="touchstart",We="touchstart touchmove touchend touchcancel";l(q,b,{handler:function(e){var o=He[e.type];if(o===be&&(this.started=!0),this.started){var t=$.call(this,e,o);o&(Me|Ce)&&t[0].length-t[1].length===0&&(this.started=!1),this.callback(this.manager,o,{pointers:t[0],changedPointers:t[1],pointerType:_e,srcEvent:e})}}});var Ye={touchstart:be,touchmove:Pe,touchend:Me,touchcancel:Ce},Xe="touchstart touchmove touchend touchcancel";l(B,b,{handler:function(e){var o=Ye[e.type],t=j.call(this,e,o);t&&this.callback(this.manager,o,{pointers:t[0],changedPointers:t[1],pointerType:_e,srcEvent:e})}}),l(V,b,{handler:function(e,o,t){var r=t.pointerType==_e,n=t.pointerType==Se;if(r)this.mouse.allow=!1;else if(n&&!this.mouse.allow)return;o&(Me|Ce)&&(this.mouse.allow=!0),this.callback(e,o,t)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ze=S(le.style,"touchAction"),Ze=ze!==r,Je="compute",Qe="auto",eo="manipulation",oo="none",to="pan-x",ro="pan-y";H.prototype={set:function(e){e==Je&&(e=this.compute()),Ze&&(this.manager.element.style[ze]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return a(this.manager.recognizers,function(o){u(o.options.enable,[o])&&(e=e.concat(o.getTouchAction()))}),K(e.join(" "))},preventDefaults:function(e){if(!Ze){var o=e.srcEvent,t=e.offsetDirection;if(this.manager.session.prevented)return void o.preventDefault();var r=this.actions,n=y(r,oo),i=y(r,ro),a=y(r,to);return n||i&&t&we||a&&t&Ie?this.preventSrc(o):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var no=1,io=2,ao=4,so=8,go=so,lo=16,po=32;W.prototype={defaults:{},set:function(e){return s(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(i(e,"recognizeWith",this))return this;var o=this.simultaneous;return e=z(e,this),o[e.id]||(o[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return i(e,"dropRecognizeWith",this)?this:(e=z(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(i(e,"requireFailure",this))return this;var o=this.requireFail;return e=z(e,this),-1===v(o,e)&&(o.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(i(e,"dropRequireFailure",this))return this;e=z(e,this);var o=v(this.requireFail,e);return o>-1&&this.requireFail.splice(o,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){function o(o){t.manager.emit(t.options.event+(o?Y(r):""),e)}var t=this,r=this.state;so>r&&o(!0),o(),r>=so&&o(!0)},tryEmit:function(e){return this.canEmit()?this.emit(e):void(this.state=po)},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(po|no)))return!1;e++}return!0},recognize:function(e){var o=s({},e);return u(this.options.enable,[this,o])?(this.state&(go|lo|po)&&(this.state=no),this.state=this.process(o),void(this.state&(io|ao|so|lo)&&this.tryEmit(o))):(this.reset(),void(this.state=po))},process:function(e){},getTouchAction:function(){},reset:function(){}},l(Z,W,{defaults:{pointers:1},attrTest:function(e){var o=this.options.pointers;return 0===o||e.pointers.length===o},process:function(e){var o=this.state,t=e.eventType,r=o&(io|ao),n=this.attrTest(e);return r&&(t&Ce||!n)?o|lo:r||n?t&Me?o|so:o&io?o|ao:io:po}}),l(J,Z,{defaults:{event:"pan",threshold:10,pointers:1,direction:Oe},getTouchAction:function(){var e=this.options.direction,o=[];return e&we&&o.push(ro),e&Ie&&o.push(to),o},directionTest:function(e){var o=this.options,t=!0,r=e.distance,n=e.direction,i=e.deltaX,a=e.deltaY;return n&o.direction||(o.direction&we?(n=0===i?Re:0>i?Ae:De,t=i!=this.pX,r=Math.abs(e.deltaX)):(n=0===a?Re:0>a?Le:Ne,t=a!=this.pY,r=Math.abs(e.deltaY))),e.direction=n,t&&r>o.threshold&&n&o.direction},attrTest:function(e){return Z.prototype.attrTest.call(this,e)&&(this.state&io||!(this.state&io)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var o=X(e.direction);o&&this.manager.emit(this.options.event+o,e),this._super.emit.call(this,e)}}),l(Q,Z,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[oo]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&io)},emit:function(e){if(this._super.emit.call(this,e),1!==e.scale){var o=e.scale<1?"in":"out";this.manager.emit(this.options.event+o,e)}}}),l(ee,W,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[Qe]},process:function(e){var o=this.options,t=e.pointers.length===o.pointers,r=e.distance<o.threshold,i=e.deltaTime>o.time;if(this._input=e,!r||!t||e.eventType&(Me|Ce)&&!i)this.reset();else if(e.eventType&be)this.reset(),this._timer=n(function(){this.state=go,this.tryEmit()},o.time,this);else if(e.eventType&Me)return go;return po},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===go&&(e&&e.eventType&Me?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=de(),this.manager.emit(this.options.event,this._input)))}}),l(oe,Z,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[oo]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&io)}}),l(te,Z,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:we|Ie,pointers:1},getTouchAction:function(){return J.prototype.getTouchAction.call(this)},attrTest:function(e){var o,t=this.options.direction;return t&(we|Ie)?o=e.velocity:t&we?o=e.velocityX:t&Ie&&(o=e.velocityY),this._super.attrTest.call(this,e)&&t&e.direction&&e.distance>this.options.threshold&&ce(o)>this.options.velocity&&e.eventType&Me},emit:function(e){var o=X(e.direction);o&&this.manager.emit(this.options.event+o,e),this.manager.emit(this.options.event,e)}}),l(re,W,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[eo]},process:function(e){var o=this.options,t=e.pointers.length===o.pointers,r=e.distance<o.threshold,i=e.deltaTime<o.time;if(this.reset(),e.eventType&be&&0===this.count)return this.failTimeout();if(r&&i&&t){if(e.eventType!=Me)return this.failTimeout();var a=this.pTime?e.timeStamp-this.pTime<o.interval:!0,s=!this.pCenter||I(this.pCenter,e.center)<o.posThreshold;this.pTime=e.timeStamp,this.pCenter=e.center,s&&a?this.count+=1:this.count=1,this._input=e;var g=this.count%o.taps;if(0===g)return this.hasRequireFailures()?(this._timer=n(function(){this.state=go,this.tryEmit()},o.interval,this),io):go}return po},failTimeout:function(){return this._timer=n(function(){this.state=po},this.options.interval,this),po},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==go&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ne.VERSION="2.0.4",ne.defaults={domEvents:!1,touchAction:Je,enable:!0,inputTarget:null,inputClass:null,preset:[[oe,{enable:!1}],[Q,{enable:!1},["rotate"]],[te,{direction:we}],[J,{direction:we},["swipe"]],[re],[re,{event:"doubletap",taps:2},["tap"]],[ee]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var uo=1,co=2;ie.prototype={set:function(e){return s(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?co:uo},recognize:function(e){var o=this.session;if(!o.stopped){this.touchAction.preventDefaults(e);var t,r=this.recognizers,n=o.curRecognizer;(!n||n&&n.state&go)&&(n=o.curRecognizer=null);for(var i=0;i<r.length;)t=r[i],o.stopped===co||n&&t!=n&&!t.canRecognizeWith(n)?t.reset():t.recognize(e),!n&&t.state&(io|ao|so)&&(n=o.curRecognizer=t),i++}},get:function(e){if(e instanceof W)return e;for(var o=this.recognizers,t=0;t<o.length;t++)if(o[t].options.event==e)return o[t];return null},add:function(e){if(i(e,"add",this))return this;var o=this.get(e.options.event);return o&&this.remove(o),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(i(e,"remove",this))return this;var o=this.recognizers;return e=this.get(e),o.splice(v(o,e),1),this.touchAction.update(),this},on:function(e,o){var t=this.handlers;return a(f(e),function(e){t[e]=t[e]||[],t[e].push(o)}),this},off:function(e,o){var t=this.handlers;return a(f(e),function(e){o?t[e].splice(v(t[e],o),1):delete t[e]}),this},emit:function(e,o){this.options.domEvents&&se(e,o);var t=this.handlers[e]&&this.handlers[e].slice();if(t&&t.length){o.type=e,o.preventDefault=function(){o.srcEvent.preventDefault()};for(var r=0;r<t.length;)t[r](o),r++}},destroy:function(){this.element&&ae(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},s(ne,{INPUT_START:be,INPUT_MOVE:Pe,INPUT_END:Me,INPUT_CANCEL:Ce,STATE_POSSIBLE:no,STATE_BEGAN:io,STATE_CHANGED:ao,STATE_ENDED:so,STATE_RECOGNIZED:go,STATE_CANCELLED:lo,STATE_FAILED:po,DIRECTION_NONE:Re,DIRECTION_LEFT:Ae,DIRECTION_RIGHT:De,DIRECTION_UP:Le,DIRECTION_DOWN:Ne,DIRECTION_HORIZONTAL:we,DIRECTION_VERTICAL:Ie,DIRECTION_ALL:Oe,Manager:ie,Input:b,TouchAction:H,TouchInput:B,MouseInput:k,PointerEventInput:U,TouchMouseInput:V,SingleTouchInput:q,Recognizer:W,AttrRecognizer:Z,Tap:re,Pan:J,Swipe:te,Pinch:Q,Rotate:oe,Press:ee,on:d,off:h,each:a,merge:g,extend:s,inherit:l,bindFn:p,prefixed:S}),typeof define==pe&&define.amd?define(function(){return ne}):"undefined"!=typeof module&&module.exports?module.exports=ne:e[t]=ne}(window,document,"Hammer"),function(e){"function"==typeof define&&define.amd?define(["jquery","hammerjs"],e):"object"==typeof exports?e(require("jquery"),require("hammerjs")):e(jQuery,Hammer)}(function(e,o){function t(t,r){var n=e(t);n.data("hammer")||n.data("hammer",new o(n[0],r))}e.fn.hammer=function(e){return this.each(function(){t(this,e)})},o.Manager.prototype.emit=function(o){return function(t,r){o.call(this,t,r),e(this.element).trigger({type:t,gesture:r})}}(o.Manager.prototype.emit)}),function(){var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");Math.uuid=function(o,t){var r,n=e,i=[];if(t=t||n.length,o)for(r=0;o>r;r++)i[r]=n[0|Math.random()*t];else{var a;for(i[8]=i[13]=i[18]=i[23]="-",i[14]="4",r=0;36>r;r++)i[r]||(a=0|16*Math.random(),i[r]=n[19==r?3&a|8:a])}return i.join("")},Math.uuidFast=function(){for(var o,t=e,r=new Array(36),n=0,i=0;36>i;i++)8==i||13==i||18==i||23==i?r[i]="-":14==i?r[i]="4":(2>=n&&(n=33554432+16777216*Math.random()|0),o=15&n,n>>=4,r[i]=t[19==i?3&o|8:o]);return r.join("")},Math.uuidCompact=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var o=16*Math.random()|0,t="x"==e?o:3&o|8;return t.toString(16)})}}(),function(e){window.isMobile=function(){return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))},window.isTablet=function(){return!window.isMobile()&&/android|ipad|playbook|silk/i.test(e)},window.isMobileOrTablet=function(){return window.isMobile()||window.isTablet()}}(navigator.userAgent||navigator.vendor||window.opera||""),window.Modernizr=function(e,o,t){function r(e){h.cssText=e}function n(e,o){return typeof e===o}function i(){l.inputtypes=function(e){for(var r,n,i,a=0,s=e.length;s>a;a++)m.setAttribute("type",n=e[a]),r="text"!==m.type,r&&(m.value=y,m.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(n)&&m.style.WebkitAppearance!==t?(u.appendChild(m),i=o.defaultView,r=i.getComputedStyle&&"textfield"!==i.getComputedStyle(m,null).WebkitAppearance&&0!==m.offsetHeight,u.removeChild(m)):/^(search|tel)$/.test(n)||(r=/^(url|email)$/.test(n)?m.checkValidity&&m.checkValidity()===!1:m.value!=y)),_[e[a]]=!!r;return _}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var a,s,g="2.8.3",l={},p=!0,u=o.documentElement,c="modernizr",d=o.createElement(c),h=d.style,m=o.createElement("input"),y=":)",f=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),v={},_={},E=[],S=E.slice,T=function(e,t,r,n){var i,a,s,g,l=o.createElement("div"),p=o.body,d=p||o.createElement("body");if(parseInt(r,10))for(;r--;)s=o.createElement("div"),s.id=n?n[r]:c+(r+1),l.appendChild(s);return i=["&#173;",'<style id="s',c,'">',e,"</style>"].join(""),l.id=c,(p?l:d).innerHTML+=i,d.appendChild(l),p||(d.style.background="",d.style.overflow="hidden",g=u.style.overflow,u.style.overflow="hidden",u.appendChild(d)),a=t(l,e),p?l.parentNode.removeChild(l):(d.parentNode.removeChild(d),u.style.overflow=g),!!a},x={}.hasOwnProperty;s=n(x,"undefined")||n(x.call,"undefined")?function(e,o){return o in e&&n(e.constructor.prototype[o],"undefined")}:function(e,o){return x.call(e,o)},Function.prototype.bind||(Function.prototype.bind=function(e){var o=this;if("function"!=typeof o)throw new TypeError;var t=S.call(arguments,1),r=function(){if(this instanceof r){var n=function(){};n.prototype=o.prototype;var i=new n,a=o.apply(i,t.concat(S.call(arguments)));return Object(a)===a?a:i}return o.apply(e,t.concat(S.call(arguments)))};return r}),v.touch=function(){var t;return"ontouchstart"in e||e.DocumentTouch&&o instanceof DocumentTouch?t=!0:T(["@media (",f.join("touch-enabled),("),c,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){t=9===e.offsetTop}),t};for(var b in v)s(v,b)&&(a=b.toLowerCase(),l[a]=v[b](),E.push((l[a]?"":"no-")+a));return l.input||i(),l.addTest=function(e,o){if("object"==typeof e)for(var r in e)s(e,r)&&l.addTest(r,e[r]);else{if(e=e.toLowerCase(),l[e]!==t)return l;o="function"==typeof o?o():o,"undefined"!=typeof p&&p&&(u.className+=" "+(o?"":"no-")+e),l[e]=o}return l},r(""),d=m=null,function(e,o){function t(e,o){var t=e.createElement("p"),r=e.getElementsByTagName("head")[0]||e.documentElement;return t.innerHTML="x<style>"+o+"</style>",r.insertBefore(t.lastChild,r.firstChild)}function r(){var e=v.elements;return"string"==typeof e?e.split(" "):e}function n(e){var o=f[e[m]];return o||(o={},y++,e[m]=y,f[y]=o),o}function i(e,t,r){if(t||(t=o),p)return t.createElement(e);r||(r=n(t));var i;return i=r.cache[e]?r.cache[e].cloneNode():h.test(e)?(r.cache[e]=r.createElem(e)).cloneNode():r.createElem(e),!i.canHaveChildren||d.test(e)||i.tagUrn?i:r.frag.appendChild(i)}function a(e,t){if(e||(e=o),p)return e.createDocumentFragment();t=t||n(e);for(var i=t.frag.cloneNode(),a=0,s=r(),g=s.length;g>a;a++)i.createElement(s[a]);return i}function s(e,o){o.cache||(o.cache={},o.createElem=e.createElement,o.createFrag=e.createDocumentFragment,o.frag=o.createFrag()),e.createElement=function(t){return v.shivMethods?i(t,e,o):o.createElem(t)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+r().join().replace(/[\w\-]+/g,function(e){return o.createElem(e),o.frag.createElement(e),'c("'+e+'")'})+");return n}")(v,o.frag)}function g(e){e||(e=o);var r=n(e);return v.shivCSS&&!l&&!r.hasCSS&&(r.hasCSS=!!t(e,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),p||s(e,r),e}var l,p,u="3.7.0",c=e.html5||{},d=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,h=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,m="_html5shiv",y=0,f={};!function(){try{var e=o.createElement("a");e.innerHTML="<xyz></xyz>",l="hidden"in e,p=1==e.childNodes.length||function(){o.createElement("a");var e=o.createDocumentFragment();return"undefined"==typeof e.cloneNode||"undefined"==typeof e.createDocumentFragment||"undefined"==typeof e.createElement}()}catch(t){l=!0,p=!0}}();var v={elements:c.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:u,shivCSS:c.shivCSS!==!1,supportsUnknownElements:p,shivMethods:c.shivMethods!==!1,type:"default",shivDocument:g,createElement:i,createDocumentFragment:a};e.html5=v,g(o)}(this,o),l._version=g,l._prefixes=f,l.testStyles=T,u.className=u.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(p?" js "+E.join(" "):""),l}(this,this.document),function(e,o,t){function r(e){return"[object Function]"==y.call(e)}function n(e){return"string"==typeof e}function i(){}function a(e){return!e||"loaded"==e||"complete"==e||"uninitialized"==e}function s(){var e=f.shift();v=1,e?e.t?h(function(){("c"==e.t?c.injectCss:c.injectJs)(e.s,0,e.a,e.x,e.e,1)},0):(e(),s()):v=0}function g(e,t,r,n,i,g,l){function p(o){if(!d&&a(u.readyState)&&(_.r=d=1,!v&&s(),u.onload=u.onreadystatechange=null,o)){"img"!=e&&h(function(){S.removeChild(u)},50);for(var r in M[t])M[t].hasOwnProperty(r)&&M[t][r].onload()}}var l=l||c.errorTimeout,u=o.createElement(e),d=0,y=0,_={t:r,s:t,e:i,a:g,x:l};1===M[t]&&(y=1,M[t]=[]),"object"==e?u.data=t:(u.src=t,u.type=e),u.width=u.height="0",u.onerror=u.onload=u.onreadystatechange=function(){p.call(this,y)},f.splice(n,0,_),"img"!=e&&(y||2===M[t]?(S.insertBefore(u,E?null:m),h(p,l)):M[t].push(u))}function l(e,o,t,r,i){return v=0,o=o||"j",n(e)?g("c"==o?x:T,e,o,this.i++,t,r,i):(f.splice(this.i++,0,e),1==f.length&&s()),this}function p(){var e=c;return e.loader={load:l,i:0},e}var u,c,d=o.documentElement,h=e.setTimeout,m=o.getElementsByTagName("script")[0],y={}.toString,f=[],v=0,_="MozAppearance"in d.style,E=_&&!!o.createRange().compareNode,S=E?d:m.parentNode,d=e.opera&&"[object Opera]"==y.call(e.opera),d=!!o.attachEvent&&!d,T=_?"object":d?"script":"img",x=d?"script":T,b=Array.isArray||function(e){return"[object Array]"==y.call(e)},P=[],M={},C={timeout:function(e,o){return o.length&&(e.timeout=o[0]),e}};c=function(e){function o(e){var o,t,r,e=e.split("!"),n=P.length,i=e.pop(),a=e.length,i={url:i,origUrl:i,prefixes:e};for(t=0;a>t;t++)r=e[t].split("="),(o=C[r.shift()])&&(i=o(i,r));for(t=0;n>t;t++)i=P[t](i);return i}function a(e,n,i,a,s){var g=o(e),l=g.autoCallback;g.url.split(".").pop().split("?").shift(),g.bypass||(n&&(n=r(n)?n:n[e]||n[a]||n[e.split("/").pop().split("?")[0]]),g.instead?g.instead(e,n,i,a,s):(M[g.url]?g.noexec=!0:M[g.url]=1,i.load(g.url,g.forceCSS||!g.forceJS&&"css"==g.url.split(".").pop().split("?").shift()?"c":t,g.noexec,g.attrs,g.timeout),(r(n)||r(l))&&i.load(function(){p(),n&&n(g.origUrl,s,a),l&&l(g.origUrl,s,a),M[g.url]=2})))}function s(e,o){function t(e,t){if(e){if(n(e))t||(u=function(){var e=[].slice.call(arguments);c.apply(this,e),d()}),a(e,u,o,0,l);else if(Object(e)===e)for(g in s=function(){var o,t=0;for(o in e)e.hasOwnProperty(o)&&t++;return t}(),e)e.hasOwnProperty(g)&&(!t&&!--s&&(r(u)?u=function(){var e=[].slice.call(arguments);c.apply(this,e),d()}:u[g]=function(e){return function(){var o=[].slice.call(arguments);e&&e.apply(this,o),d()}}(c[g])),a(e[g],u,o,g,l))}else!t&&d()}var s,g,l=!!e.test,p=e.load||e.both,u=e.callback||i,c=u,d=e.complete||i;t(l?e.yep:e.nope,!!p),p&&t(p)}var g,l,u=this.yepnope.loader;if(n(e))a(e,0,u,0);else if(b(e))for(g=0;g<e.length;g++)l=e[g],n(l)?a(l,0,u,0):b(l)?c(l):Object(l)===l&&s(l,u);else Object(e)===e&&s(e,u)},c.addPrefix=function(e,o){C[e]=o},c.addFilter=function(e){P.push(e)},c.errorTimeout=1e4,null==o.readyState&&o.addEventListener&&(o.readyState="loading",o.addEventListener("DOMContentLoaded",u=function(){o.removeEventListener("DOMContentLoaded",u,0),o.readyState="complete"},0)),e.yepnope=p(),e.yepnope.executeStack=s,e.yepnope.injectJs=function(e,t,r,n,g,l){var p,u,d=o.createElement("script"),n=n||c.errorTimeout;d.src=e;for(u in r)d.setAttribute(u,r[u]);t=l?s:t||i,d.onreadystatechange=d.onload=function(){!p&&a(d.readyState)&&(p=1,t(),d.onload=d.onreadystatechange=null)},h(function(){p||(p=1,t(1))},n),g?d.onload():m.parentNode.insertBefore(d,m)},e.yepnope.injectCss=function(e,t,r,n,a,g){var l,n=o.createElement("link"),t=g?s:t||i;n.href=e,n.rel="stylesheet",n.type="text/css";for(l in r)n.setAttribute(l,r[l]);a||(m.parentNode.insertBefore(n,m),h(t,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},angular.module("gettext").run(["gettextCatalog",function(e){e.setStrings("nb_NO",{Add:"Legg til","Add a pin. Enter a description and tag (#) the pin:":"Legg til punkt i kartet. Skriv inn beskrivelse og merk punktene med tags (#):","Already an existing user with that email address.":"Det finnes allerede en broker med denne epostadressen.","Are you sure?":"Sikker?",Cancel:"Avbryt",Delete:"Slett",email:"epost","first name":"fornavn","Forgot password?":"Glemt password?","Invalid username/password.":"Feil brukernavn/password.","last name":"etternavn","Log out":"Logg ut",Login:"Logg inn",Menu:"Meny",password:"passord",Password:"Passord",Preferences:"Innstillinger",Register:"Registrer",Save:"Lagre",Send:"Send","This is where <strong>you</strong> are now.":"Dette er der <strong>du</strong> er no.","We are sorry, but an unexpected error occured.":"Vi beklager, men en uventet feil oppstod."})}]),angular.module("gettext").run(["gettextCatalog",function(e){e.setStrings("nn_NO",{Add:"Legg til","Add a pin. Enter a description and tag (#) the pin:":"Legg til punkt i kartet. Skriv inn beskrivelse og merk punktet med tags (#)","Already an existing user with that email address.":"Det finns allereie ein brukar med denne epostadressa.","Are you sure?":"Er du sikker?",Cancel:"Avbryt",Delete:"Slett",email:"epost",
"first name":"fornamn","Forgot password?":"Glømt passord?","Invalid username/password.":"Feil brukarnamn/password.","last name":"etternamn","Log out":"Logg ut",Login:"Logg inn",Menu:"Meny",password:"passord",Password:"Passord",Preferences:"Innstillingar",Register:"Registrer",Save:"Lagre",Send:"Send","This is where <strong>you</strong> are now.":"Dette er der <strong>du</strong> er no.","We are sorry, but an unexpected error occured.":"Vi beklagar, men ein uventa feil oppstod."})}]),angular.module("gettext").run(["gettextCatalog",function(e){var o={ar:"ar_SY",bg:"bg_BG",bs:"bs_BA",ca:"ca_ES",cs:"cs_CZ",da:"da_DK",de:"de_DE",el:"el_GR",en:"en_US",es:"es_ES",et:"et_EE",fa:"fa_IR",fi:"fi_FI",fr:"fr_FR",gl:"gl_ES",he:"he_IL",hu:"hu_HU",id:"id_ID",is:"is_IS",it:"it_IT",ja:"ja_JP",km:"km_KH",ko:"ko_KR",lt:"lt_LT",lv:"lv_LV",mk:"mk_MK",nl:"nl_NL",nn:"nn_NO",no:"nb_NO",pl:"pl_PL",pt:"pt_PT",ro:"ro_RO",ru:"ru_RU",sk:"sk_SK",sl:"sl_SI",sv:"sv_SE",th:"th_TH",tr:"tr_TR",uk:"uk_UA"};o.nn="nn_NO",o.nb="nb_NO";var t=(navigator.language||navigator.userLanguage).replace("-","_"),r=function(e,t,r,n){var i,a,s,g,l,p,u;for(r=r||"_",n=n||o,i=[],a=0,s=t.length;s>a;a++)t[a]&&i.push(angular.lowercase(t[a]));for(a=0,s=e.length;s>a;a++){if(g=e[a],l=angular.lowercase(g),i.indexOf(l)>-1)return g;if(n&&l in n&&(p=n[l].replace("_",r),i.indexOf(angular.lowercase(p))>-1))return p;if(u=g.split(r),u.length>1&&i.indexOf(angular.lowercase(u[0]))>-1)return u[0]}},n=[],i=[t];Object.keys(e.strings).forEach(function(e){n.push(e)}),e.currentLanguage=r(i,n)}]),angular.module("HTServices",["ngResource"]),angular.module("HTServices").factory("IconSource",function(){var e={},o="/src/images/animals4.png";return e["default"]={offset:[304,137],size:[161,162],scale:.15,src:o},e.person={offset:[0,0],size:[25,25],scale:1,src:"/src/images/person.png"},e.deer={offset:[291,301],size:[105,142],scale:.3,src:o},e.moose={offset:[0,0],size:[150,143],scale:.3,src:o},e.raindeer={offset:[125,160],size:[150,163],scale:.3,src:o},e.fox={offset:[151,0],size:[119,75],scale:.3,src:o},e.wolf={offset:[152,76],size:[151,81],scale:.3,src:o},e.bird={offset:[13,262],size:[93,92],scale:.4,src:o},e.grouse={offset:[445,0],size:[126,152],scale:.2,src:o},e["wood-grouse"]={offset:[308,0],size:[130,134],scale:.2,src:o},{getAll:function(){return e}}}),angular.module("HTServices").factory("MarkerSource",["$resource","IconSource","$q","$http",function(e,o,t,r){var n=e("/api/markers/:markerId",null,{getAll:{method:"GET",isArray:!0},getByUserId:{method:"GET",isArray:!0,params:{userId:"@userId"}},add:{method:"POST"},update:{method:"PUT"},remove:{method:"DELETE",params:{markerId:"@markerId"}}});return n.filterAndMap=function(e){if(!e||e.length<1)return e;var t=o.getAll();return e.map(function(e){return e.iconSrc=t[e.icon]||t["default"],e})},n}]),angular.module("HTServices").factory("AuthSource",["$resource",function(e){var o=e("/api/auth",null,{login:{method:"POST",params:{email:"@email",password:"@password"}},logout:{method:"DELETE"}});return o}]),angular.module("HTServices").factory("UserSource",["$resource",function(e){var o=e("/api/users/:id",null,{current:{method:"GET",params:{id:"current"}},register:{method:"POST",params:{firstName:"@firstName",lastName:"@lastName",email:"@email",password:"@password"}}});return o}]),angular.module("HTServices").factory("Helpers",function(){var e={};return e.markerIcons={},e.markerIcons["default"]="src/images/bing.png",e.markerIcons.hooves="src/images/hooves.png",e.markerIcons.you="src/images/you.png",e}),angular.module("HTDirectives",[]),angular.module("HTDirectives").directive("popItOver",function(e){return{restrict:"E",transclude:!0,scope:{show:"="},compile:function(e,o,t){return function(e,o,r,n){var i=$(r.target),a=i.popover({html:!0,content:t(e.$parent)});e.$watch("show",function(){e.show?setTimeout(function(){a.popover("show")},1):a.popover("hide")})}}}}),angular.module("HTDirectives").directive("olMap",function(){return{restrict:"EA",template:"<div></div>",replace:!0,scope:{markers:"=olMarkers",tracking:"=olTrackPosition",onPositionChanged:"&olOnPositionChanged",onMarkerSelected:"&olOnMarkerSelected",onShowContextMenu:"&olOnShowContextMenu"},link:function(e,o,t){var r=new ol.View({center:[2629703.3656816175,9797587.027268754],zoom:5}),n=new ol.Map({layers:[new ol.layer.Tile({source:new ol.source.OSM}),new ol.layer.Tile({source:new ol.source.XYZ({attributions:[new ol.Attribution({html:"&copy; <a href='http://statkart.no'>Kartverket</a>"})],url:"http://opencache.statkart.no/gatekeeper/gk/gk.open_gmaps?layers=topo2&zoom={z}&x={x}&y={y}"})})],view:r});n.setTarget(o[0]);var i=new ol.Overlay({element:$("<div id='marker-element'></div>").appendTo("body")});n.addOverlay(i),$(n.getViewport()).on("contextmenu",function(o){o.preventDefault();var t=n.getEventPixel(o),r=n.getCoordinateFromPixel(t);return i.setPosition(r),i.setOffset([12,-25]),e.$apply(function(){e.onShowContextMenu({coordinates:r})}),!1}),$(n.getViewport()).hammer().bind("press",function(o){o.preventDefault();var t=[o.gesture.center.x,o.gesture.center.y],r=n.getCoordinateFromPixel(t);return i.setPosition(r),i.setOffset([12,-25]),e.$apply(function(){e.onShowContextMenu({coordinates:r})}),!1}),$(n.getViewport()).on("click",function(o){var t=n.getEventPixel(o),r=n.forEachFeatureAtPixel(t,function(e,o){return e});if(r){var a=r.getGeometry(),s=a.getCoordinates();i.setPosition(s),i.setOffset([12,-25]),e.$apply(function(){e.onMarkerSelected({marker:r.marker})})}});var a=new ol.Geolocation({projection:r.getProjection()});e.$watch("tracking",function(o){a.setTracking(o),o&&a.once("change",function(){var o=a.getPosition();r.setCenter(o),r.setZoom(15),e.$apply(function(){e.onPositionChanged({coordinates:o})})})});var s=function(e){return new ol.style.Style({image:new ol.style.Icon({src:e.src,offset:e.offset,size:e.size,scale:e.scale||1,snapToPixel:!0})})},g=new ol.source.Vector,l=new ol.layer.Vector({source:g});n.addLayer(l),e.$watch("markers",function(e,o){for(var t=g.getFeatures(),r=0;r<t.length;r++)g.removeFeature(t[r]);if(e)for(var r=0;r<e.length;r++){var n=e[r],i=new ol.Feature({geometry:new ol.geom.Point(n.coordinates)});i.marker=n,i.setStyle(s(n.iconSrc)),g.addFeature(i)}},!0)}}}),angular.module("HTDirectives").directive("datetimePicker",["$compile","$window",function(e,o){return{restrict:"E",template:'<div class="form-group"><div class="input-group" style="max-width:170px;float:left;padding-right:5px"><input type="date" class="form-control" style="-webkit-appearance: none;" /><span class="input-group-addon"><i class="icon-calendar"></i></span></div><div class="input-group"><input type="time" class="form-control" style="-webkit-appearance: none;" /><span class="input-group-addon"><i class="icon-clock"></i></span></div></div>',replace:!0,scope:{model:"=model"},link:function(e,t,r){var n={time:"fa fa-clock-o",date:"fa fa-calendar",up:"icon-arrow-up",down:"icon-arrow-down",previous:"icon-arrow-left",next:"icon-arrow-right",today:"icon-shrink",clear:"icon-bin"},i=t.find('input[type="date"]'),a=t.find('input[type="time"]'),s=function(){var o=i.data("DateTimePicker").date(),t=a.data("DateTimePicker").date(),r=new Date;r.setDate(o.date()),r.setMonth(o.month()),r.setFullYear(o.year()),r.setHours(t.hour()),r.setMinutes(t.minutes()),e.model=r.toISOString(),e.$apply()},g=function(){var o=moment(i.val()),t=a.val();o.hour(t.substr(0,2)),o.minutes(t.substr(3,4)),e.model=o.toISOString(),e.$apply()},l=Modernizr.inputtypes.date&&o.isMobileOrTablet(),p=Modernizr.inputtypes.time&&o.isMobileOrTablet();l?(i.val(moment(e.model).format("YYYY-MM-DD")),i.on("change",function(e){g()})):(i.attr("type","text"),i.datetimepicker({defaultDate:e.model,format:"L",icons:n}),i.siblings().first().on("click",function(){i.data("DateTimePicker").toggle()}),i.on("dp.change",function(e){s()})),p?(a.val(moment(e.model).format("HH:mm")),a.on("change",function(){g()})):(a.attr("type","text"),a.datetimepicker({defaultDate:e.model,format:"LT",icons:n}),a.siblings().last().on("click",function(){a.data("DateTimePicker").toggle()}),a.on("dp.change",function(e){s()}))}}}]),angular.module("HTControllers",[]),angular.module("HTControllers").controller("MenuCtrl",["$scope","AuthSource",function(e,o){e.logout=function(){o.logout(function(){location.href="/login.html"})}}]),angular.module("HTControllers").controller("MapCtrl",["$scope","$modal","$timeout","UserSource","MarkerSource","IconSource","Helpers",function(e,o,t,r,n,i,a){e.tracking=!0,e.markers=[],e.you=null,e.icons=i.getAll(),r.current(function(o){e.user=o,n.getByUserId({userId:e.user.id},function(o){e.markers=n.filterAndMap(o),e.you&&e.markers.push(e.you)})});var s=function(){e.marker&&!e.marker.id&&(e.markers=e.markers.filter(function(e){return e.id}))},g=!1,l=function(){var t=angular.copy(e.marker,{});if(!g){g=!0;var r=o.open({templateUrl:"widget.modal.html",controller:"MapModalCtrl",size:"sm",resolve:{marker:function(){return e.marker},icons:function(){return e.icons}}})}r.result.then(function(o){if(g=!1,"delete"===o.action){var t=e.marker.id;n.remove({markerId:t},function(){e.markers=e.markers.filter(function(e){return e.id!==t})})}else"submit"===o.action&&e.addMarkerSubmit()},function(){g=!1,e.marker=angular.copy(t,e.marker),s()})};e.addMarker=function(o){s(),e.marker={coordinates:o,icon:"default",iconSrc:e.icons["default"],dateTime:new Date},e.markers.push(e.marker),t(l,100)},e.addMarkerSubmit=function(){"you"===e.marker.id&&(e.marker=angular.extend({},e.marker),e.marker.id=void 0),e.marker.id?n.update(e.marker):(e.marker.id=e.marker.id||Math.uuid(),e.marker.userId=e.user.id,n.add(e.marker))},e.showMarkerDetails=function(o){s(),e.marker=o,"you"===e.marker.id&&(e.marker.dateTime=new Date),l()},e.positionChanged=function(o){e.you?e.you.coordinates=o:(e.you={id:"you",coordinates:o,iconSrc:e.icons.person},e.markers.push(e.you))}}]).controller("MapModalCtrl",["$scope","$modalInstance","marker","icons",function(e,o,t,r){e.marker=t,e.icons=r;var n=e.marker.id&&"you"!==e.marker.id;e.submitText=n?"Save":"Add",e.showDelBtn=n,e.setIcon=function(o){e.marker.icon=o,e.marker.iconSrc=e.icons[o]},e.submit=function(){o.close({action:"submit"})},e.cancel=function(){o.dismiss("cancel")},e["delete"]=function(){e.showDelBtn=!1,e.showDelConfirmBtn=!0},e.deleteConfirm=function(){o.close({action:"delete"})};var i=!0,a=new Date;e.$on("modal.closing",function(e,o,t){var r=new Date-a;!n&&"backdrop click"==o&&i&&2e3>r&&Modernizr.touch&&(i=!1,e.preventDefault())})}]),angular.module("HuntTracker",["gettext","ui.bootstrap","HTControllers","HTDirectives","HTServices"]).constant(Modernizr,"").config(["$httpProvider",function(e){e.interceptors.push(["$q",function(e){var o=["widget.modal.html","template/modal/backdrop.html","template/modal/window.html"];return{request:function(t){if("GET"===t.method&&o.indexOf(t.url)<0){var r=(new Date).getTime();-1===t.url.indexOf("?")?t.url+="?rand="+r:t.url.replace("?","?rand="+r+"&")}return t||e.when(t)},response:function(o){return o||e.when(o)},responseError:function(o){return o&&401===o.status&&(document.location.href="/login.html"),e.reject(o)}}}])}]);